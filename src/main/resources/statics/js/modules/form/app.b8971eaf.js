!
function(e) {
    function t(t) {
        for (var r, o, s = t[0], l = t[1], u = t[2], c = 0, f = []; c < s.length; c++) o = s[c],
        i[o] && f.push(i[o][0]),
        i[o] = 0;
        for (r in l) Object.prototype.hasOwnProperty.call(l, r) && (e[r] = l[r]);
        for (d && d(t); f.length;) f.shift()();
        return a.push.apply(a, u || []),
        n()
    }
    function n() {
        for (var e, t = 0; t < a.length; t++) {
            for (var n = a[t], r = !0, o = 1; o < n.length; o++) {
                var l = n[o];
                0 !== i[l] && (r = !1)
            }
            r && (a.splice(t--, 1), e = s(s.s = n[0]))
        }
        return e
    }
    var r = {},
    o = {
        app: 0
    },
    i = {
        app: 0
    },
    a = [];
    function s(t) {
        if (r[t]) return r[t].exports;
        var n = r[t] = {
            i: t,
            l: !1,
            exports: {}
        };
        return e[t].call(n.exports, n, n.exports, s),
        n.l = !0,
        n.exports
    }
    s.e = function(e) {
        var t = [];
        o[e] ? t.push(o[e]) : 0 !== o[e] && {
            "chunk-37b08d8d": 1
        } [e] && t.push(o[e] = new Promise(function(t, n) {
            for (var r = "css/" + ({} [e] || e) + "." + {
                "chunk-37b08d8d": "34ec3f6a"
            } [e] + ".css", i = s.p + r, a = document.getElementsByTagName("link"), l = 0; l < a.length; l++) {
                var u = (d = a[l]).getAttribute("data-href") || d.getAttribute("href");
                if ("stylesheet" === d.rel && (u === r || u === i)) return t()
            }
            var c = document.getElementsByTagName("style");
            for (l = 0; l < c.length; l++) {
                var d;
                if ((u = (d = c[l]).getAttribute("data-href")) === r || u === i) return t()
            }
            var f = document.createElement("link");
            f.rel = "stylesheet",
            f.type = "text/css",
            f.onload = t,
            f.onerror = function(t) {
                var r = t && t.target && t.target.src || i,
                a = new Error("Loading CSS chunk " + e + " failed.\n(" + r + ")");
                a.request = r,
                delete o[e],
                f.parentNode.removeChild(f),
                n(a)
            },
            f.href = i,
            document.getElementsByTagName("head")[0].appendChild(f)
        }).then(function() {
            o[e] = 0
        }));
        var n = i[e];
        if (0 !== n) if (n) t.push(n[2]);
        else {
            var r = new Promise(function(t, r) {
                n = i[e] = [t, r]
            });
            t.push(n[2] = r);
            var a, l = document.createElement("script");
            l.charset = "utf-8",
            l.timeout = 120,
            s.nc && l.setAttribute("nonce", s.nc),
            l.src = function(e) {
                return s.p + "js/" + ({} [e] || e) + "." + {
                    "chunk-37b08d8d": "4012a0dd"
                } [e] + ".js"
            } (e),
            a = function(t) {
                l.onerror = l.onload = null,
                clearTimeout(u);
                var n = i[e];
                if (0 !== n) {
                    if (n) {
                        var r = t && ("load" === t.type ? "missing": t.type),
                        o = t && t.target && t.target.src,
                        a = new Error("Loading chunk " + e + " failed.\n(" + r + ": " + o + ")");
                        a.type = r,
                        a.request = o,
                        n[1](a)
                    }
                    i[e] = void 0
                }
            };
            var u = setTimeout(function() {
                a({
                    type: "timeout",
                    target: l
                })
            },
            12e4);
            l.onerror = l.onload = a,
            document.head.appendChild(l)
        }
        return Promise.all(t)
    },
    s.m = e,
    s.c = r,
    s.d = function(e, t, n) {
        s.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: n
        })
    },
    s.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    },
    s.t = function(e, t) {
        if (1 & t && (e = s(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var n = Object.create(null);
        if (s.r(n), Object.defineProperty(n, "default", {
            enumerable: !0,
            value: e
        }), 2 & t && "string" != typeof e) for (var r in e) s.d(n, r,
        function(t) {
            return e[t]
        }.bind(null, r));
        return n
    },
    s.n = function(e) {
        var t = e && e.__esModule ?
        function() {
            return e.
        default
        }:
        function() {
            return e
        };
        return s.d(t, "a", t),
        t
    },
    s.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    },
    s.p = "",
    s.oe = function(e) {
        throw e
    };
    var l = window.webpackJsonp = window.webpackJsonp || [],
    u = l.push.bind(l);
    l.push = t,
    l = l.slice();
    for (var c = 0; c < l.length; c++) t(l[c]);
    var d = u;
    a.push([0, "chunk-vendors"]),
    n()
} ({
    0 : function(e, t, n) {
        e.exports = n("56d7")
    },
    "006a": function(e, t, n) {
        n("967a")
    },
    "036c": function(e, t, n) {
        n("8d38")
    },
    "0f59": function(e, t, n) {},
    "0fa2": function(e, t, n) {
        n("84f5")
    },
    "104d": function(e, t, n) {
        "use strict";
        var r = {
            name: "generate-col-item",
            components: {
                GenerateFormItem: n("5531").a
            },
            props: ["element", "model", "rules", "remote", "blanks"],
            data: function() {
                return {
                    dataModels: this.model
                }
            },
            watch: {
                model: {
                    deep: !0,
                    handler: function(e) {
                        this.dataModels = this.model
                    }
                },
                dataModels: {
                    deep: !0,
                    handler: function(e) {
                        this.$emit("update:model", e)
                    }
                }
            }
        },
        o = n("2877"),
        i = Object(o.a)(r,
        function() {
            var e, t = this,
            n = t.$createElement,
            r = t._self._c || n;
            return r("el-row", {
                class: (e = {},
                e[t.element.options.customClass] = !!t.element.options.customClass, e),
                attrs: {
                    type: "flex",
                    gutter: t.element.options.gutter || 0,
                    justify: t.element.options.justify,
                    align: t.element.options.align
                }
            },
            t._l(t.element.columns,
            function(e, n) {
                return r("el-col", {
                    key: n,
                    attrs: {
                        span: e.span || 0
                    }
                },
                [t._l(e.list,
                function(e) {
                    return ["grid" == e.type ? r("generate-col-item", {
                        key: e.key,
                        attrs: {
                            model: t.dataModels,
                            rules: t.rules,
                            element: e,
                            remote: t.remote,
                            blanks: t.blanks
                        },
                        on: {
                            "update:model": function(e) {
                                t.dataModels = e
                            }
                        },
                        scopedSlots: t._u([t._l(t.blanks,
                        function(e) {
                            return {
                                key: e.name,
                                fn: function(n) {
                                    return [t._t(e.name, null, {
                                        model: n.model
                                    })]
                                }
                            }
                        })], null, !0)
                    }) : r("generate-form-item", {
                        key: e.key,
                        attrs: {
                            models: t.dataModels,
                            rules: t.rules,
                            widget: e,
                            remote: t.remote,
                            blanks: t.blanks
                        },
                        on: {
                            "update:models": function(e) {
                                t.dataModels = e
                            }
                        },
                        scopedSlots: t._u([t._l(t.blanks,
                        function(e) {
                            return {
                                key: e.name,
                                fn: function(n) {
                                    return [t._t(e.name, null, {
                                        model: n.model
                                    })]
                                }
                            }
                        })], null, !0)
                    })]
                })], 2)
            }), 1)
        },
        [], !1, null, null, null);
        t.a = i.exports
    },
    "1b94": function(e, t) { !
        function() {
            "use strict";
            var e, t, n, r, o, i, a = tinymce.util.Tools.resolve("tinymce.PluginManager"),
            s = function(e) {
                return function() {
                    return e
                }
            },
            l = function(e) {
                for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                for (var r = new Array(arguments.length - 1), o = 1; o < arguments.length; o++) r[o - 1] = arguments[o];
                return function() {
                    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    for (var o = new Array(arguments.length), i = 0; i < o.length; i++) o[i] = arguments[i];
                    var a = r.concat(o);
                    return e.apply(null, a)
                }
            },
            u = s(!1),
            c = s(!0),
            d = u,
            f = c,
            m = function() {
                return p
            },
            p = (r = {
                fold: function(e, t) {
                    return e()
                },
                is: d,
                isSome: d,
                isNone: f,
                getOr: n = function(e) {
                    return e
                },
                getOrThunk: t = function(e) {
                    return e()
                },
                getOrDie: function(e) {
                    throw new Error(e || "error: getOrDie called on none.")
                },
                getOrNull: function() {
                    return null
                },
                getOrUndefined: function() {},
                or: n,
                orThunk: t,
                map: m,
                ap: m,
                each: function() {},
                bind: m,
                flatten: m,
                exists: d,
                forall: f,
                filter: m,
                equals: e = function(e) {
                    return e.isNone()
                },
                equals_: e,
                toArray: function() {
                    return []
                },
                toString: s("none()")
            },
            Object.freeze && Object.freeze(r), r),
            h = function(e) {
                var t = function() {
                    return e
                },
                n = function() {
                    return o
                },
                r = function(t) {
                    return t(e)
                },
                o = {
                    fold: function(t, n) {
                        return n(e)
                    },
                    is: function(t) {
                        return e === t
                    },
                    isSome: f,
                    isNone: d,
                    getOr: t,
                    getOrThunk: t,
                    getOrDie: t,
                    getOrNull: t,
                    getOrUndefined: t,
                    or: n,
                    orThunk: n,
                    map: function(t) {
                        return h(t(e))
                    },
                    ap: function(t) {
                        return t.fold(m,
                        function(t) {
                            return h(t(e))
                        })
                    },
                    each: function(t) {
                        t(e)
                    },
                    bind: r,
                    flatten: t,
                    exists: r,
                    forall: r,
                    filter: function(t) {
                        return t(e) ? o: p
                    },
                    equals: function(t) {
                        return t.is(e)
                    },
                    equals_: function(t, n) {
                        return t.fold(d,
                        function(t) {
                            return n(e, t)
                        })
                    },
                    toArray: function() {
                        return [e]
                    },
                    toString: function() {
                        return "some(" + e + ")"
                    }
                };
                return o
            },
            g = {
                some: h,
                none: m,
                from: function(e) {
                    return null == e ? p: h(e)
                }
            },
            v = (o = "function",
            function(e) {
                return function(e) {
                    if (null === e) return "null";
                    var t = typeof e;
                    return "object" === t && Array.prototype.isPrototypeOf(e) ? "array": "object" === t && String.prototype.isPrototypeOf(e) ? "string": t
                } (e) === o
            }),
            b = void 0 === (i = Array.prototype.indexOf) ?
            function(e, t) {
                return x(e, t)
            }: function(e, t) {
                return i.call(e, t)
            },
            y = function(e, t) {
                return b(e, t) > -1
            },
            w = function(e, t) {
                for (var n = e.length,
                r = new Array(n), o = 0; o < n; o++) {
                    var i = e[o];
                    r[o] = t(i, o, e)
                }
                return r
            },
            x = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; ++n) if (e[n] === t) return n;
                return - 1
            },
            C = (Array.prototype.slice, v(Array.from) && Array.from, tinymce.util.Tools.resolve("tinymce.util.I18n")),
            _ = tinymce.util.Tools.resolve("tinymce.Env"),
            k = _.mac ? "⌘": "Ctrl",
            E = _.mac ? "Ctrl + Alt": "Shift + Alt",
            T = {
                shortcuts: [{
                    shortcut: k + " + B",
                    action: "Bold"
                },
                {
                    shortcut: k + " + I",
                    action: "Italic"
                },
                {
                    shortcut: k + " + U",
                    action: "Underline"
                },
                {
                    shortcut: k + " + A",
                    action: "Select all"
                },
                {
                    shortcut: k + " + Y or " + k + " + Shift + Z",
                    action: "Redo"
                },
                {
                    shortcut: k + " + Z",
                    action: "Undo"
                },
                {
                    shortcut: E + " + 1",
                    action: "Header 1"
                },
                {
                    shortcut: E + " + 2",
                    action: "Header 2"
                },
                {
                    shortcut: E + " + 3",
                    action: "Header 3"
                },
                {
                    shortcut: E + " + 4",
                    action: "Header 4"
                },
                {
                    shortcut: E + " + 5",
                    action: "Header 5"
                },
                {
                    shortcut: E + " + 6",
                    action: "Header 6"
                },
                {
                    shortcut: E + " + 7",
                    action: "Paragraph"
                },
                {
                    shortcut: E + " + 8",
                    action: "Div"
                },
                {
                    shortcut: E + " + 9",
                    action: "Address"
                },
                {
                    shortcut: "Alt + F9",
                    action: "Focus to menubar"
                },
                {
                    shortcut: "Alt + F10",
                    action: "Focus to toolbar"
                },
                {
                    shortcut: "Alt + F11",
                    action: "Focus to element path"
                },
                {
                    shortcut: "Ctrl + F9",
                    action: "Focus to contextual toolbar"
                },
                {
                    shortcut: k + " + K",
                    action: "Insert link (if link plugin activated)"
                },
                {
                    shortcut: k + " + S",
                    action: "Save (if save plugin activated)"
                },
                {
                    shortcut: k + " + F",
                    action: "Find (if searchreplace plugin activated)"
                }]
            },
            S = function() {
                var e = w(T.shortcuts,
                function(e) {
                    return '<tr data-mce-tabstop="1" tabindex="-1" ' +
                    function(e) {
                        return 'aria-label="Action: ' + e.action + ", Shortcut: " + e.shortcut.replace(/Ctrl/g, "Control") + '"'
                    } (e) + "><td>" + C.translate(e.action) + "</td><td>" + e.shortcut + "</td></tr>"
                }).join("");
                return {
                    title: "Handy Shortcuts",
                    type: "container",
                    style: "overflow-y: auto; overflow-x: hidden; max-height: 250px",
                    items: [{
                        type: "container",
                        html: '<div><table class="mce-table-striped"><thead><th>' + C.translate("Action") + "</th><th>" + C.translate("Shortcut") + "</th></thead>" + e + "</table></div>"
                    }]
                }
            },
            N = Object.keys,
            R = [{
                key: "advlist",
                name: "Advanced List"
            },
            {
                key: "anchor",
                name: "Anchor"
            },
            {
                key: "autolink",
                name: "Autolink"
            },
            {
                key: "autoresize",
                name: "Autoresize"
            },
            {
                key: "autosave",
                name: "Autosave"
            },
            {
                key: "bbcode",
                name: "BBCode"
            },
            {
                key: "charmap",
                name: "Character Map"
            },
            {
                key: "code",
                name: "Code"
            },
            {
                key: "codesample",
                name: "Code Sample"
            },
            {
                key: "colorpicker",
                name: "Color Picker"
            },
            {
                key: "compat3x",
                name: "3.x Compatibility"
            },
            {
                key: "contextmenu",
                name: "Context Menu"
            },
            {
                key: "directionality",
                name: "Directionality"
            },
            {
                key: "emoticons",
                name: "Emoticons"
            },
            {
                key: "fullpage",
                name: "Full Page"
            },
            {
                key: "fullscreen",
                name: "Full Screen"
            },
            {
                key: "help",
                name: "Help"
            },
            {
                key: "hr",
                name: "Horizontal Rule"
            },
            {
                key: "image",
                name: "Image"
            },
            {
                key: "imagetools",
                name: "Image Tools"
            },
            {
                key: "importcss",
                name: "Import CSS"
            },
            {
                key: "insertdatetime",
                name: "Insert Date/Time"
            },
            {
                key: "legacyoutput",
                name: "Legacy Output"
            },
            {
                key: "link",
                name: "Link"
            },
            {
                key: "lists",
                name: "Lists"
            },
            {
                key: "media",
                name: "Media"
            },
            {
                key: "nonbreaking",
                name: "Nonbreaking"
            },
            {
                key: "noneditable",
                name: "Noneditable"
            },
            {
                key: "pagebreak",
                name: "Page Break"
            },
            {
                key: "paste",
                name: "Paste"
            },
            {
                key: "preview",
                name: "Preview"
            },
            {
                key: "print",
                name: "Print"
            },
            {
                key: "save",
                name: "Save"
            },
            {
                key: "searchreplace",
                name: "Search and Replace"
            },
            {
                key: "spellchecker",
                name: "Spell Checker"
            },
            {
                key: "tabfocus",
                name: "Tab Focus"
            },
            {
                key: "table",
                name: "Table"
            },
            {
                key: "template",
                name: "Template"
            },
            {
                key: "textcolor",
                name: "Text Color"
            },
            {
                key: "textpattern",
                name: "Text Pattern"
            },
            {
                key: "toc",
                name: "Table of Contents"
            },
            {
                key: "visualblocks",
                name: "Visual Blocks"
            },
            {
                key: "visualchars",
                name: "Visual Characters"
            },
            {
                key: "wordcount",
                name: "Word Count"
            }],
            A = l(function(e, t) {
                return e.replace(/\$\{([^{}]*)\}/g,
                function(e, n) {
                    var r, o = t[n];
                    return "string" == (r = typeof o) || "number" === r ? o.toString() : e
                })
            },
            '<a href="${url}" target="_blank" rel="noopener">${name}</a>'),
            O = function(e, t) {
                return function(e, t) {
                    for (var n = 0,
                    r = e.length; n < r; n++) {
                        var o = e[n];
                        if (t(o, n, e)) return g.some(o)
                    }
                    return g.none()
                } (R,
                function(e) {
                    return e.key === t
                }).fold(function() {
                    var n = e.plugins[t].getMetadata;
                    return "function" == typeof n ? A(n()) : t
                },
                function(e) {
                    return A({
                        name: e.name,
                        url: "https://www.tinymce.com/docs/plugins/" + e.key
                    })
                })
            },
            D = function(e) {
                var t = function(e) {
                    var t, n = N(e.plugins);
                    return void 0 === e.settings.forced_plugins ? n: function(e, t) {
                        for (var n = [], r = 0, o = e.length; r < o; r++) {
                            var i = e[r];
                            t(i, r, e) && n.push(i)
                        }
                        return n
                    } (n, (t = l(y, e.settings.forced_plugins),
                    function() {
                        for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                        return ! t.apply(null, arguments)
                    }))
                } (e),
                n = w(t,
                function(t) {
                    return "<li>" + O(e, t) + "</li>"
                }),
                r = n.length,
                o = n.join("");
                return "<p><b>" + C.translate(["Plugins installed ({0}):", r]) + "</b></p><ul>" + o + "</ul>"
            },
            P = function(e) {
                return {
                    type: "container",
                    html: '<div style="overflow-y: auto; overflow-x: hidden; max-height: 230px; height: 230px;" data-mce-tabstop="1" tabindex="-1">' + D(e) + "</div>",
                    flex: 1
                }
            },
            B = function(e) {
                return {
                    title: "Plugins",
                    type: "container",
                    style: "overflow-y: auto; overflow-x: hidden;",
                    layout: "flex",
                    padding: 10,
                    spacing: 10,
                    items: [P(e), {
                        type: "container",
                        html: '<div style="padding: 10px; background: #e3e7f4; height: 100%;" data-mce-tabstop="1" tabindex="-1"><p><b>' + C.translate("Premium plugins:") + '</b></p><ul><li>PowerPaste</li><li>Spell Checker Pro</li><li>Accessibility Checker</li><li>Advanced Code Editor</li><li>Enhanced Media Embed</li><li>Link Checker</li></ul><br /><p style="float: right;"><a href="https://www.tinymce.com/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">' + C.translate("Learn more...") + "</a></p></div>",
                        flex: 1
                    }]
                }
            },
            M = tinymce.util.Tools.resolve("tinymce.EditorManager"),
            I = function() {
                var e, t, n = '<a href="https://www.tinymce.com/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE ' + (e = M.majorVersion, t = M.minorVersion, 0 === e.indexOf("@") ? "X.X.X": e + "." + t) + "</a>";
                return [{
                    type: "label",
                    html: C.translate(["You are using {0}", n])
                },
                {
                    type: "spacer",
                    flex: 1
                },
                {
                    text: "Close",
                    onclick: function() {
                        this.parent().parent().close()
                    }
                }]
            },
            L = function(e, t) {
                return function() {
                    e.windowManager.open({
                        title: "Help",
                        bodyType: "tabpanel",
                        layout: "flex",
                        body: [S(), B(e)],
                        buttons: I(),
                        onPostRender: function() {
                            this.getEl("title").innerHTML = '<img src="' + t + '/img/logo.png" alt="TinyMCE Logo" style="display: inline-block; width: 200px; height: 50px">'
                        }
                    })
                }
            },
            F = function(e, t) {
                e.addCommand("mceHelp", L(e, t))
            },
            W = function(e, t) {
                e.addButton("help", {
                    icon: "help",
                    onclick: L(e, t)
                }),
                e.addMenuItem("help", {
                    text: "Help",
                    icon: "help",
                    context: "help",
                    onclick: L(e, t)
                })
            };
            a.add("help",
            function(e, t) {
                W(e, t),
                F(e, t),
                e.shortcuts.add("Alt+0", "Open help dialog", "mceHelp")
            })
        } ()
    },
    "1d39": function(e, t) { !
        function() {
            "use strict";
            var e = function(t) {
                var n = t,
                r = function() {
                    return n
                };
                return {
                    get: r,
                    set: function(e) {
                        n = e
                    },
                    clone: function() {
                        return e(r())
                    }
                }
            },
            t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
            n = function(e) {
                return {
                    isContextMenuVisible: function() {
                        return e.get()
                    }
                }
            },
            r = function(e) {
                return e.settings.contextmenu_never_use_native
            },
            o = function(e) {
                return e.getParam("contextmenu", "link openlink image inserttable | cell row column deletetable")
            },
            i = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
            a = function(e) {
                return i.DOM.select(e.settings.ui_container)[0]
            },
            s = function(e, t) {
                return {
                    x: e,
                    y: t
                }
            },
            l = function(e, t, n) {
                return s(e.x + t, e.y + n)
            },
            u = function(e, t) {
                if (e && "static" !== i.DOM.getStyle(e, "position", !0)) {
                    var n = i.DOM.getPos(e),
                    r = n.x - e.scrollLeft,
                    o = n.y - e.scrollTop;
                    return l(t, -r, -o)
                }
                return l(t, 0, 0)
            },
            c = function(e, t) {
                if (e.inline) return u(a(e),
                function(e) {
                    return s(e.pageX, e.pageY)
                } (t));
                var n, r, o, c = (n = e.getContentAreaContainer(), r = function(e) {
                    return s(e.clientX, e.clientY)
                } (t), o = i.DOM.getPos(n), l(r, o.x, o.y));
                return u(a(e), c)
            },
            d = tinymce.util.Tools.resolve("tinymce.ui.Factory"),
            f = tinymce.util.Tools.resolve("tinymce.util.Tools"),
            m = function(e, t, n, r) {
                null === r.get() ? r.set(function(e, t) {
                    var n, r, i = [];
                    r = o(e),
                    f.each(r.split(/[ ,]/),
                    function(t) {
                        var n = e.menuItems[t];
                        "|" === t && (n = {
                            text: t
                        }),
                        n && (n.shortcut = "", i.push(n))
                    });
                    for (var s = 0; s < i.length; s++)"|" === i[s].text && (0 !== s && s !== i.length - 1 || i.splice(s, 1));
                    return (n = d.create("menu", {
                        items: i,
                        context: "contextmenu",
                        classes: "contextmenu"
                    })).uiContainer = a(e),
                    n.renderTo(a(e)),
                    n.on("hide",
                    function(e) {
                        e.control === this && t.set(!1)
                    }),
                    e.on("remove",
                    function() {
                        n.remove(),
                        n = null
                    }),
                    n
                } (e, n)) : r.get().show(),
                r.get().moveTo(t.x, t.y),
                n.set(!0)
            },
            p = function(e, t, n) {
                e.on("contextmenu",
                function(o) { (function(e, t) {
                        return t.ctrlKey && !r(e)
                    })(e, o) || (o.preventDefault(), m(e, c(e, o), t, n))
                })
            };
            t.add("contextmenu",
            function(t) {
                var r = e(null),
                o = e(!1);
                return p(t, o, r),
                n(o)
            })
        } ()
    },
    "1fe0": function(e, t, n) {
        e.exports = n.p + "fonts/tinymce.9267f79b.woff"
    },
    "226c": function(e, t) { !
        function() {
            "use strict";
            var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
            t = tinymce.util.Tools.resolve("tinymce.Env"),
            n = tinymce.util.Tools.resolve("tinymce.util.Tools"),
            r = function(e) {
                return e.getParam("media_scripts")
            },
            o = function(e) {
                return e.getParam("audio_template_callback")
            },
            i = function(e) {
                return e.getParam("video_template_callback")
            },
            a = function(e) {
                return e.getParam("media_live_embeds", !0)
            },
            s = function(e) {
                return e.getParam("media_filter_html", !0)
            },
            l = function(e) {
                return e.getParam("media_url_resolver")
            },
            u = function(e) {
                return e.getParam("media_alt_source", !0)
            },
            c = function(e) {
                return e.getParam("media_poster", !0)
            },
            d = function(e) {
                return e.getParam("media_dimensions", !0)
            },
            f = tinymce.util.Tools.resolve("tinymce.html.SaxParser"),
            m = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
            p = function(e, t) {
                if (e) for (var n = 0; n < e.length; n++) if ( - 1 !== t.indexOf(e[n].filter)) return e[n]
            },
            h = function(e) {
                return function(t) {
                    return t ? t.style[e].replace(/px$/, "") : ""
                }
            },
            g = function(e) {
                return function(t, n) {
                    t && (t.style[e] = function(e) {
                        return /^[0-9.]+$/.test(e) ? e + "px": e
                    } (n))
                }
            },
            v = {
                getMaxWidth: h("maxWidth"),
                getMaxHeight: h("maxHeight"),
                setMaxWidth: g("maxWidth"),
                setMaxHeight: g("maxHeight")
            },
            b = m.DOM,
            y = function(e) {
                return b.getAttrib(e, "data-ephox-embed-iri")
            },
            w = function(e, t) {
                return function(e) {
                    var t = b.createFragment(e);
                    return "" !== y(t.firstChild)
                } (t) ?
                function(e) {
                    var t = b.createFragment(e).firstChild;
                    return {
                        type: "ephox-embed-iri",
                        source1: y(t),
                        source2: "",
                        poster: "",
                        width: v.getMaxWidth(t),
                        height: v.getMaxHeight(t)
                    }
                } (t) : function(e, t) {
                    var r = {};
                    return f({
                        validate: !1,
                        allow_conditional_comments: !0,
                        special: "script,noscript",
                        start: function(t, o) {
                            if (r.source1 || "param" !== t || (r.source1 = o.map.movie), "iframe" !== t && "object" !== t && "embed" !== t && "video" !== t && "audio" !== t || (r.type || (r.type = t), r = n.extend(o.map, r)), "script" === t) {
                                var i = p(e, o.map.src);
                                if (!i) return;
                                r = {
                                    type: "script",
                                    source1: o.map.src,
                                    width: i.width,
                                    height: i.height
                                }
                            }
                            "source" === t && (r.source1 ? r.source2 || (r.source2 = o.map.src) : r.source1 = o.map.src),
                            "img" !== t || r.poster || (r.poster = o.map.src)
                        }
                    }).parse(t),
                    r.source1 = r.source1 || r.src || r.data,
                    r.source2 = r.source2 || "",
                    r.poster = r.poster || "",
                    r
                } (e, t)
            },
            x = tinymce.util.Tools.resolve("tinymce.util.Promise"),
            C = function(e) {
                var t = {
                    mp3: "audio/mpeg",
                    wav: "audio/wav",
                    mp4: "video/mp4",
                    webm: "video/webm",
                    ogg: "video/ogg",
                    swf: "application/x-shockwave-flash"
                } [e.toLowerCase().split(".").pop()];
                return t || ""
            },
            _ = tinymce.util.Tools.resolve("tinymce.html.Writer"),
            k = tinymce.util.Tools.resolve("tinymce.html.Schema"),
            E = m.DOM,
            T = function(e, t) {
                var n, r, o, i;
                for (n in t) if (o = "" + t[n], e.map[n]) for (r = e.length; r--;)(i = e[r]).name === n && (o ? (e.map[n] = o, i.value = o) : (delete e.map[n], e.splice(r, 1)));
                else o && (e.push({
                    name: n,
                    value: o
                }), e.map[n] = o)
            },
            S = function(e, t) {
                var n = E.createFragment(e).firstChild;
                return v.setMaxWidth(n, t.width),
                v.setMaxHeight(n, t.height),
                function(e) {
                    var t = _();
                    return f(t).parse(e),
                    t.getContent()
                } (n.outerHTML)
            },
            N = function(e, t, n) {
                return function(e) {
                    var t = E.createFragment(e);
                    return "" !== E.getAttrib(t.firstChild, "data-ephox-embed-iri")
                } (e) ? S(e, t) : function(e, t, n) {
                    var r, o = _(),
                    i = 0;
                    return f({
                        validate: !1,
                        allow_conditional_comments: !0,
                        special: "script,noscript",
                        comment: function(e) {
                            o.comment(e)
                        },
                        cdata: function(e) {
                            o.cdata(e)
                        },
                        text: function(e, t) {
                            o.text(e, t)
                        },
                        start: function(e, a, s) {
                            switch (e) {
                            case "video":
                            case "object":
                            case "embed":
                            case "img":
                            case "iframe":
                                void 0 !== t.height && void 0 !== t.width && T(a, {
                                    width: t.width,
                                    height: t.height
                                })
                            }
                            if (n) switch (e) {
                            case "video":
                                T(a, {
                                    poster: t.poster,
                                    src: ""
                                }),
                                t.source2 && T(a, {
                                    src: ""
                                });
                                break;
                            case "iframe":
                                T(a, {
                                    src: t.source1
                                });
                                break;
                            case "source":
                                if (++i <= 2 && (T(a, {
                                    src: t["source" + i],
                                    type: t["source" + i + "mime"]
                                }), !t["source" + i])) return;
                                break;
                            case "img":
                                if (!t.poster) return;
                                r = !0
                            }
                            o.start(e, a, s)
                        },
                        end: function(e) {
                            if ("video" === e && n) for (var a = 1; a <= 2; a++) if (t["source" + a]) {
                                var s = [];
                                s.map = {},
                                i < a && (T(s, {
                                    src: t["source" + a],
                                    type: t["source" + a + "mime"]
                                }), o.start("source", s, !0))
                            }
                            if (t.poster && "object" === e && n && !r) {
                                var l = [];
                                l.map = {},
                                T(l, {
                                    src: t.poster,
                                    width: t.width,
                                    height: t.height
                                }),
                                o.start("img", l, !0)
                            }
                            o.end(e)
                        }
                    },
                    k({})).parse(e),
                    o.getContent()
                } (e, t, n)
            },
            R = [{
                regex: /youtu\.be\/([\w\-_\?&=.]+)/i,
                type: "iframe",
                w: 560,
                h: 314,
                url: "//www.youtube.com/embed/$1",
                allowFullscreen: !0
            },
            {
                regex: /youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,
                type: "iframe",
                w: 560,
                h: 314,
                url: "//www.youtube.com/embed/$2?$4",
                allowFullscreen: !0
            },
            {
                regex: /youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,
                type: "iframe",
                w: 560,
                h: 314,
                url: "//www.youtube.com/embed/$1",
                allowFullscreen: !0
            },
            {
                regex: /vimeo\.com\/([0-9]+)/,
                type: "iframe",
                w: 425,
                h: 350,
                url: "//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",
                allowFullscreen: !0
            },
            {
                regex: /vimeo\.com\/(.*)\/([0-9]+)/,
                type: "iframe",
                w: 425,
                h: 350,
                url: "//player.vimeo.com/video/$2?title=0&amp;byline=0",
                allowFullscreen: !0
            },
            {
                regex: /maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,
                type: "iframe",
                w: 425,
                h: 350,
                url: '//maps.google.com/maps/ms?msid=$2&output=embed"',
                allowFullscreen: !1
            },
            {
                regex: /dailymotion\.com\/video\/([^_]+)/,
                type: "iframe",
                w: 480,
                h: 270,
                url: "//www.dailymotion.com/embed/video/$1",
                allowFullscreen: !0
            },
            {
                regex: /dai\.ly\/([^_]+)/,
                type: "iframe",
                w: 480,
                h: 270,
                url: "//www.dailymotion.com/embed/video/$1",
                allowFullscreen: !0
            }],
            A = function(e, t) {
                for (var n = e.regex.exec(t), r = e.url, o = function(e) {
                    r = r.replace("$" + e,
                    function() {
                        return n[e] ? n[e] : ""
                    })
                },
                i = 0; i < n.length; i++) o(i);
                return r.replace(/\?$/, "")
            },
            O = function(e, t) {
                var a = n.extend({},
                t);
                if (!a.source1 && (n.extend(a, w(r(e), a.embed)), !a.source1)) return "";
                a.source2 || (a.source2 = ""),
                a.poster || (a.poster = ""),
                a.source1 = e.convertURL(a.source1, "source"),
                a.source2 = e.convertURL(a.source2, "source"),
                a.source1mime = C(a.source1),
                a.source2mime = C(a.source2),
                a.poster = e.convertURL(a.poster, "poster");
                var s = function(e) {
                    var t = R.filter(function(t) {
                        return t.regex.test(e)
                    });
                    return t.length > 0 ? n.extend({},
                    t[0], {
                        url: A(t[0], e)
                    }) : null
                } (a.source1);
                if (s && (a.source1 = s.url, a.type = s.type, a.allowFullscreen = s.allowFullscreen, a.width = a.width || s.w, a.height = a.height || s.h), a.embed) return N(a.embed, a, !0);
                var l = p(r(e), a.source1);
                l && (a.type = "script", a.width = l.width, a.height = l.height);
                var u = o(e),
                c = i(e);
                return a.width = a.width || 300,
                a.height = a.height || 150,
                n.each(a,
                function(t, n) {
                    a[n] = e.dom.encode(t)
                }),
                "iframe" === a.type ?
                function(e) {
                    var t = e.allowFullscreen ? ' allowFullscreen="1"': "";
                    return '<iframe src="' + e.source1 + '" width="' + e.width + '" height="' + e.height + '"' + t + "></iframe>"
                } (a) : "application/x-shockwave-flash" === a.source1mime ?
                function(e) {
                    var t = '<object data="' + e.source1 + '" width="' + e.width + '" height="' + e.height + '" type="application/x-shockwave-flash">';
                    return e.poster && (t += '<img src="' + e.poster + '" width="' + e.width + '" height="' + e.height + '" />'),
                    t + "</object>"
                } (a) : -1 !== a.source1mime.indexOf("audio") ?
                function(e, t) {
                    return t ? t(e) : '<audio controls="controls" src="' + e.source1 + '">' + (e.source2 ? '\n<source src="' + e.source2 + '"' + (e.source2mime ? ' type="' + e.source2mime + '"': "") + " />\n": "") + "</audio>"
                } (a, u) : "script" === a.type ?
                function(e) {
                    return '<script src="' + e.source1 + '"><\/script>'
                } (a) : function(e, t) {
                    return t ? t(e) : '<video width="' + e.width + '" height="' + e.height + '"' + (e.poster ? ' poster="' + e.poster + '"': "") + ' controls="controls">\n<source src="' + e.source1 + '"' + (e.source1mime ? ' type="' + e.source1mime + '"': "") + " />\n" + (e.source2 ? '<source src="' + e.source2 + '"' + (e.source2mime ? ' type="' + e.source2mime + '"': "") + " />\n": "") + "</video>"
                } (a, c)
            },
            D = {},
            P = function(e) {
                return function(t) {
                    return O(e, t)
                }
            },
            B = function(e, t) {
                var n = l(e);
                return n ?
                function(e, t, n) {
                    return new x(function(r, o) {
                        var i = function(n) {
                            return n.html && (D[e.source1] = n),
                            r({
                                url: e.source1,
                                html: n.html ? n.html: t(e)
                            })
                        };
                        D[e.source1] ? i(D[e.source1]) : n({
                            url: e.source1
                        },
                        i, o)
                    })
                } (t, P(e), n) : function(e, t) {
                    return new x(function(n) {
                        n({
                            html: t(e),
                            url: e.source1
                        })
                    })
                } (t, P(e))
            },
            M = function(e) {
                return D.hasOwnProperty(e)
            },
            I = function(e, t) {
                e.state.set("oldVal", e.value()),
                t.state.set("oldVal", t.value())
            },
            L = function(e, t) {
                var n = e.find("#width")[0],
                r = e.find("#height")[0],
                o = e.find("#constrain")[0];
                n && r && o && t(n, r, o.checked())
            },
            F = function(e, t, n) {
                var r = e.state.get("oldVal"),
                o = t.state.get("oldVal"),
                i = e.value(),
                a = t.value();
                n && r && o && i && a && (i !== r ? (a = Math.round(i / r * a), isNaN(a) || t.value(a)) : (i = Math.round(a / o * i), isNaN(i) || e.value(i))),
                I(e, t)
            },
            W = function(e) {
                L(e, F)
            },
            H = function(e) {
                var t = function() {
                    e(function(e) {
                        W(e)
                    })
                };
                return {
                    type: "container",
                    label: "Dimensions",
                    layout: "flex",
                    align: "center",
                    spacing: 5,
                    items: [{
                        name: "width",
                        type: "textbox",
                        maxLength: 5,
                        size: 5,
                        onchange: t,
                        ariaLabel: "Width"
                    },
                    {
                        type: "label",
                        text: "x"
                    },
                    {
                        name: "height",
                        type: "textbox",
                        maxLength: 5,
                        size: 5,
                        onchange: t,
                        ariaLabel: "Height"
                    },
                    {
                        name: "constrain",
                        type: "checkbox",
                        checked: !0,
                        text: "Constrain proportions"
                    }]
                }
            },
            j = function(e) {
                L(e, I)
            },
            U = W,
            z = t.ie && t.ie <= 8 ? "onChange": "onInput",
            V = function(e) {
                return function(t) {
                    var n = t && t.msg ? "Media embed handler error: " + t.msg: "Media embed handler threw unknown error.";
                    e.notificationManager.open({
                        type: "error",
                        text: n
                    })
                }
            },
            $ = function(e) {
                var t = e.selection.getNode();
                if (t.getAttribute("data-mce-object") || t.getAttribute("data-ephox-embed-iri")) return e.selection.getContent()
            },
            q = function(e, t) {
                return function(o) {
                    var i = o.html,
                    a = e.find("#embed")[0],
                    s = n.extend(w(r(t), i), {
                        source1: o.url
                    });
                    e.fromJSON(s),
                    a && (a.value(i), U(e))
                }
            },
            K = function(e, t) {
                var n = e.dom.select("img[data-mce-object]");
                e.insertContent(t),
                function(e, t) {
                    var n, r, o = e.dom.select("img[data-mce-object]");
                    for (n = 0; n < t.length; n++) for (r = o.length - 1; r >= 0; r--) t[n] === o[r] && o.splice(r, 1);
                    e.selection.select(o[0])
                } (e, n),
                e.nodeChanged()
            },
            Y = function(e) {
                var t, o, i = [{
                    name: "source1",
                    type: "filepicker",
                    filetype: "media",
                    size: 40,
                    autofocus: !0,
                    label: "Source",
                    onpaste: function() {
                        setTimeout(function() {
                            B(e, t.toJSON()).then(q(t, e)).
                            catch(V(e))
                        },
                        1)
                    },
                    onchange: function(r) {
                        B(e, t.toJSON()).then(q(t, e)).
                        catch(V(e)),
                        function(e, t) {
                            n.each(t,
                            function(t, n) {
                                e.find("#" + n).value(t)
                            })
                        } (t, r.meta)
                    },
                    onbeforecall: function(e) {
                        e.meta = t.toJSON()
                    }
                }],
                a = [];
                if (u(e) && a.push({
                    name: "source2",
                    type: "filepicker",
                    filetype: "media",
                    size: 40,
                    label: "Alternative source"
                }), c(e) && a.push({
                    name: "poster",
                    type: "filepicker",
                    filetype: "image",
                    size: 40,
                    label: "Poster"
                }), d(e)) {
                    var s = H(function(e) {
                        e(t),
                        o = t.toJSON(),
                        t.find("#embed").value(N(o.embed, o))
                    });
                    i.push(s)
                }
                o = function(e) {
                    var t = e.selection.getNode(),
                    n = t.getAttribute("data-ephox-embed-iri");
                    return n ? {
                        source1: n,
                        "data-ephox-embed-iri": n,
                        width: v.getMaxWidth(t),
                        height: v.getMaxHeight(t)
                    }: t.getAttribute("data-mce-object") ? w(r(e), e.serializer.serialize(t, {
                        selection: !0
                    })) : {}
                } (e);
                var l = {
                    id: "mcemediasource",
                    type: "textbox",
                    flex: 1,
                    name: "embed",
                    value: $(e),
                    multiline: !0,
                    rows: 5,
                    label: "Source"
                };
                l[z] = function() {
                    o = n.extend({},
                    w(r(e), this.value())),
                    this.parent().parent().fromJSON(o)
                };
                var f = [{
                    title: "General",
                    type: "form",
                    items: i
                },
                {
                    title: "Embed",
                    type: "container",
                    layout: "flex",
                    direction: "column",
                    align: "stretch",
                    padding: 10,
                    spacing: 10,
                    items: [{
                        type: "label",
                        text: "Paste your embed code below:",
                        forId: "mcemediasource"
                    },
                    l]
                }];
                a.length > 0 && f.push({
                    title: "Advanced",
                    type: "form",
                    items: a
                }),
                t = e.windowManager.open({
                    title: "Insert/edit media",
                    data: o,
                    bodyType: "tabpanel",
                    body: f,
                    onSubmit: function() {
                        U(t),
                        function(e, t) {
                            var n = e.toJSON();
                            n.embed = N(n.embed, n),
                            n.embed && M(n.source1) ? K(t, n.embed) : B(t, n).then(function(e) {
                                K(t, e.html)
                            }).
                            catch(V(t))
                        } (t, e)
                    }
                }),
                j(t)
            },
            X = function(e) {
                return {
                    showDialog: function() {
                        Y(e)
                    }
                }
            },
            G = function(e) {
                e.addCommand("mceMedia",
                function() {
                    Y(e)
                })
            },
            J = tinymce.util.Tools.resolve("tinymce.html.Node"),
            Q = function(e, t) {
                if (!1 === s(e)) return t;
                var n, r = _();
                return f({
                    validate: !1,
                    allow_conditional_comments: !1,
                    special: "script,noscript",
                    comment: function(e) {
                        r.comment(e)
                    },
                    cdata: function(e) {
                        r.cdata(e)
                    },
                    text: function(e, t) {
                        r.text(e, t)
                    },
                    start: function(t, o, i) {
                        if (n = !0, "script" !== t && "noscript" !== t) {
                            for (var a = 0; a < o.length; a++) {
                                if (0 === o[a].name.indexOf("on")) return;
                                "style" === o[a].name && (o[a].value = e.dom.serializeStyle(e.dom.parseStyle(o[a].value), t))
                            }
                            r.start(t, o, i),
                            n = !1
                        }
                    },
                    end: function(e) {
                        n || r.end(e)
                    }
                },
                k({})).parse(t),
                r.getContent()
            },
            Z = function(e, n) {
                var r, o = n.name;
                return (r = new J("img", 1)).shortEnded = !0,
                te(e, n, r),
                r.attr({
                    width: n.attr("width") || "300",
                    height: n.attr("height") || ("audio" === o ? "30": "150"),
                    style: n.attr("style"),
                    src: t.transparentSrc,
                    "data-mce-object": o,
                    class: "mce-object mce-object-" + o
                }),
                r
            },
            ee = function(e, t) {
                var n, r, o, i = t.name;
                return (n = new J("span", 1)).attr({
                    contentEditable: "false",
                    style: t.attr("style"),
                    "data-mce-object": i,
                    class: "mce-preview-object mce-object-" + i
                }),
                te(e, t, n),
                (r = new J(i, 1)).attr({
                    src: t.attr("src"),
                    allowfullscreen: t.attr("allowfullscreen"),
                    style: t.attr("style"),
                    class: t.attr("class"),
                    width: t.attr("width"),
                    height: t.attr("height"),
                    frameborder: "0"
                }),
                (o = new J("span", 1)).attr("class", "mce-shim"),
                n.append(r),
                n.append(o),
                n
            },
            te = function(e, t, n) {
                var r, o, i, a, s;
                for (a = (i = t.attributes).length; a--;) r = i[a].name,
                o = i[a].value,
                "width" !== r && "height" !== r && "style" !== r && ("data" !== r && "src" !== r || (o = e.convertURL(o, r)), n.attr("data-mce-p-" + r, o)); (s = t.firstChild && t.firstChild.value) && (n.attr("data-mce-html", escape(Q(e, s))), n.firstChild = null)
            },
            ne = function(e) {
                for (; e = e.parent;) if (e.attr("data-ephox-embed-iri")) return ! 0;
                return ! 1
            },
            re = function(e) {
                return function(n) {
                    for (var o, i, s = n.length; s--;)(o = n[s]).parent && (o.parent.attr("data-mce-object") || ("script" !== o.name || (i = p(r(e), o.attr("src")))) && (i && (i.width && o.attr("width", i.width.toString()), i.height && o.attr("height", i.height.toString())), "iframe" === o.name && a(e) && t.ceFalse ? ne(o) || o.replace(ee(e, o)) : ne(o) || o.replace(Z(e, o))))
                }
            },
            oe = function(e) {
                e.on("preInit",
                function() {
                    var t = e.schema.getSpecialElements();
                    n.each("video audio iframe object".split(" "),
                    function(e) {
                        t[e] = new RegExp("</" + e + "[^>]*>", "gi")
                    });
                    var r = e.schema.getBoolAttrs();
                    n.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),
                    function(e) {
                        r[e] = {}
                    }),
                    e.parser.addNodeFilter("iframe,video,audio,object,embed,script", re(e)),
                    e.serializer.addAttributeFilter("data-mce-object",
                    function(t, n) {
                        for (var r, o, i, a, s, l, u, c, d = t.length; d--;) if ((r = t[d]).parent) {
                            for (u = r.attr(n), o = new J(u, 1), "audio" !== u && "script" !== u && ((c = r.attr("class")) && -1 !== c.indexOf("mce-preview-object") ? o.attr({
                                width: r.firstChild.attr("width"),
                                height: r.firstChild.attr("height")
                            }) : o.attr({
                                width: r.attr("width"),
                                height: r.attr("height")
                            })), o.attr({
                                style: r.attr("style")
                            }), i = (a = r.attributes).length; i--;) {
                                var f = a[i].name;
                                0 === f.indexOf("data-mce-p-") && o.attr(f.substr(11), a[i].value)
                            }
                            "script" === u && o.attr("type", "text/javascript"),
                            (s = r.attr("data-mce-html")) && ((l = new J("#text", 3)).raw = !0, l.value = Q(e, unescape(s)), o.append(l)),
                            r.replace(o)
                        }
                    })
                }),
                e.on("setContent",
                function() {
                    e.$("span.mce-preview-object").each(function(t, n) {
                        var r = e.$(n);
                        0 === r.find("span.mce-shim", n).length && r.append('<span class="mce-shim"></span>')
                    })
                })
            },
            ie = function(e) {
                e.on("ResolveName",
                function(e) {
                    var t;
                    1 === e.target.nodeType && (t = e.target.getAttribute("data-mce-object")) && (e.name = t)
                })
            },
            ae = function(e) {
                e.on("click keyup",
                function() {
                    var t = e.selection.getNode();
                    t && e.dom.hasClass(t, "mce-preview-object") && e.dom.getAttrib(t, "data-mce-selected") && t.setAttribute("data-mce-selected", "2")
                }),
                e.on("ObjectSelected",
                function(e) {
                    var t = e.target.getAttribute("data-mce-object");
                    "audio" !== t && "script" !== t || e.preventDefault()
                }),
                e.on("objectResized",
                function(e) {
                    var t, n = e.target;
                    n.getAttribute("data-mce-object") && (t = n.getAttribute("data-mce-html")) && (t = unescape(t), n.setAttribute("data-mce-html", escape(N(t, {
                        width: e.width,
                        height: e.height
                    }))))
                })
            },
            se = function(e) {
                e.addButton("media", {
                    tooltip: "Insert/edit media",
                    cmd: "mceMedia",
                    stateSelector: ["img[data-mce-object]", "span[data-mce-object]", "div[data-ephox-embed-iri]"]
                }),
                e.addMenuItem("media", {
                    icon: "media",
                    text: "Media",
                    cmd: "mceMedia",
                    context: "insert",
                    prependToContext: !0
                })
            };
            e.add("media",
            function(e) {
                return G(e),
                se(e),
                ie(e),
                oe(e),
                ae(e),
                X(e)
            })
        } ()
    },
    "29c5": function(e, t) { !
        function() {
            "use strict";
            var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
            t = tinymce.util.Tools.resolve("tinymce.util.Color"),
            n = function(e, t) {
                e.find("#preview")[0].getEl().style.background = t
            },
            r = function(e, r) {
                var o = t(r),
                i = o.toRgb();
                e.fromJSON({
                    r: i.r,
                    g: i.g,
                    b: i.b,
                    hex: o.toHex().substr(1)
                }),
                n(e, o.toHex())
            },
            o = function(e, t, o) {
                var i = e.windowManager.open({
                    title: "Color",
                    items: {
                        type: "container",
                        layout: "flex",
                        direction: "row",
                        align: "stretch",
                        padding: 5,
                        spacing: 10,
                        items: [{
                            type: "colorpicker",
                            value: o,
                            onchange: function() {
                                var e = this.rgb();
                                i && (i.find("#r").value(e.r), i.find("#g").value(e.g), i.find("#b").value(e.b), i.find("#hex").value(this.value().substr(1)), n(i, this.value()))
                            }
                        },
                        {
                            type: "form",
                            padding: 0,
                            labelGap: 5,
                            defaults: {
                                type: "textbox",
                                size: 7,
                                value: "0",
                                flex: 1,
                                spellcheck: !1,
                                onchange: function() {
                                    var e, t, n = i.find("colorpicker")[0];
                                    if (e = this.name(), t = this.value(), "hex" === e) return r(i, t = "#" + t),
                                    void n.value(t);
                                    t = {
                                        r: i.find("#r").value(),
                                        g: i.find("#g").value(),
                                        b: i.find("#b").value()
                                    },
                                    n.value(t),
                                    r(i, t)
                                }
                            },
                            items: [{
                                name: "r",
                                label: "R",
                                autofocus: 1
                            },
                            {
                                name: "g",
                                label: "G"
                            },
                            {
                                name: "b",
                                label: "B"
                            },
                            {
                                name: "hex",
                                label: "#",
                                value: "000000"
                            },
                            {
                                name: "preview",
                                type: "container",
                                border: 1
                            }]
                        }]
                    },
                    onSubmit: function() {
                        t("#" + i.toJSON().hex)
                    }
                });
                r(i, o)
            };
            e.add("colorpicker",
            function(e) {
                e.settings.color_picker_callback || (e.settings.color_picker_callback = function(t, n) {
                    o(e, t, n)
                })
            })
        } ()
    },
    "2f05": function(e, t) { !
        function() {
            "use strict";
            var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
            t = function(e) {
                return /^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e)
            },
            n = function(e) {
                var t = e.selection.getNode();
                return "A" === t.tagName && "" === e.dom.getAttrib(t, "href") ? t.id || t.name: ""
            },
            r = function(e, t) {
                var n = e.selection.getNode();
                "A" === n.tagName && "" === e.dom.getAttrib(n, "href") ? (n.removeAttribute("name"), n.id = t, e.undoManager.add()) : (e.focus(), e.selection.collapse(!0), e.execCommand("mceInsertContent", !1, e.dom.createHTML("a", {
                    id: t
                })))
            },
            o = function(e) {
                var o = n(e);
                e.windowManager.open({
                    title: "Anchor",
                    body: {
                        type: "textbox",
                        name: "id",
                        size: 40,
                        label: "Id",
                        value: o
                    },
                    onsubmit: function(n) {
                        var o = n.data.id; (function(e, n) {
                            return t(n) ? (r(e, n), !1) : (e.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."), !0)
                        })(e, o) && n.preventDefault()
                    }
                })
            },
            i = function(e) {
                e.addCommand("mceAnchor",
                function() {
                    o(e)
                })
            },
            a = function(e) {
                return function(t) {
                    for (var n = 0; n < t.length; n++)(r = t[n]).attr("href") || !r.attr("id") && !r.attr("name") || r.firstChild || t[n].attr("contenteditable", e);
                    var r
                }
            }, s = function(e) {
                e.on("PreInit",
                function() {
                    e.parser.addNodeFilter("a", a("false")),
                    e.serializer.addNodeFilter("a", a(null))
                })
            },
            l = function(e) {
                e.addButton("anchor", {
                    icon: "anchor",
                    tooltip: "Anchor",
                    cmd: "mceAnchor",
                    stateSelector: "a:not([href])"
                }),
                e.addMenuItem("anchor", {
                    icon: "anchor",
                    text: "Anchor",
                    context: "insert",
                    cmd: "mceAnchor"
                })
            };
            e.add("anchor",
            function(e) {
                s(e),
                i(e),
                l(e)
            })
        } ()
    },
    3062 : function(e, t, n) {
        n("959a")
    },
    "314e": function(e, t, n) {
        "use strict";
        var r = n("fd61");
        n.n(r).a
    },
    "32f9": function(e, t, n) {
        "use strict";
        var r = n("c4be");
        n.n(r).a
    },
    3516 : function(e, t, n) {
        "use strict";
        var r = n("65ff");
        n.n(r).a
    },
    4260 : function(e, t, n) {
        "use strict";
        n.d(t, "a",
        function() {
            return r
        }),
        n("6b54"),
        n("a481"),
        n("795b");
        var r = function() {
            var e = (new Date).getTime();
            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
            function(t) {
                var n = (e + 16 * Math.random()) % 16 | 0;
                return e = Math.floor(e / 16),
                ("x" == t ? n: 7 & n | 8).toString(16)
            })
        }
    },
    4497 : function(e, t, n) {
        n("1b94")
    },
    "4a03": function(e, t) { !
        function() {
            "use strict";
            var e, t = tinymce.util.Tools.resolve("tinymce.ThemeManager"),
            n = tinymce.util.Tools.resolve("tinymce.EditorManager"),
            r = tinymce.util.Tools.resolve("tinymce.util.Tools"),
            o = function(e) {
                return ! 1 !== i(e)
            },
            i = function(e) {
                return e.getParam("menubar")
            },
            a = function(e) {
                return e.getParam("toolbar_items_size")
            },
            s = function(e) {
                return e.getParam("menu")
            },
            l = function(e) {
                return ! 1 === e.settings.skin
            },
            u = function(e) {
                var t = e.getParam("resize", "vertical");
                return ! 1 === t ? "none": "both" === t ? "both": "vertical"
            },
            c = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
            d = tinymce.util.Tools.resolve("tinymce.ui.Factory"),
            f = tinymce.util.Tools.resolve("tinymce.util.I18n"),
            m = function(e) {
                return e.fire("SkinLoaded")
            },
            p = function(e) {
                return e.fire("ResizeEditor")
            },
            h = function(e) {
                return e.fire("BeforeRenderUI")
            },
            g = function(e, t) {
                return function() {
                    var n = e.find(t)[0];
                    n && n.focus(!0)
                }
            },
            v = function(e, t) {
                e.shortcuts.add("Alt+F9", "", g(t, "menubar")),
                e.shortcuts.add("Alt+F10,F10", "", g(t, "toolbar")),
                e.shortcuts.add("Alt+F11", "", g(t, "elementpath")),
                t.on("cancel",
                function() {
                    e.focus()
                })
            },
            b = tinymce.util.Tools.resolve("tinymce.geom.Rect"),
            y = tinymce.util.Tools.resolve("tinymce.util.Delay"),
            w = function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            },
            x = function(e) {
                return function() {
                    return e
                }
            },
            C = x(!1),
            _ = x(!0),
            k = C,
            E = _,
            T = function() {
                return S
            },
            S = function() {
                var e = function(e) {
                    return e.isNone()
                },
                t = function(e) {
                    return e()
                },
                n = function(e) {
                    return e
                },
                r = {
                    fold: function(e, t) {
                        return e()
                    },
                    is: k,
                    isSome: k,
                    isNone: E,
                    getOr: n,
                    getOrThunk: t,
                    getOrDie: function(e) {
                        throw new Error(e || "error: getOrDie called on none.")
                    },
                    getOrNull: function() {
                        return null
                    },
                    getOrUndefined: function() {},
                    or: n,
                    orThunk: t,
                    map: T,
                    ap: T,
                    each: function() {},
                    bind: T,
                    flatten: T,
                    exists: k,
                    forall: E,
                    filter: T,
                    equals: e,
                    equals_: e,
                    toArray: function() {
                        return []
                    },
                    toString: x("none()")
                };
                return Object.freeze && Object.freeze(r),
                r
            } (),
            N = function(e) {
                var t = function() {
                    return e
                },
                n = function() {
                    return o
                },
                r = function(t) {
                    return t(e)
                },
                o = {
                    fold: function(t, n) {
                        return n(e)
                    },
                    is: function(t) {
                        return e === t
                    },
                    isSome: E,
                    isNone: k,
                    getOr: t,
                    getOrThunk: t,
                    getOrDie: t,
                    getOrNull: t,
                    getOrUndefined: t,
                    or: n,
                    orThunk: n,
                    map: function(t) {
                        return N(t(e))
                    },
                    ap: function(t) {
                        return t.fold(T,
                        function(t) {
                            return N(t(e))
                        })
                    },
                    each: function(t) {
                        t(e)
                    },
                    bind: r,
                    flatten: t,
                    exists: r,
                    forall: r,
                    filter: function(t) {
                        return t(e) ? o: S
                    },
                    equals: function(t) {
                        return t.is(e)
                    },
                    equals_: function(t, n) {
                        return t.fold(k,
                        function(t) {
                            return n(e, t)
                        })
                    },
                    toArray: function() {
                        return [e]
                    },
                    toString: function() {
                        return "some(" + e + ")"
                    }
                };
                return o
            },
            R = {
                some: N,
                none: T,
                from: function(e) {
                    return null == e ? S: N(e)
                }
            },
            A = function(e) {
                return e ? e.getRoot().uiContainer: null
            },
            O = {
                getUiContainerDelta: function(e) {
                    var t = A(e);
                    if (t && "static" !== c.DOM.getStyle(t, "position", !0)) {
                        var n = c.DOM.getPos(t),
                        r = t.scrollLeft - n.x,
                        o = t.scrollTop - n.y;
                        return R.some({
                            x: r,
                            y: o
                        })
                    }
                    return R.none()
                },
                setUiContainer: function(e, t) {
                    var n = c.DOM.select(e.settings.ui_container)[0];
                    t.getRoot().uiContainer = n
                },
                getUiContainer: A,
                inheritUiContainer: function(e, t) {
                    return t.uiContainer = A(e)
                }
            },
            D = function(e, t, n) {
                var o, i = [];
                if (t) return r.each(t.split(/[ ,]/),
                function(t) {
                    var r, a = function() {
                        var n = e.selection;
                        t.settings.stateSelector && n.selectorChanged(t.settings.stateSelector,
                        function(e) {
                            t.active(e)
                        },
                        !0),
                        t.settings.disabledStateSelector && n.selectorChanged(t.settings.disabledStateSelector,
                        function(e) {
                            t.disabled(e)
                        })
                    };
                    "|" === t ? o = null: (o || (o = {
                        type: "buttongroup",
                        items: []
                    },
                    i.push(o)), e.buttons[t] && (r = t, "function" == typeof(t = e.buttons[r]) && (t = t()), t.type = t.type || "button", t.size = n, t = d.create(t), o.items.push(t), e.initialized ? a() : e.on("init", a)))
                }),
                {
                    type: "toolbar",
                    layout: "flow",
                    items: i
                }
            },
            P = D,
            B = function(e, t) {
                var n = [];
                if (r.each(function(e) {
                    var t = e.getParam("toolbar");
                    return ! 1 === t ? [] : r.isArray(t) ? r.grep(t,
                    function(e) {
                        return e.length > 0
                    }) : function(e, t) {
                        for (var n = [], r = 1; r < 10; r++) {
                            var o = e["toolbar" + r];
                            if (!o) break;
                            n.push(o)
                        }
                        var i = e.toolbar ? [e.toolbar] : [t];
                        return n.length > 0 ? n: i
                    } (e.settings, "undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")
                } (e),
                function(r) {
                    var o; (o = r) && n.push(D(e, o, t))
                }), n.length) return {
                    type: "panel",
                    layout: "stack",
                    classes: "toolbar-grp",
                    ariaRoot: !0,
                    ariaRemember: !0,
                    items: n
                }
            },
            M = c.DOM,
            I = function(e) {
                return {
                    left: e.x,
                    top: e.y,
                    width: e.w,
                    height: e.h,
                    right: e.x + e.w,
                    bottom: e.y + e.h
                }
            },
            L = function(e, t) {
                e.moveTo(t.left, t.top)
            },
            F = function(e, t, n, r, o, i) {
                return i = I({
                    x: t,
                    y: n,
                    w: i.w,
                    h: i.h
                }),
                e && (i = e({
                    elementRect: I(r),
                    contentAreaRect: I(o),
                    panelRect: i
                })),
                i
            },
            W = function(e) {
                var t, n = function() {
                    return e.contextToolbars || []
                },
                o = function(t, n) {
                    var o, i, a, s, l, u, c, d = function(e) {
                        return e.getParam("inline_toolbar_position_handler")
                    } (e);
                    if (!e.removed) if (t && t.toolbar.panel) {
                        var f, m, p, h;
                        c = ["bc-tc", "tc-bc", "tl-bl", "bl-tl", "tr-br", "br-tr"],
                        l = t.toolbar.panel,
                        n && l.show(),
                        f = t.element,
                        m = M.getPos(e.getContentAreaContainer()),
                        p = e.dom.getRect(f),
                        "BODY" === (h = e.dom.getRoot()).nodeName && (p.x -= h.ownerDocument.documentElement.scrollLeft || h.scrollLeft, p.y -= h.ownerDocument.documentElement.scrollTop || h.scrollTop),
                        p.x += m.x,
                        p.y += m.y,
                        a = p,
                        i = M.getRect(l.getEl()),
                        s = M.getRect(e.getContentAreaContainer() || e.getBody());
                        var g = O.getUiContainerDelta(l).getOr({
                            x: 0,
                            y: 0
                        });
                        if (a.x += g.x, a.y += g.y, i.x += g.x, i.y += g.y, s.x += g.x, s.y += g.y, "inline" !== M.getStyle(t.element, "display", !0)) {
                            var v = t.element.getBoundingClientRect();
                            a.w = v.width,
                            a.h = v.height
                        }
                        e.inline || (s.w = e.getDoc().documentElement.offsetWidth),
                        e.selection.controlSelection.isResizable(t.element) && a.w < 25 && (a = b.inflate(a, 0, 8)),
                        o = b.findBestRelativePosition(i, a, s, c),
                        a = b.clamp(a, s),
                        o ? (u = b.relativePosition(i, a, o), L(l, F(d, u.x, u.y, a, s, i))) : (s.h += i.h, (a = b.intersect(s, a)) ? (o = b.findBestRelativePosition(i, a, s, ["bc-tc", "bl-tl", "br-tr"])) ? (u = b.relativePosition(i, a, o), L(l, F(d, u.x, u.y, a, s, i))) : L(l, F(d, a.x, a.y, a, s, i)) : l.hide()),
                        function(e, t, n) {
                            t = t ? t.substr(0, 2) : "",
                            r.each({
                                t: "down",
                                b: "up"
                            },
                            function(r, o) {
                                e.classes.toggle("arrow-" + r, n(o, t.substr(0, 1)))
                            }),
                            r.each({
                                l: "left",
                                r: "right"
                            },
                            function(r, o) {
                                e.classes.toggle("arrow-" + r, n(o, t.substr(1, 1)))
                            })
                        } (l, o,
                        function(e, t) {
                            return e === t
                        })
                    } else !
                    function(e) {
                        r.each(e.contextToolbars,
                        function(e) {
                            e.panel && e.panel.hide()
                        })
                    } (e)
                },
                i = function(t) {
                    return function() {
                        y.requestAnimationFrame(function() {
                            e.selection && o(l(e.selection.getNode()), t)
                        })
                    }
                },
                a = function(n) {
                    var r;
                    if (n.toolbar.panel) return n.toolbar.panel.show(),
                    void o(n);
                    r = d.create({
                        type: "floatpanel",
                        role: "dialog",
                        classes: "tinymce tinymce-inline arrow",
                        ariaLabel: "Inline toolbar",
                        layout: "flex",
                        direction: "column",
                        align: "stretch",
                        autohide: !1,
                        autofix: !0,
                        fixed: !0,
                        border: 1,
                        items: P(e, n.toolbar.items),
                        oncancel: function() {
                            e.focus()
                        }
                    }),
                    O.setUiContainer(e, r),
                    function(n) {
                        if (!t) {
                            var r = i(!0),
                            o = O.getUiContainer(n);
                            t = e.selection.getScrollContainer() || e.getWin(),
                            M.bind(t, "scroll", r),
                            M.bind(o, "scroll", r),
                            e.on("remove",
                            function() {
                                M.unbind(t, "scroll", r),
                                M.unbind(o, "scroll", r)
                            })
                        }
                    } (r),
                    n.toolbar.panel = r,
                    r.renderTo().reflow(),
                    o(n)
                },
                s = function() {
                    r.each(n(),
                    function(e) {
                        e.panel && e.panel.hide()
                    })
                },
                l = function(t) {
                    var r, o, i, a = n();
                    for (r = (i = e.$(t).parents().add(t)).length - 1; r >= 0; r--) for (o = a.length - 1; o >= 0; o--) if (a[o].predicate(i[r])) return {
                        toolbar: a[o],
                        element: i[r]
                    };
                    return null
                };
                e.on("click keyup setContent ObjectResized",
                function(t) { ("setcontent" !== t.type || t.selection) && y.setEditorTimeout(e,
                    function() {
                        var t; (t = l(e.selection.getNode())) ? (s(), a(t)) : s()
                    })
                }),
                e.on("blur hide contextmenu", s),
                e.on("ObjectResizeStart",
                function() {
                    var t = l(e.selection.getNode());
                    t && t.toolbar.panel && t.toolbar.panel.hide()
                }),
                e.on("ResizeEditor ResizeWindow", i(!0)),
                e.on("nodeChange", i(!1)),
                e.on("remove",
                function() {
                    r.each(n(),
                    function(e) {
                        e.panel && e.panel.remove()
                    }),
                    e.contextToolbars = {}
                }),
                e.shortcuts.add("ctrl+F9", "",
                function() {
                    var t = l(e.selection.getNode());
                    t && t.toolbar.panel && t.toolbar.panel.items()[0].focus()
                })
            },
            H = function(e) {
                return function(t) {
                    return function(e) {
                        if (null === e) return "null";
                        var t = typeof e;
                        return "object" === t && Array.prototype.isPrototypeOf(e) ? "array": "object" === t && String.prototype.isPrototypeOf(e) ? "string": t
                    } (t) === e
                }
            },
            j = H("function"),
            U = H("number"),
            z = void 0 === (e = Array.prototype.indexOf) ?
            function(e, t) {
                return G(e, t)
            }: function(t, n) {
                return e.call(t, n)
            },
            V = function(e, t) {
                return X(e, t).isSome()
            },
            $ = function(e, t) {
                for (var n = e.length,
                r = new Array(n), o = 0; o < n; o++) {
                    var i = e[o];
                    r[o] = t(i, o, e)
                }
                return r
            },
            q = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; n++) t(e[n], n, e)
            },
            K = function(e, t) {
                for (var n = [], r = 0, o = e.length; r < o; r++) {
                    var i = e[r];
                    t(i, r, e) && n.push(i)
                }
                return n
            },
            Y = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; n++) {
                    var o = e[n];
                    if (t(o, n, e)) return R.some(o)
                }
                return R.none()
            },
            X = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; n++) if (t(e[n], n, e)) return R.some(n);
                return R.none()
            },
            G = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; ++n) if (e[n] === t) return n;
                return - 1
            },
            J = Array.prototype.push,
            Q = (Array.prototype.slice, j(Array.from) && Array.from, {
                file: {
                    title: "File",
                    items: "newdocument restoredraft | preview | print"
                },
                edit: {
                    title: "Edit",
                    items: "undo redo | cut copy paste pastetext | selectall"
                },
                view: {
                    title: "View",
                    items: "code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"
                },
                insert: {
                    title: "Insert",
                    items: "image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"
                },
                format: {
                    title: "Format",
                    items: "bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"
                },
                tools: {
                    title: "Tools",
                    items: "spellchecker spellcheckerlanguage | a11ycheck code"
                },
                table: {
                    title: "Table"
                },
                help: {
                    title: "Help"
                }
            }),
            Z = function(e, t) {
                return "|" === e ? {
                    name: "|",
                    item: {
                        text: "|"
                    }
                }: t ? {
                    name: e,
                    item: t
                }: null
            },
            ee = function(e) {
                return e && "|" === e.item.text
            },
            te = function(e, t, n, o) {
                var i, a, s, l;
                return t ? (a = t[o], l = !0) : a = Q[o],
                a && (i = {
                    text: a.title
                },
                s = [], r.each((a.items || "").split(/[ ,]/),
                function(t) {
                    var n = Z(t, e[t]);
                    n && s.push(n)
                }), l || r.each(e,
                function(e, t) {
                    e.context !== o ||
                    function(e, t) {
                        return X(e,
                        function(e) {
                            return e.name === t
                        }).isSome()
                    } (s, t) || ("before" === e.separator && s.push({
                        name: "|",
                        item: {
                            text: "|"
                        }
                    }), e.prependToContext ? s.unshift(Z(t, e)) : s.push(Z(t, e)), "after" === e.separator && s.push({
                        name: "|",
                        item: {
                            text: "|"
                        }
                    }))
                }), i.menu = $(function(e, t) {
                    var n = K(e,
                    function(e) {
                        return ! 1 === t.hasOwnProperty(e.name)
                    }),
                    r = K(n,
                    function(e, t, n) {
                        return ! ee(e) || !ee(n[t - 1])
                    });
                    return K(r,
                    function(e, t, n) {
                        return ! ee(e) || t > 0 && t < n.length - 1
                    })
                } (s, n),
                function(e) {
                    return e.item
                }), !i.menu.length) ? null: i
            },
            ne = function(e) {
                for (var t = [], n = function(e) {
                    var t, n = [],
                    r = s(e);
                    if (r) for (t in r) n.push(t);
                    else for (t in Q) n.push(t);
                    return n
                } (e), o = r.makeMap(function(e) {
                    return e.getParam("removed_menuitems", "")
                } (e).split(/[ ,]/)), a = i(e), l = "string" == typeof a ? a.split(/[ ,]/) : n, u = 0; u < l.length; u++) {
                    var c = l[u],
                    d = te(e.menuItems, s(e), o, c);
                    d && t.push(d)
                }
                return t
            },
            re = c.DOM,
            oe = function(e) {
                return {
                    width: e.clientWidth,
                    height: e.clientHeight
                }
            },
            ie = function(e, t, n) {
                var r, o, i, a;
                r = e.getContainer(),
                o = e.getContentAreaContainer().firstChild,
                i = oe(r),
                a = oe(o),
                null !== t && (t = Math.max(function(e) {
                    return e.getParam("min_width", 100, "number")
                } (e), t), t = Math.min(function(e) {
                    return e.getParam("max_width", 65535, "number")
                } (e), t), re.setStyle(r, "width", t + (i.width - a.width)), re.setStyle(o, "width", t)),
                n = Math.max(function(e) {
                    return e.getParam("min_height", 100, "number")
                } (e), n),
                n = Math.min(function(e) {
                    return e.getParam("max_height", 65535, "number")
                } (e), n),
                re.setStyle(o, "height", n),
                p(e)
            },
            ae = ie,
            se = function(e, t, n) {
                var r = e.getContentAreaContainer();
                ie(e, r.clientWidth + t, r.clientHeight + n)
            },
            le = tinymce.util.Tools.resolve("tinymce.Env"),
            ue = function(e, t, n) {
                var r, o = e.settings[n];
                o && o((r = t.getEl("body"), {
                    element: function() {
                        return r
                    }
                }))
            },
            ce = function(e, t, n) {
                return function(o) {
                    var i = o.control,
                    a = i.parents().filter("panel")[0],
                    s = a.find("#" + t)[0],
                    l = function(e, t) {
                        return r.grep(e,
                        function(e) {
                            return e.name === t
                        })[0]
                    } (n, t); !
                    function(e, t, n) {
                        r.each(n,
                        function(n) {
                            var r = t.items().filter("#" + n.name)[0];
                            r && r.visible() && n.name !== e && (ue(n, r, "onhide"), r.visible(!1))
                        })
                    } (t, a, n),
                    i.parent().items().each(function(e) {
                        e.active(!1)
                    }),
                    s && s.visible() ? (ue(l, s, "onhide"), s.hide(), i.active(!1)) : (s ? (s.show(), ue(l, s, "onshow")) : (s = d.create({
                        type: "container",
                        name: t,
                        layout: "stack",
                        classes: "sidebar-panel",
                        html: ""
                    }), a.prepend(s), ue(l, s, "onrender"), ue(l, s, "onshow")), i.active(!0)),
                    p(e)
                }
            },
            de = function(e) {
                return ! (le.ie && !(le.ie >= 11) || !e.sidebars) && e.sidebars.length > 0
            },
            fe = function(e) {
                return {
                    type: "panel",
                    name: "sidebar",
                    layout: "stack",
                    classes: "sidebar",
                    items: [{
                        type: "toolbar",
                        layout: "stack",
                        classes: "sidebar-toolbar",
                        items: r.map(e.sidebars,
                        function(t) {
                            var n = t.settings;
                            return {
                                type: "button",
                                icon: n.icon,
                                image: n.image,
                                tooltip: n.tooltip,
                                onclick: ce(e, t.name, e.sidebars)
                            }
                        })
                    }]
                }
            },
            me = function(e) {
                var t = function() {
                    e._skinLoaded = !0,
                    m(e)
                };
                return function() {
                    e.initialized ? t() : e.on("init", t)
                }
            },
            pe = c.DOM,
            he = function(e) {
                return {
                    type: "panel",
                    name: "iframe",
                    layout: "stack",
                    classes: "edit-area",
                    border: e,
                    html: ""
                }
            },
            ge = function(e) {
                return {
                    type: "panel",
                    layout: "stack",
                    classes: "edit-aria-container",
                    border: "1 0 0 0",
                    items: [he("0"), fe(e)]
                }
            },
            ve = function(e, t, n) {
                var r, i, s;
                if (!1 === l(e) && n.skinUiCss ? pe.styleSheetLoader.load(n.skinUiCss, me(e)) : me(e)(), r = t.panel = d.create({
                    type: "panel",
                    role: "application",
                    classes: "tinymce",
                    style: "visibility: hidden",
                    layout: "stack",
                    border: 1,
                    items: [{
                        type: "container",
                        classes: "top-part",
                        items: [!1 === o(e) ? null: {
                            type: "menubar",
                            border: "0 0 1 0",
                            items: ne(e)
                        },
                        B(e, a(e))]
                    },
                    de(e) ? ge(e) : he("1 0 0 0")]
                }), O.setUiContainer(e, r), "none" !== u(e) && (i = {
                    type: "resizehandle",
                    direction: u(e),
                    onResizeStart: function() {
                        var t = e.getContentAreaContainer().firstChild;
                        s = {
                            width: t.clientWidth,
                            height: t.clientHeight
                        }
                    },
                    onResize: function(t) {
                        "both" === u(e) ? ae(e, s.width + t.deltaX, s.height + t.deltaY) : ae(e, null, s.height + t.deltaY)
                    }
                }),
                function(e) {
                    return e.getParam("statusbar", !0, "boolean")
                } (e)) {
                    var c = f.translate(["Powered by {0}", '<a href="https://www.tinymce.com/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>']),
                    m = function(e) {
                        return e.getParam("branding", !0, "boolean")
                    } (e) ? {
                        type: "label",
                        classes: "branding",
                        html: " " + c
                    }: null;
                    r.add({
                        type: "panel",
                        name: "statusbar",
                        classes: "statusbar",
                        layout: "flow",
                        border: "1 0 0 0",
                        ariaRoot: !0,
                        items: [{
                            type: "elementpath",
                            editor: e
                        },
                        i, m]
                    })
                }
                return h(e),
                e.on("SwitchMode",
                function(e) {
                    return function(t) {
                        e.find("*").disabled("readonly" === t.mode)
                    }
                } (r)),
                r.renderBefore(n.targetNode).reflow(),
                function(e) {
                    return e.getParam("readonly", !1, "boolean")
                } (e) && e.setMode("readonly"),
                n.width && pe.setStyle(r.getEl(), "width", n.width),
                e.on("remove",
                function() {
                    r.remove(),
                    r = null
                }),
                v(e, r),
                W(e),
                {
                    iframeContainer: r.find("#iframe")[0].getEl(),
                    editorContainer: r.getEl()
                }
            },
            be = tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),
            ye = 0,
            we = {
                id: function() {
                    return "mceu_" + ye++
                },
                create: function(e, t, n) {
                    var o = document.createElement(e);
                    return c.DOM.setAttribs(o, t),
                    "string" == typeof n ? o.innerHTML = n: r.each(n,
                    function(e) {
                        e.nodeType && o.appendChild(e)
                    }),
                    o
                },
                createFragment: function(e) {
                    return c.DOM.createFragment(e)
                },
                getWindowSize: function() {
                    return c.DOM.getViewPort()
                },
                getSize: function(e) {
                    var t, n;
                    if (e.getBoundingClientRect) {
                        var r = e.getBoundingClientRect();
                        t = Math.max(r.width || r.right - r.left, e.offsetWidth),
                        n = Math.max(r.height || r.bottom - r.bottom, e.offsetHeight)
                    } else t = e.offsetWidth,
                    n = e.offsetHeight;
                    return {
                        width: t,
                        height: n
                    }
                },
                getPos: function(e, t) {
                    return c.DOM.getPos(e, t || we.getContainer())
                },
                getContainer: function() {
                    return le.container ? le.container: document.body
                },
                getViewPort: function(e) {
                    return c.DOM.getViewPort(e)
                },
                get: function(e) {
                    return document.getElementById(e)
                },
                addClass: function(e, t) {
                    return c.DOM.addClass(e, t)
                },
                removeClass: function(e, t) {
                    return c.DOM.removeClass(e, t)
                },
                hasClass: function(e, t) {
                    return c.DOM.hasClass(e, t)
                },
                toggleClass: function(e, t, n) {
                    return c.DOM.toggleClass(e, t, n)
                },
                css: function(e, t, n) {
                    return c.DOM.setStyle(e, t, n)
                },
                getRuntimeStyle: function(e, t) {
                    return c.DOM.getStyle(e, t, !0)
                },
                on: function(e, t, n, r) {
                    return c.DOM.bind(e, t, n, r)
                },
                off: function(e, t, n) {
                    return c.DOM.unbind(e, t, n)
                },
                fire: function(e, t, n) {
                    return c.DOM.fire(e, t, n)
                },
                innerHtml: function(e, t) {
                    c.DOM.setHTML(e, t)
                }
            },
            xe = function(e) {
                return "static" === we.getRuntimeStyle(e, "position")
            },
            Ce = function(e) {
                return e.state.get("fixed")
            };
            function _e(e, t, n) {
                var r, o, i, a, s, l, u, c, d, f;
                return d = ke(),
                i = (o = we.getPos(t, O.getUiContainer(e))).x,
                a = o.y,
                Ce(e) && xe(document.body) && (i -= d.x, a -= d.y),
                r = e.getEl(),
                s = (f = we.getSize(r)).width,
                l = f.height,
                u = (f = we.getSize(t)).width,
                c = f.height,
                "b" === (n = (n || "").split(""))[0] && (a += c),
                "r" === n[1] && (i += u),
                "c" === n[0] && (a += Math.round(c / 2)),
                "c" === n[1] && (i += Math.round(u / 2)),
                "b" === n[3] && (a -= l),
                "r" === n[4] && (i -= s),
                "c" === n[3] && (a -= Math.round(l / 2)),
                "c" === n[4] && (i -= Math.round(s / 2)),
                {
                    x: i,
                    y: a,
                    w: s,
                    h: l
                }
            }
            var ke = function() {
                var e = window,
                t = Math.max(e.pageXOffset, document.body.scrollLeft, document.documentElement.scrollLeft),
                n = Math.max(e.pageYOffset, document.body.scrollTop, document.documentElement.scrollTop);
                return {
                    x: t,
                    y: n,
                    w: t + (e.innerWidth || document.documentElement.clientWidth),
                    h: n + (e.innerHeight || document.documentElement.clientHeight)
                }
            },
            Ee = function(e) {
                var t = O.getUiContainer(e);
                return t && !Ce(e) ?
                function(e) {
                    return {
                        x: 0,
                        y: 0,
                        w: e.scrollWidth - 1,
                        h: e.scrollHeight - 1
                    }
                } (t) : ke()
            },
            Te = {
                testMoveRel: function(e, t) {
                    for (var n = Ee(this), r = 0; r < t.length; r++) {
                        var o = _e(this, e, t[r]);
                        if (Ce(this)) {
                            if (o.x > 0 && o.x + o.w < n.w && o.y > 0 && o.y + o.h < n.h) return t[r]
                        } else if (o.x > n.x && o.x + o.w < n.w && o.y > n.y && o.y + o.h < n.h) return t[r]
                    }
                    return t[0]
                },
                moveRel: function(e, t) {
                    "string" != typeof t && (t = this.testMoveRel(e, t));
                    var n = _e(this, e, t);
                    return this.moveTo(n.x, n.y)
                },
                moveBy: function(e, t) {
                    var n = this.layoutRect();
                    return this.moveTo(n.x + e, n.y + t),
                    this
                },
                moveTo: function(e, t) {
                    function n(e, t, n) {
                        return e < 0 ? 0 : e + n > t && (e = t - n) < 0 ? 0 : e
                    }
                    if (this.settings.constrainToViewport) {
                        var r = Ee(this),
                        o = this.layoutRect();
                        e = n(e, r.w, o.w),
                        t = n(t, r.h, o.h)
                    }
                    var i = O.getUiContainer(this);
                    return i && xe(i) && !Ce(this) && (e -= i.scrollLeft, t -= i.scrollTop),
                    i && (e += 1, t += 1),
                    this.state.get("rendered") ? this.layoutRect({
                        x: e,
                        y: t
                    }).repaint() : (this.settings.x = e, this.settings.y = t),
                    this.fire("move", {
                        x: e,
                        y: t
                    }),
                    this
                }
            },
            Se = tinymce.util.Tools.resolve("tinymce.util.Class"),
            Ne = tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),
            Re = function(e) {
                var t;
                if (e) return "number" == typeof e ? {
                    top: e = e || 0,
                    left: e,
                    bottom: e,
                    right: e
                }: (1 === (t = (e = e.split(" ")).length) ? e[1] = e[2] = e[3] = e[0] : 2 === t ? (e[2] = e[0], e[3] = e[1]) : 3 === t && (e[3] = e[1]), {
                    top: parseInt(e[0], 10) || 0,
                    right: parseInt(e[1], 10) || 0,
                    bottom: parseInt(e[2], 10) || 0,
                    left: parseInt(e[3], 10) || 0
                })
            },
            Ae = function(e, t) {
                function n(t) {
                    var n = parseFloat(function(t) {
                        var n = e.ownerDocument.defaultView;
                        if (n) {
                            var r = n.getComputedStyle(e, null);
                            return r ? (t = t.replace(/[A-Z]/g,
                            function(e) {
                                return "-" + e
                            }), r.getPropertyValue(t)) : null
                        }
                        return e.currentStyle[t]
                    } (t));
                    return isNaN(n) ? 0 : n
                }
                return {
                    top: n(t + "TopWidth"),
                    right: n(t + "RightWidth"),
                    bottom: n(t + "BottomWidth"),
                    left: n(t + "LeftWidth")
                }
            };
            function Oe() {}
            function De(e) {
                this.cls = [],
                this.cls._map = {},
                this.onchange = e || Oe,
                this.prefix = ""
            }
            r.extend(De.prototype, {
                add: function(e) {
                    return e && !this.contains(e) && (this.cls._map[e] = !0, this.cls.push(e), this._change()),
                    this
                },
                remove: function(e) {
                    if (this.contains(e)) {
                        var t = void 0;
                        for (t = 0; t < this.cls.length && this.cls[t] !== e; t++);
                        this.cls.splice(t, 1),
                        delete this.cls._map[e],
                        this._change()
                    }
                    return this
                },
                toggle: function(e, t) {
                    var n = this.contains(e);
                    return n !== t && (n ? this.remove(e) : this.add(e), this._change()),
                    this
                },
                contains: function(e) {
                    return !! this.cls._map[e]
                },
                _change: function() {
                    delete this.clsValue,
                    this.onchange.call(this)
                }
            }),
            De.prototype.toString = function() {
                var e;
                if (this.clsValue) return this.clsValue;
                e = "";
                for (var t = 0; t < this.cls.length; t++) t > 0 && (e += " "),
                e += this.prefix + this.cls[t];
                return e
            };
            var Pe, Be, Me, Ie = /^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,
            Le = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
            Fe = /^\s*|\s*$/g,
            We = Se.extend({
                init: function(e) {
                    var t = this.match;
                    function n(e, n, o) {
                        var i;
                        function a(e) {
                            e && n.push(e)
                        }
                        return a(function(e) {
                            if (e) return e = e.toLowerCase(),
                            function(t) {
                                return "*" === e || t.type === e
                            }
                        } ((i = Ie.exec(e.replace(Fe, "")))[1])),
                        a(function(e) {
                            if (e) return function(t) {
                                return t._name === e
                            }
                        } (i[2])),
                        a(function(e) {
                            if (e) return e = e.split("."),
                            function(t) {
                                for (var n = e.length; n--;) if (!t.classes.contains(e[n])) return ! 1;
                                return ! 0
                            }
                        } (i[3])),
                        a(function(e, t, n) {
                            if (e) return function(r) {
                                var o = r[e] ? r[e]() : "";
                                return t ? "=" === t ? o === n: "*=" === t ? o.indexOf(n) >= 0 : "~=" === t ? (" " + o + " ").indexOf(" " + n + " ") >= 0 : "!=" === t ? o !== n: "^=" === t ? 0 === o.indexOf(n) : "$=" === t && o.substr(o.length - n.length) === n: !!n
                            }
                        } (i[4], i[5], i[6])),
                        a(function(e) {
                            var n;
                            if (e) return (e = /(?:not\((.+)\))|(.+)/i.exec(e))[1] ? (n = r(e[1], []),
                            function(e) {
                                return ! t(e, n)
                            }) : (e = e[2],
                            function(t, n, r) {
                                return "first" === e ? 0 === n: "last" === e ? n === r - 1 : "even" === e ? n % 2 == 0 : "odd" === e ? n % 2 == 1 : !!t[e] && t[e]()
                            })
                        } (i[7])),
                        n.pseudo = !!i[7],
                        n.direct = o,
                        n
                    }
                    function r(e, t) {
                        var o, i, a, s = [];
                        do {
                            if (Le.exec(""), (i = Le.exec(e)) && (e = i[3], s.push(i[1]), i[2])) {
                                o = i[3];
                                break
                            }
                        } while ( i );
                        for (o && r(o, t), e = [], a = 0; a < s.length; a++)">" !== s[a] && e.push(n(s[a], [], ">" === s[a - 1]));
                        return t.push(e),
                        t
                    }
                    this._selectors = r(e, [])
                },
                match: function(e, t) {
                    var n, r, o, i, a, s, l, u, c, d, f, m, p;
                    for (n = 0, r = (t = t || this._selectors).length; n < r; n++) {
                        for (p = e, m = 0, o = (i = (a = t[n]).length) - 1; o >= 0; o--) for (u = a[o]; p;) {
                            if (u.pseudo) for (c = d = (f = p.parent().items()).length; c--&&f[c] !== p;);
                            for (s = 0, l = u.length; s < l; s++) if (!u[s](p, c, d)) {
                                s = l + 1;
                                break
                            }
                            if (s === l) {
                                m++;
                                break
                            }
                            if (o === i - 1) break;
                            p = p.parent()
                        }
                        if (m === i) return ! 0
                    }
                    return ! 1
                },
                find: function(e) {
                    var t, n, r = [],
                    o = this._selectors;
                    function i(e, t, n) {
                        var o, a, s, l, u, c = t[n];
                        for (o = 0, a = e.length; o < a; o++) {
                            for (u = e[o], s = 0, l = c.length; s < l; s++) if (!c[s](u, o, a)) {
                                s = l + 1;
                                break
                            }
                            if (s === l) n === t.length - 1 ? r.push(u) : u.items && i(u.items(), t, n + 1);
                            else if (c.direct) return;
                            u.items && i(u.items(), t, n)
                        }
                    }
                    if (e.items) {
                        for (t = 0, n = o.length; t < n; t++) i(e.items(), o[t], 0);
                        n > 1 && (r = function(e) {
                            for (var t, n = [], r = e.length; r--;)(t = e[r]).__checked || (n.push(t), t.__checked = 1);
                            for (r = n.length; r--;) delete n[r].__checked;
                            return n
                        } (r))
                    }
                    return Pe || (Pe = We.Collection),
                    new Pe(r)
                }
            }),
            He = Array.prototype.push,
            je = Array.prototype.slice;
            Me = {
                length: 0,
                init: function(e) {
                    e && this.add(e)
                },
                add: function(e) {
                    return r.isArray(e) ? He.apply(this, e) : e instanceof Be ? this.add(e.toArray()) : He.call(this, e),
                    this
                },
                set: function(e) {
                    var t, n = this.length;
                    for (this.length = 0, this.add(e), t = this.length; t < n; t++) delete this[t];
                    return this
                },
                filter: function(e) {
                    var t, n, r, o, i = [];
                    for ("string" == typeof e ? (e = new We(e), o = function(t) {
                        return e.match(t)
                    }) : o = e, t = 0, n = this.length; t < n; t++) o(r = this[t]) && i.push(r);
                    return new Be(i)
                },
                slice: function() {
                    return new Be(je.apply(this, arguments))
                },
                eq: function(e) {
                    return - 1 === e ? this.slice(e) : this.slice(e, +e + 1)
                },
                each: function(e) {
                    return r.each(this, e),
                    this
                },
                toArray: function() {
                    return r.toArray(this)
                },
                indexOf: function(e) {
                    for (var t = this.length; t--&&this[t] !== e;);
                    return t
                },
                reverse: function() {
                    return new Be(r.toArray(this).reverse())
                },
                hasClass: function(e) {
                    return !! this[0] && this[0].classes.contains(e)
                },
                prop: function(e, t) {
                    var n;
                    return void 0 !== t ? (this.each(function(n) {
                        n[e] && n[e](t)
                    }), this) : (n = this[0]) && n[e] ? n[e]() : void 0
                },
                exec: function(e) {
                    var t = r.toArray(arguments).slice(1);
                    return this.each(function(n) {
                        n[e] && n[e].apply(n, t)
                    }),
                    this
                },
                remove: function() {
                    for (var e = this.length; e--;) this[e].remove();
                    return this
                },
                addClass: function(e) {
                    return this.each(function(t) {
                        t.classes.add(e)
                    })
                },
                removeClass: function(e) {
                    return this.each(function(t) {
                        t.classes.remove(e)
                    })
                }
            },
            r.each("fire on off show hide append prepend before after reflow".split(" "),
            function(e) {
                Me[e] = function() {
                    var t = r.toArray(arguments);
                    return this.each(function(n) {
                        e in n && n[e].apply(n, t)
                    }),
                    this
                }
            }),
            r.each("text name disabled active selected checked visible parent value data".split(" "),
            function(e) {
                Me[e] = function(t) {
                    return this.prop(e, t)
                }
            }),
            Be = Se.extend(Me),
            We.Collection = Be;
            var Ue = Be,
            ze = function(e) {
                this.create = e.create
            };
            ze.create = function(e, t) {
                return new ze({
                    create: function(n, r) {
                        var o, i = function(e) {
                            n.set(r, e.value)
                        };
                        return n.on("change:" + r,
                        function(n) {
                            e.set(t, n.value)
                        }),
                        e.on("change:" + t, i),
                        (o = n._bindings) || (o = n._bindings = [], n.on("destroy",
                        function() {
                            for (var e = o.length; e--;) o[e]()
                        })),
                        o.push(function() {
                            e.off("change:" + t, i)
                        }),
                        e.get(t)
                    }
                })
            };
            var Ve = tinymce.util.Tools.resolve("tinymce.util.Observable");
            function $e(e) {
                return e.nodeType > 0
            }
            var qe, Ke, Ye = Se.extend({
                Mixins: [Ve],
                init: function(e) {
                    var t, n;
                    for (t in e = e || {})(n = e[t]) instanceof ze && (e[t] = n.create(this, t));
                    this.data = e
                },
                set: function(e, t) {
                    var n, o, i = this.data[e];
                    if (t instanceof ze && (t = t.create(this, e)), "object" == typeof e) {
                        for (n in e) this.set(n, e[n]);
                        return this
                    }
                    return function e(t, n) {
                        var o, i;
                        if (t === n) return ! 0;
                        if (null === t || null === n) return t === n;
                        if ("object" != typeof t || "object" != typeof n) return t === n;
                        if (r.isArray(n)) {
                            if (t.length !== n.length) return ! 1;
                            for (o = t.length; o--;) if (!e(t[o], n[o])) return ! 1
                        }
                        if ($e(t) || $e(n)) return t === n;
                        for (o in i = {},
                        n) {
                            if (!e(t[o], n[o])) return ! 1;
                            i[o] = !0
                        }
                        for (o in t) if (!i[o] && !e(t[o], n[o])) return ! 1;
                        return ! 0
                    } (i, t) || (this.data[e] = t, o = {
                        target: this,
                        name: e,
                        value: t,
                        oldValue: i
                    },
                    this.fire("change:" + e, o), this.fire("change", o)),
                    this
                },
                get: function(e) {
                    return this.data[e]
                },
                has: function(e) {
                    return e in this.data
                },
                bind: function(e) {
                    return ze.create(this, e)
                },
                destroy: function() {
                    this.fire("destroy")
                }
            }),
            Xe = {},
            Ge = {
                add: function(e) {
                    var t = e.parent();
                    if (t) {
                        if (!t._layout || t._layout.isNative()) return;
                        Xe[t._id] || (Xe[t._id] = t),
                        qe || (qe = !0, y.requestAnimationFrame(function() {
                            var e, t;
                            for (e in qe = !1, Xe)(t = Xe[e]).state.get("rendered") && t.reflow();
                            Xe = {}
                        },
                        document.body))
                    }
                },
                remove: function(e) {
                    Xe[e._id] && delete Xe[e._id]
                }
            },
            Je = "onmousewheel" in document,
            Qe = !1,
            Ze = 0,
            et = {
                Statics: {
                    classPrefix: "mce-"
                },
                isRtl: function() {
                    return Ke.rtl
                },
                classPrefix: "mce-",
                init: function(e) {
                    var t, n, o = this;
                    function i(e) {
                        var t;
                        for (e = e.split(" "), t = 0; t < e.length; t++) o.classes.add(e[t])
                    }
                    o.settings = e = r.extend({},
                    o.Defaults, e),
                    o._id = e.id || "mceu_" + Ze++,
                    o._aria = {
                        role: e.role
                    },
                    o._elmCache = {},
                    o.$ = be,
                    o.state = new Ye({
                        visible: !0,
                        active: !1,
                        disabled: !1,
                        value: ""
                    }),
                    o.data = new Ye(e.data),
                    o.classes = new De(function() {
                        o.state.get("rendered") && (o.getEl().className = this.toString())
                    }),
                    o.classes.prefix = o.classPrefix,
                    (t = e.classes) && (o.Defaults && (n = o.Defaults.classes) && t !== n && i(n), i(t)),
                    r.each("title text name visible disabled active value".split(" "),
                    function(t) {
                        t in e && o[t](e[t])
                    }),
                    o.on("click",
                    function() {
                        if (o.disabled()) return ! 1
                    }),
                    o.settings = e,
                    o.borderBox = Re(e.border),
                    o.paddingBox = Re(e.padding),
                    o.marginBox = Re(e.margin),
                    e.hidden && o.hide()
                },
                Properties: "parent,name",
                getContainerElm: function() {
                    var e = O.getUiContainer(this);
                    return e || we.getContainer()
                },
                getParentCtrl: function(e) {
                    for (var t, n = this.getRoot().controlIdLookup; e && n && !(t = n[e.id]);) e = e.parentNode;
                    return t
                },
                initLayoutRect: function() {
                    var e, t, n, r, o, i, a, s, l, u, c = this.settings,
                    d = this.getEl();
                    e = this.borderBox = this.borderBox || Ae(d, "border"),
                    this.paddingBox = this.paddingBox || Ae(d, "padding"),
                    this.marginBox = this.marginBox || Ae(d, "margin"),
                    u = we.getSize(d),
                    s = c.minWidth,
                    l = c.minHeight,
                    o = s || u.width,
                    i = l || u.height,
                    n = c.width,
                    r = c.height,
                    a = void 0 !== (a = c.autoResize) ? a: !n && !r,
                    n = n || o,
                    r = r || i;
                    var f = e.left + e.right,
                    m = e.top + e.bottom,
                    p = c.maxWidth || 65535,
                    h = c.maxHeight || 65535;
                    return this._layoutRect = t = {
                        x: c.x || 0,
                        y: c.y || 0,
                        w: n,
                        h: r,
                        deltaW: f,
                        deltaH: m,
                        contentW: n - f,
                        contentH: r - m,
                        innerW: n - f,
                        innerH: r - m,
                        startMinWidth: s || 0,
                        startMinHeight: l || 0,
                        minW: Math.min(o, p),
                        minH: Math.min(i, h),
                        maxW: p,
                        maxH: h,
                        autoResize: a,
                        scrollW: 0
                    },
                    this._lastLayoutRect = {},
                    t
                },
                layoutRect: function(e) {
                    var t, n, r, o, i, a = this._layoutRect;
                    return a || (a = this.initLayoutRect()),
                    e ? (r = a.deltaW, o = a.deltaH, void 0 !== e.x && (a.x = e.x), void 0 !== e.y && (a.y = e.y), void 0 !== e.minW && (a.minW = e.minW), void 0 !== e.minH && (a.minH = e.minH), void 0 !== (n = e.w) && (n = (n = n < a.minW ? a.minW: n) > a.maxW ? a.maxW: n, a.w = n, a.innerW = n - r), void 0 !== (n = e.h) && (n = (n = n < a.minH ? a.minH: n) > a.maxH ? a.maxH: n, a.h = n, a.innerH = n - o), void 0 !== (n = e.innerW) && (n = (n = n < a.minW - r ? a.minW - r: n) > a.maxW - r ? a.maxW - r: n, a.innerW = n, a.w = n + r), void 0 !== (n = e.innerH) && (n = (n = n < a.minH - o ? a.minH - o: n) > a.maxH - o ? a.maxH - o: n, a.innerH = n, a.h = n + o), void 0 !== e.contentW && (a.contentW = e.contentW), void 0 !== e.contentH && (a.contentH = e.contentH), (t = this._lastLayoutRect).x === a.x && t.y === a.y && t.w === a.w && t.h === a.h || ((i = Ke.repaintControls) && i.map && !i.map[this._id] && (i.push(this), i.map[this._id] = !0), t.x = a.x, t.y = a.y, t.w = a.w, t.h = a.h), this) : a
                },
                repaint: function() {
                    var e, t, n, r, o, i, a, s, l, u;
                    l = document.createRange ?
                    function(e) {
                        return e
                    }: Math.round,
                    e = this.getEl().style,
                    r = this._layoutRect,
                    s = this._lastRepaintRect || {},
                    i = (o = this.borderBox).left + o.right,
                    a = o.top + o.bottom,
                    r.x !== s.x && (e.left = l(r.x) + "px", s.x = r.x),
                    r.y !== s.y && (e.top = l(r.y) + "px", s.y = r.y),
                    r.w !== s.w && (u = l(r.w - i), e.width = (u >= 0 ? u: 0) + "px", s.w = r.w),
                    r.h !== s.h && (u = l(r.h - a), e.height = (u >= 0 ? u: 0) + "px", s.h = r.h),
                    this._hasBody && r.innerW !== s.innerW && (u = l(r.innerW), (n = this.getEl("body")) && ((t = n.style).width = (u >= 0 ? u: 0) + "px"), s.innerW = r.innerW),
                    this._hasBody && r.innerH !== s.innerH && (u = l(r.innerH), (n = n || this.getEl("body")) && ((t = t || n.style).height = (u >= 0 ? u: 0) + "px"), s.innerH = r.innerH),
                    this._lastRepaintRect = s,
                    this.fire("repaint", {},
                    !1)
                },
                updateLayoutRect: function() {
                    this.parent()._lastRect = null,
                    we.css(this.getEl(), {
                        width: "",
                        height: ""
                    }),
                    this._layoutRect = this._lastRepaintRect = this._lastLayoutRect = null,
                    this.initLayoutRect()
                },
                on: function(e, t) {
                    var n = this;
                    return tt(n).on(e,
                    function(e) {
                        var t, r;
                        return "string" != typeof e ? e: function(o) {
                            return t || n.parentsAndSelf().each(function(n) {
                                var o = n.settings.callbacks;
                                if (o && (t = o[e])) return r = n,
                                !1
                            }),
                            t ? t.call(r, o) : (o.action = e, void this.fire("execute", o))
                        }
                    } (t)),
                    n
                },
                off: function(e, t) {
                    return tt(this).off(e, t),
                    this
                },
                fire: function(e, t, n) {
                    if ((t = t || {}).control || (t.control = this), t = tt(this).fire(e, t), !1 !== n && this.parent) for (var r = this.parent(); r && !t.isPropagationStopped();) r.fire(e, t, !1),
                    r = r.parent();
                    return t
                },
                hasEventListeners: function(e) {
                    return tt(this).has(e)
                },
                parents: function(e) {
                    var t, n = new Ue;
                    for (t = this.parent(); t; t = t.parent()) n.add(t);
                    return e && (n = n.filter(e)),
                    n
                },
                parentsAndSelf: function(e) {
                    return new Ue(this).add(this.parents(e))
                },
                next: function() {
                    var e = this.parent().items();
                    return e[e.indexOf(this) + 1]
                },
                prev: function() {
                    var e = this.parent().items();
                    return e[e.indexOf(this) - 1]
                },
                innerHtml: function(e) {
                    return this.$el.html(e),
                    this
                },
                getEl: function(e) {
                    var t = e ? this._id + "-" + e: this._id;
                    return this._elmCache[t] || (this._elmCache[t] = be("#" + t)[0]),
                    this._elmCache[t]
                },
                show: function() {
                    return this.visible(!0)
                },
                hide: function() {
                    return this.visible(!1)
                },
                focus: function() {
                    try {
                        this.getEl().focus()
                    } catch(e) {}
                    return this
                },
                blur: function() {
                    return this.getEl().blur(),
                    this
                },
                aria: function(e, t) {
                    var n = this.getEl(this.ariaTarget);
                    return void 0 === t ? this._aria[e] : (this._aria[e] = t, this.state.get("rendered") && n.setAttribute("role" === e ? e: "aria-" + e, t), this)
                },
                encode: function(e, t) {
                    return ! 1 !== t && (e = this.translate(e)),
                    (e || "").replace(/[&<>"]/g,
                    function(e) {
                        return "&#" + e.charCodeAt(0) + ";"
                    })
                },
                translate: function(e) {
                    return Ke.translate ? Ke.translate(e) : e
                },
                before: function(e) {
                    var t = this.parent();
                    return t && t.insert(e, t.items().indexOf(this), !0),
                    this
                },
                after: function(e) {
                    var t = this.parent();
                    return t && t.insert(e, t.items().indexOf(this)),
                    this
                },
                remove: function() {
                    var e, t, n = this,
                    r = n.getEl(),
                    o = n.parent();
                    if (n.items) {
                        var i = n.items().toArray();
                        for (t = i.length; t--;) i[t].remove()
                    }
                    o && o.items && (e = [], o.items().each(function(t) {
                        t !== n && e.push(t)
                    }), o.items().set(e), o._lastRect = null),
                    n._eventsRoot && n._eventsRoot === n && be(r).off();
                    var a = n.getRoot().controlIdLookup;
                    return a && delete a[n._id],
                    r && r.parentNode && r.parentNode.removeChild(r),
                    n.state.set("rendered", !1),
                    n.state.destroy(),
                    n.fire("remove"),
                    n
                },
                renderBefore: function(e) {
                    return be(e).before(this.renderHtml()),
                    this.postRender(),
                    this
                },
                renderTo: function(e) {
                    return be(e || this.getContainerElm()).append(this.renderHtml()),
                    this.postRender(),
                    this
                },
                preRender: function() {},
                render: function() {},
                renderHtml: function() {
                    return '<div id="' + this._id + '" class="' + this.classes + '"></div>'
                },
                postRender: function() {
                    var e, t, n, r, o, i = this,
                    a = i.settings;
                    for (r in i.$el = be(i.getEl()), i.state.set("rendered", !0), a) 0 === r.indexOf("on") && i.on(r.substr(2), a[r]);
                    if (i._eventsRoot) {
                        for (n = i.parent(); ! o && n; n = n.parent()) o = n._eventsRoot;
                        if (o) for (r in o._nativeEvents) i._nativeEvents[r] = !0
                    }
                    nt(i),
                    a.style && (e = i.getEl()) && (e.setAttribute("style", a.style), e.style.cssText = a.style),
                    i.settings.border && (t = i.borderBox, i.$el.css({
                        "border-top-width": t.top,
                        "border-right-width": t.right,
                        "border-bottom-width": t.bottom,
                        "border-left-width": t.left
                    }));
                    var s = i.getRoot();
                    for (var l in s.controlIdLookup || (s.controlIdLookup = {}), s.controlIdLookup[i._id] = i, i._aria) i.aria(l, i._aria[l]); ! 1 === i.state.get("visible") && (i.getEl().style.display = "none"),
                    i.bindStates(),
                    i.state.on("change:visible",
                    function(e) {
                        var t, n = e.value;
                        i.state.get("rendered") && (i.getEl().style.display = !1 === n ? "none": "", i.getEl().getBoundingClientRect()),
                        (t = i.parent()) && (t._lastRect = null),
                        i.fire(n ? "show": "hide"),
                        Ge.add(i)
                    }),
                    i.fire("postrender", {},
                    !1)
                },
                bindStates: function() {},
                scrollIntoView: function(e) {
                    var t, n, r, o, i, a, s = this.getEl(),
                    l = s.parentNode,
                    u = function(e, t) {
                        var n, r, o = e;
                        for (n = r = 0; o && o !== t && o.nodeType;) n += o.offsetLeft || 0,
                        r += o.offsetTop || 0,
                        o = o.offsetParent;
                        return {
                            x: n,
                            y: r
                        }
                    } (s, l);
                    return t = u.x,
                    n = u.y,
                    r = s.offsetWidth,
                    o = s.offsetHeight,
                    i = l.clientWidth,
                    a = l.clientHeight,
                    "end" === e ? (t -= i - r, n -= a - o) : "center" === e && (t -= i / 2 - r / 2, n -= a / 2 - o / 2),
                    l.scrollLeft = t,
                    l.scrollTop = n,
                    this
                },
                getRoot: function() {
                    for (var e, t = this,
                    n = []; t;) {
                        if (t.rootControl) {
                            e = t.rootControl;
                            break
                        }
                        n.push(t),
                        e = t,
                        t = t.parent()
                    }
                    e || (e = this);
                    for (var r = n.length; r--;) n[r].rootControl = e;
                    return e
                },
                reflow: function() {
                    Ge.remove(this);
                    var e = this.parent();
                    return e && e._layout && !e._layout.isNative() && e.reflow(),
                    this
                }
            };
            function tt(e) {
                return e._eventDispatcher || (e._eventDispatcher = new Ne({
                    scope: e,
                    toggleEvent: function(t, n) {
                        n && Ne.isNative(t) && (e._nativeEvents || (e._nativeEvents = {}), e._nativeEvents[t] = !0, e.state.get("rendered") && nt(e))
                    }
                })),
                e._eventDispatcher
            }
            function nt(e) {
                var t, n, r, o, i, a;
                function s(t) {
                    var n = e.getParentCtrl(t.target);
                    n && n.fire(t.type, t)
                }
                function l() {
                    var e = o._lastHoverCtrl;
                    e && (e.fire("mouseleave", {
                        target: e.getEl()
                    }), e.parents().each(function(e) {
                        e.fire("mouseleave", {
                            target: e.getEl()
                        })
                    }), o._lastHoverCtrl = null)
                }
                function u(t) {
                    var n, r, i, a = e.getParentCtrl(t.target),
                    s = o._lastHoverCtrl,
                    l = 0;
                    if (a !== s) {
                        if (o._lastHoverCtrl = a, (r = a.parents().toArray().reverse()).push(a), s) {
                            for ((i = s.parents().toArray().reverse()).push(s), l = 0; l < i.length && r[l] === i[l]; l++);
                            for (n = i.length - 1; n >= l; n--)(s = i[n]).fire("mouseleave", {
                                target: s.getEl()
                            })
                        }
                        for (n = l; n < r.length; n++)(a = r[n]).fire("mouseenter", {
                            target: a.getEl()
                        })
                    }
                }
                function c(t) {
                    t.preventDefault(),
                    "mousewheel" === t.type ? (t.deltaY = -.025 * t.wheelDelta, t.wheelDeltaX && (t.deltaX = -.025 * t.wheelDeltaX)) : (t.deltaX = 0, t.deltaY = t.detail),
                    t = e.fire("wheel", t)
                }
                if (i = e._nativeEvents) {
                    for ((r = e.parents().toArray()).unshift(e), t = 0, n = r.length; ! o && t < n; t++) o = r[t]._eventsRoot;
                    for (o || (o = r[r.length - 1] || e), e._eventsRoot = o, n = t, t = 0; t < n; t++) r[t]._eventsRoot = o;
                    var d = o._delegates;
                    for (a in d || (d = o._delegates = {}), i) {
                        if (!i) return ! 1;
                        "wheel" !== a || Qe ? ("mouseenter" === a || "mouseleave" === a ? o._hasMouseEnter || (be(o.getEl()).on("mouseleave", l).on("mouseover", u), o._hasMouseEnter = 1) : d[a] || (be(o.getEl()).on(a, s), d[a] = !0), i[a] = !1) : Je ? be(e.getEl()).on("mousewheel", c) : be(e.getEl()).on("DOMMouseScroll", c)
                    }
                }
            }
            r.each("text title visible disabled active value".split(" "),
            function(e) {
                et[e] = function(t) {
                    return 0 === arguments.length ? this.state.get(e) : (void 0 !== t && this.state.set(e, t), this)
                }
            });
            var rt = Ke = Se.extend(et),
            ot = function(e) {
                return !! e.getAttribute("data-mce-tabstop")
            };
            function it(e) {
                var t, n, r = e.root;
                function o(e) {
                    return e && 1 === e.nodeType
                }
                try {
                    t = document.activeElement
                } catch(e) {
                    t = document.body
                }
                function i(e) {
                    return o(e = e || t) ? e.getAttribute("role") : null
                }
                function a(e) {
                    for (var n, r = e || t; r = r.parentNode;) if (n = i(r)) return n
                }
                function s(e) {
                    var n = t;
                    if (o(n)) return n.getAttribute("aria-" + e)
                }
                function l(e) {
                    var t = e.tagName.toUpperCase();
                    return "INPUT" === t || "TEXTAREA" === t || "SELECT" === t
                }
                function u(e) {
                    var t = [];
                    return function e(n) {
                        if (1 === n.nodeType && "none" !== n.style.display && !n.disabled) { (function(e) {
                                return ! (!l(e) || e.hidden) || !!ot(e) || !!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(i(e))
                            })(n) && t.push(n);
                            for (var r = 0; r < n.childNodes.length; r++) e(n.childNodes[r])
                        }
                    } (e || r.getEl()),
                    t
                }
                function c(e) {
                    var t, r; (r = (e = e || n).parents().toArray()).unshift(e);
                    for (var o = 0; o < r.length && !(t = r[o]).settings.ariaRoot; o++);
                    return t
                }
                function d(e, t) {
                    return e < 0 ? e = t.length - 1 : e >= t.length && (e = 0),
                    t[e] && t[e].focus(),
                    e
                }
                function f(e, n) {
                    var r = -1,
                    o = c();
                    n = n || u(o.getEl());
                    for (var i = 0; i < n.length; i++) n[i] === t && (r = i);
                    r += e,
                    o.lastAriaIndex = d(r, n)
                }
                function m() {
                    "tablist" === a() ? f( - 1, u(t.parentNode)) : n.parent().submenu ? v() : f( - 1)
                }
                function p() {
                    var e = i(),
                    n = a();
                    "tablist" === n ? f(1, u(t.parentNode)) : "menuitem" === e && "menu" === n && s("haspopup") ? b() : f(1)
                }
                function h() {
                    f( - 1)
                }
                function g() {
                    var e = i(),
                    t = a();
                    "menuitem" === e && "menubar" === t ? b() : "button" === e && s("haspopup") ? b({
                        key: "down"
                    }) : f(1)
                }
                function v() {
                    n.fire("cancel")
                }
                function b(e) {
                    e = e || {},
                    n.fire("click", {
                        target: t,
                        aria: e
                    })
                }
                return n = r.getParentCtrl(t),
                r.on("keydown",
                function(e) {
                    function r(e, n) {
                        l(t) || ot(t) || "slider" !== i(t) && !1 !== n(e) && e.preventDefault()
                    }
                    if (!e.isDefaultPrevented()) switch (e.keyCode) {
                    case 37:
                        r(e, m);
                        break;
                    case 39:
                        r(e, p);
                        break;
                    case 38:
                        r(e, h);
                        break;
                    case 40:
                        r(e, g);
                        break;
                    case 27:
                        v();
                        break;
                    case 14:
                    case 13:
                    case 32:
                        r(e, b);
                        break;
                    case 9:
                        !
                        function(e) {
                            if ("tablist" === a()) {
                                var t = u(n.getEl("body"))[0];
                                t && t.focus()
                            } else f(e.shiftKey ? -1 : 1)
                        } (e),
                        e.preventDefault()
                    }
                }),
                r.on("focusin",
                function(e) {
                    t = e.target,
                    n = e.control
                }),
                {
                    focusFirst: function(e) {
                        var t = c(e),
                        n = u(t.getEl());
                        t.settings.ariaRemember && "lastAriaIndex" in t ? d(t.lastAriaIndex, n) : d(0, n)
                    }
                }
            }
            var at = {},
            st = rt.extend({
                init: function(e) {
                    var t = this;
                    t._super(e),
                    (e = t.settings).fixed && t.state.set("fixed", !0),
                    t._items = new Ue,
                    t.isRtl() && t.classes.add("rtl"),
                    t.bodyClasses = new De(function() {
                        t.state.get("rendered") && (t.getEl("body").className = this.toString())
                    }),
                    t.bodyClasses.prefix = t.classPrefix,
                    t.classes.add("container"),
                    t.bodyClasses.add("container-body"),
                    e.containerCls && t.classes.add(e.containerCls),
                    t._layout = d.create((e.layout || "") + "layout"),
                    t.settings.items ? t.add(t.settings.items) : t.add(t.render()),
                    t._hasBody = !0
                },
                items: function() {
                    return this._items
                },
                find: function(e) {
                    return (e = at[e] = at[e] || new We(e)).find(this)
                },
                add: function(e) {
                    return this.items().add(this.create(e)).parent(this),
                    this
                },
                focus: function(e) {
                    var t, n, r;
                    if (!e || !(n = this.keyboardNav || this.parents().eq( - 1)[0].keyboardNav)) return r = this.find("*"),
                    this.statusbar && r.add(this.statusbar.items()),
                    r.each(function(e) {
                        if (e.settings.autofocus) return t = null,
                        !1;
                        e.canFocus && (t = t || e)
                    }),
                    t && t.focus(),
                    this;
                    n.focusFirst(this)
                },
                replace: function(e, t) {
                    for (var n, r = this.items(), o = r.length; o--;) if (r[o] === e) {
                        r[o] = t;
                        break
                    }
                    o >= 0 && ((n = t.getEl()) && n.parentNode.removeChild(n), (n = e.getEl()) && n.parentNode.removeChild(n)),
                    t.parent(this)
                },
                create: function(e) {
                    var t, n = this,
                    o = [];
                    return r.isArray(e) || (e = [e]),
                    r.each(e,
                    function(e) {
                        e && (e instanceof rt || ("string" == typeof e && (e = {
                            type: e
                        }), t = r.extend({},
                        n.settings.defaults, e), e.type = t.type = t.type || e.type || n.settings.defaultType || (t.defaults ? t.defaults.type: null), e = d.create(t)), o.push(e))
                    }),
                    o
                },
                renderNew: function() {
                    var e = this;
                    return e.items().each(function(t, n) {
                        var r;
                        t.parent(e),
                        t.state.get("rendered") || ((r = e.getEl("body")).hasChildNodes() && n <= r.childNodes.length - 1 ? be(r.childNodes[n]).before(t.renderHtml()) : be(r).append(t.renderHtml()), t.postRender(), Ge.add(t))
                    }),
                    e._layout.applyClasses(e.items().filter(":visible")),
                    e._lastRect = null,
                    e
                },
                append: function(e) {
                    return this.add(e).renderNew()
                },
                prepend: function(e) {
                    return this.items().set(this.create(e).concat(this.items().toArray())),
                    this.renderNew()
                },
                insert: function(e, t, n) {
                    var r, o, i;
                    return e = this.create(e),
                    r = this.items(),
                    !n && t < r.length - 1 && (t += 1),
                    t >= 0 && t < r.length && (o = r.slice(0, t).toArray(), i = r.slice(t).toArray(), r.set(o.concat(e, i))),
                    this.renderNew()
                },
                fromJSON: function(e) {
                    for (var t in e) this.find("#" + t).value(e[t]);
                    return this
                },
                toJSON: function() {
                    var e = {};
                    return this.find("*").each(function(t) {
                        var n = t.name(),
                        r = t.value();
                        n && void 0 !== r && (e[n] = r)
                    }),
                    e
                },
                renderHtml: function() {
                    var e = this._layout,
                    t = this.settings.role;
                    return this.preRender(),
                    e.preRender(this),
                    '<div id="' + this._id + '" class="' + this.classes + '"' + (t ? ' role="' + this.settings.role + '"': "") + '><div id="' + this._id + '-body" class="' + this.bodyClasses + '">' + (this.settings.html || "") + e.renderHtml(this) + "</div></div>"
                },
                postRender: function() {
                    var e;
                    return this.items().exec("postRender"),
                    this._super(),
                    this._layout.postRender(this),
                    this.state.set("rendered", !0),
                    this.settings.style && this.$el.css(this.settings.style),
                    this.settings.border && (e = this.borderBox, this.$el.css({
                        "border-top-width": e.top,
                        "border-right-width": e.right,
                        "border-bottom-width": e.bottom,
                        "border-left-width": e.left
                    })),
                    this.parent() || (this.keyboardNav = it({
                        root: this
                    })),
                    this
                },
                initLayoutRect: function() {
                    var e = this._super();
                    return this._layout.recalc(this),
                    e
                },
                recalc: function() {
                    var e = this._layoutRect,
                    t = this._lastRect;
                    if (!t || t.w !== e.w || t.h !== e.h) return this._layout.recalc(this),
                    e = this.layoutRect(),
                    this._lastRect = {
                        x: e.x,
                        y: e.y,
                        w: e.w,
                        h: e.h
                    },
                    !0
                },
                reflow: function() {
                    var e;
                    if (Ge.remove(this), this.visible()) {
                        for (rt.repaintControls = [], rt.repaintControls.map = {},
                        this.recalc(), e = rt.repaintControls.length; e--;) rt.repaintControls[e].repaint();
                        "flow" !== this.settings.layout && "stack" !== this.settings.layout && this.repaint(),
                        rt.repaintControls = []
                    }
                    return this
                }
            });
            function lt(e) {
                var t, n;
                if (e.changedTouches) for (t = "screenX screenY pageX pageY clientX clientY".split(" "), n = 0; n < t.length; n++) e[t[n]] = e.changedTouches[0][t[n]]
            }
            function ut(e, t) {
                var n, r, o, i, a, s, l, u = t.document || document;
                t = t || {};
                var c = u.getElementById(t.handle || e);
                o = function(e) {
                    var o, d, f = function(e) {
                        var t, n, r, o, i, a, s, l = Math.max;
                        return t = e.documentElement,
                        n = e.body,
                        r = l(t.scrollWidth, n.scrollWidth),
                        o = l(t.clientWidth, n.clientWidth),
                        i = l(t.offsetWidth, n.offsetWidth),
                        a = l(t.scrollHeight, n.scrollHeight),
                        s = l(t.clientHeight, n.clientHeight),
                        {
                            width: r < i ? o: r,
                            height: a < l(t.offsetHeight, n.offsetHeight) ? s: a
                        }
                    } (u);
                    lt(e),
                    e.preventDefault(),
                    r = e.button,
                    o = c,
                    s = e.screenX,
                    l = e.screenY,
                    d = window.getComputedStyle ? window.getComputedStyle(o, null).getPropertyValue("cursor") : o.runtimeStyle.cursor,
                    n = be("<div></div>").css({
                        position: "absolute",
                        top: 0,
                        left: 0,
                        width: f.width,
                        height: f.height,
                        zIndex: 2147483647,
                        opacity: 1e-4,
                        cursor: d
                    }).appendTo(u.body),
                    be(u).on("mousemove touchmove", a).on("mouseup touchend", i),
                    t.start(e)
                },
                a = function(e) {
                    if (lt(e), e.button !== r) return i(e);
                    e.deltaX = e.screenX - s,
                    e.deltaY = e.screenY - l,
                    e.preventDefault(),
                    t.drag(e)
                },
                i = function(e) {
                    lt(e),
                    be(u).off("mousemove touchmove", a).off("mouseup touchend", i),
                    n.remove(),
                    t.stop && t.stop(e)
                },
                this.destroy = function() {
                    be(c).off()
                },
                be(c).on("mousedown touchstart", o)
            }
            var ct, dt, ft, mt, pt = {
                init: function() {
                    this.on("repaint", this.renderScroll)
                },
                renderScroll: function() {
                    var e = this,
                    t = 2;
                    function n() {
                        var n, r, o;
                        function i(o, i, a, s, l, u) {
                            var c, d, f, m, p, h, g, v;
                            if (d = e.getEl("scroll" + o)) {
                                if (g = i.toLowerCase(), v = a.toLowerCase(), be(e.getEl("absend")).css(g, e.layoutRect()[s] - 1), !l) return void be(d).css("display", "none");
                                be(d).css("display", "block"),
                                c = e.getEl("body"),
                                f = e.getEl("scroll" + o + "t"),
                                m = c["client" + a] - 2 * t,
                                p = (m -= n && r ? d["client" + u] : 0) / c["scroll" + a],
                                (h = {})[g] = c["offset" + i] + t,
                                h[v] = m,
                                be(d).css(h),
                                (h = {})[g] = c["scroll" + i] * p,
                                h[v] = m * p,
                                be(f).css(h)
                            }
                        }
                        o = e.getEl("body"),
                        n = o.scrollWidth > o.clientWidth,
                        r = o.scrollHeight > o.clientHeight,
                        i("h", "Left", "Width", "contentW", n, "Height"),
                        i("v", "Top", "Height", "contentH", r, "Width")
                    }
                    e.settings.autoScroll && (e._hasScroll || (e._hasScroll = !0,
                    function() {
                        function n(n, r, o, i, a) {
                            var s, l = e._id + "-scroll" + n,
                            u = e.classPrefix;
                            be(e.getEl()).append('<div id="' + l + '" class="' + u + "scrollbar " + u + "scrollbar-" + n + '"><div id="' + l + 't" class="' + u + 'scrollbar-thumb"></div></div>'),
                            e.draghelper = new ut(l + "t", {
                                start: function() {
                                    s = e.getEl("body")["scroll" + r],
                                    be("#" + l).addClass(u + "active")
                                },
                                drag: function(l) {
                                    var u, c, d, f, m = e.layoutRect();
                                    c = m.contentW > m.innerW,
                                    d = m.contentH > m.innerH,
                                    f = e.getEl("body")["client" + o] - 2 * t,
                                    u = (f -= c && d ? e.getEl("scroll" + n)["client" + a] : 0) / e.getEl("body")["scroll" + o],
                                    e.getEl("body")["scroll" + r] = s + l["delta" + i] / u
                                },
                                stop: function() {
                                    be("#" + l).removeClass(u + "active")
                                }
                            })
                        }
                        e.classes.add("scroll"),
                        n("v", "Top", "Height", "Y", "Width"),
                        n("h", "Left", "Width", "X", "Height")
                    } (), e.on("wheel",
                    function(t) {
                        var r = e.getEl("body");
                        r.scrollLeft += 10 * (t.deltaX || 0),
                        r.scrollTop += 10 * t.deltaY,
                        n()
                    }), be(e.getEl("body")).on("scroll", n)), n())
                }
            },
            ht = st.extend({
                Defaults: {
                    layout: "fit",
                    containerCls: "panel"
                },
                Mixins: [pt],
                renderHtml: function() {
                    var e = this._layout,
                    t = this.settings.html;
                    return this.preRender(),
                    e.preRender(this),
                    void 0 === t ? t = '<div id="' + this._id + '-body" class="' + this.bodyClasses + '">' + e.renderHtml(this) + "</div>": ("function" == typeof t && (t = t.call(this)), this._hasBody = !1),
                    '<div id="' + this._id + '" class="' + this.classes + '" hidefocus="1" tabindex="-1" role="group">' + (this._preBodyHtml || "") + t + "</div>"
                }
            }),
            gt = {
                resizeToContent: function() {
                    this._layoutRect.autoResize = !0,
                    this._lastRect = null,
                    this.reflow()
                },
                resizeTo: function(e, t) {
                    if (e <= 1 || t <= 1) {
                        var n = we.getWindowSize();
                        e = e <= 1 ? e * n.w: e,
                        t = t <= 1 ? t * n.h: t
                    }
                    return this._layoutRect.autoResize = !1,
                    this.layoutRect({
                        minW: e,
                        minH: t,
                        w: e,
                        h: t
                    }).reflow()
                },
                resizeBy: function(e, t) {
                    var n = this.layoutRect();
                    return this.resizeTo(n.w + e, n.h + t)
                }
            },
            vt = [],
            bt = [];
            function yt(e, t) {
                for (; e;) {
                    if (e === t) return ! 0;
                    e = e.parent()
                }
            }
            function wt() {
                ct || (ct = function(e) {
                    2 !== e.button &&
                    function(e) {
                        for (var t = vt.length; t--;) {
                            var n = vt[t],
                            r = n.getParentCtrl(e.target);
                            if (n.settings.autohide) {
                                if (r && (yt(r, n) || n.parent() === r)) continue; (e = n.fire("autohide", {
                                    target: e.target
                                })).isDefaultPrevented() || n.hide()
                            }
                        }
                    } (e)
                },
                be(document).on("click touchstart", ct))
            }
            function xt(e) {
                var t = we.getViewPort().y;
                function n(t, n) {
                    for (var r, o = 0; o < vt.length; o++) if (vt[o] !== e) for (r = vt[o].parent(); r && (r = r.parent());) r === e && vt[o].fixed(t).moveBy(0, n).repaint()
                }
                e.settings.autofix && (e.state.get("fixed") ? e._autoFixY > t && (e.fixed(!1).layoutRect({
                    y: e._autoFixY
                }).repaint(), n(!1, e._autoFixY - t)) : (e._autoFixY = e.layoutRect().y, e._autoFixY < t && (e.fixed(!0).layoutRect({
                    y: 0
                }).repaint(), n(!0, t - e._autoFixY))))
            }
            function Ct(e, t) {
                var n, r, o = _t.zIndex || 65535;
                if (e) bt.push(t);
                else for (n = bt.length; n--;) bt[n] === t && bt.splice(n, 1);
                if (bt.length) for (n = 0; n < bt.length; n++) bt[n].modal && (o++, r = bt[n]),
                bt[n].getEl().style.zIndex = o,
                bt[n].zIndex = o,
                o++;
                var i = be("#" + t.classPrefix + "modal-block", t.getContainerElm())[0];
                r ? be(i).css("z-index", r.zIndex - 1) : i && (i.parentNode.removeChild(i), mt = !1),
                _t.currentZIndex = o
            }
            var _t = ht.extend({
                Mixins: [Te, gt],
                init: function(e) {
                    var t = this;
                    t._super(e),
                    t._eventsRoot = t,
                    t.classes.add("floatpanel"),
                    e.autohide && (wt(),
                    function() {
                        if (!ft) {
                            var e = document.documentElement,
                            t = e.clientWidth,
                            n = e.clientHeight;
                            ft = function() {
                                document.all && t === e.clientWidth && n === e.clientHeight || (t = e.clientWidth, n = e.clientHeight, _t.hideAll())
                            },
                            be(window).on("resize", ft)
                        }
                    } (), vt.push(t)),
                    e.autofix && (dt || (dt = function() {
                        var e;
                        for (e = vt.length; e--;) xt(vt[e])
                    },
                    be(window).on("scroll", dt)), t.on("move",
                    function() {
                        xt(this)
                    })),
                    t.on("postrender show",
                    function(e) {
                        if (e.control === t) {
                            var n, r = t.classPrefix;
                            t.modal && !mt && ((n = be("#" + r + "modal-block", t.getContainerElm()))[0] || (n = be('<div id="' + r + 'modal-block" class="' + r + "reset " + r + 'fade"></div>').appendTo(t.getContainerElm())), y.setTimeout(function() {
                                n.addClass(r + "in"),
                                be(t.getEl()).addClass(r + "in")
                            }), mt = !0),
                            Ct(!0, t)
                        }
                    }),
                    t.on("show",
                    function() {
                        t.parents().each(function(e) {
                            if (e.state.get("fixed")) return t.fixed(!0),
                            !1
                        })
                    }),
                    e.popover && (t._preBodyHtml = '<div class="' + t.classPrefix + 'arrow"></div>', t.classes.add("popover").add("bottom").add(t.isRtl() ? "end": "start")),
                    t.aria("label", e.ariaLabel),
                    t.aria("labelledby", t._id),
                    t.aria("describedby", t.describedBy || t._id + "-none")
                },
                fixed: function(e) {
                    if (this.state.get("fixed") !== e) {
                        if (this.state.get("rendered")) {
                            var t = we.getViewPort();
                            e ? this.layoutRect().y -= t.y: this.layoutRect().y += t.y
                        }
                        this.classes.toggle("fixed", e),
                        this.state.set("fixed", e)
                    }
                    return this
                },
                show: function() {
                    var e, t = this._super();
                    for (e = vt.length; e--&&vt[e] !== this;);
                    return - 1 === e && vt.push(this),
                    t
                },
                hide: function() {
                    return kt(this),
                    Ct(!1, this),
                    this._super()
                },
                hideAll: function() {
                    _t.hideAll()
                },
                close: function() {
                    return this.fire("close").isDefaultPrevented() || (this.remove(), Ct(!1, this)),
                    this
                },
                remove: function() {
                    kt(this),
                    this._super()
                },
                postRender: function() {
                    return this.settings.bodyRole && this.getEl("body").setAttribute("role", this.settings.bodyRole),
                    this._super()
                }
            });
            function kt(e) {
                var t;
                for (t = vt.length; t--;) vt[t] === e && vt.splice(t, 1);
                for (t = bt.length; t--;) bt[t] === e && bt.splice(t, 1)
            }
            _t.hideAll = function() {
                for (var e = vt.length; e--;) {
                    var t = vt[e];
                    t && t.settings.autohide && (t.hide(), vt.splice(e, 1))
                }
            };
            var Et = function(e, t) {
                return ! (!e || t.settings.ui_container)
            },
            Tt = function(e, t, n) {
                var r, i, s = c.DOM,
                u = function(e) {
                    return e.getParam("fixed_toolbar_container")
                } (e);
                u && (i = s.select(u)[0]);
                var f = function() {
                    if (r && r.moveRel && r.visible() && !r._fixed) {
                        var t = e.selection.getScrollContainer(),
                        n = e.getBody(),
                        o = 0,
                        i = 0;
                        if (t) {
                            var a = s.getPos(n),
                            l = s.getPos(t);
                            o = Math.max(0, l.x - a.x),
                            i = Math.max(0, l.y - a.y)
                        }
                        r.fixed(!1).moveRel(n, e.rtl ? ["tr-br", "br-tr"] : ["tl-bl", "bl-tl", "tr-br"]).moveBy(o, i)
                    }
                },
                m = function() {
                    r && (r.show(), f(), s.addClass(e.getBody(), "mce-edit-focus"))
                },
                p = function() {
                    r && (r.hide(), _t.hideAll(), s.removeClass(e.getBody(), "mce-edit-focus"))
                },
                g = function() {
                    r ? r.visible() || m() : (r = t.panel = d.create({
                        type: i ? "panel": "floatpanel",
                        role: "application",
                        classes: "tinymce tinymce-inline",
                        layout: "flex",
                        direction: "column",
                        align: "stretch",
                        autohide: !1,
                        autofix: !0,
                        fixed: Et(i, e),
                        border: 1,
                        items: [!1 === o(e) ? null: {
                            type: "menubar",
                            border: "0 0 1 0",
                            items: ne(e)
                        },
                        B(e, a(e))]
                    }), O.setUiContainer(e, r), h(e), i ? r.renderTo(i).reflow() : r.renderTo().reflow(), v(e, r), m(), W(e), e.on("nodeChange", f), e.on("ResizeWindow", f), e.on("activate", m), e.on("deactivate", p), e.nodeChanged())
                };
                return e.settings.content_editable = !0,
                e.on("focus",
                function() { ! 1 === l(e) && n.skinUiCss ? s.styleSheetLoader.load(n.skinUiCss, g, g) : g()
                }),
                e.on("blur hide", p),
                e.on("remove",
                function() {
                    r && (r.remove(), r = null)
                }),
                !1 === l(e) && n.skinUiCss ? s.styleSheetLoader.load(n.skinUiCss, me(e)) : me(e)(),
                {}
            };
            function St(e, t) {
                var n, r, o = this,
                i = rt.classPrefix;
                o.show = function(a, s) {
                    function l() {
                        n && (be(e).append('<div class="' + i + "throbber" + (t ? " " + i + "throbber-inline": "") + '"></div>'), s && s())
                    }
                    return o.hide(),
                    n = !0,
                    a ? r = y.setTimeout(l, a) : l(),
                    o
                },
                o.hide = function() {
                    var t = e.lastChild;
                    return y.clearTimeout(r),
                    t && -1 !== t.className.indexOf("throbber") && t.parentNode.removeChild(t),
                    n = !1,
                    o
                }
            }
            var Nt = function(e, t) {
                var n;
                e.on("ProgressState",
                function(e) {
                    n = n || new St(t.panel.getEl("body")),
                    e.state ? n.show(e.time) : n.hide()
                })
            },
            Rt = function(e, t, r) {
                var o = function(e) {
                    var t = e.settings,
                    r = t.skin,
                    o = t.skin_url;
                    if (!1 !== r) {
                        var i = r || "lightgray";
                        o = o ? e.documentBaseURI.toAbsolute(o) : n.baseURL + "/skins/" + i
                    }
                    return o
                } (e);
                return o && (r.skinUiCss = o + "/skin.min.css", e.contentCSS.push(o + "/content" + (e.inline ? ".inline": "") + ".min.css")),
                Nt(e, t),
                function(e) {
                    return e.getParam("inline", !1, "boolean")
                } (e) ? Tt(e, t, r) : ve(e, t, r)
            },
            At = rt.extend({
                Mixins: [Te],
                Defaults: {
                    classes: "widget tooltip tooltip-n"
                },
                renderHtml: function() {
                    var e = this.classPrefix;
                    return '<div id="' + this._id + '" class="' + this.classes + '" role="presentation"><div class="' + e + 'tooltip-arrow"></div><div class="' + e + 'tooltip-inner">' + this.encode(this.state.get("text")) + "</div></div>"
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:text",
                    function(t) {
                        e.getEl().lastChild.innerHTML = e.encode(t.value)
                    }),
                    e._super()
                },
                repaint: function() {
                    var e, t;
                    e = this.getEl().style,
                    t = this._layoutRect,
                    e.left = t.x + "px",
                    e.top = t.y + "px",
                    e.zIndex = 131070
                }
            }),
            Ot = rt.extend({
                init: function(e) {
                    var t = this;
                    t._super(e),
                    e = t.settings,
                    t.canFocus = !0,
                    e.tooltip && !1 !== Ot.tooltips && (t.on("mouseenter",
                    function(n) {
                        var r = t.tooltip().moveTo( - 65535);
                        if (n.control === t) {
                            var o = r.text(e.tooltip).show().testMoveRel(t.getEl(), ["bc-tc", "bc-tl", "bc-tr"]);
                            r.classes.toggle("tooltip-n", "bc-tc" === o),
                            r.classes.toggle("tooltip-nw", "bc-tl" === o),
                            r.classes.toggle("tooltip-ne", "bc-tr" === o),
                            r.moveRel(t.getEl(), o)
                        } else r.hide()
                    }), t.on("mouseleave mousedown click",
                    function() {
                        t.tooltip().remove(),
                        t._tooltip = null
                    })),
                    t.aria("label", e.ariaLabel || e.tooltip)
                },
                tooltip: function() {
                    return this._tooltip || (this._tooltip = new At({
                        type: "tooltip"
                    }), O.inheritUiContainer(this, this._tooltip), this._tooltip.renderTo()),
                    this._tooltip
                },
                postRender: function() {
                    var e = this.settings;
                    this._super(),
                    this.parent() || !e.width && !e.height || (this.initLayoutRect(), this.repaint()),
                    e.autofocus && this.focus()
                },
                bindStates: function() {
                    var e = this;
                    function t(t) {
                        e.aria("disabled", t),
                        e.classes.toggle("disabled", t)
                    }
                    function n(t) {
                        e.aria("pressed", t),
                        e.classes.toggle("active", t)
                    }
                    return e.state.on("change:disabled",
                    function(e) {
                        t(e.value)
                    }),
                    e.state.on("change:active",
                    function(e) {
                        n(e.value)
                    }),
                    e.state.get("disabled") && t(!0),
                    e.state.get("active") && n(!0),
                    e._super()
                },
                remove: function() {
                    this._super(),
                    this._tooltip && (this._tooltip.remove(), this._tooltip = null)
                }
            }),
            Dt = Ot.extend({
                Defaults: {
                    value: 0
                },
                init: function(e) {
                    this._super(e),
                    this.classes.add("progress"),
                    this.settings.filter || (this.settings.filter = function(e) {
                        return Math.round(e)
                    })
                },
                renderHtml: function() {
                    var e = this._id,
                    t = this.classPrefix;
                    return '<div id="' + e + '" class="' + this.classes + '"><div class="' + t + 'bar-container"><div class="' + t + 'bar"></div></div><div class="' + t + 'text">0%</div></div>'
                },
                postRender: function() {
                    return this._super(),
                    this.value(this.settings.value),
                    this
                },
                bindStates: function() {
                    var e = this;
                    function t(t) {
                        t = e.settings.filter(t),
                        e.getEl().lastChild.innerHTML = t + "%",
                        e.getEl().firstChild.firstChild.style.width = t + "%"
                    }
                    return e.state.on("change:value",
                    function(e) {
                        t(e.value)
                    }),
                    t(e.state.get("value")),
                    e._super()
                }
            }),
            Pt = function(e, t) {
                e.getEl().lastChild.textContent = t + (e.progressBar ? " " + e.progressBar.value() + "%": "")
            },
            Bt = rt.extend({
                Mixins: [Te],
                Defaults: {
                    classes: "widget notification"
                },
                init: function(e) {
                    var t = this;
                    t._super(e),
                    t.maxWidth = e.maxWidth,
                    e.text && t.text(e.text),
                    e.icon && (t.icon = e.icon),
                    e.color && (t.color = e.color),
                    e.type && t.classes.add("notification-" + e.type),
                    e.timeout && (e.timeout < 0 || e.timeout > 0) && !e.closeButton ? t.closeButton = !1 : (t.classes.add("has-close"), t.closeButton = !0),
                    e.progressBar && (t.progressBar = new Dt),
                    t.on("click",
                    function(e) { - 1 !== e.target.className.indexOf(t.classPrefix + "close") && t.close()
                    })
                },
                renderHtml: function() {
                    var e, t = this.classPrefix,
                    n = "",
                    r = "",
                    o = "";
                    return this.icon && (n = '<i class="' + t + "ico " + t + "i-" + this.icon + '"></i>'),
                    e = ' style="max-width: ' + this.maxWidth + "px;" + (this.color ? "background-color: " + this.color + ';"': '"'),
                    this.closeButton && (r = '<button type="button" class="' + t + 'close" aria-hidden="true">×</button>'),
                    this.progressBar && (o = this.progressBar.renderHtml()),
                    '<div id="' + this._id + '" class="' + this.classes + '"' + e + ' role="presentation">' + n + '<div class="' + t + 'notification-inner">' + this.state.get("text") + "</div>" + o + r + '<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'
                },
                postRender: function() {
                    var e = this;
                    return y.setTimeout(function() {
                        e.$el.addClass(e.classPrefix + "in"),
                        Pt(e, e.state.get("text"))
                    },
                    100),
                    e._super()
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:text",
                    function(t) {
                        e.getEl().firstChild.innerHTML = t.value,
                        Pt(e, t.value)
                    }),
                    e.progressBar && (e.progressBar.bindStates(), e.progressBar.state.on("change:value",
                    function(t) {
                        Pt(e, e.state.get("text"))
                    })),
                    e._super()
                },
                close: function() {
                    return this.fire("close").isDefaultPrevented() || this.remove(),
                    this
                },
                repaint: function() {
                    var e, t;
                    e = this.getEl().style,
                    t = this._layoutRect,
                    e.left = t.x + "px",
                    e.top = t.y + "px",
                    e.zIndex = 65534
                }
            });
            function Mt(e) {
                var t = function(e) {
                    return e.inline ? e.getElement() : e.getContentAreaContainer()
                };
                return {
                    open: function(n, o) {
                        var i, a = r.extend(n, {
                            maxWidth: (i = t(e), we.getSize(i).width)
                        }),
                        s = new Bt(a);
                        return s.args = a,
                        a.timeout > 0 && (s.timer = setTimeout(function() {
                            s.close(),
                            o()
                        },
                        a.timeout)),
                        s.on("close",
                        function() {
                            o()
                        }),
                        s.renderTo(),
                        s
                    },
                    close: function(e) {
                        e.close()
                    },
                    reposition: function(n) { !
                        function(e) {
                            q(e,
                            function(e) {
                                e.moveTo(0, 0)
                            })
                        } (n),
                        function(n) {
                            if (n.length > 0) {
                                var r = n.slice(0, 1)[0],
                                o = t(e);
                                r.moveRel(o, "tc-tc"),
                                q(n,
                                function(e, t) {
                                    t > 0 && e.moveRel(n[t - 1].getEl(), "bc-tc")
                                })
                            }
                        } (n)
                    },
                    getArgs: function(e) {
                        return e.args
                    }
                }
            }
            var It = [],
            Lt = "";
            function Ft(e) {
                var t, n = be("meta[name=viewport]")[0]; ! 1 !== le.overrideViewPort && (n || ((n = document.createElement("meta")).setAttribute("name", "viewport"), document.getElementsByTagName("head")[0].appendChild(n)), (t = n.getAttribute("content")) && void 0 !== Lt && (Lt = t), n.setAttribute("content", e ? "width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0": Lt))
            }
            function Wt(e, t) { (function() {
                    for (var e = 0; e < It.length; e++) if (It[e]._fullscreen) return ! 0;
                    return ! 1
                })() && !1 === t && be([document.documentElement, document.body]).removeClass(e + "fullscreen")
            }
            var Ht = _t.extend({
                modal: !0,
                Defaults: {
                    border: 1,
                    layout: "flex",
                    containerCls: "panel",
                    role: "dialog",
                    callbacks: {
                        submit: function() {
                            this.fire("submit", {
                                data: this.toJSON()
                            })
                        },
                        close: function() {
                            this.close()
                        }
                    }
                },
                init: function(e) {
                    var t = this;
                    t._super(e),
                    t.isRtl() && t.classes.add("rtl"),
                    t.classes.add("window"),
                    t.bodyClasses.add("window-body"),
                    t.state.set("fixed", !0),
                    e.buttons && (t.statusbar = new ht({
                        layout: "flex",
                        border: "1 0 0 0",
                        spacing: 3,
                        padding: 10,
                        align: "center",
                        pack: t.isRtl() ? "start": "end",
                        defaults: {
                            type: "button"
                        },
                        items: e.buttons
                    }), t.statusbar.classes.add("foot"), t.statusbar.parent(t)),
                    t.on("click",
                    function(e) {
                        var n = t.classPrefix + "close"; (we.hasClass(e.target, n) || we.hasClass(e.target.parentNode, n)) && t.close()
                    }),
                    t.on("cancel",
                    function() {
                        t.close()
                    }),
                    t.on("move",
                    function(e) {
                        e.control === t && _t.hideAll()
                    }),
                    t.aria("describedby", t.describedBy || t._id + "-none"),
                    t.aria("label", e.title),
                    t._fullscreen = !1
                },
                recalc: function() {
                    var e, t, n, r, o = this.statusbar;
                    this._fullscreen && (this.layoutRect(we.getWindowSize()), this.layoutRect().contentH = this.layoutRect().innerH),
                    this._super(),
                    e = this.layoutRect(),
                    this.settings.title && !this._fullscreen && (t = e.headerW) > e.w && (n = e.x - Math.max(0, t / 2), this.layoutRect({
                        w: t,
                        x: n
                    }), r = !0),
                    o && (o.layoutRect({
                        w: this.layoutRect().innerW
                    }).recalc(), (t = o.layoutRect().minW + e.deltaW) > e.w && (n = e.x - Math.max(0, t - e.w), this.layoutRect({
                        w: t,
                        x: n
                    }), r = !0)),
                    r && this.recalc()
                },
                initLayoutRect: function() {
                    var e, t = this._super(),
                    n = 0;
                    if (this.settings.title && !this._fullscreen) {
                        e = this.getEl("head");
                        var r = we.getSize(e);
                        t.headerW = r.width,
                        t.headerH = r.height,
                        n += t.headerH
                    }
                    this.statusbar && (n += this.statusbar.layoutRect().h),
                    t.deltaH += n,
                    t.minH += n,
                    t.h += n;
                    var o = we.getWindowSize();
                    return t.x = this.settings.x || Math.max(0, o.w / 2 - t.w / 2),
                    t.y = this.settings.y || Math.max(0, o.h / 2 - t.h / 2),
                    t
                },
                renderHtml: function() {
                    var e = this._layout,
                    t = this._id,
                    n = this.classPrefix,
                    r = this.settings,
                    o = "",
                    i = "",
                    a = r.html;
                    return this.preRender(),
                    e.preRender(this),
                    r.title && (o = '<div id="' + t + '-head" class="' + n + 'window-head"><div id="' + t + '-title" class="' + n + 'title">' + this.encode(r.title) + '</div><div id="' + t + '-dragh" class="' + n + 'dragh"></div><button type="button" class="' + n + 'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),
                    r.url && (a = '<iframe src="' + r.url + '" tabindex="-1"></iframe>'),
                    void 0 === a && (a = e.renderHtml(this)),
                    this.statusbar && (i = this.statusbar.renderHtml()),
                    '<div id="' + t + '" class="' + this.classes + '" hidefocus="1"><div class="' + this.classPrefix + 'reset" role="application">' + o + '<div id="' + t + '-body" class="' + this.bodyClasses + '">' + a + "</div>" + i + "</div></div>"
                },
                fullscreen: function(e) {
                    var t, n, r = this,
                    o = document.documentElement,
                    i = r.classPrefix;
                    if (e !== r._fullscreen) if (be(window).on("resize",
                    function() {
                        var e;
                        if (r._fullscreen) if (t) r._timer || (r._timer = y.setTimeout(function() {
                            var e = we.getWindowSize();
                            r.moveTo(0, 0).resizeTo(e.w, e.h),
                            r._timer = 0
                        },
                        50));
                        else {
                            e = (new Date).getTime();
                            var n = we.getWindowSize();
                            r.moveTo(0, 0).resizeTo(n.w, n.h),
                            (new Date).getTime() - e > 50 && (t = !0)
                        }
                    }), n = r.layoutRect(), r._fullscreen = e, e) {
                        r._initial = {
                            x: n.x,
                            y: n.y,
                            w: n.w,
                            h: n.h
                        },
                        r.borderBox = Re("0"),
                        r.getEl("head").style.display = "none",
                        n.deltaH -= n.headerH + 2,
                        be([o, document.body]).addClass(i + "fullscreen"),
                        r.classes.add("fullscreen");
                        var a = we.getWindowSize();
                        r.moveTo(0, 0).resizeTo(a.w, a.h)
                    } else r.borderBox = Re(r.settings.border),
                    r.getEl("head").style.display = "",
                    n.deltaH += n.headerH,
                    be([o, document.body]).removeClass(i + "fullscreen"),
                    r.classes.remove("fullscreen"),
                    r.moveTo(r._initial.x, r._initial.y).resizeTo(r._initial.w, r._initial.h);
                    return r.reflow()
                },
                postRender: function() {
                    var e, t = this;
                    setTimeout(function() {
                        t.classes.add("in"),
                        t.fire("open")
                    },
                    0),
                    t._super(),
                    t.statusbar && t.statusbar.postRender(),
                    t.focus(),
                    this.dragHelper = new ut(t._id + "-dragh", {
                        start: function() {
                            e = {
                                x: t.layoutRect().x,
                                y: t.layoutRect().y
                            }
                        },
                        drag: function(n) {
                            t.moveTo(e.x + n.deltaX, e.y + n.deltaY)
                        }
                    }),
                    t.on("submit",
                    function(e) {
                        e.isDefaultPrevented() || t.close()
                    }),
                    It.push(t),
                    Ft(!0)
                },
                submit: function() {
                    return this.fire("submit", {
                        data: this.toJSON()
                    })
                },
                remove: function() {
                    var e;
                    for (this.dragHelper.destroy(), this._super(), this.statusbar && this.statusbar.remove(), Wt(this.classPrefix, !1), e = It.length; e--;) It[e] === this && It.splice(e, 1);
                    Ft(It.length > 0)
                },
                getContentWindow: function() {
                    var e = this.getEl().getElementsByTagName("iframe")[0];
                    return e ? e.contentWindow: null
                }
            }); !
            function() {
                if (!le.desktop) {
                    var e = {
                        w: window.innerWidth,
                        h: window.innerHeight
                    };
                    y.setInterval(function() {
                        var t = window.innerWidth,
                        n = window.innerHeight;
                        e.w === t && e.h === n || (e = {
                            w: t,
                            h: n
                        },
                        be(window).trigger("resize"))
                    },
                    100)
                }
                be(window).on("resize",
                function() {
                    var e, t, n = we.getWindowSize();
                    for (e = 0; e < It.length; e++) t = It[e].layoutRect(),
                    It[e].moveTo(It[e].settings.x || Math.max(0, n.w / 2 - t.w / 2), It[e].settings.y || Math.max(0, n.h / 2 - t.h / 2))
                })
            } ();
            var jt = Ht.extend({
                init: function(e) {
                    e = {
                        border: 1,
                        padding: 20,
                        layout: "flex",
                        pack: "center",
                        align: "center",
                        containerCls: "panel",
                        autoScroll: !0,
                        buttons: {
                            type: "button",
                            text: "Ok",
                            action: "ok"
                        },
                        items: {
                            type: "label",
                            multiline: !0,
                            maxWidth: 500,
                            maxHeight: 200
                        }
                    },
                    this._super(e)
                },
                Statics: {
                    OK: 1,
                    OK_CANCEL: 2,
                    YES_NO: 3,
                    YES_NO_CANCEL: 4,
                    msgBox: function(e) {
                        var t, n = e.callback ||
                        function() {};
                        function r(e, t, r) {
                            return {
                                type: "button",
                                text: e,
                                subtype: r ? "primary": "",
                                onClick: function(e) {
                                    e.control.parents()[1].close(),
                                    n(t)
                                }
                            }
                        }
                        switch (e.buttons) {
                        case jt.OK_CANCEL:
                            t = [r("Ok", !0, !0), r("Cancel", !1)];
                            break;
                        case jt.YES_NO:
                        case jt.YES_NO_CANCEL:
                            t = [r("Yes", 1, !0), r("No", 0)],
                            e.buttons === jt.YES_NO_CANCEL && t.push(r("Cancel", -1));
                            break;
                        default:
                            t = [r("Ok", !0, !0)]
                        }
                        return new Ht({
                            padding: 20,
                            x: e.x,
                            y: e.y,
                            minWidth: 300,
                            minHeight: 100,
                            layout: "flex",
                            pack: "center",
                            align: "center",
                            buttons: t,
                            title: e.title,
                            role: "alertdialog",
                            items: {
                                type: "label",
                                multiline: !0,
                                maxWidth: 500,
                                maxHeight: 200,
                                text: e.text
                            },
                            onPostRender: function() {
                                this.aria("describedby", this.items()[0]._id)
                            },
                            onClose: e.onClose,
                            onCancel: function() {
                                n(!1)
                            }
                        }).renderTo(document.body).reflow()
                    },
                    alert: function(e, t) {
                        return "string" == typeof e && (e = {
                            text: e
                        }),
                        e.callback = t,
                        jt.msgBox(e)
                    },
                    confirm: function(e, t) {
                        return "string" == typeof e && (e = {
                            text: e
                        }),
                        e.callback = t,
                        e.buttons = jt.OK_CANCEL,
                        jt.msgBox(e)
                    }
                }
            }),
            Ut = function(e) {
                return {
                    renderUI: function(t) {
                        return Rt(e, this, t)
                    },
                    resizeTo: function(t, n) {
                        return ae(e, t, n)
                    },
                    resizeBy: function(t, n) {
                        return se(e, t, n)
                    },
                    getNotificationManagerImpl: function() {
                        return Mt(e)
                    },
                    getWindowManagerImpl: function() {
                        return {
                            open: function(e, t, n) {
                                var r;
                                return e.title = e.title || " ",
                                e.url = e.url || e.file,
                                e.url && (e.width = parseInt(e.width || 320, 10), e.height = parseInt(e.height || 240, 10)),
                                e.body && (e.items = {
                                    defaults: e.defaults,
                                    type: e.bodyType || "form",
                                    items: e.body,
                                    data: e.data,
                                    callbacks: e.commands
                                }),
                                e.url || e.buttons || (e.buttons = [{
                                    text: "Ok",
                                    subtype: "primary",
                                    onclick: function() {
                                        r.find("form")[0].submit()
                                    }
                                },
                                {
                                    text: "Cancel",
                                    onclick: function() {
                                        r.close()
                                    }
                                }]),
                                (r = new Ht(e)).on("close",
                                function() {
                                    n(r)
                                }),
                                e.data && r.on("postRender",
                                function() {
                                    this.find("*").each(function(t) {
                                        var n = t.name();
                                        n in e.data && t.value(e.data[n])
                                    })
                                }),
                                r.features = e || {},
                                r.params = t || {},
                                r = r.renderTo(document.body).reflow()
                            },
                            alert: function(e, t, n) {
                                var r;
                                return (r = jt.alert(e,
                                function() {
                                    t()
                                })).on("close",
                                function() {
                                    n(r)
                                }),
                                r
                            },
                            confirm: function(e, t, n) {
                                var r;
                                return (r = jt.confirm(e,
                                function(e) {
                                    t(e)
                                })).on("close",
                                function() {
                                    n(r)
                                }),
                                r
                            },
                            close: function(e) {
                                e.close()
                            },
                            getParams: function(e) {
                                return e.params
                            },
                            setParams: function(e, t) {
                                e.params = t
                            }
                        }
                    }
                }
            },
            zt = Se.extend({
                Defaults: {
                    firstControlClass: "first",
                    lastControlClass: "last"
                },
                init: function(e) {
                    this.settings = r.extend({},
                    this.Defaults, e)
                },
                preRender: function(e) {
                    e.bodyClasses.add(this.settings.containerClass)
                },
                applyClasses: function(e) {
                    var t, n, r, o, i = this.settings;
                    t = i.firstControlClass,
                    n = i.lastControlClass,
                    e.each(function(e) {
                        e.classes.remove(t).remove(n).add(i.controlClass),
                        e.visible() && (r || (r = e), o = e)
                    }),
                    r && r.classes.add(t),
                    o && o.classes.add(n)
                },
                renderHtml: function(e) {
                    var t = "";
                    return this.applyClasses(e.items()),
                    e.items().each(function(e) {
                        t += e.renderHtml()
                    }),
                    t
                },
                recalc: function() {},
                postRender: function() {},
                isNative: function() {
                    return ! 1
                }
            }),
            Vt = zt.extend({
                Defaults: {
                    containerClass: "abs-layout",
                    controlClass: "abs-layout-item"
                },
                recalc: function(e) {
                    e.items().filter(":visible").each(function(e) {
                        var t = e.settings;
                        e.layoutRect({
                            x: t.x,
                            y: t.y,
                            w: t.w,
                            h: t.h
                        }),
                        e.recalc && e.recalc()
                    })
                },
                renderHtml: function(e) {
                    return '<div id="' + e._id + '-absend" class="' + e.classPrefix + 'abs-end"></div>' + this._super(e)
                }
            }),
            $t = Ot.extend({
                Defaults: {
                    classes: "widget btn",
                    role: "button"
                },
                init: function(e) {
                    var t, n = this;
                    n._super(e),
                    e = n.settings,
                    t = n.settings.size,
                    n.on("click mousedown",
                    function(e) {
                        e.preventDefault()
                    }),
                    n.on("touchstart",
                    function(e) {
                        n.fire("click", e),
                        e.preventDefault()
                    }),
                    e.subtype && n.classes.add(e.subtype),
                    t && n.classes.add("btn-" + t),
                    e.icon && n.icon(e.icon)
                },
                icon: function(e) {
                    return arguments.length ? (this.state.set("icon", e), this) : this.state.get("icon")
                },
                repaint: function() {
                    var e, t = this.getEl().firstChild;
                    t && ((e = t.style).width = e.height = "100%"),
                    this._super()
                },
                renderHtml: function() {
                    var e, t, n = this._id,
                    r = this.classPrefix,
                    o = this.state.get("icon"),
                    i = this.state.get("text"),
                    a = "",
                    s = this.settings;
                    return (e = s.image) ? (o = "none", "string" != typeof e && (e = window.getSelection ? e[0] : e[1]), e = " style=\"background-image: url('" + e + "')\"") : e = "",
                    i && (this.classes.add("btn-has-text"), a = '<span class="' + r + 'txt">' + this.encode(i) + "</span>"),
                    o = o ? r + "ico " + r + "i-" + o: "",
                    t = "boolean" == typeof s.active ? ' aria-pressed="' + s.active + '"': "",
                    '<div id="' + n + '" class="' + this.classes + '" tabindex="-1"' + t + '><button id="' + n + '-button" role="presentation" type="button" tabindex="-1">' + (o ? '<i class="' + o + '"' + e + "></i>": "") + a + "</button></div>"
                },
                bindStates: function() {
                    var e = this,
                    t = e.$,
                    n = e.classPrefix + "txt";
                    function r(r) {
                        var o = t("span." + n, e.getEl());
                        r ? (o[0] || (t("button:first", e.getEl()).append('<span class="' + n + '"></span>'), o = t("span." + n, e.getEl())), o.html(e.encode(r))) : o.remove(),
                        e.classes.toggle("btn-has-text", !!r)
                    }
                    return e.state.on("change:text",
                    function(e) {
                        r(e.value)
                    }),
                    e.state.on("change:icon",
                    function(t) {
                        var n = t.value,
                        o = e.classPrefix;
                        e.settings.icon = n,
                        n = n ? o + "ico " + o + "i-" + e.settings.icon: "";
                        var i = e.getEl().firstChild,
                        a = i.getElementsByTagName("i")[0];
                        n ? (a && a === i.firstChild || (a = document.createElement("i"), i.insertBefore(a, i.firstChild)), a.className = n) : a && i.removeChild(a),
                        r(e.state.get("text"))
                    }),
                    e._super()
                }
            }),
            qt = $t.extend({
                init: function(e) {
                    e = r.extend({
                        text: "Browse...",
                        multiple: !1,
                        accept: null
                    },
                    e),
                    this._super(e),
                    this.classes.add("browsebutton"),
                    e.multiple && this.classes.add("multiple")
                },
                postRender: function() {
                    var e = this,
                    t = we.create("input", {
                        type: "file",
                        id: e._id + "-browse",
                        accept: e.settings.accept
                    });
                    e._super(),
                    be(t).on("change",
                    function(t) {
                        var n = t.target.files;
                        e.value = function() {
                            return n.length ? e.settings.multiple ? n: n[0] : null
                        },
                        t.preventDefault(),
                        n.length && e.fire("change", t)
                    }),
                    be(t).on("click",
                    function(e) {
                        e.stopPropagation()
                    }),
                    be(e.getEl("button")).on("click",
                    function(e) {
                        e.stopPropagation(),
                        t.click()
                    }),
                    e.getEl().appendChild(t)
                },
                remove: function() {
                    be(this.getEl("button")).off(),
                    be(this.getEl("input")).off(),
                    this._super()
                }
            }),
            Kt = st.extend({
                Defaults: {
                    defaultType: "button",
                    role: "group"
                },
                renderHtml: function() {
                    var e = this._layout;
                    return this.classes.add("btn-group"),
                    this.preRender(),
                    e.preRender(this),
                    '<div id="' + this._id + '" class="' + this.classes + '"><div id="' + this._id + '-body">' + (this.settings.html || "") + e.renderHtml(this) + "</div></div>"
                }
            }),
            Yt = Ot.extend({
                Defaults: {
                    classes: "checkbox",
                    role: "checkbox",
                    checked: !1
                },
                init: function(e) {
                    var t = this;
                    t._super(e),
                    t.on("click mousedown",
                    function(e) {
                        e.preventDefault()
                    }),
                    t.on("click",
                    function(e) {
                        e.preventDefault(),
                        t.disabled() || t.checked(!t.checked())
                    }),
                    t.checked(t.settings.checked)
                },
                checked: function(e) {
                    return arguments.length ? (this.state.set("checked", e), this) : this.state.get("checked")
                },
                value: function(e) {
                    return arguments.length ? this.checked(e) : this.checked()
                },
                renderHtml: function() {
                    var e = this._id,
                    t = this.classPrefix;
                    return '<div id="' + e + '" class="' + this.classes + '" unselectable="on" aria-labelledby="' + e + '-al" tabindex="-1"><i class="' + t + "ico " + t + 'i-checkbox"></i><span id="' + e + '-al" class="' + t + 'label">' + this.encode(this.state.get("text")) + "</span></div>"
                },
                bindStates: function() {
                    var e = this;
                    function t(t) {
                        e.classes.toggle("checked", t),
                        e.aria("checked", t)
                    }
                    return e.state.on("change:text",
                    function(t) {
                        e.getEl("al").firstChild.data = e.translate(t.value)
                    }),
                    e.state.on("change:checked change:value",
                    function(n) {
                        e.fire("change"),
                        t(n.value)
                    }),
                    e.state.on("change:icon",
                    function(t) {
                        var n = t.value,
                        r = e.classPrefix;
                        if (void 0 === n) return e.settings.icon;
                        e.settings.icon = n,
                        n = n ? r + "ico " + r + "i-" + e.settings.icon: "";
                        var o = e.getEl().firstChild,
                        i = o.getElementsByTagName("i")[0];
                        n ? (i && i === o.firstChild || (i = document.createElement("i"), o.insertBefore(i, o.firstChild)), i.className = n) : i && o.removeChild(i)
                    }),
                    e.state.get("checked") && t(!0),
                    e._super()
                }
            }),
            Xt = tinymce.util.Tools.resolve("tinymce.util.VK"),
            Gt = Ot.extend({
                init: function(e) {
                    var t = this;
                    t._super(e),
                    e = t.settings,
                    t.classes.add("combobox"),
                    t.subinput = !0,
                    t.ariaTarget = "inp",
                    e.menu = e.menu || e.values,
                    e.menu && (e.icon = "caret"),
                    t.on("click",
                    function(n) {
                        var r = n.target,
                        o = t.getEl();
                        if (be.contains(o, r) || r === o) for (; r && r !== o;) r.id && -1 !== r.id.indexOf("-open") && (t.fire("action"), e.menu && (t.showMenu(), n.aria && t.menu.items()[0].focus())),
                        r = r.parentNode
                    }),
                    t.on("keydown",
                    function(e) {
                        var n;
                        13 === e.keyCode && "INPUT" === e.target.nodeName && (e.preventDefault(), t.parents().reverse().each(function(e) {
                            if (e.toJSON) return n = e,
                            !1
                        }), t.fire("submit", {
                            data: n.toJSON()
                        }))
                    }),
                    t.on("keyup",
                    function(e) {
                        if ("INPUT" === e.target.nodeName) {
                            var n = t.state.get("value"),
                            r = e.target.value;
                            r !== n && (t.state.set("value", r), t.fire("autocomplete", e))
                        }
                    }),
                    t.on("mouseover",
                    function(e) {
                        var n = t.tooltip().moveTo( - 65535);
                        if (t.statusLevel() && -1 !== e.target.className.indexOf(t.classPrefix + "status")) {
                            var r = t.statusMessage() || "Ok",
                            o = n.text(r).show().testMoveRel(e.target, ["bc-tc", "bc-tl", "bc-tr"]);
                            n.classes.toggle("tooltip-n", "bc-tc" === o),
                            n.classes.toggle("tooltip-nw", "bc-tl" === o),
                            n.classes.toggle("tooltip-ne", "bc-tr" === o),
                            n.moveRel(e.target, o)
                        }
                    })
                },
                statusLevel: function(e) {
                    return arguments.length > 0 && this.state.set("statusLevel", e),
                    this.state.get("statusLevel")
                },
                statusMessage: function(e) {
                    return arguments.length > 0 && this.state.set("statusMessage", e),
                    this.state.get("statusMessage")
                },
                showMenu: function() {
                    var e, t = this,
                    n = t.settings;
                    t.menu || ((e = n.menu || []).length ? e = {
                        type: "menu",
                        items: e
                    }: e.type = e.type || "menu", t.menu = d.create(e).parent(t).renderTo(t.getContainerElm()), t.fire("createmenu"), t.menu.reflow(), t.menu.on("cancel",
                    function(e) {
                        e.control === t.menu && t.focus()
                    }), t.menu.on("show hide",
                    function(e) {
                        e.control.items().each(function(e) {
                            e.active(e.value() === t.value())
                        })
                    }).fire("show"), t.menu.on("select",
                    function(e) {
                        t.value(e.control.value())
                    }), t.on("focusin",
                    function(e) {
                        "INPUT" === e.target.tagName.toUpperCase() && t.menu.hide()
                    }), t.aria("expanded", !0)),
                    t.menu.show(),
                    t.menu.layoutRect({
                        w: t.layoutRect().w
                    }),
                    t.menu.moveRel(t.getEl(), t.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"])
                },
                focus: function() {
                    this.getEl("inp").focus()
                },
                repaint: function() {
                    var e, t, n = this.getEl(),
                    r = this.getEl("open"),
                    o = this.layoutRect(),
                    i = 0,
                    a = n.firstChild;
                    this.statusLevel() && "none" !== this.statusLevel() && (i = parseInt(we.getRuntimeStyle(a, "padding-right"), 10) - parseInt(we.getRuntimeStyle(a, "padding-left"), 10)),
                    e = r ? o.w - we.getSize(r).width - 10 : o.w - 10;
                    var s = document;
                    return s.all && (!s.documentMode || s.documentMode <= 8) && (t = this.layoutRect().h - 2 + "px"),
                    be(a).css({
                        width: e - i,
                        lineHeight: t
                    }),
                    this._super(),
                    this
                },
                postRender: function() {
                    var e = this;
                    return be(this.getEl("inp")).on("change",
                    function(t) {
                        e.state.set("value", t.target.value),
                        e.fire("change", t)
                    }),
                    e._super()
                },
                renderHtml: function() {
                    var e, t, n, r = this._id,
                    o = this.settings,
                    i = this.classPrefix,
                    a = this.state.get("value") || "",
                    s = "",
                    l = "";
                    return "spellcheck" in o && (l += ' spellcheck="' + o.spellcheck + '"'),
                    o.maxLength && (l += ' maxlength="' + o.maxLength + '"'),
                    o.size && (l += ' size="' + o.size + '"'),
                    o.subtype && (l += ' type="' + o.subtype + '"'),
                    n = '<i id="' + r + '-status" class="mce-status mce-ico" style="display: none"></i>',
                    this.disabled() && (l += ' disabled="disabled"'),
                    (e = o.icon) && "caret" !== e && (e = i + "ico " + i + "i-" + o.icon),
                    t = this.state.get("text"),
                    (e || t) && (s = '<div id="' + r + '-open" class="' + i + "btn " + i + 'open" tabIndex="-1" role="button"><button id="' + r + '-action" type="button" hidefocus="1" tabindex="-1">' + ("caret" !== e ? '<i class="' + e + '"></i>': '<i class="' + i + 'caret"></i>') + (t ? (e ? " ": "") + t: "") + "</button></div>", this.classes.add("has-open")),
                    '<div id="' + r + '" class="' + this.classes + '"><input id="' + r + '-inp" class="' + i + 'textbox" value="' + this.encode(a, !1) + '" hidefocus="1"' + l + ' placeholder="' + this.encode(o.placeholder) + '" />' + n + s + "</div>"
                },
                value: function(e) {
                    return arguments.length ? (this.state.set("value", e), this) : (this.state.get("rendered") && this.state.set("value", this.getEl("inp").value), this.state.get("value"))
                },
                showAutoComplete: function(e, t) {
                    var n = this;
                    if (0 !== e.length) {
                        n.menu ? n.menu.items().remove() : n.menu = d.create({
                            type: "menu",
                            classes: "combobox-menu",
                            layout: "flow"
                        }).parent(n).renderTo(),
                        r.each(e,
                        function(e) {
                            var r, o;
                            n.menu.add({
                                text: e.title,
                                url: e.previewUrl,
                                match: t,
                                classes: "menu-item-ellipsis",
                                onclick: (r = e.value, o = e.title,
                                function() {
                                    n.fire("selectitem", {
                                        title: o,
                                        value: r
                                    })
                                })
                            })
                        }),
                        n.menu.renderNew(),
                        n.hideMenu(),
                        n.menu.on("cancel",
                        function(e) {
                            e.control.parent() === n.menu && (e.stopPropagation(), n.focus(), n.hideMenu())
                        }),
                        n.menu.on("select",
                        function() {
                            n.focus()
                        });
                        var o = n.layoutRect().w;
                        n.menu.layoutRect({
                            w: o,
                            minW: 0,
                            maxW: o
                        }),
                        n.menu.repaint(),
                        n.menu.reflow(),
                        n.menu.show(),
                        n.menu.moveRel(n.getEl(), n.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"])
                    } else n.hideMenu()
                },
                hideMenu: function() {
                    this.menu && this.menu.hide()
                },
                bindStates: function() {
                    var e = this;
                    e.state.on("change:value",
                    function(t) {
                        e.getEl("inp").value !== t.value && (e.getEl("inp").value = t.value)
                    }),
                    e.state.on("change:disabled",
                    function(t) {
                        e.getEl("inp").disabled = t.value
                    }),
                    e.state.on("change:statusLevel",
                    function(t) {
                        var n = e.getEl("status"),
                        r = e.classPrefix,
                        o = t.value;
                        we.css(n, "display", "none" === o ? "none": ""),
                        we.toggleClass(n, r + "i-checkmark", "ok" === o),
                        we.toggleClass(n, r + "i-warning", "warn" === o),
                        we.toggleClass(n, r + "i-error", "error" === o),
                        e.classes.toggle("has-status", "none" !== o),
                        e.repaint()
                    }),
                    we.on(e.getEl("status"), "mouseleave",
                    function() {
                        e.tooltip().hide()
                    }),
                    e.on("cancel",
                    function(t) {
                        e.menu && e.menu.visible() && (t.stopPropagation(), e.hideMenu())
                    });
                    var t = function(e, t) {
                        t && t.items().length > 0 && t.items().eq(e)[0].focus()
                    };
                    return e.on("keydown",
                    function(n) {
                        var r = n.keyCode;
                        "INPUT" === n.target.nodeName && (r === Xt.DOWN ? (n.preventDefault(), e.fire("autocomplete"), t(0, e.menu)) : r === Xt.UP && (n.preventDefault(), t( - 1, e.menu)))
                    }),
                    e._super()
                },
                remove: function() {
                    be(this.getEl("inp")).off(),
                    this.menu && this.menu.remove(),
                    this._super()
                }
            }),
            Jt = Gt.extend({
                init: function(e) {
                    var t = this;
                    e.spellcheck = !1,
                    e.onaction && (e.icon = "none"),
                    t._super(e),
                    t.classes.add("colorbox"),
                    t.on("change keyup postrender",
                    function() {
                        t.repaintColor(t.value())
                    })
                },
                repaintColor: function(e) {
                    var t = this.getEl("open"),
                    n = t ? t.getElementsByTagName("i")[0] : null;
                    if (n) try {
                        n.style.background = e
                    } catch(e) {}
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:value",
                    function(t) {
                        e.state.get("rendered") && e.repaintColor(t.value)
                    }),
                    e._super()
                }
            }),
            Qt = $t.extend({
                showPanel: function() {
                    var e = this,
                    t = e.settings;
                    if (e.classes.add("opened"), e.panel) e.panel.show();
                    else {
                        var n = t.panel;
                        n.type && (n = {
                            layout: "grid",
                            items: n
                        }),
                        n.role = n.role || "dialog",
                        n.popover = !0,
                        n.autohide = !0,
                        n.ariaRoot = !0,
                        e.panel = new _t(n).on("hide",
                        function() {
                            e.classes.remove("opened")
                        }).on("cancel",
                        function(t) {
                            t.stopPropagation(),
                            e.focus(),
                            e.hidePanel()
                        }).parent(e).renderTo(e.getContainerElm()),
                        e.panel.fire("show"),
                        e.panel.reflow()
                    }
                    var r = e.panel.testMoveRel(e.getEl(), t.popoverAlign || (e.isRtl() ? ["bc-tc", "bc-tl", "bc-tr"] : ["bc-tc", "bc-tr", "bc-tl", "tc-bc", "tc-br", "tc-bl"]));
                    e.panel.classes.toggle("start", "l" === r.substr( - 1)),
                    e.panel.classes.toggle("end", "r" === r.substr( - 1));
                    var o = "t" === r.substr(0, 1);
                    e.panel.classes.toggle("bottom", !o),
                    e.panel.classes.toggle("top", o),
                    e.panel.moveRel(e.getEl(), r)
                },
                hidePanel: function() {
                    this.panel && this.panel.hide()
                },
                postRender: function() {
                    var e = this;
                    return e.aria("haspopup", !0),
                    e.on("click",
                    function(t) {
                        t.control === e && (e.panel && e.panel.visible() ? e.hidePanel() : (e.showPanel(), e.panel.focus( !! t.aria)))
                    }),
                    e._super()
                },
                remove: function() {
                    return this.panel && (this.panel.remove(), this.panel = null),
                    this._super()
                }
            }),
            Zt = c.DOM,
            en = Qt.extend({
                init: function(e) {
                    this._super(e),
                    this.classes.add("splitbtn"),
                    this.classes.add("colorbutton")
                },
                color: function(e) {
                    return e ? (this._color = e, this.getEl("preview").style.backgroundColor = e, this) : this._color
                },
                resetColor: function() {
                    return this._color = null,
                    this.getEl("preview").style.backgroundColor = null,
                    this
                },
                renderHtml: function() {
                    var e = this._id,
                    t = this.classPrefix,
                    n = this.state.get("text"),
                    r = this.settings.icon ? t + "ico " + t + "i-" + this.settings.icon: "",
                    o = this.settings.image ? " style=\"background-image: url('" + this.settings.image + "')\"": "",
                    i = "";
                    return n && (this.classes.add("btn-has-text"), i = '<span class="' + t + 'txt">' + this.encode(n) + "</span>"),
                    '<div id="' + e + '" class="' + this.classes + '" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">' + (r ? '<i class="' + r + '"' + o + "></i>": "") + '<span id="' + e + '-preview" class="' + t + 'preview"></span>' + i + '</button><button type="button" class="' + t + 'open" hidefocus="1" tabindex="-1"> <i class="' + t + 'caret"></i></button></div>'
                },
                postRender: function() {
                    var e = this,
                    t = e.settings.onclick;
                    return e.on("click",
                    function(n) {
                        n.aria && "down" === n.aria.key || n.control !== e || Zt.getParent(n.target, "." + e.classPrefix + "open") || (n.stopImmediatePropagation(), t.call(e, n))
                    }),
                    delete e.settings.onclick,
                    e._super()
                }
            }),
            tn = tinymce.util.Tools.resolve("tinymce.util.Color"),
            nn = Ot.extend({
                Defaults: {
                    classes: "widget colorpicker"
                },
                init: function(e) {
                    this._super(e)
                },
                postRender: function() {
                    var e, t, n, r, o, i = this,
                    a = i.color();
                    function s(e, t) {
                        var n, r, o = we.getPos(e);
                        return n = t.pageX - o.x,
                        r = t.pageY - o.y,
                        {
                            x: n = Math.max(0, Math.min(n / e.clientWidth, 1)),
                            y: r = Math.max(0, Math.min(r / e.clientHeight, 1))
                        }
                    }
                    function l(e, t) {
                        var a = (360 - e.h) / 360;
                        we.css(n, {
                            top: 100 * a + "%"
                        }),
                        t || we.css(o, {
                            left: e.s + "%",
                            top: 100 - e.v + "%"
                        }),
                        r.style.background = tn({
                            s: 100,
                            v: 100,
                            h: e.h
                        }).toHex(),
                        i.color().parse({
                            s: e.s,
                            v: e.v,
                            h: e.h
                        })
                    }
                    function u(t) {
                        var n;
                        n = s(r, t),
                        e.s = 100 * n.x,
                        e.v = 100 * (1 - n.y),
                        l(e),
                        i.fire("change")
                    }
                    function c(n) {
                        var r;
                        r = s(t, n),
                        (e = a.toHsv()).h = 360 * (1 - r.y),
                        l(e, !0),
                        i.fire("change")
                    }
                    t = i.getEl("h"),
                    n = i.getEl("hp"),
                    r = i.getEl("sv"),
                    o = i.getEl("svp"),
                    i._repaint = function() {
                        l(e = a.toHsv())
                    },
                    i._super(),
                    i._svdraghelper = new ut(i._id + "-sv", {
                        start: u,
                        drag: u
                    }),
                    i._hdraghelper = new ut(i._id + "-h", {
                        start: c,
                        drag: c
                    }),
                    i._repaint()
                },
                rgb: function() {
                    return this.color().toRgb()
                },
                value: function(e) {
                    if (!arguments.length) return this.color().toHex();
                    this.color().parse(e),
                    this._rendered && this._repaint()
                },
                color: function() {
                    return this._color || (this._color = tn()),
                    this._color
                },
                renderHtml: function() {
                    var e, t = this._id,
                    n = this.classPrefix,
                    r = "#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";
                    return e = '<div id="' + t + '-h" class="' + n + 'colorpicker-h" style="background: -ms-linear-gradient(top,' + r + ");background: linear-gradient(to bottom," + r + ');">' +
                    function() {
                        var e, t, o, i, a = "";
                        for (o = "filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=", e = 0, t = (i = r.split(",")).length - 1; e < t; e++) a += '<div class="' + n + 'colorpicker-h-chunk" style="height:' + 100 / t + "%;" + o + i[e] + ",endColorstr=" + i[e + 1] + ");-ms-" + o + i[e] + ",endColorstr=" + i[e + 1] + ')"></div>';
                        return a
                    } () + '<div id="' + t + '-hp" class="' + n + 'colorpicker-h-marker"></div></div>',
                    '<div id="' + t + '" class="' + this.classes + '"><div id="' + t + '-sv" class="' + n + 'colorpicker-sv"><div class="' + n + 'colorpicker-overlay1"><div class="' + n + 'colorpicker-overlay2"><div id="' + t + '-svp" class="' + n + 'colorpicker-selector1"><div class="' + n + 'colorpicker-selector2"></div></div></div></div></div>' + e + "</div>"
                }
            }),
            rn = Ot.extend({
                init: function(e) {
                    e = r.extend({
                        height: 100,
                        text: "Drop an image here",
                        multiple: !1,
                        accept: null
                    },
                    e),
                    this._super(e),
                    this.classes.add("dropzone"),
                    e.multiple && this.classes.add("multiple")
                },
                renderHtml: function() {
                    var e, t, n = this.settings;
                    return e = {
                        id: this._id,
                        hidefocus: "1"
                    },
                    t = we.create("div", e, "<span>" + this.translate(n.text) + "</span>"),
                    n.height && we.css(t, "height", n.height + "px"),
                    n.width && we.css(t, "width", n.width + "px"),
                    t.className = this.classes,
                    t.outerHTML
                },
                postRender: function() {
                    var e = this,
                    t = function(t) {
                        t.preventDefault(),
                        e.classes.toggle("dragenter"),
                        e.getEl().className = e.classes
                    };
                    e._super(),
                    e.$el.on("dragover",
                    function(e) {
                        e.preventDefault()
                    }),
                    e.$el.on("dragenter", t),
                    e.$el.on("dragleave", t),
                    e.$el.on("drop",
                    function(t) {
                        if (t.preventDefault(), !e.state.get("disabled")) {
                            var n = function(t) {
                                var n = e.settings.accept;
                                if ("string" != typeof n) return t;
                                var o = new RegExp("(" + n.split(/\s*,\s*/).join("|") + ")$", "i");
                                return r.grep(t,
                                function(e) {
                                    return o.test(e.name)
                                })
                            } (t.dataTransfer.files);
                            e.value = function() {
                                return n.length ? e.settings.multiple ? n: n[0] : null
                            },
                            n.length && e.fire("change", t)
                        }
                    })
                },
                remove: function() {
                    this.$el.off(),
                    this._super()
                }
            }),
            on = Ot.extend({
                init: function(e) {
                    var t = this;
                    e.delimiter || (e.delimiter = "»"),
                    t._super(e),
                    t.classes.add("path"),
                    t.canFocus = !0,
                    t.on("click",
                    function(e) {
                        var n; (n = e.target.getAttribute("data-index")) && t.fire("select", {
                            value: t.row()[n],
                            index: n
                        })
                    }),
                    t.row(t.settings.row)
                },
                focus: function() {
                    return this.getEl().firstChild.focus(),
                    this
                },
                row: function(e) {
                    return arguments.length ? (this.state.set("row", e), this) : this.state.get("row")
                },
                renderHtml: function() {
                    return '<div id="' + this._id + '" class="' + this.classes + '">' + this._getDataPathHtml(this.state.get("row")) + "</div>"
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:row",
                    function(t) {
                        e.innerHtml(e._getDataPathHtml(t.value))
                    }),
                    e._super()
                },
                _getDataPathHtml: function(e) {
                    var t, n, r = e || [],
                    o = "",
                    i = this.classPrefix;
                    for (t = 0, n = r.length; t < n; t++) o += (t > 0 ? '<div class="' + i + 'divider" aria-hidden="true"> ' + this.settings.delimiter + " </div>": "") + '<div role="button" class="' + i + "path-item" + (t === n - 1 ? " " + i + "last": "") + '" data-index="' + t + '" tabindex="-1" id="' + this._id + "-" + t + '" aria-level="' + (t + 1) + '">' + r[t].name + "</div>";
                    return o || (o = '<div class="' + i + 'path-item"> </div>'),
                    o
                }
            }),
            an = on.extend({
                postRender: function() {
                    var e = this,
                    t = e.settings.editor;
                    function n(e) {
                        if (1 === e.nodeType) {
                            if ("BR" === e.nodeName || e.getAttribute("data-mce-bogus")) return ! 0;
                            if ("bookmark" === e.getAttribute("data-mce-type")) return ! 0
                        }
                        return ! 1
                    }
                    return ! 1 !== t.settings.elementpath && (e.on("select",
                    function(e) {
                        t.focus(),
                        t.selection.select(this.row()[e.index].element),
                        t.nodeChanged()
                    }), t.on("nodeChange",
                    function(r) {
                        for (var o = [], i = r.parents, a = i.length; a--;) if (1 === i[a].nodeType && !n(i[a])) {
                            var s = t.fire("ResolveName", {
                                name: i[a].nodeName.toLowerCase(),
                                target: i[a]
                            });
                            if (s.isDefaultPrevented() || o.push({
                                name: s.name,
                                element: i[a]
                            }), s.isPropagationStopped()) break
                        }
                        e.row(o)
                    })),
                    e._super()
                }
            }),
            sn = st.extend({
                Defaults: {
                    layout: "flex",
                    align: "center",
                    defaults: {
                        flex: 1
                    }
                },
                renderHtml: function() {
                    var e = this._layout,
                    t = this.classPrefix;
                    return this.classes.add("formitem"),
                    e.preRender(this),
                    '<div id="' + this._id + '" class="' + this.classes + '" hidefocus="1" tabindex="-1">' + (this.settings.title ? '<div id="' + this._id + '-title" class="' + t + 'title">' + this.settings.title + "</div>": "") + '<div id="' + this._id + '-body" class="' + this.bodyClasses + '">' + (this.settings.html || "") + e.renderHtml(this) + "</div></div>"
                }
            }),
            ln = st.extend({
                Defaults: {
                    containerCls: "form",
                    layout: "flex",
                    direction: "column",
                    align: "stretch",
                    flex: 1,
                    padding: 15,
                    labelGap: 30,
                    spacing: 10,
                    callbacks: {
                        submit: function() {
                            this.submit()
                        }
                    }
                },
                preRender: function() {
                    var e = this,
                    t = e.items();
                    e.settings.formItemDefaults || (e.settings.formItemDefaults = {
                        layout: "flex",
                        autoResize: "overflow",
                        defaults: {
                            flex: 1
                        }
                    }),
                    t.each(function(t) {
                        var n, o = t.settings.label;
                        o && ((n = new sn(r.extend({
                            items: {
                                type: "label",
                                id: t._id + "-l",
                                text: o,
                                flex: 0,
                                forId: t._id,
                                disabled: t.disabled()
                            }
                        },
                        e.settings.formItemDefaults))).type = "formitem", t.aria("labelledby", t._id + "-l"), void 0 === t.settings.flex && (t.settings.flex = 1), e.replace(t, n), n.add(t))
                    })
                },
                submit: function() {
                    return this.fire("submit", {
                        data: this.toJSON()
                    })
                },
                postRender: function() {
                    this._super(),
                    this.fromJSON(this.settings.data)
                },
                bindStates: function() {
                    var e = this;
                    function t() {
                        var t, n, r = 0,
                        o = [];
                        if (!1 !== e.settings.labelGapCalc) for (("children" === e.settings.labelGapCalc ? e.find("formitem") : e.items()).filter("formitem").each(function(e) {
                            var t = e.items()[0],
                            n = t.getEl().clientWidth;
                            r = n > r ? n: r,
                            o.push(t)
                        }), n = e.settings.labelGap || 0, t = o.length; t--;) o[t].settings.minWidth = r + n
                    }
                    e._super(),
                    e.on("show", t),
                    t()
                }
            }),
            un = ln.extend({
                Defaults: {
                    containerCls: "fieldset",
                    layout: "flex",
                    direction: "column",
                    align: "stretch",
                    flex: 1,
                    padding: "25 15 5 15",
                    labelGap: 30,
                    spacing: 10,
                    border: 1
                },
                renderHtml: function() {
                    var e = this._layout,
                    t = this.classPrefix;
                    return this.preRender(),
                    e.preRender(this),
                    '<fieldset id="' + this._id + '" class="' + this.classes + '" hidefocus="1" tabindex="-1">' + (this.settings.title ? '<legend id="' + this._id + '-title" class="' + t + 'fieldset-title">' + this.settings.title + "</legend>": "") + '<div id="' + this._id + '-body" class="' + this.bodyClasses + '">' + (this.settings.html || "") + e.renderHtml(this) + "</div></fieldset>"
                }
            }),
            cn = 0,
            dn = function(e) {
                if (null == e) throw new Error("Node cannot be null or undefined");
                return {
                    dom: x(e)
                }
            },
            fn = {
                fromHtml: function(e, t) {
                    var n = (t || document).createElement("div");
                    if (n.innerHTML = e, !n.hasChildNodes() || n.childNodes.length > 1) throw "HTML must have a single root node";
                    return dn(n.childNodes[0])
                },
                fromTag: function(e, t) {
                    var n = (t || document).createElement(e);
                    return dn(n)
                },
                fromText: function(e, t) {
                    var n = (t || document).createTextNode(e);
                    return dn(n)
                },
                fromDom: dn,
                fromPoint: function(e, t, n) {
                    var r = e.dom();
                    return R.from(r.elementFromPoint(t, n)).map(dn)
                }
            },
            mn = function(e) {
                var t, n = !1;
                return function() {
                    for (var r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
                    return n || (n = !0, t = e.apply(null, r)),
                    t
                }
            },
            pn = {
                ATTRIBUTE: Node.ATTRIBUTE_NODE,
                CDATA_SECTION: Node.CDATA_SECTION_NODE,
                COMMENT: Node.COMMENT_NODE,
                DOCUMENT: Node.DOCUMENT_NODE,
                DOCUMENT_TYPE: Node.DOCUMENT_TYPE_NODE,
                DOCUMENT_FRAGMENT: Node.DOCUMENT_FRAGMENT_NODE,
                ELEMENT: Node.ELEMENT_NODE,
                TEXT: Node.TEXT_NODE,
                PROCESSING_INSTRUCTION: Node.PROCESSING_INSTRUCTION_NODE,
                ENTITY_REFERENCE: Node.ENTITY_REFERENCE_NODE,
                ENTITY: Node.ENTITY_NODE,
                NOTATION: Node.NOTATION_NODE
            },
            hn = function(e) {
                return e.dom().nodeType
            },
            gn = function(e) {
                return function(t) {
                    return hn(t) === e
                }
            },
            vn = (gn(pn.ELEMENT), gn(pn.TEXT), gn(pn.DOCUMENT), mn(function() {
                return vn(fn.fromDom(document))
            }),
            function(e) {
                var t = e.dom().body;
                if (null == t) throw "Body is not available yet";
                return fn.fromDom(t)
            }),
            bn = ("undefined" != typeof window ? window: Function("return this;")(),
            function() {
                return yn(0, 0)
            }),
            yn = function(e, t) {
                return {
                    major: e,
                    minor: t
                }
            },
            wn = {
                nu: yn,
                detect: function(e, t) {
                    var n = String(t).toLowerCase();
                    return 0 === e.length ? bn() : function(e, t) {
                        var n = function(e, t) {
                            for (var n = 0; n < e.length; n++) {
                                var r = e[n];
                                if (r.test(t)) return r
                            }
                        } (e, t);
                        if (!n) return {
                            major: 0,
                            minor: 0
                        };
                        var r = function(e) {
                            return Number(t.replace(n, "$" + e))
                        };
                        return yn(r(1), r(2))
                    } (e, n)
                },
                unknown: bn
            },
            xn = function(e, t) {
                return function() {
                    return t === e
                }
            },
            Cn = function(e) {
                var t = e.current;
                return {
                    current: t,
                    version: e.version,
                    isEdge: xn("Edge", t),
                    isChrome: xn("Chrome", t),
                    isIE: xn("IE", t),
                    isOpera: xn("Opera", t),
                    isFirefox: xn("Firefox", t),
                    isSafari: xn("Safari", t)
                }
            },
            _n = {
                unknown: function() {
                    return Cn({
                        current: void 0,
                        version: wn.unknown()
                    })
                },
                nu: Cn,
                edge: x("Edge"),
                chrome: x("Chrome"),
                ie: x("IE"),
                opera: x("Opera"),
                firefox: x("Firefox"),
                safari: x("Safari")
            },
            kn = function(e, t) {
                return function() {
                    return t === e
                }
            },
            En = function(e) {
                var t = e.current;
                return {
                    current: t,
                    version: e.version,
                    isWindows: kn("Windows", t),
                    isiOS: kn("iOS", t),
                    isAndroid: kn("Android", t),
                    isOSX: kn("OSX", t),
                    isLinux: kn("Linux", t),
                    isSolaris: kn("Solaris", t),
                    isFreeBSD: kn("FreeBSD", t)
                }
            },
            Tn = {
                unknown: function() {
                    return En({
                        current: void 0,
                        version: wn.unknown()
                    })
                },
                nu: En,
                windows: x("Windows"),
                ios: x("iOS"),
                android: x("Android"),
                linux: x("Linux"),
                osx: x("OSX"),
                solaris: x("Solaris"),
                freebsd: x("FreeBSD")
            },
            Sn = function(e, t) {
                var n = String(t).toLowerCase();
                return Y(e,
                function(e) {
                    return e.search(n)
                })
            },
            Nn = function(e, t) {
                return Sn(e, t).map(function(e) {
                    var n = wn.detect(e.versionRegexes, t);
                    return {
                        current: e.name,
                        version: n
                    }
                })
            },
            Rn = function(e, t) {
                return Sn(e, t).map(function(e) {
                    var n = wn.detect(e.versionRegexes, t);
                    return {
                        current: e.name,
                        version: n
                    }
                })
            },
            An = function(e, t) {
                return - 1 !== e.indexOf(t)
            },
            On = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
            Dn = function(e) {
                return function(t) {
                    return An(t, e)
                }
            },
            Pn = [{
                name: "Edge",
                versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
                search: function(e) {
                    return An(e, "edge/") && An(e, "chrome") && An(e, "safari") && An(e, "applewebkit")
                }
            },
            {
                name: "Chrome",
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, On],
                search: function(e) {
                    return An(e, "chrome") && !An(e, "chromeframe")
                }
            },
            {
                name: "IE",
                versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
                search: function(e) {
                    return An(e, "msie") || An(e, "trident")
                }
            },
            {
                name: "Opera",
                versionRegexes: [On, /.*?opera\/([0-9]+)\.([0-9]+).*/],
                search: Dn("opera")
            },
            {
                name: "Firefox",
                versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
                search: Dn("firefox")
            },
            {
                name: "Safari",
                versionRegexes: [On, /.*?cpu os ([0-9]+)_([0-9]+).*/],
                search: function(e) {
                    return (An(e, "safari") || An(e, "mobile/")) && An(e, "applewebkit")
                }
            }],
            Bn = [{
                name: "Windows",
                search: Dn("win"),
                versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
                name: "iOS",
                search: function(e) {
                    return An(e, "iphone") || An(e, "ipad")
                },
                versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
            },
            {
                name: "Android",
                search: Dn("android"),
                versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
                name: "OSX",
                search: Dn("os x"),
                versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
            },
            {
                name: "Linux",
                search: Dn("linux"),
                versionRegexes: []
            },
            {
                name: "Solaris",
                search: Dn("sunos"),
                versionRegexes: []
            },
            {
                name: "FreeBSD",
                search: Dn("freebsd"),
                versionRegexes: []
            }],
            Mn = {
                browsers: x(Pn),
                oses: x(Bn)
            },
            In = function(e) {
                var t = Mn.browsers(),
                n = Mn.oses(),
                r = Nn(t, e).fold(_n.unknown, _n.nu),
                o = Rn(n, e).fold(Tn.unknown, Tn.nu),
                i = function(e, t, n) {
                    var r = e.isiOS() && !0 === /ipad/i.test(n),
                    o = e.isiOS() && !r,
                    i = e.isAndroid() && 3 === e.version.major,
                    a = e.isAndroid() && 4 === e.version.major,
                    s = r || i || a && !0 === /mobile/i.test(n),
                    l = e.isiOS() || e.isAndroid(),
                    u = l && !s,
                    c = t.isSafari() && e.isiOS() && !1 === /safari/i.test(n);
                    return {
                        isiPad: x(r),
                        isiPhone: x(o),
                        isTablet: x(s),
                        isPhone: x(u),
                        isTouch: x(l),
                        isAndroid: e.isAndroid,
                        isiOS: e.isiOS,
                        isWebView: x(c)
                    }
                } (o, r, e);
                return {
                    browser: r,
                    os: o,
                    deviceType: i
                }
            },
            Ln = mn(function() {
                var e = navigator.userAgent;
                return In(e)
            }),
            Fn = pn.ELEMENT,
            Wn = pn.DOCUMENT,
            Hn = function(e) {
                return e.nodeType !== Fn && e.nodeType !== Wn || 0 === e.childElementCount
            },
            jn = {
                all: function(e, t) {
                    var n = void 0 === t ? document: t.dom();
                    return Hn(n) ? [] : $(n.querySelectorAll(e), fn.fromDom)
                },
                is: function(e, t) {
                    var n = e.dom();
                    if (n.nodeType !== Fn) return ! 1;
                    if (void 0 !== n.matches) return n.matches(t);
                    if (void 0 !== n.msMatchesSelector) return n.msMatchesSelector(t);
                    if (void 0 !== n.webkitMatchesSelector) return n.webkitMatchesSelector(t);
                    if (void 0 !== n.mozMatchesSelector) return n.mozMatchesSelector(t);
                    throw new Error("Browser lacks native selectors")
                },
                one: function(e, t) {
                    var n = void 0 === t ? document: t.dom();
                    return Hn(n) ? R.none() : R.from(n.querySelector(e)).map(fn.fromDom)
                }
            },
            Un = (Ln().browser.isIE(),
            function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            } ("element", "offset"),
            function(e, t) {
                return jn.all(t, e)
            }),
            zn = r.trim,
            Vn = function(e) {
                return function(t) {
                    if (t && 1 === t.nodeType) {
                        if (t.contentEditable === e) return ! 0;
                        if (t.getAttribute("data-mce-contenteditable") === e) return ! 0
                    }
                    return ! 1
                }
            },
            $n = Vn("true"),
            qn = Vn("false"),
            Kn = function(e, t, n, r, o) {
                return {
                    type: e,
                    title: t,
                    url: n,
                    level: r,
                    attach: o
                }
            },
            Yn = function(e) {
                return e.innerText || e.textContent
            },
            Xn = function(e) {
                return e.id ? e.id: (t = "h", n = (new Date).getTime(), t + "_" + Math.floor(1e9 * Math.random()) + ++cn + String(n));
                var t, n
            }, Gn = function(e) {
                return function(e) {
                    return e && "A" === e.nodeName && (e.id || e.name)
                } (e) && Qn(e)
            },
            Jn = function(e) {
                return e && /^(H[1-6])$/.test(e.nodeName)
            },
            Qn = function(e) {
                return function(e) {
                    for (; e = e.parentNode;) {
                        var t = e.contentEditable;
                        if (t && "inherit" !== t) return $n(e)
                    }
                    return ! 1
                } (e) && !qn(e)
            },
            Zn = function(e) {
                return Jn(e) && Qn(e)
            },
            er = function(e) {
                var t = Xn(e);
                return Kn("header", Yn(e), "#" + t,
                function(e) {
                    return Jn(e) ? parseInt(e.nodeName.substr(1), 10) : 0
                } (e),
                function() {
                    e.id = t
                })
            },
            tr = function(e) {
                var t = e.id || e.name,
                n = Yn(e);
                return Kn("anchor", n || "#" + t, "#" + t, 0, w)
            },
            nr = function(e) {
                var t, n;
                return t = "h1,h2,h3,h4,h5,h6,a:not([href])",
                n = e,
                $(Un(fn.fromDom(n), t),
                function(e) {
                    return e.dom()
                })
            },
            rr = function(e) {
                return zn(e.title).length > 0
            },
            or = function(e) {
                var t = nr(e);
                return K(function(e) {
                    return $(K(e, Zn), er)
                } (t).concat(function(e) {
                    return $(K(e, Gn), tr)
                } (t)), rr)
            },
            ir = {},
            ar = function(e) {
                return {
                    title: e.title,
                    value: {
                        title: {
                            raw: e.title
                        },
                        url: e.url,
                        attach: e.attach
                    }
                }
            },
            sr = function(e, t) {
                return {
                    title: e,
                    value: {
                        title: e,
                        url: t,
                        attach: w
                    }
                }
            },
            lr = function(e, t, n) {
                var r = t in e ? e[t] : n;
                return ! 1 === r ? null: r
            },
            ur = function(e, t, n, o) {
                var i, a, s, l = {
                    title: "-"
                },
                u = function(e) {
                    var o = e.hasOwnProperty(n) ? e[n] : [],
                    i = K(o,
                    function(e) {
                        return function(e, t) {
                            return ! V(t,
                            function(t) {
                                return t.url === e
                            })
                        } (e, t)
                    });
                    return r.map(i,
                    function(e) {
                        return {
                            title: e,
                            value: {
                                title: e,
                                url: e,
                                attach: w
                            }
                        }
                    })
                },
                c = function(e) {
                    return function(e) {
                        return r.map(e, ar)
                    } (K(t,
                    function(t) {
                        return t.type === e
                    }))
                };
                return ! 1 === o.typeahead_urls ? [] : "file" === n ? (i = [dr(e, u(ir)), dr(e, c("header")), dr(e,
                function() {
                    var e = c("anchor"),
                    t = lr(o, "anchor_top", "#top"),
                    n = lr(o, "anchor_bottom", "#bottom");
                    return null !== t && e.unshift(sr("<top>", t)),
                    null !== n && e.push(sr("<bottom>", n)),
                    e
                } ())], a = function(e, t) {
                    return 0 === e.length || 0 === t.length ? e.concat(t) : e.concat(l, t)
                },
                s = [], q(i,
                function(e) {
                    s = a(s, e)
                }), s) : dr(e, u(ir))
            },
            cr = function(e, t) {
                var n, r, o, i = ir[t];
                /^https?/.test(e) && (i ? (n = i, r = e, o = z(n, r), -1 === o ? R.none() : R.some(o)).isNone() && (ir[t] = i.slice(0, 5).concat(e)) : ir[t] = [e])
            },
            dr = function(e, t) {
                var n = e.toLowerCase(),
                o = r.grep(t,
                function(e) {
                    return - 1 !== e.title.toLowerCase().indexOf(n)
                });
                return 1 === o.length && o[0].title === e ? [] : o
            },
            fr = function(e, t, n) {
                var r = t.filepicker_validator_handler;
                r && e.state.on("change:value",
                function(t) {
                    var o;
                    0 !== (o = t.value).length ? r({
                        url: o,
                        type: n
                    },
                    function(t) {
                        var n = function(e) {
                            var t = e.status,
                            n = e.message;
                            return "valid" === t ? {
                                status: "ok",
                                message: n
                            }: "unknown" === t ? {
                                status: "warn",
                                message: n
                            }: "invalid" === t ? {
                                status: "warn",
                                message: n
                            }: {
                                status: "none",
                                message: ""
                            }
                        } (t);
                        e.statusMessage(n.message),
                        e.statusLevel(n.status)
                    }) : e.statusLevel("none")
                })
            },
            mr = Gt.extend({
                Statics: {
                    clearHistory: function() {
                        ir = {}
                    }
                },
                init: function(e) {
                    var t, o, i, a = this,
                    s = window.tinymce ? window.tinymce.activeEditor: n.activeEditor,
                    l = s.settings,
                    u = e.filetype;
                    e.spellcheck = !1,
                    (i = l.file_picker_types || l.file_browser_callback_types) && (i = r.makeMap(i, /[, ]/)),
                    i && !i[u] || (!(o = l.file_picker_callback) || i && !i[u] ? !(o = l.file_browser_callback) || i && !i[u] || (t = function() {
                        o(a.getEl("inp").id, a.value(), u, window)
                    }) : t = function() {
                        var e = a.fire("beforecall").meta;
                        e = r.extend({
                            filetype: u
                        },
                        e),
                        o.call(s,
                        function(e, t) {
                            a.value(e).fire("change", {
                                meta: t
                            })
                        },
                        a.value(), e)
                    }),
                    t && (e.icon = "browse", e.onaction = t),
                    a._super(e),
                    a.classes.add("filepicker"),
                    function(e, t, n, r) {
                        var o = function(o) {
                            var i = or(n),
                            a = ur(o, i, r, t);
                            e.showAutoComplete(a, o)
                        };
                        e.on("autocomplete",
                        function() {
                            o(e.value())
                        }),
                        e.on("selectitem",
                        function(t) {
                            var n = t.value;
                            e.value(n.url);
                            var o = function(e) {
                                var t = e.title;
                                return t.raw ? t.raw: t
                            } (n);
                            "image" === r ? e.fire("change", {
                                meta: {
                                    alt: o,
                                    attach: n.attach
                                }
                            }) : e.fire("change", {
                                meta: {
                                    text: o,
                                    attach: n.attach
                                }
                            }),
                            e.focus()
                        }),
                        e.on("click",
                        function(t) {
                            0 === e.value().length && "INPUT" === t.target.nodeName && o("")
                        }),
                        e.on("PostRender",
                        function() {
                            e.getRoot().on("submit",
                            function(t) {
                                t.isDefaultPrevented() || cr(e.value(), r)
                            })
                        })
                    } (a, l, s.getBody(), u),
                    fr(a, l, u)
                }
            }),
            pr = Vt.extend({
                recalc: function(e) {
                    var t = e.layoutRect(),
                    n = e.paddingBox;
                    e.items().filter(":visible").each(function(e) {
                        e.layoutRect({
                            x: n.left,
                            y: n.top,
                            w: t.innerW - n.right - n.left,
                            h: t.innerH - n.top - n.bottom
                        }),
                        e.recalc && e.recalc()
                    })
                }
            }),
            hr = Vt.extend({
                recalc: function(e) {
                    var t, n, r, o, i, a, s, l, u, c, d, f, m, p, h, g, v, b, y, w, x, C, _, k, E, T, S, N, R, A, O, D, P, B, M, I, L, F = [],
                    W = Math.max,
                    H = Math.min;
                    for (r = e.items().filter(":visible"), o = e.layoutRect(), i = e.paddingBox, a = e.settings, f = e.isRtl() ? a.direction || "row-reversed": a.direction, s = a.align, l = e.isRtl() ? a.pack || "end": a.pack, u = a.spacing || 0, "row-reversed" !== f && "column-reverse" !== f || (r = r.set(r.toArray().reverse()), f = f.split("-")[0]), "column" === f ? (k = "y", C = "h", _ = "minH", E = "maxH", S = "innerH", T = "top", N = "deltaH", R = "contentH", B = "left", D = "w", A = "x", O = "innerW", P = "minW", M = "right", I = "deltaW", L = "contentW") : (k = "x", C = "w", _ = "minW", E = "maxW", S = "innerW", T = "left", N = "deltaW", R = "contentW", B = "top", D = "h", A = "y", O = "innerH", P = "minH", M = "bottom", I = "deltaH", L = "contentH"), d = o[S] - i[T] - i[T], x = c = 0, t = 0, n = r.length; t < n; t++) p = (m = r[t]).layoutRect(),
                    d -= t < n - 1 ? u: 0,
                    (h = m.settings.flex) > 0 && (c += h, p[E] && F.push(m), p.flex = h),
                    d -= p[_],
                    (g = i[B] + p[P] + i[M]) > x && (x = g);
                    if ((y = {})[_] = d < 0 ? o[_] - d + o[N] : o[S] - d + o[N], y[P] = x + o[I], y[R] = o[S] - d, y[L] = x, y.minW = H(y.minW, o.maxW), y.minH = H(y.minH, o.maxH), y.minW = W(y.minW, o.startMinWidth), y.minH = W(y.minH, o.startMinHeight), !o.autoResize || y.minW === o.minW && y.minH === o.minH) {
                        for (b = d / c, t = 0, n = F.length; t < n; t++) v = (p = (m = F[t]).layoutRect())[E],
                        (g = p[_] + p.flex * b) > v ? (d -= p[E] - p[_], c -= p.flex, p.flex = 0, p.maxFlexSize = v) : p.maxFlexSize = 0;
                        for (b = d / c, w = i[T], y = {},
                        0 === c && ("end" === l ? w = d + i[T] : "center" === l ? (w = Math.round(o[S] / 2 - (o[S] - d) / 2) + i[T]) < 0 && (w = i[T]) : "justify" === l && (w = i[T], u = Math.floor(d / (r.length - 1)))), y[A] = i[B], t = 0, n = r.length; t < n; t++) g = (p = (m = r[t]).layoutRect()).maxFlexSize || p[_],
                        "center" === s ? y[A] = Math.round(o[O] / 2 - p[D] / 2) : "stretch" === s ? (y[D] = W(p[P] || 0, o[O] - i[B] - i[M]), y[A] = i[B]) : "end" === s && (y[A] = o[O] - p[D] - i.top),
                        p.flex > 0 && (g += p.flex * b),
                        y[C] = g,
                        y[k] = w,
                        m.layoutRect(y),
                        m.recalc && m.recalc(),
                        w += g + u
                    } else if (y.w = y.minW, y.h = y.minH, e.layoutRect(y), this.recalc(e), null === e._lastRect) {
                        var j = e.parent();
                        j && (j._lastRect = null, j.recalc())
                    }
                }
            }),
            gr = zt.extend({
                Defaults: {
                    containerClass: "flow-layout",
                    controlClass: "flow-layout-item",
                    endClass: "break"
                },
                recalc: function(e) {
                    e.items().filter(":visible").each(function(e) {
                        e.recalc && e.recalc()
                    })
                },
                isNative: function() {
                    return ! 0
                }
            }),
            vr = function(e, t) {
                return jn.one(t, e)
            },
            br = function(e, t) {
                return function() {
                    e.execCommand("mceToggleFormat", !1, t)
                }
            },
            yr = function(e, t, n) {
                var r = function(e) {
                    n(e, t)
                };
                e.formatter ? e.formatter.formatChanged(t, r) : e.on("init",
                function() {
                    e.formatter.formatChanged(t, r)
                })
            },
            wr = function(e, t) {
                return function(n) {
                    yr(e, t,
                    function(e) {
                        n.control.active(e)
                    })
                }
            },
            xr = function(e) {
                var t = ["alignleft", "aligncenter", "alignright", "alignjustify"],
                n = [{
                    text: "Left",
                    icon: "alignleft",
                    onclick: br(e, "alignleft")
                },
                {
                    text: "Center",
                    icon: "aligncenter",
                    onclick: br(e, "aligncenter")
                },
                {
                    text: "Right",
                    icon: "alignright",
                    onclick: br(e, "alignright")
                },
                {
                    text: "Justify",
                    icon: "alignjustify",
                    onclick: br(e, "alignjustify")
                }];
                e.addMenuItem("align", {
                    text: "Align",
                    menu: n
                }),
                e.addButton("align", {
                    type: "menubutton",
                    icon: "alignleft",
                    menu: n,
                    onShowMenu: function(n) {
                        var o = n.control.menu;
                        r.each(t,
                        function(t, n) {
                            o.items().eq(n).each(function(n) {
                                return n.active(e.formatter.match(t))
                            })
                        })
                    },
                    onPostRender: function(n) {
                        var o = n.control;
                        r.each(t,
                        function(t, n) {
                            yr(e, t,
                            function(e) {
                                o.icon("alignleft"),
                                e && o.icon(t)
                            })
                        })
                    }
                }),
                r.each({
                    alignleft: ["Align left", "JustifyLeft"],
                    aligncenter: ["Align center", "JustifyCenter"],
                    alignright: ["Align right", "JustifyRight"],
                    alignjustify: ["Justify", "JustifyFull"],
                    alignnone: ["No alignment", "JustifyNone"]
                },
                function(t, n) {
                    e.addButton(n, {
                        active: !1,
                        tooltip: t[0],
                        cmd: t[1],
                        onPostRender: wr(e, n)
                    })
                })
            },
            Cr = function(e) {
                return e ? e.split(",")[0] : ""
            },
            _r = function(e, t) {
                return function() {
                    var n = this;
                    n.state.set("value", null),
                    e.on("init nodeChange",
                    function(o) {
                        var i = e.queryCommandValue("FontName"),
                        a = function(e, t) {
                            var n, o = t ? t.toLowerCase() : "";
                            return r.each(e,
                            function(e) {
                                e.value.toLowerCase() === o && (n = e.value)
                            }),
                            r.each(e,
                            function(e) {
                                n || Cr(e.value).toLowerCase() !== Cr(o).toLowerCase() || (n = e.value)
                            }),
                            n
                        } (t, i);
                        n.value(a || null),
                        !a && i && n.text(Cr(i))
                    })
                }
            },
            kr = function(e) {
                e.addButton("fontselect",
                function() {
                    var t = function(e) {
                        var t = function(e) {
                            for (var t = (e = e.replace(/;$/, "").split(";")).length; t--;) e[t] = e[t].split("=");
                            return e
                        } (e.settings.font_formats || "Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
                        return r.map(t,
                        function(e) {
                            return {
                                text: {
                                    raw: e[0]
                                },
                                value: e[1],
                                textStyle: -1 === e[1].indexOf("dings") ? "font-family:" + e[1] : ""
                            }
                        })
                    } (e);
                    return {
                        type: "listbox",
                        text: "Font Family",
                        tooltip: "Font Family",
                        values: t,
                        fixedWidth: !0,
                        onPostRender: _r(e, t),
                        onselect: function(t) {
                            t.control.settings.value && e.execCommand("FontName", !1, t.control.settings.value)
                        }
                    }
                })
            },
            Er = function(e) {
                kr(e)
            },
            Tr = function(e, t) {
                return /[0-9.]+px$/.test(e) ?
                function(e, t) {
                    var n = Math.pow(10, t);
                    return Math.round(e * n) / n
                } (72 * parseInt(e, 10) / 96, t || 0) + "pt": e
            },
            Sr = function(e, t, n) {
                var o;
                return r.each(e,
                function(e) {
                    e.value === n ? o = n: e.value === t && (o = t)
                }),
                o
            },
            Nr = function(e, t) {
                return function() {
                    var n = this;
                    e.on("init nodeChange",
                    function(r) {
                        var o, i, a, s;
                        if (o = e.queryCommandValue("FontSize")) for (a = 3; ! s && a >= 0; a--) i = Tr(o, a),
                        s = Sr(t, i, o);
                        n.value(s || null),
                        s || n.text(i)
                    })
                }
            },
            Rr = function(e) {
                e.addButton("fontsizeselect",
                function() {
                    var t = function(e) {
                        var t = e.settings.fontsize_formats || "8pt 10pt 12pt 14pt 18pt 24pt 36pt";
                        return r.map(t.split(" "),
                        function(e) {
                            var t = e,
                            n = e,
                            r = e.split("=");
                            return r.length > 1 && (t = r[0], n = r[1]),
                            {
                                text: t,
                                value: n
                            }
                        })
                    } (e);
                    return {
                        type: "listbox",
                        text: "Font Sizes",
                        tooltip: "Font Sizes",
                        values: t,
                        fixedWidth: !0,
                        onPostRender: Nr(e, t),
                        onclick: function(t) {
                            t.control.settings.value && e.execCommand("FontSize", !1, t.control.settings.value)
                        }
                    }
                })
            },
            Ar = function(e) {
                Rr(e)
            },
            Or = function(e, t) {
                var n = t.length;
                return r.each(t,
                function(t) {
                    t.menu && (t.hidden = 0 === Or(e, t.menu));
                    var r = t.format;
                    r && (t.hidden = !e.formatter.canApply(r)),
                    t.hidden && n--
                }),
                n
            },
            Dr = function(e, t) {
                var n = t.items().length;
                return t.items().each(function(t) {
                    t.menu && t.visible(Dr(e, t.menu) > 0),
                    !t.menu && t.settings.menu && t.visible(Or(e, t.settings.menu) > 0);
                    var r = t.settings.format;
                    r && t.visible(e.formatter.canApply(r)),
                    t.visible() || n--
                }),
                n
            },
            Pr = function(e) {
                var t = function(e) {
                    var t = 0,
                    n = [],
                    o = [{
                        title: "Headings",
                        items: [{
                            title: "Heading 1",
                            format: "h1"
                        },
                        {
                            title: "Heading 2",
                            format: "h2"
                        },
                        {
                            title: "Heading 3",
                            format: "h3"
                        },
                        {
                            title: "Heading 4",
                            format: "h4"
                        },
                        {
                            title: "Heading 5",
                            format: "h5"
                        },
                        {
                            title: "Heading 6",
                            format: "h6"
                        }]
                    },
                    {
                        title: "Inline",
                        items: [{
                            title: "Bold",
                            icon: "bold",
                            format: "bold"
                        },
                        {
                            title: "Italic",
                            icon: "italic",
                            format: "italic"
                        },
                        {
                            title: "Underline",
                            icon: "underline",
                            format: "underline"
                        },
                        {
                            title: "Strikethrough",
                            icon: "strikethrough",
                            format: "strikethrough"
                        },
                        {
                            title: "Superscript",
                            icon: "superscript",
                            format: "superscript"
                        },
                        {
                            title: "Subscript",
                            icon: "subscript",
                            format: "subscript"
                        },
                        {
                            title: "Code",
                            icon: "code",
                            format: "code"
                        }]
                    },
                    {
                        title: "Blocks",
                        items: [{
                            title: "Paragraph",
                            format: "p"
                        },
                        {
                            title: "Blockquote",
                            format: "blockquote"
                        },
                        {
                            title: "Div",
                            format: "div"
                        },
                        {
                            title: "Pre",
                            format: "pre"
                        }]
                    },
                    {
                        title: "Alignment",
                        items: [{
                            title: "Left",
                            icon: "alignleft",
                            format: "alignleft"
                        },
                        {
                            title: "Center",
                            icon: "aligncenter",
                            format: "aligncenter"
                        },
                        {
                            title: "Right",
                            icon: "alignright",
                            format: "alignright"
                        },
                        {
                            title: "Justify",
                            icon: "alignjustify",
                            format: "alignjustify"
                        }]
                    }],
                    i = function(e) {
                        var o = [];
                        if (e) return r.each(e,
                        function(e) {
                            var r = {
                                text: e.title,
                                icon: e.icon
                            };
                            if (e.items) r.menu = i(e.items);
                            else {
                                var a = e.format || "custom" + t++;
                                e.format || (e.name = a, n.push(e)),
                                r.format = a,
                                r.cmd = e.cmd
                            }
                            o.push(r)
                        }),
                        o
                    };
                    return e.on("init",
                    function() {
                        r.each(n,
                        function(t) {
                            e.formatter.register(t.name, t)
                        })
                    }),
                    {
                        type: "menu",
                        items: e.settings.style_formats_merge ? e.settings.style_formats ? i(o.concat(e.settings.style_formats)) : i(o) : i(e.settings.style_formats || o),
                        onPostRender: function(t) {
                            e.fire("renderFormatsMenu", {
                                control: t.control
                            })
                        },
                        itemDefaults: {
                            preview: !0,
                            textStyle: function() {
                                if (this.settings.format) return e.formatter.getCssText(this.settings.format)
                            },
                            onPostRender: function() {
                                var t = this;
                                t.parent().on("show",
                                function() {
                                    var n, r; (n = t.settings.format) && (t.disabled(!e.formatter.canApply(n)), t.active(e.formatter.match(n))),
                                    (r = t.settings.cmd) && t.active(e.queryCommandState(r))
                                })
                            },
                            onclick: function() {
                                this.settings.format && br(e, this.settings.format)(),
                                this.settings.cmd && e.execCommand(this.settings.cmd)
                            }
                        }
                    }
                } (e); !
                function(e, t) {
                    e.addMenuItem("formats", {
                        text: "Formats",
                        menu: t
                    })
                } (e, t),
                function(e, t) {
                    e.addButton("styleselect", {
                        type: "menubutton",
                        text: "Formats",
                        menu: t,
                        onShowMenu: function() {
                            e.settings.style_formats_autohide && Dr(e, this.menu)
                        }
                    })
                } (e, t)
            },
            Br = function(e, t, n) {
                return function() {
                    var o = this;
                    e.on("nodeChange",
                    function(i) {
                        var a = e.formatter,
                        s = null;
                        r.each(i.parents,
                        function(e) {
                            if (r.each(t,
                            function(t) {
                                if (n ? a.matchNode(e, n, {
                                    value: t.value
                                }) && (s = t.value) : a.matchNode(e, t.value) && (s = t.value), s) return ! 1
                            }), s) return ! 1
                        }),
                        o.value(s)
                    })
                }
            },
            Mr = function(e, t) {
                return r.map(t,
                function(t) {
                    return {
                        text: t[0],
                        onclick: br(e, t[1]),
                        textStyle: function() {
                            return e.formatter.getCssText(t[1])
                        }
                    }
                })
            },
            Ir = function(e) {
                var t = function(e) {
                    for (var t = (e = e.replace(/;$/, "").split(";")).length; t--;) e[t] = e[t].split("=");
                    return e
                } (e.settings.block_formats || "Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");
                e.addMenuItem("blockformats", {
                    text: "Blocks",
                    menu: Mr(e, t)
                }),
                e.addButton("formatselect",
                function(e, t) {
                    return function() {
                        var n = [];
                        return r.each(t,
                        function(t) {
                            n.push({
                                text: t[0],
                                value: t[1],
                                textStyle: function() {
                                    return e.formatter.getCssText(t[1])
                                }
                            })
                        }),
                        {
                            type: "listbox",
                            text: t[0][0],
                            values: n,
                            fixedWidth: !0,
                            onselect: function(t) {
                                if (t.control) {
                                    var n = t.control.value();
                                    br(e, n)()
                                }
                            },
                            onPostRender: Br(e, n)
                        }
                    }
                } (e, t))
            },
            Lr = function(e, t) {
                var n, o;
                if ("string" == typeof t) o = t.split(" ");
                else if (r.isArray(t)) return function(e) {
                    for (var t = [], n = 0, r = e.length; n < r; ++n) {
                        if (!Array.prototype.isPrototypeOf(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
                        J.apply(t, e[n])
                    }
                    return t
                } (r.map(t,
                function(t) {
                    return Lr(e, t)
                }));
                return n = r.grep(o,
                function(t) {
                    return "|" === t || t in e.menuItems
                }),
                r.map(n,
                function(t) {
                    return "|" === t ? {
                        text: "-"
                    }: e.menuItems[t]
                })
            },
            Fr = function(e) {
                return e && "-" === e.text
            },
            Wr = function(e) {
                var t = K(e,
                function(e, t, n) {
                    return ! Fr(e) || !Fr(n[t - 1])
                });
                return K(t,
                function(e, t, n) {
                    return ! Fr(e) || t > 0 && t < n.length - 1
                })
            },
            Hr = function(e) {
                var t = e.settings.insert_button_items;
                return Wr(t ? Lr(e, t) : function(e, t) {
                    var n = [{
                        text: "-"
                    }],
                    o = r.grep(e.menuItems,
                    function(e) {
                        return e.context === t
                    });
                    return r.each(o,
                    function(e) {
                        "before" === e.separator && n.push({
                            text: "|"
                        }),
                        e.prependToContext ? n.unshift(e) : n.push(e),
                        "after" === e.separator && n.push({
                            text: "|"
                        })
                    }),
                    n
                } (e, "insert"))
            },
            jr = function(e) { !
                function(e) {
                    e.addButton("insert", {
                        type: "menubutton",
                        icon: "insert",
                        menu: [],
                        oncreatemenu: function() {
                            this.menu.add(Hr(e)),
                            this.menu.renderNew()
                        }
                    })
                } (e)
            },
            Ur = function(e) { !
                function(e) {
                    r.each({
                        bold: "Bold",
                        italic: "Italic",
                        underline: "Underline",
                        strikethrough: "Strikethrough",
                        subscript: "Subscript",
                        superscript: "Superscript"
                    },
                    function(t, n) {
                        e.addButton(n, {
                            active: !1,
                            tooltip: t,
                            onPostRender: wr(e, n),
                            onclick: br(e, n)
                        })
                    })
                } (e),
                function(e) {
                    r.each({
                        outdent: ["Decrease indent", "Outdent"],
                        indent: ["Increase indent", "Indent"],
                        cut: ["Cut", "Cut"],
                        copy: ["Copy", "Copy"],
                        paste: ["Paste", "Paste"],
                        help: ["Help", "mceHelp"],
                        selectall: ["Select all", "SelectAll"],
                        visualaid: ["Visual aids", "mceToggleVisualAid"],
                        newdocument: ["New document", "mceNewDocument"],
                        removeformat: ["Clear formatting", "RemoveFormat"],
                        remove: ["Remove", "Delete"]
                    },
                    function(t, n) {
                        e.addButton(n, {
                            tooltip: t[0],
                            cmd: t[1]
                        })
                    })
                } (e),
                function(e) {
                    r.each({
                        blockquote: ["Blockquote", "mceBlockQuote"],
                        subscript: ["Subscript", "Subscript"],
                        superscript: ["Superscript", "Superscript"]
                    },
                    function(t, n) {
                        e.addButton(n, {
                            active: !1,
                            tooltip: t[0],
                            cmd: t[1],
                            onPostRender: wr(e, n)
                        })
                    })
                } (e)
            },
            zr = function(e) {
                Ur(e),
                function(e) {
                    r.each({
                        bold: ["Bold", "Bold", "Meta+B"],
                        italic: ["Italic", "Italic", "Meta+I"],
                        underline: ["Underline", "Underline", "Meta+U"],
                        strikethrough: ["Strikethrough", "Strikethrough"],
                        subscript: ["Subscript", "Subscript"],
                        superscript: ["Superscript", "Superscript"],
                        removeformat: ["Clear formatting", "RemoveFormat"],
                        newdocument: ["New document", "mceNewDocument"],
                        cut: ["Cut", "Cut", "Meta+X"],
                        copy: ["Copy", "Copy", "Meta+C"],
                        paste: ["Paste", "Paste", "Meta+V"],
                        selectall: ["Select all", "SelectAll", "Meta+A"]
                    },
                    function(t, n) {
                        e.addMenuItem(n, {
                            text: t[0],
                            icon: n,
                            shortcut: t[2],
                            cmd: t[1]
                        })
                    }),
                    e.addMenuItem("codeformat", {
                        text: "Code",
                        icon: "code",
                        onclick: br(e, "code")
                    })
                } (e)
            },
            Vr = function(e, t) {
                return function() {
                    var n = this,
                    r = function() {
                        var n = "redo" === t ? "hasRedo": "hasUndo";
                        return !! e.undoManager && e.undoManager[n]()
                    };
                    n.disabled(!r()),
                    e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",
                    function() {
                        n.disabled(e.readonly || !r())
                    })
                }
            },
            $r = function(e) { !
                function(e) {
                    e.addMenuItem("undo", {
                        text: "Undo",
                        icon: "undo",
                        shortcut: "Meta+Z",
                        onPostRender: Vr(e, "undo"),
                        cmd: "undo"
                    }),
                    e.addMenuItem("redo", {
                        text: "Redo",
                        icon: "redo",
                        shortcut: "Meta+Y",
                        onPostRender: Vr(e, "redo"),
                        cmd: "redo"
                    })
                } (e),
                function(e) {
                    e.addButton("undo", {
                        tooltip: "Undo",
                        onPostRender: Vr(e, "undo"),
                        cmd: "undo"
                    }),
                    e.addButton("redo", {
                        tooltip: "Redo",
                        onPostRender: Vr(e, "redo"),
                        cmd: "redo"
                    })
                } (e)
            },
            qr = function(e) {
                return function() {
                    var t = this;
                    e.on("VisualAid",
                    function(e) {
                        t.active(e.hasVisual)
                    }),
                    t.active(e.hasVisual)
                }
            },
            Kr = function(e) { !
                function(e) {
                    e.addMenuItem("visualaid", {
                        text: "Visual aids",
                        selectable: !0,
                        onPostRender: qr(e),
                        cmd: "mceToggleVisualAid"
                    })
                } (e)
            },
            Yr = {
                setup: function(e) { !
                    function(e) {
                        e.rtl && (rt.rtl = !0)
                    } (e),
                    function(e) {
                        e.on("mousedown",
                        function() {
                            _t.hideAll()
                        })
                    } (e),
                    function(e) {
                        e.settings.ui_container && (le.container = vr(fn.fromDom(document.body), e.settings.ui_container).fold(x(null),
                        function(e) {
                            return e.dom()
                        }))
                    } (e),
                    Ot.tooltips = !le.iOS,
                    rt.translate = function(e) {
                        return n.translate(e)
                    },
                    Ir(e),
                    xr(e),
                    zr(e),
                    $r(e),
                    Ar(e),
                    Er(e),
                    Pr(e),
                    Kr(e),
                    jr(e)
                }
            },
            Xr = Vt.extend({
                recalc: function(e) {
                    var t, n, r, o, i, a, s, l, u, c, d, f, m, p, h, g, v, b, y, w, x, C, _, k, E, T, S, N, R = [],
                    A = [];
                    t = e.settings,
                    o = e.items().filter(":visible"),
                    i = e.layoutRect(),
                    r = t.columns || Math.ceil(Math.sqrt(o.length)),
                    n = Math.ceil(o.length / r),
                    b = t.spacingH || t.spacing || 0,
                    y = t.spacingV || t.spacing || 0,
                    w = t.alignH || t.align,
                    x = t.alignV || t.align,
                    g = e.paddingBox,
                    N = "reverseRows" in t ? t.reverseRows: e.isRtl(),
                    w && "string" == typeof w && (w = [w]),
                    x && "string" == typeof x && (x = [x]);
                    for (d = 0; d < r; d++) R.push(0);
                    for (f = 0; f < n; f++) A.push(0);
                    for (f = 0; f < n; f++) for (d = 0; d < r && (c = o[f * r + d]); d++) k = (u = c.layoutRect()).minW,
                    E = u.minH,
                    R[d] = k > R[d] ? k: R[d],
                    A[f] = E > A[f] ? E: A[f];
                    for (T = i.innerW - g.left - g.right, C = 0, d = 0; d < r; d++) C += R[d] + (d > 0 ? b: 0),
                    T -= (d > 0 ? b: 0) + R[d];
                    for (S = i.innerH - g.top - g.bottom, _ = 0, f = 0; f < n; f++) _ += A[f] + (f > 0 ? y: 0),
                    S -= (f > 0 ? y: 0) + A[f];
                    if (C += g.left + g.right, _ += g.top + g.bottom, (l = {}).minW = C + (i.w - i.innerW), l.minH = _ + (i.h - i.innerH), l.contentW = l.minW - i.deltaW, l.contentH = l.minH - i.deltaH, l.minW = Math.min(l.minW, i.maxW), l.minH = Math.min(l.minH, i.maxH), l.minW = Math.max(l.minW, i.startMinWidth), l.minH = Math.max(l.minH, i.startMinHeight), !i.autoResize || l.minW === i.minW && l.minH === i.minH) {
                        var O;
                        i.autoResize && ((l = e.layoutRect(l)).contentW = l.minW - i.deltaW, l.contentH = l.minH - i.deltaH),
                        O = "start" === t.packV ? 0 : S > 0 ? Math.floor(S / n) : 0;
                        var D = 0,
                        P = t.flexWidths;
                        if (P) for (d = 0; d < P.length; d++) D += P[d];
                        else D = r;
                        var B = T / D;
                        for (d = 0; d < r; d++) R[d] += P ? P[d] * B: B;
                        for (p = g.top, f = 0; f < n; f++) {
                            for (m = g.left, s = A[f] + O, d = 0; d < r && (c = o[N ? f * r + r - 1 - d: f * r + d]); d++) h = c.settings,
                            u = c.layoutRect(),
                            a = Math.max(R[d], u.startMinWidth),
                            u.x = m,
                            u.y = p,
                            "center" === (v = h.alignH || (w ? w[d] || w[0] : null)) ? u.x = m + a / 2 - u.w / 2 : "right" === v ? u.x = m + a - u.w: "stretch" === v && (u.w = a),
                            "center" === (v = h.alignV || (x ? x[d] || x[0] : null)) ? u.y = p + s / 2 - u.h / 2 : "bottom" === v ? u.y = p + s - u.h: "stretch" === v && (u.h = s),
                            c.layoutRect(u),
                            m += a + b,
                            c.recalc && c.recalc();
                            p += s + y
                        }
                    } else if (l.w = l.minW, l.h = l.minH, e.layoutRect(l), this.recalc(e), null === e._lastRect) {
                        var M = e.parent();
                        M && (M._lastRect = null, M.recalc())
                    }
                }
            }),
            Gr = Ot.extend({
                renderHtml: function() {
                    return this.classes.add("iframe"),
                    this.canFocus = !1,
                    '<iframe id="' + this._id + '" class="' + this.classes + '" tabindex="-1" src="' + (this.settings.url || "javascript:''") + '" frameborder="0"></iframe>'
                },
                src: function(e) {
                    this.getEl().src = e
                },
                html: function(e, t) {
                    var n = this,
                    r = this.getEl().contentWindow.document.body;
                    return r ? (r.innerHTML = e, t && t()) : y.setTimeout(function() {
                        n.html(e)
                    }),
                    this
                }
            }),
            Jr = Ot.extend({
                init: function(e) {
                    this._super(e),
                    this.classes.add("widget").add("infobox"),
                    this.canFocus = !1
                },
                severity: function(e) {
                    this.classes.remove("error"),
                    this.classes.remove("warning"),
                    this.classes.remove("success"),
                    this.classes.add(e)
                },
                help: function(e) {
                    this.state.set("help", e)
                },
                renderHtml: function() {
                    var e = this.classPrefix;
                    return '<div id="' + this._id + '" class="' + this.classes + '"><div id="' + this._id + '-body">' + this.encode(this.state.get("text")) + '<button role="button" tabindex="-1"><i class="' + e + "ico " + e + 'i-help"></i></button></div></div>'
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:text",
                    function(t) {
                        e.getEl("body").firstChild.data = e.encode(t.value),
                        e.state.get("rendered") && e.updateLayoutRect()
                    }),
                    e.state.on("change:help",
                    function(t) {
                        e.classes.toggle("has-help", t.value),
                        e.state.get("rendered") && e.updateLayoutRect()
                    }),
                    e._super()
                }
            }),
            Qr = Ot.extend({
                init: function(e) {
                    this._super(e),
                    this.classes.add("widget").add("label"),
                    this.canFocus = !1,
                    e.multiline && this.classes.add("autoscroll"),
                    e.strong && this.classes.add("strong")
                },
                initLayoutRect: function() {
                    var e = this._super();
                    return this.settings.multiline && (we.getSize(this.getEl()).width > e.maxW && (e.minW = e.maxW, this.classes.add("multiline")), this.getEl().style.width = e.minW + "px", e.startMinH = e.h = e.minH = Math.min(e.maxH, we.getSize(this.getEl()).height)),
                    e
                },
                repaint: function() {
                    return this.settings.multiline || (this.getEl().style.lineHeight = this.layoutRect().h + "px"),
                    this._super()
                },
                severity: function(e) {
                    this.classes.remove("error"),
                    this.classes.remove("warning"),
                    this.classes.remove("success"),
                    this.classes.add(e)
                },
                renderHtml: function() {
                    var e, t, n = this.settings.forId,
                    r = this.settings.html ? this.settings.html: this.encode(this.state.get("text"));
                    return ! n && (t = this.settings.forName) && (e = this.getRoot().find("#" + t)[0]) && (n = e._id),
                    n ? '<label id="' + this._id + '" class="' + this.classes + '"' + (n ? ' for="' + n + '"': "") + ">" + r + "</label>": '<span id="' + this._id + '" class="' + this.classes + '">' + r + "</span>"
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:text",
                    function(t) {
                        e.innerHtml(e.encode(t.value)),
                        e.state.get("rendered") && e.updateLayoutRect()
                    }),
                    e._super()
                }
            }),
            Zr = st.extend({
                Defaults: {
                    role: "toolbar",
                    layout: "flow"
                },
                init: function(e) {
                    this._super(e),
                    this.classes.add("toolbar")
                },
                postRender: function() {
                    return this.items().each(function(e) {
                        e.classes.add("toolbar-item")
                    }),
                    this._super()
                }
            }),
            eo = Zr.extend({
                Defaults: {
                    role: "menubar",
                    containerCls: "menubar",
                    ariaRoot: !0,
                    defaults: {
                        type: "menubutton"
                    }
                }
            }),
            to = $t.extend({
                init: function(e) {
                    this._renderOpen = !0,
                    this._super(e),
                    e = this.settings,
                    this.classes.add("menubtn"),
                    e.fixedWidth && this.classes.add("fixed-width"),
                    this.aria("haspopup", !0),
                    this.state.set("menu", e.menu || this.render())
                },
                showMenu: function(e) {
                    var t, n = this;
                    if (n.menu && n.menu.visible() && !1 !== e) return n.hideMenu();
                    n.menu || (t = n.state.get("menu") || [], n.classes.add("opened"), t.length ? t = {
                        type: "menu",
                        animate: !0,
                        items: t
                    }: (t.type = t.type || "menu", t.animate = !0), t.renderTo ? n.menu = t.parent(n).show().renderTo() : n.menu = d.create(t).parent(n).renderTo(), n.fire("createmenu"), n.menu.reflow(), n.menu.on("cancel",
                    function(e) {
                        e.control.parent() === n.menu && (e.stopPropagation(), n.focus(), n.hideMenu())
                    }), n.menu.on("select",
                    function() {
                        n.focus()
                    }), n.menu.on("show hide",
                    function(e) {
                        "hide" === e.type && e.control.parent() === n && n.classes.remove("opened-under"),
                        e.control === n.menu && (n.activeMenu("show" === e.type), n.classes.toggle("opened", "show" === e.type)),
                        n.aria("expanded", "show" === e.type)
                    }).fire("show")),
                    n.menu.show(),
                    n.menu.layoutRect({
                        w: n.layoutRect().w
                    }),
                    n.menu.repaint(),
                    n.menu.moveRel(n.getEl(), n.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]);
                    var r = n.menu.layoutRect(),
                    o = n.$el.offset().top + n.layoutRect().h;
                    o > r.y && o < r.y + r.h && n.classes.add("opened-under"),
                    n.fire("showmenu")
                },
                hideMenu: function() {
                    this.menu && (this.menu.items().each(function(e) {
                        e.hideMenu && e.hideMenu()
                    }), this.menu.hide())
                },
                activeMenu: function(e) {
                    this.classes.toggle("active", e)
                },
                renderHtml: function() {
                    var e, t = this._id,
                    n = this.classPrefix,
                    r = this.settings.icon,
                    o = this.state.get("text"),
                    i = "";
                    return (e = this.settings.image) ? (r = "none", "string" != typeof e && (e = window.getSelection ? e[0] : e[1]), e = " style=\"background-image: url('" + e + "')\"") : e = "",
                    o && (this.classes.add("btn-has-text"), i = '<span class="' + n + 'txt">' + this.encode(o) + "</span>"),
                    r = this.settings.icon ? n + "ico " + n + "i-" + r: "",
                    this.aria("role", this.parent() instanceof eo ? "menuitem": "button"),
                    '<div id="' + t + '" class="' + this.classes + '" tabindex="-1" aria-labelledby="' + t + '"><button id="' + t + '-open" role="presentation" type="button" tabindex="-1">' + (r ? '<i class="' + r + '"' + e + "></i>": "") + i + ' <i class="' + n + 'caret"></i></button></div>'
                },
                postRender: function() {
                    var e = this;
                    return e.on("click",
                    function(t) {
                        t.control === e &&
                        function(e, t) {
                            for (; e;) {
                                if (t === e) return ! 0;
                                e = e.parentNode
                            }
                            return ! 1
                        } (t.target, e.getEl()) && (e.focus(), e.showMenu(!t.aria), t.aria && e.menu.items().filter(":visible")[0].focus())
                    }),
                    e.on("mouseenter",
                    function(t) {
                        var n, r = t.control,
                        o = e.parent();
                        r && o && r instanceof to && r.parent() === o && (o.items().filter("MenuButton").each(function(e) {
                            e.hideMenu && e !== r && (e.menu && e.menu.visible() && (n = !0), e.hideMenu())
                        }), n && (r.focus(), r.showMenu()))
                    }),
                    e._super()
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:menu",
                    function() {
                        e.menu && e.menu.remove(),
                        e.menu = null
                    }),
                    e._super()
                },
                remove: function() {
                    this._super(),
                    this.menu && this.menu.remove()
                }
            }),
            no = _t.extend({
                Defaults: {
                    defaultType: "menuitem",
                    border: 1,
                    layout: "stack",
                    role: "application",
                    bodyRole: "menu",
                    ariaRoot: !0
                },
                init: function(e) {
                    if (e.autohide = !0, e.constrainToViewport = !0, "function" == typeof e.items && (e.itemsFactory = e.items, e.items = []), e.itemDefaults) for (var t = e.items,
                    n = t.length; n--;) t[n] = r.extend({},
                    e.itemDefaults, t[n]);
                    this._super(e),
                    this.classes.add("menu"),
                    e.animate && 11 !== le.ie && this.classes.add("animate")
                },
                repaint: function() {
                    return this.classes.toggle("menu-align", !0),
                    this._super(),
                    this.getEl().style.height = "",
                    this.getEl("body").style.height = "",
                    this
                },
                cancel: function() {
                    this.hideAll(),
                    this.fire("select")
                },
                load: function() {
                    var e, t = this;
                    function n() {
                        t.throbber && (t.throbber.hide(), t.throbber = null)
                    }
                    t.settings.itemsFactory && (t.throbber || (t.throbber = new St(t.getEl("body"), !0), 0 === t.items().length ? (t.throbber.show(), t.fire("loading")) : t.throbber.show(100,
                    function() {
                        t.items().remove(),
                        t.fire("loading")
                    }), t.on("hide close", n)), t.requestTime = e = (new Date).getTime(), t.settings.itemsFactory(function(r) {
                        0 !== r.length ? t.requestTime === e && (t.getEl().style.width = "", t.getEl("body").style.width = "", n(), t.items().remove(), t.getEl("body").innerHTML = "", t.add(r), t.renderNew(), t.fire("loaded")) : t.hide()
                    }))
                },
                hideAll: function() {
                    return this.find("menuitem").exec("hideMenu"),
                    this._super()
                },
                preRender: function() {
                    var e = this;
                    return e.items().each(function(t) {
                        var n = t.settings;
                        if (n.icon || n.image || n.selectable) return e._hasIcons = !0,
                        !1
                    }),
                    e.settings.itemsFactory && e.on("postrender",
                    function() {
                        e.settings.itemsFactory && e.load()
                    }),
                    e.on("show hide",
                    function(t) {
                        t.control === e && ("show" === t.type ? y.setTimeout(function() {
                            e.classes.add("in")
                        },
                        0) : e.classes.remove("in"))
                    }),
                    e._super()
                }
            }),
            ro = to.extend({
                init: function(e) {
                    var t, n, r, o, i = this;
                    i._super(e),
                    e = i.settings,
                    i._values = t = e.values,
                    t && (void 0 !== e.value &&
                    function t(o) {
                        for (var a = 0; a < o.length; a++) {
                            if (n = o[a].selected || e.value === o[a].value) return r = r || o[a].text,
                            i.state.set("value", o[a].value),
                            !0;
                            if (o[a].menu && t(o[a].menu)) return ! 0
                        }
                    } (t), !n && t.length > 0 && (r = t[0].text, i.state.set("value", t[0].value)), i.state.set("menu", t)),
                    i.state.set("text", e.text || r),
                    i.classes.add("listbox"),
                    i.on("select",
                    function(t) {
                        var n = t.control;
                        o && (t.lastControl = o),
                        e.multiple ? n.active(!n.active()) : i.value(t.control.value()),
                        o = n
                    })
                },
                value: function(e) {
                    return 0 === arguments.length ? this.state.get("value") : void 0 === e ? this: (this.settings.values && !
                    function t(n) {
                        return V(n,
                        function(n) {
                            return n.menu ? t(n.menu) : n.value === e
                        })
                    } (this.settings.values) ? null === e && this.state.set("value", null) : this.state.set("value", e), this)
                },
                bindStates: function() {
                    var e = this;
                    return e.on("show",
                    function(t) {
                        var n, r;
                        n = t.control,
                        r = e.value(),
                        n instanceof no && n.items().each(function(e) {
                            e.hasMenus() || e.active(e.value() === r)
                        })
                    }),
                    e.state.on("change:value",
                    function(t) {
                        var n = function e(t, n) {
                            var r;
                            if (t) for (var o = 0; o < t.length; o++) {
                                if (t[o].value === n) return t[o];
                                if (t[o].menu && (r = e(t[o].menu, n))) return r
                            }
                        } (e.state.get("menu"), t.value);
                        n ? e.text(n.text) : e.text(e.settings.text)
                    }),
                    e._super()
                }
            }),
            oo = Ot.extend({
                Defaults: {
                    border: 0,
                    role: "menuitem"
                },
                init: function(e) {
                    var t;
                    this._super(e),
                    e = this.settings,
                    this.classes.add("menu-item"),
                    e.menu && this.classes.add("menu-item-expand"),
                    e.preview && this.classes.add("menu-item-preview"),
                    "-" !== (t = this.state.get("text")) && "|" !== t || (this.classes.add("menu-item-sep"), this.aria("role", "separator"), this.state.set("text", "-")),
                    e.selectable && (this.aria("role", "menuitemcheckbox"), this.classes.add("menu-item-checkbox"), e.icon = "selected"),
                    e.preview || e.selectable || this.classes.add("menu-item-normal"),
                    this.on("mousedown",
                    function(e) {
                        e.preventDefault()
                    }),
                    e.menu && !e.ariaHideMenu && this.aria("haspopup", !0)
                },
                hasMenus: function() {
                    return !! this.settings.menu
                },
                showMenu: function() {
                    var e, t = this,
                    n = t.settings,
                    r = t.parent();
                    if (r.items().each(function(e) {
                        e !== t && e.hideMenu()
                    }), n.menu) { (e = t.menu) ? e.show() : ((e = n.menu).length ? e = {
                            type: "menu",
                            items: e
                        }: e.type = e.type || "menu", r.settings.itemDefaults && (e.itemDefaults = r.settings.itemDefaults), (e = t.menu = d.create(e).parent(t).renderTo()).reflow(), e.on("cancel",
                        function(n) {
                            n.stopPropagation(),
                            t.focus(),
                            e.hide()
                        }), e.on("show hide",
                        function(e) {
                            e.control.items && e.control.items().each(function(e) {
                                e.active(e.settings.selected)
                            })
                        }).fire("show"), e.on("hide",
                        function(n) {
                            n.control === e && t.classes.remove("selected")
                        }), e.submenu = !0),
                        e._parentMenu = r,
                        e.classes.add("menu-sub");
                        var o = e.testMoveRel(t.getEl(), t.isRtl() ? ["tl-tr", "bl-br", "tr-tl", "br-bl"] : ["tr-tl", "br-bl", "tl-tr", "bl-br"]);
                        e.moveRel(t.getEl(), o),
                        e.rel = o,
                        o = "menu-sub-" + o,
                        e.classes.remove(e._lastRel).add(o),
                        e._lastRel = o,
                        t.classes.add("selected"),
                        t.aria("expanded", !0)
                    }
                },
                hideMenu: function() {
                    return this.menu && (this.menu.items().each(function(e) {
                        e.hideMenu && e.hideMenu()
                    }), this.menu.hide(), this.aria("expanded", !1)),
                    this
                },
                renderHtml: function() {
                    var e, t = this._id,
                    n = this.settings,
                    r = this.classPrefix,
                    o = this.state.get("text"),
                    i = this.settings.icon,
                    a = "",
                    s = n.shortcut,
                    l = this.encode(n.url);
                    function u(e) {
                        return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
                    }
                    function c(e) {
                        var t = n.match || "";
                        return t ? e.replace(new RegExp(u(t), "gi"),
                        function(e) {
                            return "!mce~match[" + e + "]mce~match!"
                        }) : e
                    }
                    function d(e) {
                        return e.replace(new RegExp(u("!mce~match["), "g"), "<b>").replace(new RegExp(u("]mce~match!"), "g"), "</b>")
                    }
                    return i && this.parent().classes.add("menu-has-icons"),
                    n.image && (a = " style=\"background-image: url('" + n.image + "')\""),
                    s && (s = function(e) {
                        var t, n, r = {};
                        for (r = le.mac ? {
                            alt: "&#x2325;",
                            ctrl: "&#x2318;",
                            shift: "&#x21E7;",
                            meta: "&#x2318;"
                        }: {
                            meta: "Ctrl"
                        },
                        e = e.split("+"), t = 0; t < e.length; t++)(n = r[e[t].toLowerCase()]) && (e[t] = n);
                        return e.join("+")
                    } (s)),
                    i = r + "ico " + r + "i-" + (this.settings.icon || "none"),
                    e = "-" !== o ? '<i class="' + i + '"' + a + "></i> ": "",
                    o = d(this.encode(c(o))),
                    l = d(this.encode(c(l))),
                    '<div id="' + t + '" class="' + this.classes + '" tabindex="-1">' + e + ("-" !== o ? '<span id="' + t + '-text" class="' + r + 'text">' + o + "</span>": "") + (s ? '<div id="' + t + '-shortcut" class="' + r + 'menu-shortcut">' + s + "</div>": "") + (n.menu ? '<div class="' + r + 'caret"></div>': "") + (l ? '<div class="' + r + 'menu-item-link">' + l + "</div>": "") + "</div>"
                },
                postRender: function() {
                    var e = this,
                    t = e.settings,
                    n = t.textStyle;
                    if ("function" == typeof n && (n = n.call(this)), n) {
                        var r = e.getEl("text");
                        r && (r.setAttribute("style", n), e._textStyle = n)
                    }
                    return e.on("mouseenter click",
                    function(n) {
                        n.control === e && (t.menu || "click" !== n.type ? (e.showMenu(), n.aria && e.menu.focus(!0)) : (e.fire("select"), y.requestAnimationFrame(function() {
                            e.parent().hideAll()
                        })))
                    }),
                    e._super(),
                    e
                },
                hover: function() {
                    return this.parent().items().each(function(e) {
                        e.classes.remove("selected")
                    }),
                    this.classes.toggle("selected", !0),
                    this
                },
                active: function(e) {
                    return function(e, t) {
                        var n = e._textStyle;
                        if (n) {
                            var r = e.getEl("text");
                            r.setAttribute("style", n),
                            t && (r.style.color = "", r.style.backgroundColor = "")
                        }
                    } (this, e),
                    void 0 !== e && this.aria("checked", e),
                    this._super(e)
                },
                remove: function() {
                    this._super(),
                    this.menu && this.menu.remove()
                }
            }),
            io = Yt.extend({
                Defaults: {
                    classes: "radio",
                    role: "radio"
                }
            }),
            ao = Ot.extend({
                renderHtml: function() {
                    var e = this.classPrefix;
                    return this.classes.add("resizehandle"),
                    "both" === this.settings.direction && this.classes.add("resizehandle-both"),
                    this.canFocus = !1,
                    '<div id="' + this._id + '" class="' + this.classes + '"><i class="' + e + "ico " + e + 'i-resize"></i></div>'
                },
                postRender: function() {
                    var e = this;
                    e._super(),
                    e.resizeDragHelper = new ut(this._id, {
                        start: function() {
                            e.fire("ResizeStart")
                        },
                        drag: function(t) {
                            "both" !== e.settings.direction && (t.deltaX = 0),
                            e.fire("Resize", t)
                        },
                        stop: function() {
                            e.fire("ResizeEnd")
                        }
                    })
                },
                remove: function() {
                    return this.resizeDragHelper && this.resizeDragHelper.destroy(),
                    this._super()
                }
            });
            function so(e) {
                var t = "";
                if (e) for (var n = 0; n < e.length; n++) t += '<option value="' + e[n] + '">' + e[n] + "</option>";
                return t
            }
            var lo = Ot.extend({
                Defaults: {
                    classes: "selectbox",
                    role: "selectbox",
                    options: []
                },
                init: function(e) {
                    var t = this;
                    t._super(e),
                    t.settings.size && (t.size = t.settings.size),
                    t.settings.options && (t._options = t.settings.options),
                    t.on("keydown",
                    function(e) {
                        var n;
                        13 === e.keyCode && (e.preventDefault(), t.parents().reverse().each(function(e) {
                            if (e.toJSON) return n = e,
                            !1
                        }), t.fire("submit", {
                            data: n.toJSON()
                        }))
                    })
                },
                options: function(e) {
                    return arguments.length ? (this.state.set("options", e), this) : this.state.get("options")
                },
                renderHtml: function() {
                    var e, t = "";
                    return e = so(this._options),
                    this.size && (t = ' size = "' + this.size + '"'),
                    '<select id="' + this._id + '" class="' + this.classes + '"' + t + ">" + e + "</select>"
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:options",
                    function(t) {
                        e.getEl().innerHTML = so(t.value)
                    }),
                    e._super()
                }
            });
            function uo(e, t, n) {
                return e < t && (e = t),
                e > n && (e = n),
                e
            }
            function co(e, t, n) {
                e.setAttribute("aria-" + t, n)
            }
            function fo(e, t) {
                var n, r, o, i, a;
                "v" === e.settings.orientation ? (o = "top", r = "height", n = "h") : (o = "left", r = "width", n = "w"),
                a = e.getEl("handle"),
                i = ((e.layoutRect()[n] || 100) - we.getSize(a)[r]) * ((t - e._minValue) / (e._maxValue - e._minValue)) + "px",
                a.style[o] = i,
                a.style.height = e.layoutRect().h + "px",
                co(a, "valuenow", t),
                co(a, "valuetext", "" + e.settings.previewFilter(t)),
                co(a, "valuemin", e._minValue),
                co(a, "valuemax", e._maxValue)
            }
            var mo = Ot.extend({
                init: function(e) {
                    e.previewFilter || (e.previewFilter = function(e) {
                        return Math.round(100 * e) / 100
                    }),
                    this._super(e),
                    this.classes.add("slider"),
                    "v" === e.orientation && this.classes.add("vertical"),
                    this._minValue = U(e.minValue) ? e.minValue: 0,
                    this._maxValue = U(e.maxValue) ? e.maxValue: 100,
                    this._initValue = this.state.get("value")
                },
                renderHtml: function() {
                    var e = this._id,
                    t = this.classPrefix;
                    return '<div id="' + e + '" class="' + this.classes + '"><div id="' + e + '-handle" class="' + t + 'slider-handle" role="slider" tabindex="-1"></div></div>'
                },
                reset: function() {
                    this.value(this._initValue).repaint()
                },
                postRender: function() {
                    var e, t, n, r, o, i, a = this;
                    e = a._minValue,
                    t = a._maxValue,
                    "v" === a.settings.orientation ? (n = "screenY", r = "top", o = "height", i = "h") : (n = "screenX", r = "left", o = "width", i = "w"),
                    a._super(),
                    function(e, t) {
                        function n(n) {
                            var r, o;
                            r = a.value(),
                            r = uo(r = function(e, t, n) {
                                return n * (t - e) - e
                            } (e, t, (r + (o = e)) / (t - o) + .05 * n), e, t),
                            a.value(r),
                            a.fire("dragstart", {
                                value: r
                            }),
                            a.fire("drag", {
                                value: r
                            }),
                            a.fire("dragend", {
                                value: r
                            })
                        }
                        a.on("keydown",
                        function(e) {
                            switch (e.keyCode) {
                            case 37:
                            case 38:
                                n( - 1);
                                break;
                            case 39:
                            case 40:
                                n(1)
                            }
                        })
                    } (e, t),
                    function(e, t, s) {
                        var l, u, c, d, f;
                        a._dragHelper = new ut(a._id, {
                            handle: a._id + "-handle",
                            start: function(e) {
                                l = e[n],
                                u = parseInt(a.getEl("handle").style[r], 10),
                                c = (a.layoutRect()[i] || 100) - we.getSize(s)[o],
                                a.fire("dragstart", {
                                    value: f
                                })
                            },
                            drag: function(o) {
                                var i = o[n] - l;
                                d = uo(u + i, 0, c),
                                s.style[r] = d + "px",
                                f = e + d / c * (t - e),
                                a.value(f),
                                a.tooltip().text("" + a.settings.previewFilter(f)).show().moveRel(s, "bc tc"),
                                a.fire("drag", {
                                    value: f
                                })
                            },
                            stop: function() {
                                a.tooltip().hide(),
                                a.fire("dragend", {
                                    value: f
                                })
                            }
                        })
                    } (e, t, a.getEl("handle"))
                },
                repaint: function() {
                    this._super(),
                    fo(this, this.value())
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:value",
                    function(t) {
                        fo(e, t.value)
                    }),
                    e._super()
                }
            }),
            po = Ot.extend({
                renderHtml: function() {
                    return this.classes.add("spacer"),
                    this.canFocus = !1,
                    '<div id="' + this._id + '" class="' + this.classes + '"></div>'
                }
            }),
            ho = to.extend({
                Defaults: {
                    classes: "widget btn splitbtn",
                    role: "button"
                },
                repaint: function() {
                    var e, t, n = this.getEl(),
                    r = this.layoutRect();
                    return this._super(),
                    e = n.firstChild,
                    t = n.lastChild,
                    be(e).css({
                        width: r.w - we.getSize(t).width,
                        height: r.h - 2
                    }),
                    be(t).css({
                        height: r.h - 2
                    }),
                    this
                },
                activeMenu: function(e) {
                    be(this.getEl().lastChild).toggleClass(this.classPrefix + "active", e)
                },
                renderHtml: function() {
                    var e, t, n = this._id,
                    r = this.classPrefix,
                    o = this.state.get("icon"),
                    i = this.state.get("text"),
                    a = this.settings,
                    s = "";
                    return (e = a.image) ? (o = "none", "string" != typeof e && (e = window.getSelection ? e[0] : e[1]), e = " style=\"background-image: url('" + e + "')\"") : e = "",
                    o = a.icon ? r + "ico " + r + "i-" + o: "",
                    i && (this.classes.add("btn-has-text"), s = '<span class="' + r + 'txt">' + this.encode(i) + "</span>"),
                    t = "boolean" == typeof a.active ? ' aria-pressed="' + a.active + '"': "",
                    '<div id="' + n + '" class="' + this.classes + '" role="button"' + t + ' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">' + (o ? '<i class="' + o + '"' + e + "></i>": "") + s + '</button><button type="button" class="' + r + 'open" hidefocus="1" tabindex="-1">' + (this._menuBtnText ? (o ? " ": "") + this._menuBtnText: "") + ' <i class="' + r + 'caret"></i></button></div>'
                },
                postRender: function() {
                    var e = this.settings.onclick;
                    return this.on("click",
                    function(t) {
                        var n = t.target;
                        if (t.control === this) for (; n;) {
                            if (t.aria && "down" !== t.aria.key || "BUTTON" === n.nodeName && -1 === n.className.indexOf("open")) return t.stopImmediatePropagation(),
                            void(e && e.call(this, t));
                            n = n.parentNode
                        }
                    }),
                    delete this.settings.onclick,
                    this._super()
                }
            }),
            go = gr.extend({
                Defaults: {
                    containerClass: "stack-layout",
                    controlClass: "stack-layout-item",
                    endClass: "break"
                },
                isNative: function() {
                    return ! 0
                }
            }),
            vo = ht.extend({
                Defaults: {
                    layout: "absolute",
                    defaults: {
                        type: "panel"
                    }
                },
                activateTab: function(e) {
                    var t;
                    this.activeTabId && (t = this.getEl(this.activeTabId), be(t).removeClass(this.classPrefix + "active"), t.setAttribute("aria-selected", "false")),
                    this.activeTabId = "t" + e,
                    (t = this.getEl("t" + e)).setAttribute("aria-selected", "true"),
                    be(t).addClass(this.classPrefix + "active"),
                    this.items()[e].show().fire("showtab"),
                    this.reflow(),
                    this.items().each(function(t, n) {
                        e !== n && t.hide()
                    })
                },
                renderHtml: function() {
                    var e = this,
                    t = e._layout,
                    n = "",
                    r = e.classPrefix;
                    return e.preRender(),
                    t.preRender(e),
                    e.items().each(function(t, o) {
                        var i = e._id + "-t" + o;
                        t.aria("role", "tabpanel"),
                        t.aria("labelledby", i),
                        n += '<div id="' + i + '" class="' + r + 'tab" unselectable="on" role="tab" aria-controls="' + t._id + '" aria-selected="false" tabIndex="-1">' + e.encode(t.settings.title) + "</div>"
                    }),
                    '<div id="' + e._id + '" class="' + e.classes + '" hidefocus="1" tabindex="-1"><div id="' + e._id + '-head" class="' + r + 'tabs" role="tablist">' + n + '</div><div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + t.renderHtml(e) + "</div></div>"
                },
                postRender: function() {
                    var e = this;
                    e._super(),
                    e.settings.activeTab = e.settings.activeTab || 0,
                    e.activateTab(e.settings.activeTab),
                    this.on("click",
                    function(t) {
                        var n = t.target.parentNode;
                        if (n && n.id === e._id + "-head") for (var r = n.childNodes.length; r--;) n.childNodes[r] === t.target && e.activateTab(r)
                    })
                },
                initLayoutRect: function() {
                    var e, t, n;
                    t = (t = we.getSize(this.getEl("head")).width) < 0 ? 0 : t,
                    n = 0,
                    this.items().each(function(e) {
                        t = Math.max(t, e.layoutRect().minW),
                        n = Math.max(n, e.layoutRect().minH)
                    }),
                    this.items().each(function(e) {
                        e.settings.x = 0,
                        e.settings.y = 0,
                        e.settings.w = t,
                        e.settings.h = n,
                        e.layoutRect({
                            x: 0,
                            y: 0,
                            w: t,
                            h: n
                        })
                    });
                    var r = we.getSize(this.getEl("head")).height;
                    return this.settings.minWidth = t,
                    this.settings.minHeight = n + r,
                    (e = this._super()).deltaH += r,
                    e.innerH = e.h - e.deltaH,
                    e
                }
            }),
            bo = Ot.extend({
                init: function(e) {
                    var t = this;
                    t._super(e),
                    t.classes.add("textbox"),
                    e.multiline ? t.classes.add("multiline") : (t.on("keydown",
                    function(e) {
                        var n;
                        13 === e.keyCode && (e.preventDefault(), t.parents().reverse().each(function(e) {
                            if (e.toJSON) return n = e,
                            !1
                        }), t.fire("submit", {
                            data: n.toJSON()
                        }))
                    }), t.on("keyup",
                    function(e) {
                        t.state.set("value", e.target.value)
                    }))
                },
                repaint: function() {
                    var e, t, n, r, o, i = 0;
                    e = this.getEl().style,
                    t = this._layoutRect,
                    o = this._lastRepaintRect || {};
                    var a = document;
                    return ! this.settings.multiline && a.all && (!a.documentMode || a.documentMode <= 8) && (e.lineHeight = t.h - i + "px"),
                    r = (n = this.borderBox).left + n.right + 8,
                    i = n.top + n.bottom + (this.settings.multiline ? 8 : 0),
                    t.x !== o.x && (e.left = t.x + "px", o.x = t.x),
                    t.y !== o.y && (e.top = t.y + "px", o.y = t.y),
                    t.w !== o.w && (e.width = t.w - r + "px", o.w = t.w),
                    t.h !== o.h && (e.height = t.h - i + "px", o.h = t.h),
                    this._lastRepaintRect = o,
                    this.fire("repaint", {},
                    !1),
                    this
                },
                renderHtml: function() {
                    var e, t, n = this.settings;
                    return e = {
                        id: this._id,
                        hidefocus: "1"
                    },
                    r.each(["rows", "spellcheck", "maxLength", "size", "readonly", "min", "max", "step", "list", "pattern", "placeholder", "required", "multiple"],
                    function(t) {
                        e[t] = n[t]
                    }),
                    this.disabled() && (e.disabled = "disabled"),
                    n.subtype && (e.type = n.subtype),
                    (t = we.create(n.multiline ? "textarea": "input", e)).value = this.state.get("value"),
                    t.className = this.classes.toString(),
                    t.outerHTML
                },
                value: function(e) {
                    return arguments.length ? (this.state.set("value", e), this) : (this.state.get("rendered") && this.state.set("value", this.getEl().value), this.state.get("value"))
                },
                postRender: function() {
                    var e = this;
                    e.getEl().value = e.state.get("value"),
                    e._super(),
                    e.$el.on("change",
                    function(t) {
                        e.state.set("value", t.target.value),
                        e.fire("change", t)
                    })
                },
                bindStates: function() {
                    var e = this;
                    return e.state.on("change:value",
                    function(t) {
                        e.getEl().value !== t.value && (e.getEl().value = t.value)
                    }),
                    e.state.on("change:disabled",
                    function(t) {
                        e.getEl().disabled = t.value
                    }),
                    e._super()
                },
                remove: function() {
                    this.$el.off(),
                    this._super()
                }
            }),
            yo = function() {
                return {
                    Selector: We,
                    Collection: Ue,
                    ReflowQueue: Ge,
                    Control: rt,
                    Factory: d,
                    KeyboardNavigation: it,
                    Container: st,
                    DragHelper: ut,
                    Scrollable: pt,
                    Panel: ht,
                    Movable: Te,
                    Resizable: gt,
                    FloatPanel: _t,
                    Window: Ht,
                    MessageBox: jt,
                    Tooltip: At,
                    Widget: Ot,
                    Progress: Dt,
                    Notification: Bt,
                    Layout: zt,
                    AbsoluteLayout: Vt,
                    Button: $t,
                    ButtonGroup: Kt,
                    Checkbox: Yt,
                    ComboBox: Gt,
                    ColorBox: Jt,
                    PanelButton: Qt,
                    ColorButton: en,
                    ColorPicker: nn,
                    Path: on,
                    ElementPath: an,
                    FormItem: sn,
                    Form: ln,
                    FieldSet: un,
                    FilePicker: mr,
                    FitLayout: pr,
                    FlexLayout: hr,
                    FlowLayout: gr,
                    FormatControls: Yr,
                    GridLayout: Xr,
                    Iframe: Gr,
                    InfoBox: Jr,
                    Label: Qr,
                    Toolbar: Zr,
                    MenuBar: eo,
                    MenuButton: to,
                    MenuItem: oo,
                    Throbber: St,
                    Menu: no,
                    ListBox: ro,
                    Radio: io,
                    ResizeHandle: ao,
                    SelectBox: lo,
                    Slider: mo,
                    Spacer: po,
                    SplitButton: ho,
                    StackLayout: go,
                    TabPanel: vo,
                    TextBox: bo,
                    DropZone: rn,
                    BrowseButton: qt
                }
            },
            wo = function(e) {
                e.ui ? r.each(yo(),
                function(t, n) {
                    e.ui[n] = t
                }) : e.ui = yo()
            };
            r.each(yo(),
            function(e, t) {
                d.add(t, e)
            }),
            wo(window.tinymce ? window.tinymce: {}),
            t.add("modern",
            function(e) {
                return Yr.setup(e),
                Ut(e)
            })
        } ()
    },
    "4d7f": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        var _Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("f499"),
        _Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_0__),
        _Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("795b"),
        _Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_1___default = __webpack_require__.n(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_1__),
        _Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("cebc"),
        _Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("75fc"),
        _Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a4bb"),
        _Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_4___default = __webpack_require__.n(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_4__),
        core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("ac6a"),
        core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5___default = __webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__),
        _GenerateFormItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("5531"),
        _GenerateColItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("104d"),
        _util_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("4260");
        __webpack_exports__.a = {
            name: "fm-generate-form",
            components: {
                GenerateFormItem: _GenerateFormItem__WEBPACK_IMPORTED_MODULE_6__.a,
                GenerateColItem: _GenerateColItem__WEBPACK_IMPORTED_MODULE_7__.a
            },
            props: ["data", "remote", "value", "insite"],
            data: function() {
                return {
                    models: {},
                    rules: {},
                    blanks: []
                }
            },
            created: function() {
                this.generateModel(this.data.list)
            },
            mounted: function() {},
            methods: {
                generateModel: function generateModel(genList) {
                    for (var _this = this,
                    i = 0; i < genList.length; i++)"grid" === genList[i].type ? genList[i].columns.forEach(function(e) {
                        _this.generateModel(e.list)
                    }) : (_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_4___default()(this.value).indexOf(genList[i].model) >= 0 ? (this.models[genList[i].model] = this.value[genList[i].model], "blank" === genList[i].type && this.blanks.push({
                        name: genList[i].model
                    })) : "blank" === genList[i].type ? (this.models[genList[i].model] = "String" === genList[i].options.defaultType ? "123": "Object" === genList[i].options.defaultType ? {}: [], this.blanks.push({
                        name: genList[i].model
                    })) : this.models[genList[i].model] = "table" == genList[i].type ? [] : genList[i].options.defaultValue, genList[i].tableColumns && genList[i].tableColumns.length && genList[i].tableColumns.forEach(function(e) {
                        "blank" === e.type && _this.blanks.push({
                            name: e.model
                        })
                    }), this.rules[genList[i].model] ? this.rules[genList[i].model] = [].concat(Object(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.a)(this.rules[genList[i].model]), Object(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.a)(genList[i].rules.map(function(item) {
                        return item.pattern ? Object(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},
                        item, {
                            pattern: eval(item.pattern)
                        }) : Object(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},
                        item)
                    }))) : this.rules[genList[i].model] = Object(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.a)(genList[i].rules.map(function(item) {
                        return item.pattern ? Object(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},
                        item, {
                            pattern: eval(item.pattern)
                        }) : Object(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},
                        item)
                    })))
                },
                getData: function() {
                    var e = this;
                    return new _Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_1___default.a(function(t, n) {
                        e.$refs.generateForm.validate(function(r) {
                            r ? t(e.models) : n(new Error("表单数据校验失败").message)
                        })
                    })
                },
                reset: function() {
                    this.$refs.generateForm.resetFields()
                },
                refresh: function() {}
            },
            watch: {
                value: {
                    deep: !0,
                    handler: function(e) {
                        this.models = Object(_Users_zhulei_code_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},
                        this.models, e)
                    }
                }
            }
        }
    },
    5531 : function(e, t, n) {
        "use strict";
        var r = n("bd86"),
        o = n("cebc"),
        i = {
            components: {
                GenerateElementItem: n("d4b0").
            default
            },
            props: ["widget", "models", "rules", "remote", "blanks"],
            data: function() {
                return {
                    dataModel: this.models[this.widget.model],
                    dataModels: this.models
                }
            },
            methods: {},
            watch: {
                dataModel: {
                    deep: !0,
                    handler: function(e) {
                        this.models[this.widget.model] = e,
                        this.$emit("update:models", Object(o.a)({},
                        this.models, Object(r.a)({},
                        this.widget.model, e)))
                    }
                },
                models: {
                    deep: !0,
                    handler: function(e) {
                        this.dataModel = e[this.widget.model],
                        this.dataModels = e
                    }
                },
                dataModels: {
                    deep: !0,
                    handler: function(e) {
                        this.$emit("update:models", e)
                    }
                }
            }
        },
        a = n("2877"),
        s = Object(a.a)(i,
        function() {
            var e, t = this,
            n = t.$createElement,
            r = t._self._c || n;
            return r("div", ["divider" != t.widget.type ? r("el-form-item", {
                class: (e = {},
                e[t.widget.options.customClass] = !!t.widget.options.customClass, e),
                attrs: {
                    label: t.widget.name,
                    prop: t.widget.model
                }
            },
            [r("generate-element-item", {
                attrs: {
                    blanks: t.blanks,
                    "is-table": !1,
                    widget: t.widget,
                    models: t.dataModels,
                    remote: t.remote
                },
                on: {
                    "update:models": function(e) {
                        t.dataModels = e
                    }
                },
                scopedSlots: t._u([t._l(t.blanks,
                function(e) {
                    return {
                        key: e.name,
                        fn: function(n) {
                            return [t._t(e.name, null, {
                                model: n.model
                            })]
                        }
                    }
                })], null, !0),
                model: {
                    value: t.dataModel,
                    callback: function(e) {
                        t.dataModel = e
                    },
                    expression: "dataModel"
                }
            })], 1) : t._e(), "divider" == t.widget.type ? r("el-divider", {
                attrs: {
                    "content-position": "left"
                }
            },
            [t._v("\n    " + t._s(t.widget.name) + "\n  ")]) : t._e()], 1)
        },
        [], !1, null, null, null);
        t.a = s.exports
    },
    "56d7": function(e, t, n) {
        "use strict";
        n.r(t),
        n("cadf"),
        n("551c"),
        n("f751"),
        n("097d");
        var r = n("2b0e"),
        o = {
            name: "app",
            methods: {
                handleHome: function() {
                    this.$router.push({
                        path: "/"
                    })
                }
            }
        },
        i = (n("5c0b"), n("2877")),
        a = Object(i.a)(o,
        function() {
            var e = this.$createElement,
            t = this._self._c || e;
            return t("div", {
                attrs: {
                    id: "app"
                }
            },
            [t("div", {
                staticClass: "fm-header"
            },
            [t("img", {
                staticClass: "fm-logo",
                attrs: {
                    src: n("cf05")
                }
            }), t("div", {
                staticClass: "fm-title",
                on: {
                    click: this.handleHome
                }
            },
            [this._v("表单设计器")]), this._m(0)]), t("div", {
                staticClass: "fm-container"
            },
            [t("router-view")], 1)])
        },
        [function() {
            var e = this.$createElement,
            t = this._self._c || e;
            return t("div", {
                staticClass: "fm-link"
            },
            [t("a", {
                staticClass: "ad",
                attrs: {
                    target: "_blank",
                    href: "https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=x5oqy0nh"
                }
            },
            [this._v("")])])
        }], !1, null, null, null).exports,
        s = n("8c4f"),
        l = {
            mounted: function() {}
        },
        u = Object(i.a)(l,
        function() {
            var e = this.$createElement,
            t = this._self._c || e;
            return t("fm-making-form", {
                ref: "makingForm",
                attrs: {
                    clearable: "",
                    upload: "",
                    preview: "",
                    "generate-code": "",
                    "generate-json": ""
                }
            },
            [t("template", {
                slot: "action"
            })], 2)
        },
        [], !1, null, null, null).exports;
        r.
    default.use(s.a);
        var c = new s.a({
            routes: [{
                path: "/",
                component: u
            },
            {
                path: "/price",
                name: "price",
                component: function() {
                    return n.e("chunk-37b08d8d").then(n.bind(null, "5bd8"))
                }
            }]
        }),
        d = n("5c96"),
        f = n.n(d),
        m = (n("0fae"), n("ac6a"), n("7f7f"), n("f5df"), n("f499")),
        p = n.n(m),
        h = n("1980"),
        g = n.n(h),
        v = n("a4bb"),
        b = n.n(v),
        y = {
            components: {
                Draggable: g.a
            },
            props: ["data"],
            data: function() {
                return {
                    validator: {
                        type: null,
                        required: null,
                        pattern: null,
                        range: null,
                        length: null
                    }
                }
            },
            computed: {
                show: function() {
                    return !! (this.data && b()(this.data).length > 0)
                }
            },
            methods: {
                handleOptionsRemove: function(e) {
                    "grid" === this.data.type ? this.data.columns.splice(e, 1) : this.data.options.options.splice(e, 1)
                },
                handleAddOption: function() {
                    this.data.options.showLabel ? this.data.options.options.push({
                        value: "新选项",
                        label: "新选项"
                    }) : this.data.options.options.push({
                        value: "新选项"
                    })
                },
                handleAddColumn: function() {
                    this.data.columns.push({
                        span: "",
                        list: []
                    })
                },
                generateRule: function() {
                    var e = this;
                    this.data.rules = [],
                    b()(this.validator).forEach(function(t) {
                        e.validator[t] && e.data.rules.push(e.validator[t])
                    })
                },
                handleSelectMuliple: function(e) {
                    e ? this.data.options.defaultValue ? this.data.options.defaultValue = [this.data.options.defaultValue] : this.data.options.defaultValue = [] : this.data.options.defaultValue.length > 0 ? this.data.options.defaultValue = this.data.options.defaultValue[0] : this.data.options.defaultValue = ""
                },
                validateRequired: function(e) {
                    var t = this;
                    this.validator.required = e ? {
                        required: !0,
                        message: "".concat(this.data.name, "必须填写")
                    }: null,
                    this.$nextTick(function() {
                        t.generateRule()
                    })
                },
                validateDataType: function(e) {
                    if (!this.show) return ! 1;
                    this.validator.type = e ? {
                        type: e,
                        message: this.data.name + "格式不正确"
                    }: null,
                    this.generateRule()
                },
                valiatePattern: function(e) {
                    if (!this.show) return ! 1;
                    this.validator.pattern = e ? {
                        pattern: e,
                        message: this.data.name + "格式不匹配"
                    }: null,
                    this.generateRule()
                }
            },
            watch: {
                "data.options.isRange": function(e) {
                    void 0 !== e && (e ? this.data.options.defaultValue = null: b()(this.data.options).indexOf("defaultValue") >= 0 && (this.data.options.defaultValue = ""))
                },
                "data.options.required": function(e) {
                    this.validateRequired(e)
                },
                "data.options.dataType": function(e) {
                    this.validateDataType(e)
                },
                "data.options.pattern": function(e) {
                    this.valiatePattern(e)
                },
                "data.name": function(e) {
                    this.data.options && (this.validateRequired(this.data.options.required), this.validateDataType(this.data.options.dataType), this.valiatePattern(this.data.options.pattern))
                }
            }
        },
        w = Object(i.a)(y,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return e.show ? n("div", [n("el-form", {
                attrs: {
                    "label-position": "top"
                }
            },
            ["grid" != e.data.type ? n("el-form-item", {
                attrs: {
                    label: "标题"
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.name,
                    callback: function(t) {
                        e.$set(e.data, "name", t)
                    },
                    expression: "data.name"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("width") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "宽度"
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.width,
                    callback: function(t) {
                        e.$set(e.data.options, "width", t)
                    },
                    expression: "data.options.width"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("height") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "高度"
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.height,
                    callback: function(t) {
                        e.$set(e.data.options, "height", t)
                    },
                    expression: "data.options.height"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("size") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "大小"
                }
            },
            [e._v("\n      宽度："), n("el-input", {
                staticStyle: {
                    width: "90px"
                },
                attrs: {
                    type: "number"
                },
                model: {
                    value: e.data.options.size.width,
                    callback: function(t) {
                        e.$set(e.data.options.size, "width", e._n(t))
                    },
                    expression: "data.options.size.width"
                }
            }), e._v("\n      高度："), n("el-input", {
                staticStyle: {
                    width: "90px"
                },
                attrs: {
                    type: "number"
                },
                model: {
                    value: e.data.options.size.height,
                    callback: function(t) {
                        e.$set(e.data.options.size, "height", e._n(t))
                    },
                    expression: "data.options.size.height"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("placeholder") >= 0 && ("time" != e.data.type || "date" != e.data.type) ? n("el-form-item", {
                attrs: {
                    label: "占位内容"
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.placeholder,
                    callback: function(t) {
                        e.$set(e.data.options, "placeholder", t)
                    },
                    expression: "data.options.placeholder"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("inline") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "布局方式"
                }
            },
            [n("el-radio-group", {
                model: {
                    value: e.data.options.inline,
                    callback: function(t) {
                        e.$set(e.data.options, "inline", t)
                    },
                    expression: "data.options.inline"
                }
            },
            [n("el-radio-button", {
                attrs: {
                    label: !1
                }
            },
            [e._v("块级")]), n("el-radio-button", {
                attrs: {
                    label: !0
                }
            },
            [e._v("行内")])], 1)], 1) : e._e(), Object.keys(e.data.options).indexOf("showInput") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "显示输入框"
                }
            },
            [n("el-switch", {
                model: {
                    value: e.data.options.showInput,
                    callback: function(t) {
                        e.$set(e.data.options, "showInput", t)
                    },
                    expression: "data.options.showInput"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("min") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "最小值"
                }
            },
            [n("el-input-number", {
                attrs: {
                    min: 0,
                    max: 100,
                    step: 1
                },
                model: {
                    value: e.data.options.min,
                    callback: function(t) {
                        e.$set(e.data.options, "min", t)
                    },
                    expression: "data.options.min"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("max") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "最大值"
                }
            },
            [n("el-input-number", {
                attrs: {
                    min: 0,
                    max: 100,
                    step: 1
                },
                model: {
                    value: e.data.options.max,
                    callback: function(t) {
                        e.$set(e.data.options, "max", t)
                    },
                    expression: "data.options.max"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("step") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "步长"
                }
            },
            [n("el-input-number", {
                attrs: {
                    min: 0,
                    max: 100,
                    step: 1
                },
                model: {
                    value: e.data.options.step,
                    callback: function(t) {
                        e.$set(e.data.options, "step", t)
                    },
                    expression: "data.options.step"
                }
            })], 1) : e._e(), "select" == e.data.type || "imgupload" == e.data.type ? n("el-form-item", {
                attrs: {
                    label: "是否多选"
                }
            },
            [n("el-switch", {
                on: {
                    change: e.handleSelectMuliple
                },
                model: {
                    value: e.data.options.multiple,
                    callback: function(t) {
                        e.$set(e.data.options, "multiple", t)
                    },
                    expression: "data.options.multiple"
                }
            })], 1) : e._e(), "select" == e.data.type ? n("el-form-item", {
                attrs: {
                    label: "是否可搜索"
                }
            },
            [n("el-switch", {
                model: {
                    value: e.data.options.filterable,
                    callback: function(t) {
                        e.$set(e.data.options, "filterable", t)
                    },
                    expression: "data.options.filterable"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("allowHalf") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "允许半选"
                }
            },
            [n("el-switch", {
                model: {
                    value: e.data.options.allowHalf,
                    callback: function(t) {
                        e.$set(e.data.options, "allowHalf", t)
                    },
                    expression: "data.options.allowHalf"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("showAlpha") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "支持透明度选择"
                }
            },
            [n("el-switch", {
                model: {
                    value: e.data.options.showAlpha,
                    callback: function(t) {
                        e.$set(e.data.options, "showAlpha", t)
                    },
                    expression: "data.options.showAlpha"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("showLabel") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "是否显示标签"
                }
            },
            [n("el-switch", {
                model: {
                    value: e.data.options.showLabel,
                    callback: function(t) {
                        e.$set(e.data.options, "showLabel", t)
                    },
                    expression: "data.options.showLabel"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("options") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "选项"
                }
            },
            [n("el-radio-group", {
                staticStyle: {
                    "margin-bottom": "10px"
                },
                attrs: {
                    size: "mini"
                },
                model: {
                    value: e.data.options.remote,
                    callback: function(t) {
                        e.$set(e.data.options, "remote", t)
                    },
                    expression: "data.options.remote"
                }
            },
            [n("el-radio-button", {
                attrs: {
                    label: !1
                }
            },
            [e._v("静态数据")]), n("el-radio-button", {
                attrs: {
                    label: !0
                }
            },
            [e._v("远端数据")])], 1), e.data.options.remote ? [n("div", [n("el-input", {
                attrs: {
                    size: "mini"
                },
                model: {
                    value: e.data.options.remoteFunc,
                    callback: function(t) {
                        e.$set(e.data.options, "remoteFunc", t)
                    },
                    expression: "data.options.remoteFunc"
                }
            },
            [n("template", {
                slot: "prepend"
            },
            [e._v("远端方法")])], 2), n("el-input", {
                attrs: {
                    size: "mini"
                },
                model: {
                    value: e.data.options.props.value,
                    callback: function(t) {
                        e.$set(e.data.options.props, "value", t)
                    },
                    expression: "data.options.props.value"
                }
            },
            [n("template", {
                slot: "prepend"
            },
            [e._v("值")])], 2), n("el-input", {
                attrs: {
                    size: "mini"
                },
                model: {
                    value: e.data.options.props.label,
                    callback: function(t) {
                        e.$set(e.data.options.props, "label", t)
                    },
                    expression: "data.options.props.label"
                }
            },
            [n("template", {
                slot: "prepend"
            },
            [e._v("标签")])], 2)], 1)] : ["radio" == e.data.type || "select" == e.data.type && !e.data.options.multiple ? [n("el-radio-group", {
                model: {
                    value: e.data.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultValue", t)
                    },
                    expression: "data.options.defaultValue"
                }
            },
            [n("draggable", e._b({
                attrs: {
                    tag: "ul",
                    list: e.data.options.options,
                    handle: ".drag-item"
                }
            },
            "draggable", {
                group: {
                    name: "options"
                },
                ghostClass: "ghost",
                handle: ".drag-item"
            },
            !1), e._l(e.data.options.options,
            function(t, r) {
                return n("li", {
                    key: r
                },
                [n("el-radio", {
                    staticStyle: {
                        "margin-right": "5px"
                    },
                    attrs: {
                        label: t.value
                    }
                },
                [n("el-input", {
                    style: {
                        width: e.data.options.showLabel ? "90px": "180px"
                    },
                    attrs: {
                        size: "mini"
                    },
                    model: {
                        value: t.value,
                        callback: function(n) {
                            e.$set(t, "value", n)
                        },
                        expression: "item.value"
                    }
                }), e.data.options.showLabel ? n("el-input", {
                    staticStyle: {
                        width: "90px"
                    },
                    attrs: {
                        size: "mini"
                    },
                    model: {
                        value: t.label,
                        callback: function(n) {
                            e.$set(t, "label", n)
                        },
                        expression: "item.label"
                    }
                }) : e._e()], 1), n("i", {
                    staticClass: "drag-item",
                    staticStyle: {
                        "font-size": "16px",
                        margin: "0 5px",
                        cursor: "move"
                    }
                },
                [n("i", {
                    staticClass: "iconfont icon-icon_bars"
                })]), n("el-button", {
                    staticStyle: {
                        padding: "4px",
                        "margin-left": "5px"
                    },
                    attrs: {
                        circle: "",
                        plain: "",
                        type: "danger",
                        size: "mini",
                        icon: "el-icon-minus"
                    },
                    on: {
                        click: function(t) {
                            return e.handleOptionsRemove(r)
                        }
                    }
                })], 1)
            }), 0)], 1)] : e._e(), "checkbox" == e.data.type || "select" == e.data.type && e.data.options.multiple ? [n("el-checkbox-group", {
                model: {
                    value: e.data.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultValue", t)
                    },
                    expression: "data.options.defaultValue"
                }
            },
            [n("draggable", e._b({
                attrs: {
                    tag: "ul",
                    list: e.data.options.options,
                    handle: ".drag-item"
                }
            },
            "draggable", {
                group: {
                    name: "options"
                },
                ghostClass: "ghost",
                handle: ".drag-item"
            },
            !1), e._l(e.data.options.options,
            function(t, r) {
                return n("li", {
                    key: r
                },
                [n("el-checkbox", {
                    staticStyle: {
                        "margin-right": "5px"
                    },
                    attrs: {
                        label: t.value
                    }
                },
                [n("el-input", {
                    style: {
                        width: e.data.options.showLabel ? "90px": "180px"
                    },
                    attrs: {
                        size: "mini"
                    },
                    model: {
                        value: t.value,
                        callback: function(n) {
                            e.$set(t, "value", n)
                        },
                        expression: "item.value"
                    }
                }), e.data.options.showLabel ? n("el-input", {
                    staticStyle: {
                        width: "90px"
                    },
                    attrs: {
                        size: "mini"
                    },
                    model: {
                        value: t.label,
                        callback: function(n) {
                            e.$set(t, "label", n)
                        },
                        expression: "item.label"
                    }
                }) : e._e()], 1), n("i", {
                    staticClass: "drag-item",
                    staticStyle: {
                        "font-size": "16px",
                        margin: "0 5px",
                        cursor: "move"
                    }
                },
                [n("i", {
                    staticClass: "iconfont icon-icon_bars"
                })]), n("el-button", {
                    staticStyle: {
                        padding: "4px",
                        "margin-left": "5px"
                    },
                    attrs: {
                        circle: "",
                        plain: "",
                        type: "danger",
                        size: "mini",
                        icon: "el-icon-minus"
                    },
                    on: {
                        click: function(t) {
                            return e.handleOptionsRemove(r)
                        }
                    }
                })], 1)
            }), 0)], 1)] : e._e(), n("div", {
                staticStyle: {
                    "margin-left": "22px"
                }
            },
            [n("el-button", {
                attrs: {
                    type: "text"
                },
                on: {
                    click: e.handleAddOption
                }
            },
            [e._v("添加选项")])], 1)]], 2) : e._e(), "cascader" == e.data.type ? n("el-form-item", {
                attrs: {
                    label: "远端数据"
                }
            },
            [n("div", [n("el-input", {
                attrs: {
                    size: "mini"
                },
                model: {
                    value: e.data.options.remoteFunc,
                    callback: function(t) {
                        e.$set(e.data.options, "remoteFunc", t)
                    },
                    expression: "data.options.remoteFunc"
                }
            },
            [n("template", {
                slot: "prepend"
            },
            [e._v("远端方法")])], 2), n("el-input", {
                attrs: {
                    size: "mini"
                },
                model: {
                    value: e.data.options.props.value,
                    callback: function(t) {
                        e.$set(e.data.options.props, "value", t)
                    },
                    expression: "data.options.props.value"
                }
            },
            [n("template", {
                slot: "prepend"
            },
            [e._v("值")])], 2), n("el-input", {
                attrs: {
                    size: "mini"
                },
                model: {
                    value: e.data.options.props.label,
                    callback: function(t) {
                        e.$set(e.data.options.props, "label", t)
                    },
                    expression: "data.options.props.label"
                }
            },
            [n("template", {
                slot: "prepend"
            },
            [e._v("标签")])], 2), n("el-input", {
                attrs: {
                    size: "mini"
                },
                model: {
                    value: e.data.options.props.children,
                    callback: function(t) {
                        e.$set(e.data.options.props, "children", t)
                    },
                    expression: "data.options.props.children"
                }
            },
            [n("template", {
                slot: "prepend"
            },
            [e._v("子选项")])], 2)], 1)]) : e._e(), Object.keys(e.data.options).indexOf("defaultValue") >= 0 && ("text" == e.data.type || "textarea" == e.data.type || "input" == e.data.type || "rate" == e.data.type || "color" == e.data.type || "switch" == e.data.type) ? n("el-form-item", {
                attrs: {
                    label: "默认值"
                }
            },
            ["textarea" == e.data.type ? n("el-input", {
                attrs: {
                    type: "textarea",
                    rows: 5
                },
                model: {
                    value: e.data.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultValue", t)
                    },
                    expression: "data.options.defaultValue"
                }
            }) : e._e(), "input" == e.data.type || "text" == e.data.type ? n("el-input", {
                model: {
                    value: e.data.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultValue", t)
                    },
                    expression: "data.options.defaultValue"
                }
            }) : e._e(), "rate" == e.data.type ? n("el-rate", {
                staticStyle: {
                    display: "inline-block",
                    "vertical-align": "middle"
                },
                attrs: {
                    max: e.data.options.max,
                    "allow-half": e.data.options.allowHalf
                },
                model: {
                    value: e.data.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultValue", t)
                    },
                    expression: "data.options.defaultValue"
                }
            }) : e._e(), "rate" == e.data.type ? n("el-button", {
                staticStyle: {
                    display: "inline-block",
                    "vertical-align": "middle",
                    "margin-left": "10px"
                },
                attrs: {
                    type: "text"
                },
                on: {
                    click: function(t) {
                        e.data.options.defaultValue = 0
                    }
                }
            },
            [e._v("清空")]) : e._e(), "color" == e.data.type ? n("el-color-picker", {
                attrs: {
                    "show-alpha": e.data.options.showAlpha
                },
                model: {
                    value: e.data.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultValue", t)
                    },
                    expression: "data.options.defaultValue"
                }
            }) : e._e(), "switch" == e.data.type ? n("el-switch", {
                model: {
                    value: e.data.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultValue", t)
                    },
                    expression: "data.options.defaultValue"
                }
            }) : e._e()], 1) : e._e(), "time" == e.data.type || "date" == e.data.type ? ["date" == e.data.type ? n("el-form-item", {
                attrs: {
                    label: "显示类型"
                }
            },
            [n("el-select", {
                model: {
                    value: e.data.options.type,
                    callback: function(t) {
                        e.$set(e.data.options, "type", t)
                    },
                    expression: "data.options.type"
                }
            },
            [n("el-option", {
                attrs: {
                    value: "year"
                }
            }), n("el-option", {
                attrs: {
                    value: "month"
                }
            }), n("el-option", {
                attrs: {
                    value: "date"
                }
            }), n("el-option", {
                attrs: {
                    value: "dates"
                }
            }), n("el-option", {
                attrs: {
                    value: "datetime"
                }
            }), n("el-option", {
                attrs: {
                    value: "datetimerange"
                }
            }), n("el-option", {
                attrs: {
                    value: "daterange"
                }
            })], 1)], 1) : e._e(), "time" == e.data.type ? n("el-form-item", {
                attrs: {
                    label: "是否为范围选择"
                }
            },
            [n("el-switch", {
                model: {
                    value: e.data.options.isRange,
                    callback: function(t) {
                        e.$set(e.data.options, "isRange", t)
                    },
                    expression: "data.options.isRange"
                }
            })], 1) : e._e(), "date" == e.data.type ? n("el-form-item", {
                attrs: {
                    label: "是否获取时间戳"
                }
            },
            [n("el-switch", {
                model: {
                    value: e.data.options.timestamp,
                    callback: function(t) {
                        e.$set(e.data.options, "timestamp", t)
                    },
                    expression: "data.options.timestamp"
                }
            })], 1) : e._e(), !e.data.options.isRange && "time" == e.data.type || "time" != e.data.type && "datetimerange" != e.data.options.type && "daterange" != e.data.options.type ? n("el-form-item", {
                attrs: {
                    label: "占位内容"
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.placeholder,
                    callback: function(t) {
                        e.$set(e.data.options, "placeholder", t)
                    },
                    expression: "data.options.placeholder"
                }
            })], 1) : e._e(), e.data.options.isRange || "datetimerange" == e.data.options.type || "daterange" == e.data.options.type ? n("el-form-item", {
                attrs: {
                    label: "开始时间占位内容"
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.startPlaceholder,
                    callback: function(t) {
                        e.$set(e.data.options, "startPlaceholder", t)
                    },
                    expression: "data.options.startPlaceholder"
                }
            })], 1) : e._e(), e.data.options.isRange || "datetimerange" == e.data.options.type || "daterange" == e.data.options.type ? n("el-form-item", {
                attrs: {
                    label: "结束时间占位内容"
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.endPlaceholder,
                    callback: function(t) {
                        e.$set(e.data.options, "endPlaceholder", t)
                    },
                    expression: "data.options.endPlaceholder"
                }
            })], 1) : e._e(), n("el-form-item", {
                attrs: {
                    label: "格式"
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.format,
                    callback: function(t) {
                        e.$set(e.data.options, "format", t)
                    },
                    expression: "data.options.format"
                }
            })], 1), "time" == e.data.type && Object.keys(e.data.options).indexOf("isRange") >= 0 ? n("el-form-item", {
                attrs: {
                    label: "默认值"
                }
            },
            [e.data.options.isRange ? e._e() : n("el-time-picker", {
                key: "1",
                staticStyle: {
                    width: "100%"
                },
                attrs: {
                    arrowControl: e.data.options.arrowControl,
                    "value-format": e.data.options.format
                },
                model: {
                    value: e.data.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultValue", t)
                    },
                    expression: "data.options.defaultValue"
                }
            }), e.data.options.isRange ? n("el-time-picker", {
                key: "2",
                staticStyle: {
                    width: "100%"
                },
                attrs: {
                    "is-range": "",
                    arrowControl: e.data.options.arrowControl,
                    "value-format": e.data.options.format
                },
                model: {
                    value: e.data.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultValue", t)
                    },
                    expression: "data.options.defaultValue"
                }
            }) : e._e()], 1) : e._e()] : e._e(), "imgupload" == e.data.type ? [n("el-form-item", {
                attrs: {
                    label: "最大上传数"
                }
            },
            [n("el-input", {
                attrs: {
                    type: "number"
                },
                model: {
                    value: e.data.options.length,
                    callback: function(t) {
                        e.$set(e.data.options, "length", e._n(t))
                    },
                    expression: "data.options.length"
                }
            })], 1), n("el-form-item", {
                attrs: {
                    label: "使用七牛上传"
                }
            },
            [n("el-switch", {
                model: {
                    value: e.data.options.isQiniu,
                    callback: function(t) {
                        e.$set(e.data.options, "isQiniu", t)
                    },
                    expression: "data.options.isQiniu"
                }
            })], 1), e.data.options.isQiniu ? [n("el-form-item", {
                attrs: {
                    label: "Domain",
                    required: !0
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.domain,
                    callback: function(t) {
                        e.$set(e.data.options, "domain", t)
                    },
                    expression: "data.options.domain"
                }
            })], 1), n("el-form-item", {
                attrs: {
                    label: "获取七牛Token方法",
                    required: !0
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.tokenFunc,
                    callback: function(t) {
                        e.$set(e.data.options, "tokenFunc", t)
                    },
                    expression: "data.options.tokenFunc"
                }
            })], 1)] : [n("el-form-item", {
                attrs: {
                    label: "图片上传地址",
                    required: !0
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.options.action,
                    callback: function(t) {
                        e.$set(e.data.options, "action", t)
                    },
                    expression: "data.options.action"
                }
            })], 1)]] : e._e(), "blank" == e.data.type ? [n("el-form-item", {
                attrs: {
                    label: "绑定数据类型"
                }
            },
            [n("el-select", {
                model: {
                    value: e.data.options.defaultType,
                    callback: function(t) {
                        e.$set(e.data.options, "defaultType", t)
                    },
                    expression: "data.options.defaultType"
                }
            },
            [n("el-option", {
                attrs: {
                    value: "String",
                    label: "字符"
                }
            }), n("el-option", {
                attrs: {
                    value: "Object",
                    label: "对象"
                }
            }), n("el-option", {
                attrs: {
                    value: "Array",
                    label: "数组"
                }
            })], 1)], 1)] : e._e(), "grid" == e.data.type ? [n("el-form-item", {
                attrs: {
                    label: "栅格间隔"
                }
            },
            [n("el-input", {
                attrs: {
                    type: "number"
                },
                model: {
                    value: e.data.options.gutter,
                    callback: function(t) {
                        e.$set(e.data.options, "gutter", e._n(t))
                    },
                    expression: "data.options.gutter"
                }
            })], 1), n("el-form-item", {
                attrs: {
                    label: "列配置项"
                }
            },
            [n("draggable", e._b({
                attrs: {
                    tag: "ul",
                    list: e.data.columns,
                    handle: ".drag-item"
                }
            },
            "draggable", {
                group: {
                    name: "options"
                },
                ghostClass: "ghost",
                handle: ".drag-item"
            },
            !1), e._l(e.data.columns,
            function(t, r) {
                return n("li", {
                    key: r
                },
                [n("i", {
                    staticClass: "drag-item",
                    staticStyle: {
                        "font-size": "16px",
                        margin: "0 5px",
                        cursor: "move"
                    }
                },
                [n("i", {
                    staticClass: "iconfont icon-icon_bars"
                })]), n("el-input", {
                    staticStyle: {
                        width: "100px"
                    },
                    attrs: {
                        placeholder: "栅格值",
                        size: "mini",
                        type: "number"
                    },
                    model: {
                        value: t.span,
                        callback: function(n) {
                            e.$set(t, "span", e._n(n))
                        },
                        expression: "item.span"
                    }
                }), n("el-button", {
                    staticStyle: {
                        padding: "4px",
                        "margin-left": "5px"
                    },
                    attrs: {
                        circle: "",
                        plain: "",
                        type: "danger",
                        size: "mini",
                        icon: "el-icon-minus"
                    },
                    on: {
                        click: function(t) {
                            return e.handleOptionsRemove(r)
                        }
                    }
                })], 1)
            }), 0), n("div", {
                staticStyle: {
                    "margin-left": "22px"
                }
            },
            [n("el-button", {
                attrs: {
                    type: "text"
                },
                on: {
                    click: e.handleAddColumn
                }
            },
            [e._v("添加列")])], 1)], 1), n("el-form-item", {
                attrs: {
                    label: "水平排列方式"
                }
            },
            [n("el-select", {
                model: {
                    value: e.data.options.justify,
                    callback: function(t) {
                        e.$set(e.data.options, "justify", t)
                    },
                    expression: "data.options.justify"
                }
            },
            [n("el-option", {
                attrs: {
                    value: "start",
                    label: "左对齐"
                }
            }), n("el-option", {
                attrs: {
                    value: "end",
                    label: "右对齐"
                }
            }), n("el-option", {
                attrs: {
                    value: "center",
                    label: "居中"
                }
            }), n("el-option", {
                attrs: {
                    value: "space-around",
                    label: "两侧间隔相等"
                }
            }), n("el-option", {
                attrs: {
                    value: "space-between",
                    label: "两端对齐"
                }
            })], 1)], 1), n("el-form-item", {
                attrs: {
                    label: "垂直排列方式"
                }
            },
            [n("el-select", {
                model: {
                    value: e.data.options.align,
                    callback: function(t) {
                        e.$set(e.data.options, "align", t)
                    },
                    expression: "data.options.align"
                }
            },
            [n("el-option", {
                attrs: {
                    value: "top",
                    label: "顶部对齐"
                }
            }), n("el-option", {
                attrs: {
                    value: "middle",
                    label: "居中"
                }
            }), n("el-option", {
                attrs: {
                    value: "bottom",
                    label: "底部对齐"
                }
            })], 1)], 1)] : e._e(), Object.keys(e.data.options).includes("customClass") ? n("el-form-item", {
                attrs: {
                    label: "自定义Class"
                }
            },
            [n("el-input", {
                attrs: {
                    clearable: ""
                },
                model: {
                    value: e.data.options.customClass,
                    callback: function(t) {
                        e.$set(e.data.options, "customClass", t)
                    },
                    expression: "data.options.customClass"
                }
            })], 1) : e._e(), "grid" != e.data.type ? [n("el-form-item", {
                attrs: {
                    label: "数据绑定Key"
                }
            },
            [n("el-input", {
                model: {
                    value: e.data.model,
                    callback: function(t) {
                        e.$set(e.data, "model", t)
                    },
                    expression: "data.model"
                }
            })], 1), n("el-form-item", {
                attrs: {
                    label: "操作属性"
                }
            },
            [Object.keys(e.data.options).indexOf("readonly") >= 0 ? n("el-checkbox", {
                model: {
                    value: e.data.options.readonly,
                    callback: function(t) {
                        e.$set(e.data.options, "readonly", t)
                    },
                    expression: "data.options.readonly"
                }
            },
            [e._v("完全只读")]) : e._e(), Object.keys(e.data.options).indexOf("disabled") >= 0 ? n("el-checkbox", {
                model: {
                    value: e.data.options.disabled,
                    callback: function(t) {
                        e.$set(e.data.options, "disabled", t)
                    },
                    expression: "data.options.disabled"
                }
            },
            [e._v("禁用\t")]) : e._e(), Object.keys(e.data.options).indexOf("editable") >= 0 ? n("el-checkbox", {
                model: {
                    value: e.data.options.editable,
                    callback: function(t) {
                        e.$set(e.data.options, "editable", t)
                    },
                    expression: "data.options.editable"
                }
            },
            [e._v("文本框可输入")]) : e._e(), Object.keys(e.data.options).indexOf("clearable") >= 0 ? n("el-checkbox", {
                model: {
                    value: e.data.options.clearable,
                    callback: function(t) {
                        e.$set(e.data.options, "clearable", t)
                    },
                    expression: "data.options.clearable"
                }
            },
            [e._v("显示清除按钮")]) : e._e(), Object.keys(e.data.options).indexOf("arrowControl") >= 0 ? n("el-checkbox", {
                model: {
                    value: e.data.options.arrowControl,
                    callback: function(t) {
                        e.$set(e.data.options, "arrowControl", t)
                    },
                    expression: "data.options.arrowControl"
                }
            },
            [e._v("使用箭头进行时间选择")]) : e._e(), Object.keys(e.data.options).indexOf("isDelete") >= 0 ? n("el-checkbox", {
                model: {
                    value: e.data.options.isDelete,
                    callback: function(t) {
                        e.$set(e.data.options, "isDelete", t)
                    },
                    expression: "data.options.isDelete"
                }
            },
            [e._v("删除")]) : e._e(), Object.keys(e.data.options).indexOf("isEdit") >= 0 ? n("el-checkbox", {
                model: {
                    value: e.data.options.isEdit,
                    callback: function(t) {
                        e.$set(e.data.options, "isEdit", t)
                    },
                    expression: "data.options.isEdit"
                }
            },
            [e._v("编辑")]) : e._e()], 1), n("el-form-item", {
                attrs: {
                    label: "校验"
                }
            },
            [Object.keys(e.data.options).indexOf("required") >= 0 ? n("div", [n("el-checkbox", {
                model: {
                    value: e.data.options.required,
                    callback: function(t) {
                        e.$set(e.data.options, "required", t)
                    },
                    expression: "data.options.required"
                }
            },
            [e._v("必填")])], 1) : e._e(), Object.keys(e.data.options).indexOf("dataType") >= 0 ? n("el-select", {
                attrs: {
                    size: "mini"
                },
                model: {
                    value: e.data.options.dataType,
                    callback: function(t) {
                        e.$set(e.data.options, "dataType", t)
                    },
                    expression: "data.options.dataType"
                }
            },
            [n("el-option", {
                attrs: {
                    value: "string",
                    label: "字符串"
                }
            }), n("el-option", {
                attrs: {
                    value: "number",
                    label: "数字"
                }
            }), n("el-option", {
                attrs: {
                    value: "boolean",
                    label: "布尔值"
                }
            }), n("el-option", {
                attrs: {
                    value: "integer",
                    label: "整数"
                }
            }), n("el-option", {
                attrs: {
                    value: "float",
                    label: "浮点数"
                }
            }), n("el-option", {
                attrs: {
                    value: "url",
                    label: "URL地址"
                }
            }), n("el-option", {
                attrs: {
                    value: "email",
                    label: "邮箱地址"
                }
            }), n("el-option", {
                attrs: {
                    value: "hex",
                    label: "十六进制"
                }
            })], 1) : e._e(), Object.keys(e.data.options).indexOf("pattern") >= 0 ? n("div", [n("el-input", {
                staticStyle: {
                    width: "240px"
                },
                attrs: {
                    size: "mini",
                    placeholder: "填写正则表达式"
                },
                model: {
                    value: e.data.options.pattern,
                    callback: function(t) {
                        e.$set(e.data.options, "pattern", t)
                    },
                    expression: "data.options.pattern"
                }
            })], 1) : e._e()], 1)] : e._e()], 2)], 1) : e._e()
        },
        [], !1, null, null, null).exports,
        x = {
            props: ["data"]
        },
        C = Object(i.a)(x,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return n("div", {
                staticClass: "form-config-container"
            },
            [n("el-form", {
                attrs: {
                    "label-position": "top"
                }
            },
            [n("el-form-item", {
                attrs: {
                    label: "标签对齐方式"
                }
            },
            [n("el-radio-group", {
                model: {
                    value: e.data.labelPosition,
                    callback: function(t) {
                        e.$set(e.data, "labelPosition", t)
                    },
                    expression: "data.labelPosition"
                }
            },
            [n("el-radio-button", {
                attrs: {
                    label: "left"
                }
            },
            [e._v("左对齐")]), n("el-radio-button", {
                attrs: {
                    label: "right"
                }
            },
            [e._v("右对齐")]), n("el-radio-button", {
                attrs: {
                    label: "top"
                }
            },
            [e._v("顶部对齐")])], 1)], 1), n("el-form-item", {
                attrs: {
                    label: "表单字段宽度"
                }
            },
            [n("el-input-number", {
                attrs: {
                    min: 0,
                    max: 200,
                    step: 10
                },
                model: {
                    value: e.data.labelWidth,
                    callback: function(t) {
                        e.$set(e.data, "labelWidth", t)
                    },
                    expression: "data.labelWidth"
                }
            })], 1), n("el-form-item", {
                attrs: {
                    label: "组件尺寸"
                }
            },
            [n("el-radio-group", {
                model: {
                    value: e.data.size,
                    callback: function(t) {
                        e.$set(e.data, "size", t)
                    },
                    expression: "data.size"
                }
            },
            [n("el-radio-button", {
                attrs: {
                    label: "medium"
                }
            },
            [e._v("medium")]), n("el-radio-button", {
                attrs: {
                    label: "small"
                }
            },
            [e._v("small")]), n("el-radio-button", {
                attrs: {
                    label: "mini"
                }
            },
            [e._v("mini")])], 1)], 1), n("el-form-item", {
                attrs: {
                    label: "自定义Class"
                }
            },
            [n("el-input", {
                attrs: {
                    clearable: ""
                },
                model: {
                    value: e.data.customClass,
                    callback: function(t) {
                        e.$set(e.data, "customClass", t)
                    },
                    expression: "data.customClass"
                }
            })], 1)], 1)], 1)
        },
        [], !1, null, null, null).exports,
        _ = (n("6762"), n("2fdb"), n("75fc")),
        k = n("cebc"),
        E = n("c7f0"),
        T = n("9336"),
        S = {
            components: {
                FmUpload: E.a,
                FmEditor: T.a
            },
            props: ["element", "isTable"]
        },
        N = Object(i.a)(S,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return n("span", ["input" == e.element.type ? [n("el-input", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                attrs: {
                    placeholder: e.element.options.placeholder,
                    disabled: e.element.options.disabled
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "textarea" == e.element.type ? [n("el-input", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                attrs: {
                    type: "textarea",
                    rows: 5,
                    disabled: e.element.options.disabled,
                    placeholder: e.element.options.placeholder
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "number" == e.element.type ? [n("el-input-number", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                attrs: {
                    disabled: e.element.options.disabled,
                    "controls-position": e.element.options.controlsPosition
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "radio" == e.element.type ? [n("el-radio-group", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            },
            e._l(e.element.options.options,
            function(t, r) {
                return n("el-radio", {
                    key: t.value + r,
                    style: {
                        display: e.element.options.inline ? "inline-block": "block"
                    },
                    attrs: {
                        label: t.value
                    }
                },
                [e._v("\n        " + e._s(e.element.options.showLabel ? t.label: t.value) + "\n      ")])
            }), 1)] : e._e(), "checkbox" == e.element.type ? [n("el-checkbox-group", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            },
            e._l(e.element.options.options,
            function(t, r) {
                return n("el-checkbox", {
                    key: t.value + r,
                    style: {
                        display: e.element.options.inline ? "inline-block": "block"
                    },
                    attrs: {
                        label: t.value
                    }
                },
                [e._v("\n        " + e._s(e.element.options.showLabel ? t.label: t.value) + "\n      ")])
            }), 1)] : e._e(), "time" == e.element.type ? [n("el-time-picker", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                attrs: {
                    "is-range": e.element.options.isRange,
                    placeholder: e.element.options.placeholder,
                    "start-placeholder": e.element.options.startPlaceholder,
                    "end-placeholder": e.element.options.endPlaceholder,
                    readonly: e.element.options.readonly,
                    disabled: e.element.options.disabled,
                    editable: e.element.options.editable,
                    clearable: e.element.options.clearable,
                    arrowControl: e.element.options.arrowControl
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "date" == e.element.type ? [n("el-date-picker", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                attrs: {
                    type: e.element.options.type,
                    "is-range": e.element.options.isRange,
                    placeholder: e.element.options.placeholder,
                    "start-placeholder": e.element.options.startPlaceholder,
                    "end-placeholder": e.element.options.endPlaceholder,
                    readonly: e.element.options.readonly,
                    disabled: e.element.options.disabled,
                    editable: e.element.options.editable,
                    clearable: e.element.options.clearable
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "rate" == e.element.type ? [n("el-rate", {
                attrs: {
                    max: e.element.options.max,
                    disabled: e.element.options.disabled,
                    "allow-half": e.element.options.allowHalf
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "color" == e.element.type ? [n("el-color-picker", {
                attrs: {
                    disabled: e.element.options.disabled,
                    "show-alpha": e.element.options.showAlpha
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "select" == e.element.type ? [n("el-select", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                attrs: {
                    disabled: e.element.options.disabled,
                    multiple: e.element.options.multiple,
                    clearable: e.element.options.clearable,
                    placeholder: e.element.options.placeholder
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            },
            e._l(e.element.options.options,
            function(t) {
                return n("el-option", {
                    key: t.value,
                    attrs: {
                        value: t.value,
                        label: e.element.options.showLabel ? t.label: t.value
                    }
                })
            }), 1)] : e._e(), "switch" == e.element.type ? [n("el-switch", {
                attrs: {
                    disabled: e.element.options.disabled
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "slider" == e.element.type ? [n("el-slider", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                attrs: {
                    min: e.element.options.min,
                    max: e.element.options.max,
                    disabled: e.element.options.disabled,
                    step: e.element.options.step,
                    "show-input": e.element.options.showInput,
                    range: e.element.options.range
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "imgupload" == e.element.type ? [n("fm-upload", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                attrs: {
                    disabled: e.element.options.disabled,
                    width: e.element.options.size.width,
                    height: e.element.options.size.height,
                    token: "xxx",
                    domain: "xxx"
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "cascader" == e.element.type ? [n("el-cascader", {
                style: {
                    width: e.isTable ? "100%": e.element.options.width
                },
                attrs: {
                    disabled: e.element.options.disabled,
                    clearable: e.element.options.clearable,
                    placeholder: e.element.options.placeholder,
                    options: e.element.options.remoteOptions
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "editor" == e.element.type ? [n("fm-editor", {
                attrs: {
                    width: e.isTable ? "100%": e.element.options.width,
                    height: e.element.options.height
                },
                model: {
                    value: e.element.options.defaultValue,
                    callback: function(t) {
                        e.$set(e.element.options, "defaultValue", t)
                    },
                    expression: "element.options.defaultValue"
                }
            })] : e._e(), "blank" == e.element.type ? [n("div", {
                staticStyle: {
                    height: "50px",
                    color: "#999",
                    background: "#eee",
                    "line-height": "50px",
                    "text-align": "center"
                }
            },
            [e._v("自定义区域")])] : e._e(), "text" == e.element.type ? [n("span", [e._v(e._s(e.element.options.defaultValue))])] : e._e()], 2)
        },
        [], !1, null, null, null).exports,
        R = {
            props: ["element", "select", "index", "data"],
            components: {
                WidgetElementItem: N
            },
            data: function() {
                return {
                    selectWidget: this.select
                }
            },
            mounted: function() {},
            methods: {
                handleSelectWidget: function(e) {
                    this.selectWidget = this.data.list[e]
                },
                handleWidgetDelete: function(e) {
                    var t = this;
                    1 == this.data.list.length ? this.$emit("select-change", -1) : this.data.list.length - 1 == e ? this.$emit("select-change", e - 1) : this.$emit("select-change", e),
                    this.$nextTick(function() {
                        t.data.list.splice(e, 1)
                    })
                },
                handleWidgetClone: function(e) {
                    var t = this,
                    n = (new Date).getTime() + "",
                    r = Object(k.a)({},
                    this.data.list[e], {
                        options: Object(k.a)({},
                        this.data.list[e].options),
                        key: n,
                        model: this.data.list[e].type + n
                    });
                    b()(this.data.list[e].options).includes("options") && (r = Object(k.a)({},
                    r, {
                        options: Object(k.a)({},
                        r.options, {
                            options: r.options.options.map(function(e) {
                                return Object(k.a)({},
                                e)
                            })
                        })
                    })),
                    this.data.list.splice(e, 0, r),
                    this.$nextTick(function() {
                        t.selectWidget = t.data.list[e + 1]
                    })
                }
            },
            watch: {
                select: function(e) {
                    this.selectWidget = e
                },
                selectWidget: {
                    handler: function(e) {
                        this.$emit("update:select", e)
                    },
                    deep: !0
                }
            }
        },
        A = Object(i.a)(R,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return n("div", [e.element && e.element.key && "divider" != e.element.type ? n("el-form-item", {
                staticClass: "widget-view ",
                class: {
                    active: e.selectWidget.key == e.element.key,
                    is_req: e.element.options.required
                },
                attrs: {
                    label: e.element.name
                },
                nativeOn: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleSelectWidget(e.index)
                    }
                }
            },
            [n("widget-element-item", {
                attrs: {
                    element: e.element,
                    "is-table": !1
                }
            }), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-action"
            },
            [n("i", {
                staticClass: "iconfont icon-icon_clone",
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleWidgetClone(e.index)
                    }
                }
            }), n("i", {
                staticClass: "iconfont icon-trash",
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleWidgetDelete(e.index)
                    }
                }
            })]) : e._e(), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-drag"
            },
            [n("i", {
                staticClass: "iconfont icon-drag drag-widget"
            })]) : e._e()], 1) : e._e(), e.element && e.element.key && "divider" == e.element.type ? n("div", {
                staticClass: "widget-view no-put",
                class: {
                    active: e.selectWidget.key == e.element.key
                },
                staticStyle: {
                    "padding-bottom": "0"
                },
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleSelectWidget(e.index)
                    }
                }
            },
            [n("el-divider", {
                attrs: {
                    "content-position": "left"
                }
            },
            [e._v("\n      " + e._s(e.element.name) + "\n    ")]), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-action"
            },
            [n("i", {
                staticClass: "iconfont icon-icon_clone",
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleWidgetClone(e.index)
                    }
                }
            }), n("i", {
                staticClass: "iconfont icon-trash",
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleWidgetDelete(e.index)
                    }
                }
            })]) : e._e(), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-drag"
            },
            [n("i", {
                staticClass: "iconfont icon-drag drag-widget"
            })]) : e._e()], 1) : e._e()], 1)
        },
        [], !1, null, null, null).exports,
        O = {
            components: {
                WidgetElementItem: N
            },
            props: ["element", "select", "index", "data"],
            data: function() {
                return {
                    selectWidget: this.select
                }
            },
            methods: {
                handleSelectWidget: function(e) {
                    this.selectWidget = this.data[e]
                },
                handleWidgetDelete: function(e) {
                    var t = this;
                    1 == this.data.length ? this.$emit("select-change", -1) : this.data.length - 1 == e ? this.$emit("select-change", e - 1) : this.$emit("select-change", e),
                    this.$nextTick(function() {
                        t.data.splice(e, 1)
                    })
                },
                handleWidgetClone: function(e) {
                    var t = this,
                    n = (new Date).getTime() + "",
                    r = Object(k.a)({},
                    this.data[e], {
                        options: Object(k.a)({},
                        this.data[e].options),
                        key: n,
                        model: this.data[e].type + n
                    });
                    b()(this.data[e].options).includes("options") && (r = Object(k.a)({},
                    r, {
                        options: Object(k.a)({},
                        r.options, {
                            options: r.options.options.map(function(e) {
                                return Object(k.a)({},
                                e)
                            })
                        })
                    })),
                    this.data.splice(e, 0, r),
                    this.$nextTick(function() {
                        t.selectWidget = t.data[e + 1]
                    })
                }
            },
            watch: {
                select: function(e) {
                    this.selectWidget = e
                },
                selectWidget: {
                    handler: function(e) {
                        this.$emit("update:select", e)
                    },
                    deep: !0
                }
            }
        },
        D = Object(i.a)(O,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return e.element && e.element.key ? n("div", {
                staticClass: "widget-table-view",
                class: {
                    active: e.selectWidget.key == e.element.key,
                    is_req: e.element.options.required
                },
                style: {
                    width: e.element.options.width && "100%" != e.element.options.width ? e.element.options.width: "200px"
                },
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleSelectWidget(e.index)
                    }
                }
            },
            [n("el-table", {
                attrs: {
                    "row-class-name": "widget-table-row",
                    data: [{}]
                }
            },
            [n("el-table-column", {
                attrs: {
                    label: e.element.name
                }
            },
            [n("widget-element-item", {
                attrs: {
                    element: e.element,
                    "is-table": !0
                }
            })], 1)], 1), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-action"
            },
            [n("i", {
                staticClass: "iconfont icon-icon_clone",
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleWidgetClone(e.index)
                    }
                }
            }), n("i", {
                staticClass: "iconfont icon-trash",
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleWidgetDelete(e.index)
                    }
                }
            })]) : e._e(), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-drag"
            },
            [n("i", {
                staticClass: "iconfont icon-drag drag-widget"
            })]) : e._e()], 1) : e._e()
        },
        [], !1, null, null, null).exports,
        P = {
            components: {
                Draggable: g.a,
                WidgetTableItem: D
            },
            props: ["element", "select", "index", "data"],
            data: function() {
                return {
                    selectWidget: this.select,
                    columnsWidthStyle: "200px"
                }
            },
            mounted: function() {
                this.calcTableColumnsWidth()
            },
            methods: {
                handleSelectWidget: function(e) {
                    this.selectWidget = this.data.list[e]
                },
                handleWidgetDelete: function(e) {
                    1 == this.data.list.length ? this.$emit("select-change", -1) : this.data.list.length - 1 == e ? this.$emit("select-change", e - 1) : this.$emit("select-change", e),
                    this.data.list.splice(e, 1)
                },
                handleWidgetTableChange: function(e) {},
                calcTableColumnsWidth: function() {
                    this.columnsWidthStyle = "calc(200px)";
                    for (var e = [], t = 0; t < this.element.tableColumns.length; t++) this.element.tableColumns[t].options.width && "100%" != this.element.tableColumns[t].options.width ? e.push(this.element.tableColumns[t].options.width) : e.push("200px");
                    this.columnsWidthStyle = "calc(200px + ".concat(e.join(" + "), ")")
                },
                handlePut: function(e, t, n) {
                    return ! (n.className.indexOf("widget-col") >= 0 || n.className.indexOf("widget-table") >= 0 || n.className.indexOf("no-put") >= 0 || n.children[0].className.indexOf("no-put") >= 0)
                },
                handleWidgetTableAdd: function(e, t) {
                    var n = e.newIndex,
                    r = (new Date).getTime() + "";
                    this.$set(t.tableColumns, n, Object(k.a)({},
                    t.tableColumns[n], {
                        options: Object(k.a)({},
                        t.tableColumns[n].options, {
                            remoteFunc: t.tableColumns[n].options.remoteFunc || "func_" + r,
                            width: "200px"
                        }),
                        novalid: Object(k.a)({},
                        t.tableColumns[n].novalid),
                        key: r,
                        model: t.tableColumns[n].model ? t.tableColumns[n].model: t.tableColumns[n].type + "_" + r,
                        rules: t.tableColumns[n].rules ? Object(_.a)(t.tableColumns[n].rules) : []
                    })),
                    b()(t.tableColumns[n].options).includes("options") && this.$set(t.tableColumns, n, Object(k.a)({},
                    t.tableColumns[n], {
                        options: Object(k.a)({},
                        t.tableColumns[n].options, {
                            options: Object(_.a)(t.tableColumns[n].options.options.map(function(e) {
                                return Object(k.a)({},
                                e)
                            }))
                        })
                    })),
                    this.selectWidget = t.tableColumns[n]
                },
                handleSelectChange: function(e, t) {
                    var n = this;
                    setTimeout(function() {
                        n.selectWidget = e >= 0 ? n.element.tableColumns[e] : {}
                    })
                }
            },
            watch: {
                select: function(e) {
                    this.selectWidget = e
                },
                selectWidget: {
                    deep: !0,
                    handler: function(e) {
                        this.$emit("update:select", e)
                    }
                },
                element: {
                    deep: !0,
                    handler: function(e) {
                        this.calcTableColumnsWidth()
                    }
                }
            }
        },
        B = Object(i.a)(P,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return n("el-form-item", {
                staticClass: "widget-table widget-view",
                class: {
                    active: e.selectWidget.key && e.selectWidget.key == e.element.key
                },
                attrs: {
                    label: e.element.name
                },
                nativeOn: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleSelectWidget(e.index)
                    }
                }
            },
            [n("div", {
                staticClass: "widget-table-wrapper"
            },
            [n("el-table", {
                staticClass: "widget-table-left",
                attrs: {
                    data: [{}],
                    "row-class-name": "widget-table-row"
                }
            },
            [n("el-table-column", {
                attrs: {
                    label: "#",
                    width: "50",
                    fixed: ""
                },
                scopedSlots: e._u([{
                    key: "default",
                    fn: function(t) {
                        return [e._v(e._s(t.$index + 1))]
                    }
                }])
            })], 1), n("div", {
                staticClass: "widget-table-content"
            },
            [n("draggable", e._b({
                attrs: {
                    "no-transition-on-drag": !0
                },
                on: {
                    add: function(t) {
                        return e.handleWidgetTableAdd(t, e.element)
                    },
                    change: e.handleWidgetTableChange
                },
                model: {
                    value: e.element.tableColumns,
                    callback: function(t) {
                        e.$set(e.element, "tableColumns", t)
                    },
                    expression: "element.tableColumns"
                }
            },
            "draggable", {
                group: {
                    name: "people",
                    put: e.handlePut
                },
                ghostClass: "ghost",
                animation: 200,
                handle: ".drag-widget"
            },
            !1), [n("transition-group", {
                staticClass: "widget-table-col",
                style: {
                    width: e.columnsWidthStyle
                },
                attrs: {
                    name: "fade",
                    tag: "div"
                }
            },
            e._l(e.element.tableColumns,
            function(t, r) {
                return t.key ? n("widget-table-item", {
                    key: t.key,
                    attrs: {
                        element: t,
                        select: e.selectWidget,
                        index: r,
                        data: e.element.tableColumns
                    },
                    on: {
                        "update:select": function(t) {
                            e.selectWidget = t
                        },
                        "select-change": function(n) {
                            return e.handleSelectChange(n, t)
                        }
                    }
                }) : e._e()
            }), 1)], 1)], 1)], 1), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-action widget-col-action"
            },
            [n("i", {
                staticClass: "iconfont icon-trash",
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleWidgetDelete(e.index)
                    }
                }
            })]) : e._e(), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-drag widget-col-drag"
            },
            [n("i", {
                staticClass: "iconfont icon-drag drag-widget"
            })]) : e._e()])
        },
        [], !1, null, null, null).exports,
        M = {
            name: "widget-col-item",
            components: {
                Draggable: g.a,
                WidgetFormItem: A,
                WidgetTable: B
            },
            props: ["element", "select", "index", "data"],
            data: function() {
                return {
                    selectWidget: this.select
                }
            },
            methods: {
                handleSelectWidget: function(e) {
                    this.selectWidget = this.data.list[e]
                },
                handleWidgetDelete: function(e) {
                    1 == this.data.list.length ? this.$emit("select-change", -1) : this.data.list.length - 1 == e ? this.$emit("select-change", e - 1) : this.$emit("select-change", e),
                    this.data.list.splice(e, 1)
                },
                handleWidgetColAdd: function(e, t, n) {
                    var r = e.newIndex,
                    o = (new Date).getTime() + "";
                    this.$set(t.columns[n].list, r, Object(k.a)({},
                    t.columns[n].list[r], {
                        options: Object(k.a)({},
                        t.columns[n].list[r].options, {
                            remoteFunc: t.columns[n].list[r].options.remoteFunc || "func_" + o
                        }),
                        novalid: Object(k.a)({},
                        t.columns[n].list[r].novalid),
                        key: o,
                        model: t.columns[n].list[r].model ? t.columns[n].list[r].model: t.columns[n].list[r].type + "_" + o,
                        rules: t.columns[n].list[r].rules ? Object(_.a)(t.columns[n].list[r].rules) : []
                    })),
                    b()(t.columns[n].list[r]).includes("columns") && this.$set(t.columns[n].list, r, Object(k.a)({},
                    t.columns[n].list[r], {
                        columns: Object(_.a)(t.columns[n].list[r].columns.map(function(e) {
                            return Object(k.a)({},
                            e, {
                                list: Object(_.a)(e.list)
                            })
                        }))
                    })),
                    b()(t.columns[n].list[r].options).includes("options") && this.$set(t.columns[n].list, r, Object(k.a)({},
                    t.columns[n].list[r], {
                        options: Object(k.a)({},
                        t.columns[n].list[r].options, {
                            options: Object(_.a)(t.columns[n].list[r].options.options.map(function(e) {
                                return Object(k.a)({},
                                e)
                            }))
                        })
                    })),
                    this.selectWidget = t.columns[n].list[r]
                },
                handleSelectChange: function(e, t) {
                    var n = this;
                    setTimeout(function() {
                        n.selectWidget = e >= 0 ? t.list[e] : {}
                    })
                }
            },
            watch: {
                select: function(e) {
                    this.selectWidget = e
                },
                selectWidget: {
                    deep: !0,
                    handler: function(e) {
                        this.$emit("update:select", e)
                    }
                }
            }
        },
        I = (n("98a5"), Object(i.a)(M,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return n("el-row", {
                staticClass: "widget-col widget-view",
                class: {
                    active: e.selectWidget.key && e.selectWidget.key == e.element.key
                },
                attrs: {
                    type: "flex",
                    gutter: e.element.options.gutter || 0,
                    justify: e.element.options.justify,
                    align: e.element.options.align
                },
                nativeOn: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleSelectWidget(e.index)
                    }
                }
            },
            [e._l(e.element.columns,
            function(t, r) {
                return n("el-col", {
                    key: r,
                    attrs: {
                        span: t.span || 0
                    }
                },
                [n("draggable", e._b({
                    attrs: {
                        "no-transition-on-drag": !0
                    },
                    on: {
                        add: function(t) {
                            return e.handleWidgetColAdd(t, e.element, r)
                        }
                    },
                    model: {
                        value: t.list,
                        callback: function(n) {
                            e.$set(t, "list", n)
                        },
                        expression: "item.list"
                    }
                },
                "draggable", {
                    group: "people",
                    ghostClass: "ghost",
                    animation: 200,
                    handle: ".drag-widget"
                },
                !1), [n("transition-group", {
                    staticClass: "widget-col-list",
                    attrs: {
                        name: "fade",
                        tag: "div"
                    }
                },
                [e._l(t.list,
                function(r, o) {
                    return r && r.key ? ["grid" === r.type ? n("widget-col-item", {
                        key: r.key,
                        attrs: {
                            element: r,
                            select: e.selectWidget,
                            index: o,
                            data: t
                        },
                        on: {
                            "update:select": function(t) {
                                e.selectWidget = t
                            },
                            "select-change": function(n) {
                                return e.handleSelectChange(n, t)
                            }
                        }
                    }) : "table" == r.type ? n("widget-table", {
                        key: r.key,
                        attrs: {
                            element: r,
                            select: e.selectWidget,
                            index: o,
                            data: t
                        },
                        on: {
                            "update:select": function(t) {
                                e.selectWidget = t
                            },
                            "select-change": function(n) {
                                return e.handleSelectChange(n, t)
                            }
                        }
                    }) : n("widget-form-item", {
                        key: r.key,
                        attrs: {
                            element: r,
                            select: e.selectWidget,
                            index: o,
                            data: t
                        },
                        on: {
                            "update:select": function(t) {
                                e.selectWidget = t
                            },
                            "select-change": function(n) {
                                return e.handleSelectChange(n, t)
                            }
                        }
                    })] : e._e()
                })], 2)], 1)], 1)
            }), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-action widget-col-action"
            },
            [n("i", {
                staticClass: "iconfont icon-trash",
                on: {
                    click: function(t) {
                        return t.stopPropagation(),
                        e.handleWidgetDelete(e.index)
                    }
                }
            })]) : e._e(), e.selectWidget.key == e.element.key ? n("div", {
                staticClass: "widget-view-drag widget-col-drag"
            },
            [n("i", {
                staticClass: "iconfont icon-drag drag-widget"
            })]) : e._e()], 2)
        },
        [], !1, null, null, null).exports),
        L = {
            components: {
                Draggable: g.a,
                WidgetFormItem: A,
                WidgetColItem: I,
                WidgetTable: B
            },
            props: ["data", "select"],
            data: function() {
                return {
                    selectWidget: this.select
                }
            },
            mounted: function() {
                document.body.ondrop = function(e) {
                    navigator.userAgent.toLowerCase().indexOf("firefox") > -1 && (e.preventDefault(), e.stopPropagation())
                }
            },
            methods: {
                handleWidgetChange: function(e, t, n) {
                    return ! 1
                },
                handleWidgetAdd: function(e) {
                    var t = e.newIndex,
                    n = (e.to, (new Date).getTime() + "");
                    this.$set(this.data.list, t, Object(k.a)({},
                    this.data.list[t], {
                        options: Object(k.a)({},
                        this.data.list[t].options, {
                            remoteFunc: this.data.list[t].options.remoteFunc || "func_" + n
                        }),
                        key: n,
                        model: this.data.list[t].model ? this.data.list[t].model: this.data.list[t].type + "_" + n,
                        rules: this.data.list[t].rules ? Object(_.a)(this.data.list[t].rules) : []
                    })),
                    b()(this.data.list[t].options).includes("options") && this.$set(this.data.list, t, Object(k.a)({},
                    this.data.list[t], {
                        options: Object(k.a)({},
                        this.data.list[t].options, {
                            options: Object(_.a)(this.data.list[t].options.options.map(function(e) {
                                return Object(k.a)({},
                                e)
                            }))
                        })
                    })),
                    b()(this.data.list[t]).includes("columns") && this.$set(this.data.list, t, Object(k.a)({},
                    this.data.list[t], {
                        columns: Object(_.a)(this.data.list[t].columns.map(function(e) {
                            return Object(k.a)({},
                            e, {
                                list: Object(_.a)(e.list)
                            })
                        }))
                    })),
                    b()(this.data.list[t]).includes("tableColumns") && this.$set(this.data.list, t, Object(k.a)({},
                    this.data.list[t], {
                        tableColumns: Object(_.a)(this.data.list[t].tableColumns)
                    })),
                    this.selectWidget = this.data.list[t]
                },
                handleWidgetDelete: function(e) {
                    var t = this;
                    this.data.list.length - 1 === e ? this.selectWidget = 0 === e ? {}: this.data.list[e - 1] : this.selectWidget = this.data.list[e + 1],
                    this.$nextTick(function() {
                        t.data.list.splice(e, 1)
                    })
                },
                handleSelectChange: function(e) {
                    var t = this;
                    setTimeout(function() {
                        t.selectWidget = e >= 0 ? t.data.list[e] : {}
                    })
                }
            },
            watch: {
                select: function(e) {
                    this.selectWidget = e
                },
                selectWidget: {
                    handler: function(e) {
                        this.$emit("update:select", e)
                    },
                    deep: !0
                }
            }
        },
        F = (n("ccfb"), Object(i.a)(L,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return n("div", {
                staticClass: "widget-form-container"
            },
            [n("el-form", {
                attrs: {
                    size: e.data.config.size,
                    "label-suffix": ":",
                    "label-position": e.data.config.labelPosition,
                    "label-width": e.data.config.labelWidth + "px"
                }
            },
            [0 == e.data.list.length ? n("div", {
                staticClass: "form-empty"
            },
            [e._v("从左侧拖拽来添加字段")]) : e._e(), n("draggable", e._b({
                on: {
                    add: e.handleWidgetAdd
                },
                model: {
                    value: e.data.list,
                    callback: function(t) {
                        e.$set(e.data, "list", t)
                    },
                    expression: "data.list"
                }
            },
            "draggable", {
                group: "people",
                ghostClass: "ghost",
                animation: 200,
                handle: ".drag-widget"
            },
            !1), [n("transition-group", {
                staticClass: "widget-form-list",
                attrs: {
                    name: "fade",
                    tag: "div"
                }
            },
            [e._l(e.data.list,
            function(t, r) {
                return t && t.key ? ["table" == t.type ? n("widget-table", {
                    key: t.key,
                    attrs: {
                        element: t,
                        select: e.selectWidget,
                        index: r,
                        data: e.data
                    },
                    on: {
                        "update:select": function(t) {
                            e.selectWidget = t
                        },
                        "select-change": e.handleSelectChange
                    }
                }) : "grid" !== t.type ? n("widget-form-item", {
                    key: t.key,
                    attrs: {
                        element: t,
                        select: e.selectWidget,
                        index: r,
                        data: e.data
                    },
                    on: {
                        "update:select": function(t) {
                            e.selectWidget = t
                        },
                        "select-change": e.handleSelectChange
                    }
                }) : n("widget-col-item", {
                    key: t.key,
                    attrs: {
                        element: t,
                        select: e.selectWidget,
                        index: r,
                        data: e.data
                    },
                    on: {
                        "update:select": function(t) {
                            e.selectWidget = t
                        },
                        "select-change": e.handleSelectChange
                    }
                })] : e._e()
            })], 2)], 1)], 1)], 1)
        },
        [], !1, null, null, null).exports),
        W = {
            props: {
                visible: Boolean,
                loadingText: {
                    type: String,
                default:
                    ""
                },
                title: {
                    type: String,
                default:
                    ""
                },
                width: {
                    type: String,
                default:
                    "600px"
                },
                form: {
                    type: Boolean,
                default:
                    !0
                },
                action: {
                    type: Boolean,
                default:
                    !0
                }
            },
            computed: {
                show: function() {
                    return ! this.form || this.showForm
                }
            },
            data: function() {
                return {
                    loading: !1,
                    dialogVisible: this.visible,
                    id: "dialog_" + (new Date).getTime(),
                    showForm: !1
                }
            },
            methods: {
                close: function() {
                    this.dialogVisible = !1
                },
                submit: function() {
                    this.loading = !0,
                    this.$emit("on-submit")
                },
                end: function() {
                    this.loading = !1
                }
            },
            mounted: function() {},
            watch: {
                dialogVisible: function(e) {
                    var t = this;
                    e ? this.showForm = !0 : (this.loading = !1, this.$emit("on-close"), setTimeout(function() {
                        t.showForm = !1
                    },
                    300))
                },
                visible: function(e) {
                    this.dialogVisible = e
                }
            }
        },
        H = (n("d7cd"), Object(i.a)(W,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return n("el-dialog", {
                ref: "elDialog",
                staticClass: "cus-dialog-container",
                attrs: {
                    title: e.title,
                    visible: e.dialogVisible,
                    "close-on-click-modal": !1,
                    "append-to-body": "",
                    center: "",
                    width: e.width,
                    id: e.id
                },
                on: {
                    "update:visible": function(t) {
                        e.dialogVisible = t
                    }
                }
            },
            [e.show ? n("span", [e._t("default")], 2) : e._e(), e.action ? n("span", {
                directives: [{
                    name: "loading",
                    rawName: "v-loading",
                    value: e.loading,
                    expression: "loading"
                }],
                staticClass: "dialog-footer",
                attrs: {
                    slot: "footer",
                    "element-loading-text": e.loadingText
                },
                slot: "footer"
            },
            [e._t("action", [n("el-button", {
                on: {
                    click: e.close
                }
            },
            [e._v("取消")]), n("el-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: e.submit
                }
            },
            [e._v("确 定")])])], 2) : e._e()])
        },
        [], !1, null, null, null).exports),
        j = n("4d7f").a,
        U = (n("32f9"), Object(i.a)(j,
        function() {
            var e, t = this,
            n = t.$createElement,
            r = t._self._c || n;
            return r("div", [r("el-form", {
                ref: "generateForm",
                class: (e = {},
                e[t.data.config.customClass] = !!t.data.config.customClass, e),
                attrs: {
                    "label-suffix": ":",
                    size: t.data.config.size,
                    model: t.models,
                    rules: t.rules,
                    "label-position": t.data.config.labelPosition,
                    "label-width": t.data.config.labelWidth + "px"
                }
            },
            [t._l(t.data.list,
            function(e) {
                return ["grid" == e.type ? r("generate-col-item", {
                    key: e.key,
                    attrs: {
                        model: t.models,
                        rules: t.rules,
                        element: e,
                        remote: t.remote,
                        blanks: t.blanks
                    },
                    on: {
                        "update:model": function(e) {
                            t.models = e
                        }
                    },
                    scopedSlots: t._u([t._l(t.blanks,
                    function(e) {
                        return {
                            key: e.name,
                            fn: function(n) {
                                return [t._t(e.name, null, {
                                    model: n.model
                                })]
                            }
                        }
                    })], null, !0)
                }) : r("generate-form-item", {
                    key: e.key,
                    attrs: {
                        models: t.models,
                        rules: t.rules,
                        widget: e,
                        remote: t.remote,
                        blanks: t.blanks
                    },
                    on: {
                        "update:models": function(e) {
                            t.models = e
                        }
                    },
                    scopedSlots: t._u([t._l(t.blanks,
                    function(e) {
                        return {
                            key: e.name,
                            fn: function(n) {
                                return [t._t(e.name, null, {
                                    model: n.model
                                })]
                            }
                        }
                    })], null, !0)
                })]
            })], 2)], 1)
        },
        [], !1, null, null, null).exports),
        z = n("b311"),
        V = n.n(z),
        $ = [{
            type: "input",
            name: "单行文本",
            icon: "icon-input",
            options: {
                width: "100%",
                defaultValue: "",
                required: !1,
                dataType: "string",
                pattern: "",
                placeholder: "",
                customClass: "",
                disabled: !1
            }
        },
        {
            type: "textarea",
            name: "多行文本",
            icon: "icon-diy-com-textarea",
            options: {
                width: "100%",
                defaultValue: "",
                required: !1,
                disabled: !1,
                pattern: "",
                placeholder: "",
                customClass: ""
            }
        },
        {
            type: "number",
            name: "计数器",
            icon: "icon-number",
            options: {
                width: "",
                required: !1,
                defaultValue: 0,
                min: "",
                max: "",
                step: 1,
                disabled: !1,
                controlsPosition: "",
                customClass: ""
            }
        },
        {
            type: "radio",
            name: "单选框组",
            icon: "icon-radio-active",
            options: {
                inline: !1,
                defaultValue: "",
                showLabel: !1,
                options: [{
                    value: "选项1",
                    label: "选项1"
                },
                {
                    value: "选项2",
                    label: "选项2"
                },
                {
                    value: "选项3",
                    label: "选项3"
                }],
                required: !1,
                width: "",
                remote: !1,
                remoteOptions: [],
                props: {
                    value: "value",
                    label: "label"
                },
                remoteFunc: "",
                customClass: ""
            }
        },
        {
            type: "checkbox",
            name: "多选框组",
            icon: "icon-check-box",
            options: {
                inline: !1,
                defaultValue: [],
                showLabel: !1,
                options: [{
                    value: "选项1"
                },
                {
                    value: "选项2"
                },
                {
                    value: "选项3"
                }],
                required: !1,
                width: "",
                remote: !1,
                remoteOptions: [],
                props: {
                    value: "value",
                    label: "label"
                },
                remoteFunc: "",
                customClass: ""
            }
        },
        {
            type: "time",
            name: "时间选择器",
            icon: "icon-time",
            options: {
                defaultValue: "21:19:56",
                readonly: !1,
                disabled: !1,
                editable: !0,
                clearable: !0,
                placeholder: "",
                startPlaceholder: "",
                endPlaceholder: "",
                isRange: !1,
                arrowControl: !0,
                format: "HH:mm:ss",
                required: !1,
                width: "",
                customClass: ""
            }
        },
        {
            type: "date",
            name: "日期选择器",
            icon: "icon-date",
            options: {
                defaultValue: "",
                readonly: !1,
                disabled: !1,
                editable: !0,
                clearable: !0,
                placeholder: "",
                startPlaceholder: "",
                endPlaceholder: "",
                type: "date",
                format: "yyyy-MM-dd",
                timestamp: !1,
                required: !1,
                width: "",
                customClass: ""
            }
        },
        {
            type: "rate",
            name: "评分",
            icon: "icon-icon-test",
            options: {
                defaultValue: null,
                max: 5,
                disabled: !1,
                allowHalf: !1,
                required: !1,
                customClass: ""
            }
        },
        {
            type: "color",
            name: "颜色选择器",
            icon: "icon-color",
            options: {
                defaultValue: "",
                disabled: !1,
                showAlpha: !1,
                required: !1,
                customClass: ""
            }
        },
        {
            type: "select",
            name: "下拉选择框",
            icon: "icon-select",
            options: {
                defaultValue: "",
                multiple: !1,
                disabled: !1,
                clearable: !1,
                placeholder: "",
                required: !1,
                showLabel: !1,
                width: "",
                options: [{
                    value: "下拉框1"
                },
                {
                    value: "下拉框2"
                },
                {
                    value: "下拉框3"
                }],
                remote: !1,
                filterable: !1,
                remoteOptions: [],
                props: {
                    value: "value",
                    label: "label"
                },
                remoteFunc: "",
                customClass: ""
            }
        },
        {
            type: "switch",
            name: "开关",
            icon: "icon-switch",
            options: {
                defaultValue: !1,
                required: !1,
                disabled: !1,
                customClass: ""
            }
        },
        {
            type: "slider",
            name: "滑块",
            icon: "icon-slider",
            options: {
                defaultValue: 0,
                disabled: !1,
                required: !1,
                min: 0,
                max: 100,
                step: 1,
                showInput: !1,
                range: !1,
                width: "",
                customClass: ""
            }
        },
        {
            type: "text",
            name: "文字",
            icon: "icon-wenzishezhi-",
            options: {
                defaultValue: "",
                customClass: ""
            }
        },
        {
            type: "divider",
            name: "分割线",
            icon: "icon-fengexian",
            options: {}
        }],
        q = [{
            type: "blank",
            name: "自定义",
            icon: "icon-ic",
            options: {
                defaultType: "String",
                customClass: "",
                width: ""
            }
        },
        {
            type: "imgupload",
            name: "图片",
            icon: "icon-tupian",
            options: {
                defaultValue: [],
                size: {
                    width: 100,
                    height: 100
                },
                width: "",
                tokenFunc: "funcGetToken",
                token: "",
                domain: "http://pfp81ptt6.bkt.clouddn.com/",
                disabled: !1,
                length: 8,
                multiple: !1,
                isQiniu: !1,
                isDelete: !1,
                min: 0,
                isEdit: !1,
                action: "https://jsonplaceholder.typicode.com/photos/",
                customClass: ""
            }
        },
        {
            type: "editor",
            name: "编辑器",
            icon: "icon-fuwenbenkuang",
            options: {
                defaultValue: "",
                width: "",
                customClass: ""
            }
        },
        {
            type: "cascader",
            name: "级联选择器",
            icon: "icon-jilianxuanze",
            options: {
                defaultValue: [],
                width: "",
                placeholder: "",
                disabled: !1,
                clearable: !1,
                remote: !0,
                remoteOptions: [],
                props: {
                    value: "value",
                    label: "label",
                    children: "children"
                },
                remoteFunc: "",
                customClass: ""
            }
        },
        {
            type: "table",
            name: "子表单",
            icon: "icon-table",
            options: {
                defaultValue: [],
                customClass: ""
            },
            tableColumns: []
        }],
        K = [{
            type: "grid",
            name: "栅格布局",
            icon: "icon-grid-",
            columns: [{
                span: 12,
                list: []
            },
            {
                span: 12,
                list: []
            }],
            options: {
                gutter: 0,
                justify: "start",
                align: "top",
                customClass: ""
            }
        }],
        Y = (n("4260"), n("795b")),
        X = n.n(Y),
        G = n("bc3a"),
        J = n.n(G).a.create({
            withCredentials: !1
        });
        J.interceptors.request.use(function(e) {
            return e
        },
        function(e) {
            return X.a.reject(new Error(e).message)
        }),
        J.interceptors.response.use(function(e) {
            return e.data
        },
        function(e) {
            return X.a.reject(new Error(e).message)
        });
        var Q = J,
        Z = function(e) {
            var t = [],
            n = [],
            r = []; !
            function e(t, n, r, o) {
                for (var i = 0; i < t.length; i++)"grid" == t[i].type ? t[i].columns.forEach(function(t) {
                    e(t.list, n, r, o)
                }) : "blank" == t[i].type ? t[i].model && o.push({
                    name: t[i].model,
                    label: t[i].name
                }) : "imgupload" == t[i].type ? t[i].options.tokenFunc && r.push({
                    func: t[i].options.tokenFunc,
                    label: t[i].name,
                    model: t[i].model
                }) : t[i].options.remote && t[i].options.remoteFunc && n.push({
                    func: t[i].options.remoteFunc,
                    label: t[i].name,
                    model: t[i].model
                })
            } (JSON.parse(e).list, t, n, r);
            for (var o = "",
            i = "",
            a = 0; a < t.length; a++) o += "\n            ".concat(t[a].func, " (resolve) {\n              // ").concat(t[a].label, " ").concat(t[a].model, "\n              // 获取到远端数据后执行回调函数\n              // resolve(data)\n            },\n    ");
            for (var s = 0; s < n.length; s++) o += "\n            ".concat(n[s].func, " (resolve) {\n              // ").concat(n[s].label, " ").concat(n[s].model, "\n              // 获取到token数据后执行回调函数\n              // resolve(token)\n            },\n    ");
            for (var l = 0; l < r.length; l++) i += '\n        <template slot="'.concat(r[l].name, '" slot-scope="scope">\n          \x3c!-- ').concat(r[l].label, ' --\x3e\n          \x3c!-- 通过 v-model="scope.model.').concat(r[l].name, '" 绑定数据 --\x3e\n        </template>\n    ');
            return '<!DOCTYPE html>\n  <html>\n  <head>\n    <meta charset="UTF-8">\n    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">\n    <link rel="stylesheet" href="https://unpkg.com/form-making/dist/FormMaking.css">\n  </head>\n  <body>\n    <div id="app">\n      <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n        '.concat(i, '\n      </fm-generate-form>\n      <el-button type="primary" @click="handleSubmit">提交</el-button>\n    </div>\n    <script src="https://unpkg.com/vue/dist/vue.js"><\/script>\n    <script src="https://unpkg.com/element-ui/lib/index.js"><\/script>\n    <script src="https://unpkg.com/form-making/dist/FormMaking.umd.js"><\/script>\n    <script>\n      new Vue({\n        el: \'#app\',\n        data: {\n          jsonData: ').concat(e, ",\n          editData: {},\n          remoteFuncs: {\n            ").concat(o, "\n          }\n        },\n        methods: {\n          handleSubmit () {\n            this.$refs.generateForm.getData().then(data => {\n              // 数据校验成功\n              // data 为获取的表单数据\n            }).catch(e => {\n              // 数据校验失败\n            })\n          }\n        }\n      })\n    <\/script>\n  </body>\n  </html>")
        },
        ee = {
            name: "fm-making-form",
            components: {
                Draggable: g.a,
                WidgetConfig: w,
                FormConfig: C,
                WidgetForm: F,
                CusDialog: H,
                GenerateForm: U
            },
            props: {
                preview: {
                    type: Boolean,
                default:
                    !1
                },
                generateCode: {
                    type: Boolean,
                default:
                    !1
                },
                generateJson: {
                    type: Boolean,
                default:
                    !1
                },
                upload: {
                    type: Boolean,
                default:
                    !1
                },
                clearable: {
                    type: Boolean,
                default:
                    !1
                }
            },
            data: function() {
                return {
                    basicComponents: $,
                    layoutComponents: K,
                    advanceComponents: q,
                    resetJson: !1,
                    widgetForm: {
                        list: [],
                        config: {
                            labelWidth: 100,
                            labelPosition: "right",
                            size: "small",
                            customClass: ""
                        }
                    },
                    configTab: "widget",
                    widgetFormSelect: null,
                    previewVisible: !1,
                    jsonVisible: !1,
                    codeVisible: !1,
                    uploadVisible: !1,
                    remoteFuncs: {
                        func_test: function(e) {
                            setTimeout(function() {
                                e([{
                                    id: "1",
                                    name: "1111"
                                },
                                {
                                    id: "2",
                                    name: "2222"
                                },
                                {
                                    id: "3",
                                    name: "3333"
                                }])
                            },
                            2e3)
                        },
                        funcGetToken: function(e) {
                            Q.get("http://tools-server.xiaoyaoji.cn/api/uptoken").then(function(t) {
                                e(t.uptoken)
                            })
                        },
                        upload_callback: function(e, t, n) {}
                    },
                    widgetModels: {},
                    blank: "",
                    htmlTemplate: "",
                    jsonTemplate: "",
                    uploadEditor: null,
                    jsonCopyValue: "",
                    jsonClipboard: null,
                    jsonEg: '{\n  "list": [\n    {\n      "type": "input",\n      "name": "单行文本",\n      "icon": "icon-input",\n      "options": {\n        "width": "100%",\n        "defaultValue": "",\n        "required": false,\n        "dataType": "string",\n        "pattern": "",\n        "placeholder": "",\n        "remoteFunc": "func_1540908864000_94322"\n      },\n      "key": "1540908864000_94322",\n      "model": "input_1540908864000_94322",\n      "rules": [\n        {\n          "type": "string",\n          "message": "单行文本格式不正确"\n        }\n      ]\n    },\n    {\n      "type": "textarea",\n      "name": "多行文本",\n      "icon": "icon-diy-com-textarea",\n      "options": {\n        "width": "100%",\n        "defaultValue": "",\n        "required": false,\n        "pattern": "",\n        "placeholder": "",\n        "remoteFunc": "func_1540908876000_19435"\n      },\n      "key": "1540908876000_19435",\n      "model": "textarea_1540908876000_19435",\n      "rules": []\n    }\n  ],\n  "config": {\n    "labelWidth": 100,\n    "labelPosition": "top",\n    "size": "small"\n  }\n}'
                }
            },
            mounted: function() {},
            methods: {
                handleGoGithub: function() {
                    window.location.href = "https://github.com/GavinZhuLei/vue-form-making"
                },
                handleConfigSelect: function(e) {
                    this.configTab = e
                },
                handleMoveEnd: function(e) {},
                handleMoveStart: function(e) {
                    e.oldIndex
                },
                handleMove: function() {
                    return ! 0
                },
                handlePreview: function() {
                    this.previewVisible = !0
                },
                handleReset: function() {
                    this.$refs.generateForm.reset()
                },
                handleTest: function() {
                    var e = this;
                    this.$refs.generateForm.getData().then(function(t) {
                        e.jsonVisible = !0,
                        e.jsonTemplate = t,
                        e.$nextTick(function() {
                            ace.edit("jsoneditor").session.setMode("ace/mode/json"),
                            e.jsonClipboard || (e.jsonClipboard = new V.a(".json-btn"), e.jsonClipboard.on("success",
                            function(t) {
                                e.$message.success("复制成功")
                            })),
                            e.jsonCopyValue = p()(t)
                        }),
                        e.$refs.widgetPreview.end()
                    }).
                    catch(function(t) {
                        e.$refs.widgetPreview.end()
                    })
                },
                handleGenerateJson: function() {
                    var e = this;
                    this.jsonVisible = !0,
                    this.jsonTemplate = this.widgetForm,
                    this.$nextTick(function() {
                        ace.edit("jsoneditor").session.setMode("ace/mode/json"),
                        e.jsonClipboard || (e.jsonClipboard = new V.a(".json-btn"), e.jsonClipboard.on("success",
                        function(t) {
                            e.$message.success("复制成功")
                        })),
                        e.jsonCopyValue = p()(e.widgetForm)
                    })
                },
                handleGenerateCode: function() {
                    this.codeVisible = !0,
                    this.htmlTemplate = Z(p()(this.widgetForm)),
                    console.log(this.widgetForm);
                    this.$nextTick(function() {
                        ace.edit("codeeditor").session.setMode("ace/mode/html")
                    })
                },
                handleUpload: function() {
                    var e = this;
                    this.uploadVisible = !0,
                    this.$nextTick(function() {
                        e.uploadEditor = ace.edit("uploadeditor"),
                        e.uploadEditor.session.setMode("ace/mode/json")
                    })
                },
                handleUploadJson: function() {
                    try {
                        this.setJSON(JSON.parse(this.uploadEditor.getValue())),
                        this.uploadVisible = !1
                    } catch(e) {
                        this.$message.error(e.message),
                        this.$refs.uploadJson.end()
                    }
                },
                handleClear: function() {
                    this.widgetForm = {
                        list: [],
                        config: {
                            labelWidth: 100,
                            labelPosition: "right",
                            size: "small",
                            customClass: ""
                        }
                    },
                    this.widgetFormSelect = {}
                },
                getJSON: function() {
                    return this.widgetForm
                },
                getHtml: function() {
                    return Z(p()(this.widgetForm))
                },
                setJSON: function(e) {
                    this.widgetForm = e,
                    e.list.length > 0 && (this.widgetFormSelect = e.list[0])
                },
                handleInput: function(e) {
                    this.blank = e
                }
            },
            watch: {
                widgetForm: {
                    deep: !0,
                    handler: function(e) {}
                }
            }
        },
        te = (n("314e"), Object(i.a)(ee,
        function() {
            var e = this,
            t = e.$createElement,
            n = e._self._c || t;
            return n("el-container", {
                staticClass: "fm2-container"
            },
            [n("el-main", {
                staticClass: "fm2-main"
            },
            [n("el-container", [n("el-aside", {
                attrs: {
                    width: "250px"
                }
            },
            [n("div", {
                staticClass: "components-list"
            },
            [n("div", {
                staticClass: "widget-cate"
            },
            [e._v("基础字段")]), n("draggable", e._b({
                attrs: {
                    tag: "ul",
                    list: e.basicComponents,
                    move: e.handleMove
                },
                on: {
                    end: e.handleMoveEnd,
                    start: e.handleMoveStart
                }
            },
            "draggable", {
                group: {
                    name: "people",
                    pull: "clone",
                    put: !1
                },
                sort: !1,
                ghostClass: "ghost"
            },
            !1), e._l(e.basicComponents,
            function(t, r) {
                return n("li", {
                    key: r,
                    staticClass: "form-edit-widget-label",
                    class: {
                        "no-put": "divider" == t.type
                    }
                },
                [n("a", [n("i", {
                    staticClass: "icon iconfont",
                    class: t.icon
                }), n("span", [e._v(e._s(t.name))])])])
            }), 0), n("div", {
                staticClass: "widget-cate"
            },
            [e._v("高级字段")]), n("draggable", e._b({
                attrs: {
                    tag: "ul",
                    list: e.advanceComponents,
                    move: e.handleMove
                },
                on: {
                    end: e.handleMoveEnd,
                    start: e.handleMoveStart
                }
            },
            "draggable", {
                group: {
                    name: "people",
                    pull: "clone",
                    put: !1
                },
                sort: !1,
                ghostClass: "ghost"
            },
            !1), e._l(e.advanceComponents,
            function(t, r) {
                return n("li", {
                    key: r,
                    staticClass: "form-edit-widget-label",
                    class: {
                        "no-put": "table" == t.type
                    }
                },
                [n("a", [n("i", {
                    staticClass: "icon iconfont",
                    class: t.icon
                }), n("span", [e._v(e._s(t.name))])])])
            }), 0), n("div", {
                staticClass: "widget-cate"
            },
            [e._v("布局字段")]), n("draggable", e._b({
                attrs: {
                    tag: "ul",
                    list: e.layoutComponents,
                    move: e.handleMove
                },
                on: {
                    end: e.handleMoveEnd,
                    start: e.handleMoveStart
                }
            },
            "draggable", {
                group: {
                    name: "people",
                    pull: "clone",
                    put: !1
                },
                sort: !1,
                ghostClass: "ghost"
            },
            !1), e._l(e.layoutComponents,
            function(t, r) {
                return n("li", {
                    key: r,
                    staticClass: "form-edit-widget-label no-put"
                },
                [n("a", [n("i", {
                    staticClass: "icon iconfont",
                    class: t.icon
                }), n("span", [e._v(e._s(t.name))])])])
            }), 0)], 1)]), n("el-container", {
                staticClass: "center-container",
                attrs: {
                    direction: "vertical"
                }
            },
            [n("el-header", {
                staticClass: "btn-bar",
                staticStyle: {
                    height: "45px"
                }
            },
            [e._t("action"), e.upload ? n("el-button", {
                attrs: {
                    type: "text",
                    size: "medium",
                    icon: "el-icon-upload2"
                },
                on: {
                    click: e.handleUpload
                }
            },
            [e._v("导入JSON")]) : e._e(), e.clearable ? n("el-button", {
                attrs: {
                    type: "text",
                    size: "medium",
                    icon: "el-icon-delete"
                },
                on: {
                    click: e.handleClear
                }
            },
            [e._v("清空")]) : e._e(), e.preview ? n("el-button", {
                attrs: {
                    type: "text",
                    size: "medium",
                    icon: "el-icon-view"
                },
                on: {
                    click: e.handlePreview
                }
            },
            [e._v("预览")]) : e._e(), e.generateJson ? n("el-button", {
                attrs: {
                    type: "text",
                    size: "medium",
                    icon: "el-icon-tickets"
                },
                on: {
                    click: e.handleGenerateJson
                }
            },
            [e._v("生成JSON")]) : e._e(), e.generateCode ? n("el-button", {
                attrs: {
                    type: "text",
                    size: "medium",
                    icon: "el-icon-document"
                },
                on: {
                    click: e.handleGenerateCode
                }
            },
            [e._v("生成代码")]) : e._e()], 2), n("el-main", {
                class: {
                    "widget-empty": 0 == e.widgetForm.list.length
                }
            },
            [e.resetJson ? e._e() : n("widget-form", {
                ref: "widgetForm",
                attrs: {
                    data: e.widgetForm,
                    select: e.widgetFormSelect
                },
                on: {
                    "update:select": function(t) {
                        e.widgetFormSelect = t
                    }
                }
            })], 1)], 1), n("el-aside", {
                staticClass: "widget-config-container"
            },
            [n("el-container", [n("el-header", {
                attrs: {
                    height: "45px"
                }
            },
            [n("div", {
                staticClass: "config-tab",
                class: {
                    active: "widget" == e.configTab
                },
                on: {
                    click: function(t) {
                        return e.handleConfigSelect("widget")
                    }
                }
            },
            [e._v("字段属性")]), n("div", {
                staticClass: "config-tab",
                class: {
                    active: "form" == e.configTab
                },
                on: {
                    click: function(t) {
                        return e.handleConfigSelect("form")
                    }
                }
            },
            [e._v("表单属性")])]), n("el-main", {
                staticClass: "config-content"
            },
            [n("widget-config", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: "widget" == e.configTab,
                    expression: "configTab=='widget'"
                }],
                attrs: {
                    data: e.widgetFormSelect
                }
            }), n("form-config", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: "form" == e.configTab,
                    expression: "configTab=='form'"
                }],
                attrs: {
                    data: e.widgetForm.config
                }
            })], 1)], 1)], 1), n("cus-dialog", {
                ref: "widgetPreview",
                attrs: {
                    visible: e.previewVisible,
                    width: "1000px",
                    form: ""
                },
                on: {
                    "on-close": function(t) {
                        e.previewVisible = !1
                    }
                }
            },
            [e.previewVisible ? n("generate-form", {
                ref: "generateForm",
                attrs: {
                    insite: "true",
                    data: e.widgetForm,
                    value: e.widgetModels,
                    remote: e.remoteFuncs
                },
                scopedSlots: e._u([{
                    key: "blank",
                    fn: function(t) {
                        return [e._v("\n            宽度："), n("el-input", {
                            staticStyle: {
                                width: "100px"
                            },
                            model: {
                                value: t.model.blank.width,
                                callback: function(n) {
                                    e.$set(t.model.blank, "width", n)
                                },
                                expression: "scope.model.blank.width"
                            }
                        }), e._v("\n            高度："), n("el-input", {
                            staticStyle: {
                                width: "100px"
                            },
                            model: {
                                value: t.model.blank.height,
                                callback: function(n) {
                                    e.$set(t.model.blank, "height", n)
                                },
                                expression: "scope.model.blank.height"
                            }
                        })]
                    }
                },
                {
                    key: "abc",
                    fn: function(t) {
                        return [e._v("\n            宽度："), n("el-input", {
                            staticStyle: {
                                width: "100px"
                            },
                            model: {
                                value: t.model.abc,
                                callback: function(n) {
                                    e.$set(t.model, "abc", n)
                                },
                                expression: "scope.model.abc"
                            }
                        })]
                    }
                }], null, !1, 3132448010)
            }) : e._e(), n("template", {
                slot: "action"
            },
            [n("el-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: e.handleTest
                }
            },
            [e._v("获取数据")]), n("el-button", {
                on: {
                    click: e.handleReset
                }
            },
            [e._v("重置")])], 1)], 2), n("cus-dialog", {
                ref: "uploadJson",
                attrs: {
                    visible: e.uploadVisible,
                    width: "800px",
                    form: ""
                },
                on: {
                    "on-close": function(t) {
                        e.uploadVisible = !1
                    },
                    "on-submit": e.handleUploadJson
                }
            },
            [n("el-alert", {
                attrs: {
                    type: "info",
                    title: "JSON格式如下，直接复制生成的json覆盖此处代码点击确定即可"
                }
            }), n("div", {
                staticStyle: {
                    height: "400px",
                    width: "100%"
                },
                attrs: {
                    id: "uploadeditor"
                }
            },
            [e._v(e._s(e.jsonEg))])], 1), n("cus-dialog", {
                ref: "jsonPreview",
                attrs: {
                    visible: e.jsonVisible,
                    width: "800px",
                    form: ""
                },
                on: {
                    "on-close": function(t) {
                        e.jsonVisible = !1
                    }
                }
            },
            [n("div", {
                staticStyle: {
                    height: "400px",
                    width: "100%"
                },
                attrs: {
                    id: "jsoneditor"
                }
            },
            [e._v(e._s(e.jsonTemplate))]), n("template", {
                slot: "action"
            },
            [n("el-button", {
                staticClass: "json-btn",
                attrs: {
                    type: "primary",
                    "data-clipboard-text": e.jsonCopyValue
                }
            },
            [e._v("复制数据")])], 1)], 2), n("cus-dialog", {
                ref: "codePreview",
                attrs: {
                    visible: e.codeVisible,
                    width: "800px",
                    form: "",
                    action: !1
                },
                on: {
                    "on-close": function(t) {
                        e.codeVisible = !1
                    }
                }
            },
            [n("div", {
                staticStyle: {
                    height: "500px",
                    width: "100%"
                },
                attrs: {
                    id: "codeeditor"
                }
            },
            [e._v(e._s(e.htmlTemplate))])])], 1)], 1), n("el-footer", {
                staticStyle: {
                    "font-weight": "600"
                },
                attrs: {
                    height: "30px"
                }
            },
            [e._v("Powered by "), n("a", {
                attrs: {
                    target: "_blank",
                    href: "https://github.com/chenxingxing6"
                }
            },
            [e._v("lanxinghua")])])], 1)
        },
        [], !1, null, null, null).exports);
        n("0f59"),
        n("eb0d"),
        n("b20f"),
        te.install = function(e) {
            e.component(te.name, te)
        },
        U.install = function(e) {
            e.component(U.name, U)
        };
        var ne = [te, U],
        re = function(e) {
            arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
            ne.forEach(function(t) {
                e.component(t.name, t)
            })
        };
        "undefined" != typeof window && window.Vue && re(window.Vue);
        var oe = {
            install: re,
            MakingForm: te,
            GenerateForm: U
        };
        r.
    default.use(oe),
        r.
    default.config.productionTip = !1,
        r.
    default.use(f.a, {
            size: "small"
        }),
        new r.
    default({
            router:
            c,
            render: function(e) {
                return e(a)
            }
        }).$mount("#app")
    },
    "5ac5": function(e, t, n) { !
        function() {
            "use strict";
            var t, n, r, o, i, a, s, l, u, c, d, f, m, p = function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            },
            h = function(e, t) {
                return function() {
                    for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                    return e(t.apply(null, arguments))
                }
            },
            g = function(e) {
                return function() {
                    return e
                }
            },
            v = function(e) {
                return e
            },
            b = function(e) {
                for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                for (var r = new Array(arguments.length - 1), o = 1; o < arguments.length; o++) r[o - 1] = arguments[o];
                return function() {
                    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    for (var o = new Array(arguments.length), i = 0; i < o.length; i++) o[i] = arguments[i];
                    var a = r.concat(o);
                    return e.apply(null, a)
                }
            },
            y = g(!1),
            w = g(!0),
            x = y,
            C = w,
            _ = function() {
                return k
            },
            k = function() {
                var e = function(e) {
                    return e.isNone()
                },
                t = function(e) {
                    return e()
                },
                n = function(e) {
                    return e
                },
                r = {
                    fold: function(e, t) {
                        return e()
                    },
                    is: x,
                    isSome: x,
                    isNone: C,
                    getOr: n,
                    getOrThunk: t,
                    getOrDie: function(e) {
                        throw new Error(e || "error: getOrDie called on none.")
                    },
                    getOrNull: function() {
                        return null
                    },
                    getOrUndefined: function() {},
                    or: n,
                    orThunk: t,
                    map: _,
                    ap: _,
                    each: function() {},
                    bind: _,
                    flatten: _,
                    exists: x,
                    forall: C,
                    filter: _,
                    equals: e,
                    equals_: e,
                    toArray: function() {
                        return []
                    },
                    toString: g("none()")
                };
                return Object.freeze && Object.freeze(r),
                r
            } (),
            E = function(e) {
                var t = function() {
                    return e
                },
                n = function() {
                    return o
                },
                r = function(t) {
                    return t(e)
                },
                o = {
                    fold: function(t, n) {
                        return n(e)
                    },
                    is: function(t) {
                        return e === t
                    },
                    isSome: C,
                    isNone: x,
                    getOr: t,
                    getOrThunk: t,
                    getOrDie: t,
                    getOrNull: t,
                    getOrUndefined: t,
                    or: n,
                    orThunk: n,
                    map: function(t) {
                        return E(t(e))
                    },
                    ap: function(t) {
                        return t.fold(_,
                        function(t) {
                            return E(t(e))
                        })
                    },
                    each: function(t) {
                        t(e)
                    },
                    bind: r,
                    flatten: t,
                    exists: r,
                    forall: r,
                    filter: function(t) {
                        return t(e) ? o: k
                    },
                    equals: function(t) {
                        return t.is(e)
                    },
                    equals_: function(t, n) {
                        return t.fold(x,
                        function(t) {
                            return n(e, t)
                        })
                    },
                    toArray: function() {
                        return [e]
                    },
                    toString: function() {
                        return "some(" + e + ")"
                    }
                };
                return o
            },
            T = {
                some: E,
                none: _,
                from: function(e) {
                    return null == e ? k: E(e)
                }
            },
            S = function(e) {
                return function(t) {
                    return function(e) {
                        if (null === e) return "null";
                        var t = typeof e;
                        return "object" === t && Array.prototype.isPrototypeOf(e) ? "array": "object" === t && String.prototype.isPrototypeOf(e) ? "string": t
                    } (t) === e
                }
            },
            N = S("string"),
            R = S("object"),
            A = S("array"),
            O = S("null"),
            D = S("boolean"),
            P = S("function"),
            B = S("number"),
            M = void 0 === (t = Array.prototype.indexOf) ?
            function(e, t) {
                return $(e, t)
            }: function(e, n) {
                return t.call(e, n)
            },
            I = function(e, t) {
                return M(e, t) > -1
            },
            L = function(e, t) {
                return V(e, t).isSome()
            },
            F = function(e, t) {
                for (var n = e.length,
                r = new Array(n), o = 0; o < n; o++) {
                    var i = e[o];
                    r[o] = t(i, o, e)
                }
                return r
            },
            W = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; n++) t(e[n], n, e)
            },
            H = function(e, t) {
                for (var n = [], r = [], o = 0, i = e.length; o < i; o++) {
                    var a = e[o]; (t(a, o, e) ? n: r).push(a)
                }
                return {
                    pass: n,
                    fail: r
                }
            },
            j = function(e, t) {
                for (var n = [], r = 0, o = e.length; r < o; r++) {
                    var i = e[r];
                    t(i, r, e) && n.push(i)
                }
                return n
            },
            U = function(e, t, n) {
                return W(e,
                function(e) {
                    n = t(n, e)
                }),
                n
            },
            z = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; n++) {
                    var o = e[n];
                    if (t(o, n, e)) return T.some(o)
                }
                return T.none()
            },
            V = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; n++) if (t(e[n], n, e)) return T.some(n);
                return T.none()
            },
            $ = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; ++n) if (e[n] === t) return n;
                return - 1
            },
            q = Array.prototype.push,
            K = function(e, t) {
                return function(e) {
                    for (var t = [], n = 0, r = e.length; n < r; ++n) {
                        if (!Array.prototype.isPrototypeOf(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
                        q.apply(t, e[n])
                    }
                    return t
                } (F(e, t))
            },
            Y = function(e, t) {
                for (var n = 0,
                r = e.length; n < r; ++n) if (!0 !== t(e[n], n, e)) return ! 1;
                return ! 0
            },
            X = Array.prototype.slice,
            G = function(e, t) {
                return j(e,
                function(e) {
                    return ! I(t, e)
                })
            },
            J = function(e) {
                return 0 === e.length ? T.none() : T.some(e[0])
            },
            Q = function(e) {
                return 0 === e.length ? T.none() : T.some(e[e.length - 1])
            },
            Z = P(Array.from) ? Array.from: function(e) {
                return X.call(e)
            },
            ee = "undefined" != typeof window ? window: Function("return this;")(),
            te = function(e, t) {
                return function(e, t) {
                    for (var n = null != t ? t: ee, r = 0; r < e.length && null != n; ++r) n = n[e[r]];
                    return n
                } (e.split("."), t)
            },
            ne = {
                getOrDie: function(e, t) {
                    var n = function(e, t) {
                        return te(e, t)
                    } (e, t);
                    if (null == n) throw e + " not available on this browser";
                    return n
                }
            },
            re = function() {
                return ne.getOrDie("URL")
            },
            oe = {
                createObjectURL: function(e) {
                    return re().createObjectURL(e)
                },
                revokeObjectURL: function(e) {
                    re().revokeObjectURL(e)
                }
            },
            ie = navigator,
            ae = ie.userAgent,
            se = function(e) {
                return "matchMedia" in window && matchMedia(e).matches
            };
            u = /Android/.test(ae),
            r = (r = !(n = /WebKit/.test(ae)) && /MSIE/gi.test(ae) && /Explorer/gi.test(ie.appName)) && /MSIE (\w+)\./.exec(ae)[1],
            o = -1 !== ae.indexOf("Trident/") && ( - 1 !== ae.indexOf("rv:") || -1 !== ie.appName.indexOf("Netscape")) && 11,
            i = -1 !== ae.indexOf("Edge/") && !r && !o && 12,
            r = r || o || i,
            a = !n && !o && /Gecko/.test(ae),
            s = -1 !== ae.indexOf("Mac"),
            l = /(iPad|iPhone)/.test(ae),
            c = "FormData" in window && "FileReader" in window && "URL" in window && !!oe.createObjectURL,
            d = se("only screen and (max-device-width: 480px)") && (u || l),
            f = se("only screen and (min-width: 800px)") && (u || l),
            m = -1 !== ae.indexOf("Windows Phone"),
            i && (n = !1);
            var le, ue, ce, de, fe, me, pe, he, ge, ve, be, ye, we, xe, Ce, _e, ke, Ee, Te, Se = {
                opera: !1,
                webkit: n,
                ie: r,
                gecko: a,
                mac: s,
                iOS: l,
                android: u,
                contentEditable: !l || c || parseInt(ae.match(/AppleWebKit\/(\d*)/)[1], 10) >= 534,
                transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
                caretAfter: 8 !== r,
                range: window.getSelection && "Range" in window,
                documentMode: r && !i ? document.documentMode || 7 : 10,
                fileApi: c,
                ceFalse: !1 === r || r > 8,
                cacheSuffix: null,
                container: null,
                overrideViewPort: null,
                experimentalShadowDom: !1,
                canHaveCSP: !1 === r || r > 11,
                desktop: !d && !f,
                windowsPhone: m
            },
            Ne = window.Promise ? window.Promise: function() {
                function e(e, t) {
                    return function() {
                        e.apply(t, arguments)
                    }
                }
                var t = Array.isArray ||
                function(e) {
                    return "[object Array]" === Object.prototype.toString.call(e)
                },
                n = function(t) {
                    if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
                    if ("function" != typeof t) throw new TypeError("not a function");
                    this._state = null,
                    this._value = null,
                    this._deferreds = [],
                    u(t, e(i, this), e(a, this))
                },
                r = n.immediateFn || "function" == typeof setImmediate && setImmediate ||
                function(e) {
                    setTimeout(e, 1)
                };
                function o(e) {
                    var t = this;
                    null !== this._state ? r(function() {
                        var n = t._state ? e.onFulfilled: e.onRejected;
                        if (null !== n) {
                            var r;
                            try {
                                r = n(t._value)
                            } catch(t) {
                                return void e.reject(t)
                            }
                            e.resolve(r)
                        } else(t._state ? e.resolve: e.reject)(t._value)
                    }) : this._deferreds.push(e)
                }
                function i(t) {
                    try {
                        if (t === this) throw new TypeError("A promise cannot be resolved with itself.");
                        if (t && ("object" == typeof t || "function" == typeof t)) {
                            var n = t.then;
                            if ("function" == typeof n) return void u(e(n, t), e(i, this), e(a, this))
                        }
                        this._state = !0,
                        this._value = t,
                        s.call(this)
                    } catch(e) {
                        a.call(this, e)
                    }
                }
                function a(e) {
                    this._state = !1,
                    this._value = e,
                    s.call(this)
                }
                function s() {
                    for (var e = 0,
                    t = this._deferreds.length; e < t; e++) o.call(this, this._deferreds[e]);
                    this._deferreds = null
                }
                function l(e, t, n, r) {
                    this.onFulfilled = "function" == typeof e ? e: null,
                    this.onRejected = "function" == typeof t ? t: null,
                    this.resolve = n,
                    this.reject = r
                }
                function u(e, t, n) {
                    var r = !1;
                    try {
                        e(function(e) {
                            r || (r = !0, t(e))
                        },
                        function(e) {
                            r || (r = !0, n(e))
                        })
                    } catch(e) {
                        if (r) return;
                        r = !0,
                        n(e)
                    }
                }
                return n.prototype.
                catch = function(e) {
                    return this.then(null, e)
                },
                n.prototype.then = function(e, t) {
                    var r = this;
                    return new n(function(n, i) {
                        o.call(r, new l(e, t, n, i))
                    })
                },
                n.all = function() {
                    var e = Array.prototype.slice.call(1 === arguments.length && t(arguments[0]) ? arguments[0] : arguments);
                    return new n(function(t, n) {
                        if (0 === e.length) return t([]);
                        var r = e.length;
                        function o(i, a) {
                            try {
                                if (a && ("object" == typeof a || "function" == typeof a)) {
                                    var s = a.then;
                                    if ("function" == typeof s) return void s.call(a,
                                    function(e) {
                                        o(i, e)
                                    },
                                    n)
                                }
                                e[i] = a,
                                0 == --r && t(e)
                            } catch(e) {
                                n(e)
                            }
                        }
                        for (var i = 0; i < e.length; i++) o(i, e[i])
                    })
                },
                n.resolve = function(e) {
                    return e && "object" == typeof e && e.constructor === n ? e: new n(function(t) {
                        t(e)
                    })
                },
                n.reject = function(e) {
                    return new n(function(t, n) {
                        n(e)
                    })
                },
                n.race = function(e) {
                    return new n(function(t, n) {
                        for (var r = 0,
                        o = e.length; r < o; r++) e[r].then(t, n)
                    })
                },
                n
            } (),
            Re = function(e, t) {
                return "number" != typeof t && (t = 0),
                setTimeout(e, t)
            },
            Ae = function(e, t) {
                return "number" != typeof t && (t = 1),
                setInterval(e, t)
            },
            Oe = function(e, t) {
                var n, r;
                return (r = function() {
                    var r = arguments;
                    clearTimeout(n),
                    n = Re(function() {
                        e.apply(this, r)
                    },
                    t)
                }).stop = function() {
                    clearTimeout(n)
                },
                r
            },
            De = {
                requestAnimationFrame: function(e, t) {
                    le ? le.then(e) : le = new Ne(function(e) {
                        t || (t = document.body),
                        function(e, t) {
                            var n, r = window.requestAnimationFrame,
                            o = ["ms", "moz", "webkit"];
                            for (n = 0; n < o.length && !r; n++) r = window[o[n] + "RequestAnimationFrame"];
                            r || (r = function(e) {
                                window.setTimeout(e, 0)
                            }),
                            r(e, t)
                        } (e, t)
                    }).then(e)
                },
                setTimeout: Re,
                setInterval: Ae,
                setEditorTimeout: function(e, t, n) {
                    return Re(function() {
                        e.removed || t()
                    },
                    n)
                },
                setEditorInterval: function(e, t, n) {
                    var r;
                    return r = Ae(function() {
                        e.removed ? clearInterval(r) : t()
                    },
                    n)
                },
                debounce: Oe,
                throttle: Oe,
                clearInterval: function(e) {
                    return clearInterval(e)
                },
                clearTimeout: function(e) {
                    return clearTimeout(e)
                }
            },
            Pe = /^(?:mouse|contextmenu)|click/,
            Be = {
                keyLocation: 1,
                layerX: 1,
                layerY: 1,
                returnValue: 1,
                webkitMovementX: 1,
                webkitMovementY: 1,
                keyIdentifier: 1
            },
            Me = function() {
                return ! 1
            },
            Ie = function() {
                return ! 0
            },
            Le = function(e, t, n, r) {
                e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n)
            },
            Fe = function(e, t, n, r) {
                e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n)
            },
            We = function(e, t) {
                var n, r = t || {};
                for (n in e) Be[n] || (r[n] = e[n]);
                if (r.target || (r.target = r.srcElement || document), Se.experimentalShadowDom && (r.target = function(e, t) {
                    if (e.composedPath) {
                        var n = e.composedPath();
                        if (n && n.length > 0) return n[0]
                    }
                    return t
                } (e, r.target)), e && Pe.test(e.type) && void 0 === e.pageX && void 0 !== e.clientX) {
                    var o = r.target.ownerDocument || document,
                    i = o.documentElement,
                    a = o.body;
                    r.pageX = e.clientX + (i && i.scrollLeft || a && a.scrollLeft || 0) - (i && i.clientLeft || a && a.clientLeft || 0),
                    r.pageY = e.clientY + (i && i.scrollTop || a && a.scrollTop || 0) - (i && i.clientTop || a && a.clientTop || 0)
                }
                return r.preventDefault = function() {
                    r.isDefaultPrevented = Ie,
                    e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
                },
                r.stopPropagation = function() {
                    r.isPropagationStopped = Ie,
                    e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0)
                },
                r.stopImmediatePropagation = function() {
                    r.isImmediatePropagationStopped = Ie,
                    r.stopPropagation()
                },
                !1 ===
                function(e) {
                    return e.isDefaultPrevented === Ie || e.isDefaultPrevented === Me
                } (r) && (r.isDefaultPrevented = Me, r.isPropagationStopped = Me, r.isImmediatePropagationStopped = Me),
                void 0 === r.metaKey && (r.metaKey = !1),
                r
            },
            He = function(e, t, n) {
                var r = e.document,
                o = {
                    type: "ready"
                };
                if (n.domLoaded) t(o);
                else {
                    var i = function() {
                        return "complete" === r.readyState || "interactive" === r.readyState && r.body
                    },
                    a = function() {
                        n.domLoaded || (n.domLoaded = !0, t(o))
                    },
                    s = function() {
                        i() && (Fe(r, "readystatechange", s), a())
                    },
                    l = function() {
                        try {
                            r.documentElement.doScroll("left")
                        } catch(e) {
                            return void De.setTimeout(l)
                        }
                        a()
                    }; ! r.addEventListener || Se.ie && Se.ie < 11 ? (Le(r, "readystatechange", s), r.documentElement.doScroll && e.self === e.top && l()) : i() ? a() : Le(e, "DOMContentLoaded", a),
                    Le(e, "load", a)
                }
            },
            je = function() {
                var e, t, n, r, o, i = this,
                a = {};
                t = "mce-data-" + ( + new Date).toString(32),
                r = "onmouseenter" in document.documentElement,
                n = "onfocusin" in document.documentElement,
                o = {
                    mouseenter: "mouseover",
                    mouseleave: "mouseout"
                },
                e = 1,
                i.domLoaded = !1,
                i.events = a;
                var s = function(e, t) {
                    var n, r, o, i, s = a[t];
                    if (n = s && s[e.type]) for (r = 0, o = n.length; r < o; r++) if ((i = n[r]) && !1 === i.func.call(i.scope, e) && e.preventDefault(), e.isImmediatePropagationStopped()) return
                };
                i.bind = function(l, u, c, d) {
                    var f, m, p, h, g, v, b, y = window,
                    w = function(e) {
                        s(We(e || y.event), f)
                    };
                    if (l && 3 !== l.nodeType && 8 !== l.nodeType) {
                        for (l[t] ? f = l[t] : (f = e++, l[t] = f, a[f] = {}), d = d || l, p = (u = u.split(" ")).length; p--;) v = w,
                        g = b = !1,
                        "DOMContentLoaded" === (h = u[p]) && (h = "ready"),
                        i.domLoaded && "ready" === h && "complete" === l.readyState ? c.call(d, We({
                            type: h
                        })) : (r || (g = o[h]) && (v = function(e) {
                            var t, n;
                            if (t = e.currentTarget, (n = e.relatedTarget) && t.contains) n = t.contains(n);
                            else for (; n && n !== t;) n = n.parentNode;
                            n || ((e = We(e || y.event)).type = "mouseout" === e.type ? "mouseleave": "mouseenter", e.target = t, s(e, f))
                        }), n || "focusin" !== h && "focusout" !== h || (b = !0, g = "focusin" === h ? "focus": "blur", v = function(e) { (e = We(e || y.event)).type = "focus" === e.type ? "focusin": "focusout",
                            s(e, f)
                        }), (m = a[f][h]) ? "ready" === h && i.domLoaded ? c({
                            type: h
                        }) : m.push({
                            func: c,
                            scope: d
                        }) : (a[f][h] = m = [{
                            func: c,
                            scope: d
                        }], m.fakeName = g, m.capture = b, m.nativeHandler = v, "ready" === h ? He(l, v, i) : Le(l, g || h, v, b)));
                        return l = m = 0,
                        c
                    }
                },
                i.unbind = function(e, n, r) {
                    var o, s, l, u, c, d;
                    if (!e || 3 === e.nodeType || 8 === e.nodeType) return i;
                    if (o = e[t]) {
                        if (d = a[o], n) {
                            for (l = (n = n.split(" ")).length; l--;) if (s = d[c = n[l]]) {
                                if (r) for (u = s.length; u--;) if (s[u].func === r) {
                                    var f = s.nativeHandler,
                                    m = s.fakeName,
                                    p = s.capture; (s = s.slice(0, u).concat(s.slice(u + 1))).nativeHandler = f,
                                    s.fakeName = m,
                                    s.capture = p,
                                    d[c] = s
                                }
                                r && 0 !== s.length || (delete d[c], Fe(e, s.fakeName || c, s.nativeHandler, s.capture))
                            }
                        } else {
                            for (c in d) s = d[c],
                            Fe(e, s.fakeName || c, s.nativeHandler, s.capture);
                            d = {}
                        }
                        for (c in d) return i;
                        delete a[o];
                        try {
                            delete e[t]
                        } catch(n) {
                            e[t] = null
                        }
                    }
                    return i
                },
                i.fire = function(e, n, r) {
                    var o;
                    if (!e || 3 === e.nodeType || 8 === e.nodeType) return i; (r = We(null, r)).type = n,
                    r.target = e;
                    do { (o = e[t]) && s(r, o), e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow
                    } while ( e && ! r . isPropagationStopped ());
                    return i
                },
                i.clean = function(e) {
                    var n, r, o = i.unbind;
                    if (!e || 3 === e.nodeType || 8 === e.nodeType) return i;
                    if (e[t] && o(e), e.getElementsByTagName || (e = e.document), e && e.getElementsByTagName) for (o(e), n = (r = e.getElementsByTagName("*")).length; n--;)(e = r[n])[t] && o(e);
                    return i
                },
                i.destroy = function() {
                    a = {}
                },
                i.cancel = function(e) {
                    return e && (e.preventDefault(), e.stopImmediatePropagation()),
                    !1
                }
            };
            je.Event = new je,
            je.Event.bind(window, "ready",
            function() {});
            var Ue = "sizzle" + -new Date,
            ze = window.document,
            Ve = 0,
            $e = 0,
            qe = Et(),
            Ke = Et(),
            Ye = Et(),
            Xe = function(e, t) {
                return e === t && (ye = !0),
                0
            },
            Ge = "undefined",
            Je = 1 << 31,
            Qe = {}.hasOwnProperty,
            Ze = [],
            et = Ze.pop,
            tt = Ze.push,
            nt = Ze.push,
            rt = Ze.slice,
            ot = Ze.indexOf ||
            function(e) {
                for (var t = 0,
                n = this.length; t < n; t++) if (this[t] === e) return t;
                return - 1
            },
            it = "[\\x20\\t\\r\\n\\f]",
            at = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
            st = "\\[" + it + "*(" + at + ")(?:" + it + "*([*^$|!~]?=)" + it + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + at + "))|)" + it + "*\\]",
            lt = ":(" + at + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + st + ")*)|.*)\\)|)",
            ut = new RegExp("^" + it + "+|((?:^|[^\\\\])(?:\\\\.)*)" + it + "+$", "g"),
            ct = new RegExp("^" + it + "*," + it + "*"),
            dt = new RegExp("^" + it + "*([>+~]|" + it + ")" + it + "*"),
            ft = new RegExp("=" + it + "*([^\\]'\"]*?)" + it + "*\\]", "g"),
            mt = new RegExp(lt),
            pt = new RegExp("^" + at + "$"),
            ht = {
                ID: new RegExp("^#(" + at + ")"),
                CLASS: new RegExp("^\\.(" + at + ")"),
                TAG: new RegExp("^(" + at + "|[*])"),
                ATTR: new RegExp("^" + st),
                PSEUDO: new RegExp("^" + lt),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + it + "*(even|odd|(([+-]|)(\\d*)n|)" + it + "*(?:([+-]|)" + it + "*(\\d+)|))" + it + "*\\)|)", "i"),
                bool: new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"),
                needsContext: new RegExp("^" + it + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + it + "*((?:-\\d)?\\d*)" + it + "*\\)|)(?=[^-]|$)", "i")
            },
            gt = /^(?:input|select|textarea|button)$/i,
            vt = /^h\d$/i,
            bt = /^[^{]+\{\s*\[native \w/,
            yt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            wt = /[+~]/,
            xt = /'|\\/g,
            Ct = new RegExp("\\\\([\\da-f]{1,6}" + it + "?|(" + it + ")|.)", "ig"),
            _t = function(e, t, n) {
                var r = "0x" + t - 65536;
                return r != r || n ? t: r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
            };
            try {
                nt.apply(Ze = rt.call(ze.childNodes), ze.childNodes),
                Ze[ze.childNodes.length].nodeType
            } catch(e) {
                nt = {
                    apply: Ze.length ?
                    function(e, t) {
                        tt.apply(e, rt.call(t))
                    }: function(e, t) {
                        for (var n = e.length,
                        r = 0; e[n++] = t[r++];);
                        e.length = n - 1
                    }
                }
            }
            var kt = function(e, t, n, r) {
                var o, i, a, s, l, u, c, d, f, m;
                if ((t ? t.ownerDocument || t: ze) !== xe && we(t), n = n || [], !e || "string" != typeof e) return n;
                if (1 !== (s = (t = t || xe).nodeType) && 9 !== s) return [];
                if (_e && !r) {
                    if (o = yt.exec(e)) if (a = o[1]) {
                        if (9 === s) {
                            if (! (i = t.getElementById(a)) || !i.parentNode) return n;
                            if (i.id === a) return n.push(i),
                            n
                        } else if (t.ownerDocument && (i = t.ownerDocument.getElementById(a)) && Te(t, i) && i.id === a) return n.push(i),
                        n
                    } else {
                        if (o[2]) return nt.apply(n, t.getElementsByTagName(e)),
                        n;
                        if ((a = o[3]) && ce.getElementsByClassName) return nt.apply(n, t.getElementsByClassName(a)),
                        n
                    }
                    if (ce.qsa && (!ke || !ke.test(e))) {
                        if (d = c = Ue, f = t, m = 9 === s && e, 1 === s && "object" !== t.nodeName.toLowerCase()) {
                            for (u = pe(e), (c = t.getAttribute("id")) ? d = c.replace(xt, "\\$&") : t.setAttribute("id", d), d = "[id='" + d + "'] ", l = u.length; l--;) u[l] = d + Pt(u[l]);
                            f = wt.test(e) && Ot(t.parentNode) || t,
                            m = u.join(",")
                        }
                        if (m) try {
                            return nt.apply(n, f.querySelectorAll(m)),
                            n
                        } catch(e) {} finally {
                            c || t.removeAttribute("id")
                        }
                    }
                }
                return ge(e.replace(ut, "$1"), t, n, r)
            };
            function Et() {
                var e = [];
                return function t(n, r) {
                    return e.push(n + " ") > de.cacheLength && delete t[e.shift()],
                    t[n + " "] = r
                }
            }
            function Tt(e) {
                return e[Ue] = !0,
                e
            }
            function St(e, t) {
                var n = t && e,
                r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || Je) - (~e.sourceIndex || Je);
                if (r) return r;
                if (n) for (; n = n.nextSibling;) if (n === t) return - 1;
                return e ? 1 : -1
            }
            function Nt(e) {
                return function(t) {
                    return "input" === t.nodeName.toLowerCase() && t.type === e
                }
            }
            function Rt(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return ("input" === n || "button" === n) && t.type === e
                }
            }
            function At(e) {
                return Tt(function(t) {
                    return t = +t,
                    Tt(function(n, r) {
                        for (var o, i = e([], n.length, t), a = i.length; a--;) n[o = i[a]] && (n[o] = !(r[o] = n[o]))
                    })
                })
            }
            function Ot(e) {
                return e && typeof e.getElementsByTagName !== Ge && e
            }
            for (ue in ce = kt.support = {},
            me = kt.isXML = function(e) {
                var t = e && (e.ownerDocument || e).documentElement;
                return !! t && "HTML" !== t.nodeName
            },
            we = kt.setDocument = function(e) {
                var t, n = e ? e.ownerDocument || e: ze,
                r = n.defaultView;
                return n !== xe && 9 === n.nodeType && n.documentElement ? (xe = n, Ce = n.documentElement, _e = !me(n), r && r !==
                function(e) {
                    try {
                        return e.top
                    } catch(e) {}
                    return null
                } (r) && (r.addEventListener ? r.addEventListener("unload",
                function() {
                    we()
                },
                !1) : r.attachEvent && r.attachEvent("onunload",
                function() {
                    we()
                })), ce.attributes = !0, ce.getElementsByTagName = !0, ce.getElementsByClassName = bt.test(n.getElementsByClassName), ce.getById = !0, de.find.ID = function(e, t) {
                    if (typeof t.getElementById !== Ge && _e) {
                        var n = t.getElementById(e);
                        return n && n.parentNode ? [n] : []
                    }
                },
                de.filter.ID = function(e) {
                    var t = e.replace(Ct, _t);
                    return function(e) {
                        return e.getAttribute("id") === t
                    }
                },
                de.find.TAG = ce.getElementsByTagName ?
                function(e, t) {
                    if (typeof t.getElementsByTagName !== Ge) return t.getElementsByTagName(e)
                }: function(e, t) {
                    var n, r = [],
                    o = 0,
                    i = t.getElementsByTagName(e);
                    if ("*" === e) {
                        for (; n = i[o++];) 1 === n.nodeType && r.push(n);
                        return r
                    }
                    return i
                },
                de.find.CLASS = ce.getElementsByClassName &&
                function(e, t) {
                    if (_e) return t.getElementsByClassName(e)
                },
                Ee = [], ke = [], ce.disconnectedMatch = !0, ke = ke.length && new RegExp(ke.join("|")), Ee = Ee.length && new RegExp(Ee.join("|")), t = bt.test(Ce.compareDocumentPosition), Te = t || bt.test(Ce.contains) ?
                function(e, t) {
                    var n = 9 === e.nodeType ? e.documentElement: e,
                    r = t && t.parentNode;
                    return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
                }: function(e, t) {
                    if (t) for (; t = t.parentNode;) if (t === e) return ! 0;
                    return ! 1
                },
                Xe = t ?
                function(e, t) {
                    if (e === t) return ye = !0,
                    0;
                    var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
                    return r || (1 & (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !ce.sortDetached && t.compareDocumentPosition(e) === r ? e === n || e.ownerDocument === ze && Te(ze, e) ? -1 : t === n || t.ownerDocument === ze && Te(ze, t) ? 1 : be ? ot.call(be, e) - ot.call(be, t) : 0 : 4 & r ? -1 : 1)
                }: function(e, t) {
                    if (e === t) return ye = !0,
                    0;
                    var r, o = 0,
                    i = e.parentNode,
                    a = t.parentNode,
                    s = [e],
                    l = [t];
                    if (!i || !a) return e === n ? -1 : t === n ? 1 : i ? -1 : a ? 1 : be ? ot.call(be, e) - ot.call(be, t) : 0;
                    if (i === a) return St(e, t);
                    for (r = e; r = r.parentNode;) s.unshift(r);
                    for (r = t; r = r.parentNode;) l.unshift(r);
                    for (; s[o] === l[o];) o++;
                    return o ? St(s[o], l[o]) : s[o] === ze ? -1 : l[o] === ze ? 1 : 0
                },
                n) : xe
            },
            kt.matches = function(e, t) {
                return kt(e, null, null, t)
            },
            kt.matchesSelector = function(e, t) {
                if ((e.ownerDocument || e) !== xe && we(e), t = t.replace(ft, "='$1']"), ce.matchesSelector && _e && (!Ee || !Ee.test(t)) && (!ke || !ke.test(t))) try {
                    var n = (void 0).call(e, t);
                    if (n || ce.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n
                } catch(e) {}
                return kt(t, xe, null, [e]).length > 0
            },
            kt.contains = function(e, t) {
                return (e.ownerDocument || e) !== xe && we(e),
                Te(e, t)
            },
            kt.attr = function(e, t) { (e.ownerDocument || e) !== xe && we(e);
                var n = de.attrHandle[t.toLowerCase()],
                r = n && Qe.call(de.attrHandle, t.toLowerCase()) ? n(e, t, !_e) : void 0;
                return void 0 !== r ? r: ce.attributes || !_e ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value: null
            },
            kt.error = function(e) {
                throw new Error("Syntax error, unrecognized expression: " + e)
            },
            kt.uniqueSort = function(e) {
                var t, n = [],
                r = 0,
                o = 0;
                if (ye = !ce.detectDuplicates, be = !ce.sortStable && e.slice(0), e.sort(Xe), ye) {
                    for (; t = e[o++];) t === e[o] && (r = n.push(o));
                    for (; r--;) e.splice(n[r], 1)
                }
                return be = null,
                e
            },
            fe = kt.getText = function(e) {
                var t, n = "",
                r = 0,
                o = e.nodeType;
                if (o) {
                    if (1 === o || 9 === o || 11 === o) {
                        if ("string" == typeof e.textContent) return e.textContent;
                        for (e = e.firstChild; e; e = e.nextSibling) n += fe(e)
                    } else if (3 === o || 4 === o) return e.nodeValue
                } else for (; t = e[r++];) n += fe(t);
                return n
            },
            (de = kt.selectors = {
                cacheLength: 50,
                createPseudo: Tt,
                match: ht,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(e) {
                        return e[1] = e[1].replace(Ct, _t),
                        e[3] = (e[3] || e[4] || e[5] || "").replace(Ct, _t),
                        "~=" === e[2] && (e[3] = " " + e[3] + " "),
                        e.slice(0, 4)
                    },
                    CHILD: function(e) {
                        return e[1] = e[1].toLowerCase(),
                        "nth" === e[1].slice(0, 3) ? (e[3] || kt.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && kt.error(e[0]),
                        e
                    },
                    PSEUDO: function(e) {
                        var t, n = !e[6] && e[2];
                        return ht.CHILD.test(e[0]) ? null: (e[3] ? e[2] = e[4] || e[5] || "": n && mt.test(n) && (t = pe(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(e) {
                        var t = e.replace(Ct, _t).toLowerCase();
                        return "*" === e ?
                        function() {
                            return ! 0
                        }: function(e) {
                            return e.nodeName && e.nodeName.toLowerCase() === t
                        }
                    },
                    CLASS: function(e) {
                        var t = qe[e + " "];
                        return t || (t = new RegExp("(^|" + it + ")" + e + "(" + it + "|$)")) && qe(e,
                        function(e) {
                            return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== Ge && e.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(e, t, n) {
                        return function(r) {
                            var o = kt.attr(r, e);
                            return null == o ? "!=" === t: !t || (o += "", "=" === t ? o === n: "!=" === t ? o !== n: "^=" === t ? n && 0 === o.indexOf(n) : "*=" === t ? n && o.indexOf(n) > -1 : "$=" === t ? n && o.slice( - n.length) === n: "~=" === t ? (" " + o + " ").indexOf(n) > -1 : "|=" === t && (o === n || o.slice(0, n.length + 1) === n + "-"))
                        }
                    },
                    CHILD: function(e, t, n, r, o) {
                        var i = "nth" !== e.slice(0, 3),
                        a = "last" !== e.slice( - 4),
                        s = "of-type" === t;
                        return 1 === r && 0 === o ?
                        function(e) {
                            return !! e.parentNode
                        }: function(t, n, l) {
                            var u, c, d, f, m, p, h = i !== a ? "nextSibling": "previousSibling",
                            g = t.parentNode,
                            v = s && t.nodeName.toLowerCase(),
                            b = !l && !s;
                            if (g) {
                                if (i) {
                                    for (; h;) {
                                        for (d = t; d = d[h];) if (s ? d.nodeName.toLowerCase() === v: 1 === d.nodeType) return ! 1;
                                        p = h = "only" === e && !p && "nextSibling"
                                    }
                                    return ! 0
                                }
                                if (p = [a ? g.firstChild: g.lastChild], a && b) {
                                    for (m = (u = (c = g[Ue] || (g[Ue] = {}))[e] || [])[0] === Ve && u[1], f = u[0] === Ve && u[2], d = m && g.childNodes[m]; d = ++m && d && d[h] || (f = m = 0) || p.pop();) if (1 === d.nodeType && ++f && d === t) {
                                        c[e] = [Ve, m, f];
                                        break
                                    }
                                } else if (b && (u = (t[Ue] || (t[Ue] = {}))[e]) && u[0] === Ve) f = u[1];
                                else for (; (d = ++m && d && d[h] || (f = m = 0) || p.pop()) && ((s ? d.nodeName.toLowerCase() !== v: 1 !== d.nodeType) || !++f || (b && ((d[Ue] || (d[Ue] = {}))[e] = [Ve, f]), d !== t)););
                                return (f -= o) === r || f % r == 0 && f / r >= 0
                            }
                        }
                    },
                    PSEUDO: function(e, t) {
                        var n, r = de.pseudos[e] || de.setFilters[e.toLowerCase()] || kt.error("unsupported pseudo: " + e);
                        return r[Ue] ? r(t) : r.length > 1 ? (n = [e, e, "", t], de.setFilters.hasOwnProperty(e.toLowerCase()) ? Tt(function(e, n) {
                            for (var o, i = r(e, t), a = i.length; a--;) e[o = ot.call(e, i[a])] = !(n[o] = i[a])
                        }) : function(e) {
                            return r(e, 0, n)
                        }) : r
                    }
                },
                pseudos: {
                    not: Tt(function(e) {
                        var t = [],
                        n = [],
                        r = he(e.replace(ut, "$1"));
                        return r[Ue] ? Tt(function(e, t, n, o) {
                            for (var i, a = r(e, null, o, []), s = e.length; s--;)(i = a[s]) && (e[s] = !(t[s] = i))
                        }) : function(e, o, i) {
                            return t[0] = e,
                            r(t, null, i, n),
                            !n.pop()
                        }
                    }),
                    has: Tt(function(e) {
                        return function(t) {
                            return kt(e, t).length > 0
                        }
                    }),
                    contains: Tt(function(e) {
                        return e = e.replace(Ct, _t),
                        function(t) {
                            return (t.textContent || t.innerText || fe(t)).indexOf(e) > -1
                        }
                    }),
                    lang: Tt(function(e) {
                        return pt.test(e || "") || kt.error("unsupported lang: " + e),
                        e = e.replace(Ct, _t).toLowerCase(),
                        function(t) {
                            var n;
                            do {
                                if (n = _e ? t.lang: t.getAttribute("xml:lang") || t.getAttribute("lang")) return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-")
                            } while (( t = t . parentNode ) && 1 === t.nodeType);
                            return ! 1
                        }
                    }),
                    target: function(e) {
                        var t = window.location && window.location.hash;
                        return t && t.slice(1) === e.id
                    },
                    root: function(e) {
                        return e === Ce
                    },
                    focus: function(e) {
                        return e === xe.activeElement && (!xe.hasFocus || xe.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                    },
                    enabled: function(e) {
                        return ! 1 === e.disabled
                    },
                    disabled: function(e) {
                        return ! 0 === e.disabled
                    },
                    checked: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && !!e.checked || "option" === t && !!e.selected
                    },
                    selected: function(e) {
                        return e.parentNode && e.parentNode.selectedIndex,
                        !0 === e.selected
                    },
                    empty: function(e) {
                        for (e = e.firstChild; e; e = e.nextSibling) if (e.nodeType < 6) return ! 1;
                        return ! 0
                    },
                    parent: function(e) {
                        return ! de.pseudos.empty(e)
                    },
                    header: function(e) {
                        return vt.test(e.nodeName)
                    },
                    input: function(e) {
                        return gt.test(e.nodeName)
                    },
                    button: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && "button" === e.type || "button" === t
                    },
                    text: function(e) {
                        var t;
                        return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                    },
                    first: At(function() {
                        return [0]
                    }),
                    last: At(function(e, t) {
                        return [t - 1]
                    }),
                    eq: At(function(e, t, n) {
                        return [n < 0 ? n + t: n]
                    }),
                    even: At(function(e, t) {
                        for (var n = 0; n < t; n += 2) e.push(n);
                        return e
                    }),
                    odd: At(function(e, t) {
                        for (var n = 1; n < t; n += 2) e.push(n);
                        return e
                    }),
                    lt: At(function(e, t, n) {
                        for (var r = n < 0 ? n + t: n; --r >= 0;) e.push(r);
                        return e
                    }),
                    gt: At(function(e, t, n) {
                        for (var r = n < 0 ? n + t: n; ++r < t;) e.push(r);
                        return e
                    })
                }
            }).pseudos.nth = de.pseudos.eq, {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) de.pseudos[ue] = Nt(ue);
            for (ue in {
                submit: !0,
                reset: !0
            }) de.pseudos[ue] = Rt(ue);
            function Dt() {}
            function Pt(e) {
                for (var t = 0,
                n = e.length,
                r = ""; t < n; t++) r += e[t].value;
                return r
            }
            function Bt(e, t, n) {
                var r = t.dir,
                o = n && "parentNode" === r,
                i = $e++;
                return t.first ?
                function(t, n, i) {
                    for (; t = t[r];) if (1 === t.nodeType || o) return e(t, n, i)
                }: function(t, n, a) {
                    var s, l, u = [Ve, i];
                    if (a) {
                        for (; t = t[r];) if ((1 === t.nodeType || o) && e(t, n, a)) return ! 0
                    } else for (; t = t[r];) if (1 === t.nodeType || o) {
                        if ((s = (l = t[Ue] || (t[Ue] = {}))[r]) && s[0] === Ve && s[1] === i) return u[2] = s[2];
                        if (l[r] = u, u[2] = e(t, n, a)) return ! 0
                    }
                }
            }
            function Mt(e) {
                return e.length > 1 ?
                function(t, n, r) {
                    for (var o = e.length; o--;) if (!e[o](t, n, r)) return ! 1;
                    return ! 0
                }: e[0]
            }
            function It(e, t, n, r, o) {
                for (var i, a = [], s = 0, l = e.length, u = null != t; s < l; s++)(i = e[s]) && (n && !n(i, r, o) || (a.push(i), u && t.push(s)));
                return a
            }
            function Lt(e, t, n, r, o, i) {
                return r && !r[Ue] && (r = Lt(r)),
                o && !o[Ue] && (o = Lt(o, i)),
                Tt(function(i, a, s, l) {
                    var u, c, d, f = [],
                    m = [],
                    p = a.length,
                    h = i ||
                    function(e, t, n) {
                        for (var r = 0,
                        o = t.length; r < o; r++) kt(e, t[r], n);
                        return n
                    } (t || "*", s.nodeType ? [s] : s, []),
                    g = !e || !i && t ? h: It(h, f, e, s, l),
                    v = n ? o || (i ? e: p || r) ? [] : a: g;
                    if (n && n(g, v, s, l), r) for (u = It(v, m), r(u, [], s, l), c = u.length; c--;)(d = u[c]) && (v[m[c]] = !(g[m[c]] = d));
                    if (i) {
                        if (o || e) {
                            if (o) {
                                for (u = [], c = v.length; c--;)(d = v[c]) && u.push(g[c] = d);
                                o(null, v = [], u, l)
                            }
                            for (c = v.length; c--;)(d = v[c]) && (u = o ? ot.call(i, d) : f[c]) > -1 && (i[u] = !(a[u] = d))
                        }
                    } else v = It(v === a ? v.splice(p, v.length) : v),
                    o ? o(null, a, v, l) : nt.apply(a, v)
                })
            }
            function Ft(e) {
                for (var t, n, r, o = e.length,
                i = de.relative[e[0].type], a = i || de.relative[" "], s = i ? 1 : 0, l = Bt(function(e) {
                    return e === t
                },
                a, !0), u = Bt(function(e) {
                    return ot.call(t, e) > -1
                },
                a, !0), c = [function(e, n, r) {
                    return ! i && (r || n !== ve) || ((t = n).nodeType ? l(e, n, r) : u(e, n, r))
                }]; s < o; s++) if (n = de.relative[e[s].type]) c = [Bt(Mt(c), n)];
                else {
                    if ((n = de.filter[e[s].type].apply(null, e[s].matches))[Ue]) {
                        for (r = ++s; r < o && !de.relative[e[r].type]; r++);
                        return Lt(s > 1 && Mt(c), s > 1 && Pt(e.slice(0, s - 1).concat({
                            value: " " === e[s - 2].type ? "*": ""
                        })).replace(ut, "$1"), n, s < r && Ft(e.slice(s, r)), r < o && Ft(e = e.slice(r)), r < o && Pt(e))
                    }
                    c.push(n)
                }
                return Mt(c)
            }
            Dt.prototype = de.filters = de.pseudos,
            de.setFilters = new Dt,
            pe = kt.tokenize = function(e, t) {
                var n, r, o, i, a, s, l, u = Ke[e + " "];
                if (u) return t ? 0 : u.slice(0);
                for (a = e, s = [], l = de.preFilter; a;) {
                    for (i in n && !(r = ct.exec(a)) || (r && (a = a.slice(r[0].length) || a), s.push(o = [])), n = !1, (r = dt.exec(a)) && (n = r.shift(), o.push({
                        value: n,
                        type: r[0].replace(ut, " ")
                    }), a = a.slice(n.length)), de.filter) ! (r = ht[i].exec(a)) || l[i] && !(r = l[i](r)) || (n = r.shift(), o.push({
                        value: n,
                        type: i,
                        matches: r
                    }), a = a.slice(n.length));
                    if (!n) break
                }
                return t ? a.length: a ? kt.error(e) : Ke(e, s).slice(0)
            },
            he = kt.compile = function(e, t) {
                var n, r = [],
                o = [],
                i = Ye[e + " "];
                if (!i) {
                    for (t || (t = pe(e)), n = t.length; n--;)(i = Ft(t[n]))[Ue] ? r.push(i) : o.push(i); (i = Ye(e,
                    function(e, t) {
                        var n = t.length > 0,
                        r = e.length > 0,
                        o = function(o, i, a, s, l) {
                            var u, c, d, f = 0,
                            m = "0",
                            p = o && [],
                            h = [],
                            g = ve,
                            v = o || r && de.find.TAG("*", l),
                            b = Ve += null == g ? 1 : Math.random() || .1,
                            y = v.length;
                            for (l && (ve = i !== xe && i); m !== y && null != (u = v[m]); m++) {
                                if (r && u) {
                                    for (c = 0; d = e[c++];) if (d(u, i, a)) {
                                        s.push(u);
                                        break
                                    }
                                    l && (Ve = b)
                                }
                                n && ((u = !d && u) && f--, o && p.push(u))
                            }
                            if (f += m, n && m !== f) {
                                for (c = 0; d = t[c++];) d(p, h, i, a);
                                if (o) {
                                    if (f > 0) for (; m--;) p[m] || h[m] || (h[m] = et.call(s));
                                    h = It(h)
                                }
                                nt.apply(s, h),
                                l && !o && h.length > 0 && f + t.length > 1 && kt.uniqueSort(s)
                            }
                            return l && (Ve = b, ve = g),
                            p
                        };
                        return n ? Tt(o) : o
                    } (o, r))).selector = e
                }
                return i
            },
            ge = kt.select = function(e, t, n, r) {
                var o, i, a, s, l, u = "function" == typeof e && e,
                c = !r && pe(e = u.selector || e);
                if (n = n || [], 1 === c.length) {
                    if ((i = c[0] = c[0].slice(0)).length > 2 && "ID" === (a = i[0]).type && ce.getById && 9 === t.nodeType && _e && de.relative[i[1].type]) {
                        if (! (t = (de.find.ID(a.matches[0].replace(Ct, _t), t) || [])[0])) return n;
                        u && (t = t.parentNode),
                        e = e.slice(i.shift().value.length)
                    }
                    for (o = ht.needsContext.test(e) ? 0 : i.length; o--&&(a = i[o], !de.relative[s = a.type]);) if ((l = de.find[s]) && (r = l(a.matches[0].replace(Ct, _t), wt.test(i[0].type) && Ot(t.parentNode) || t))) {
                        if (i.splice(o, 1), !(e = r.length && Pt(i))) return nt.apply(n, r),
                        n;
                        break
                    }
                }
                return (u || he(e, c))(r, t, !_e, n, wt.test(e) && Ot(t.parentNode) || t),
                n
            },
            ce.sortStable = Ue.split("").sort(Xe).join("") === Ue,
            ce.detectDuplicates = !!ye,
            we(),
            ce.sortDetached = !0;
            var Wt = Array.isArray,
            Ht = function(e, t, n) {
                var r, o;
                if (!e) return 0;
                if (n = n || e, void 0 !== e.length) {
                    for (r = 0, o = e.length; r < o; r++) if (!1 === t.call(n, e[r], r, e)) return 0
                } else for (r in e) if (e.hasOwnProperty(r) && !1 === t.call(n, e[r], r, e)) return 0;
                return 1
            },
            jt = function(e, t, n) {
                var r, o;
                for (r = 0, o = e.length; r < o; r++) if (t.call(n, e[r], r, e)) return r;
                return - 1
            },
            Ut = {
                isArray: Wt,
                toArray: function(e) {
                    var t, n, r = e;
                    if (!Wt(e)) for (r = [], t = 0, n = e.length; t < n; t++) r[t] = e[t];
                    return r
                },
                each: Ht,
                map: function(e, t) {
                    var n = [];
                    return Ht(e,
                    function(r, o) {
                        n.push(t(r, o, e))
                    }),
                    n
                },
                filter: function(e, t) {
                    var n = [];
                    return Ht(e,
                    function(r, o) {
                        t && !t(r, o, e) || n.push(r)
                    }),
                    n
                },
                indexOf: function(e, t) {
                    var n, r;
                    if (e) for (n = 0, r = e.length; n < r; n++) if (e[n] === t) return n;
                    return - 1
                },
                reduce: function(e, t, n, r) {
                    var o = 0;
                    for (arguments.length < 3 && (n = e[0]); o < e.length; o++) n = t.call(r, n, e[o], o);
                    return n
                },
                findIndex: jt,
                find: function(e, t, n) {
                    var r = jt(e, t, n);
                    if ( - 1 !== r) return e[r]
                },
                last: function(e) {
                    return e[e.length - 1]
                }
            },
            zt = /^\s*|\s*$/g,
            Vt = function(e) {
                return null == e ? "": ("" + e).replace(zt, "")
            },
            $t = function(e, t) {
                return t ? !("array" !== t || !Ut.isArray(e)) || typeof e === t: void 0 !== e
            },
            qt = function(e, t, n, r) {
                r = r || this,
                e && (n && (e = e[n]), Ut.each(e,
                function(e, o) {
                    if (!1 === t.call(r, e, o, n)) return ! 1;
                    qt(e, t, n, r)
                }))
            },
            Kt = {
                trim: Vt,
                isArray: Ut.isArray,
                is: $t,
                toArray: Ut.toArray,
                makeMap: function(e, t, n) {
                    var r;
                    for (t = t || ",", "string" == typeof(e = e || []) && (e = e.split(t)), n = n || {},
                    r = e.length; r--;) n[e[r]] = {};
                    return n
                },
                each: Ut.each,
                map: Ut.map,
                grep: Ut.filter,
                inArray: Ut.indexOf,
                hasOwn: function(e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t)
                },
                extend: function(e, t) {
                    for (var n, r, o, i = [], a = 2; a < arguments.length; a++) i[a - 2] = arguments[a];
                    var s, l = arguments;
                    for (n = 1, r = l.length; n < r; n++) for (o in t = l[n]) t.hasOwnProperty(o) && void 0 !== (s = t[o]) && (e[o] = s);
                    return e
                },
                create: function(e, t, n) {
                    var r, o, i, a, s, l = 0;
                    if (e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e), i = e[3].match(/(^|\.)(\w+)$/i)[2], !(o = this.createNS(e[3].replace(/\.\w+$/, ""), n))[i]) {
                        if ("static" === e[2]) return o[i] = t,
                        void(this.onCreate && this.onCreate(e[2], e[3], o[i]));
                        t[i] || (t[i] = function() {},
                        l = 1),
                        o[i] = t[i],
                        this.extend(o[i].prototype, t),
                        e[5] && (r = this.resolve(e[5]).prototype, a = e[5].match(/\.(\w+)$/i)[1], s = o[i], o[i] = l ?
                        function() {
                            return r[a].apply(this, arguments)
                        }: function() {
                            return this.parent = r[a],
                            s.apply(this, arguments)
                        },
                        o[i].prototype[i] = o[i], this.each(r,
                        function(e, t) {
                            o[i].prototype[t] = r[t]
                        }), this.each(t,
                        function(e, t) {
                            r[t] ? o[i].prototype[t] = function() {
                                return this.parent = r[t],
                                e.apply(this, arguments)
                            }: t !== i && (o[i].prototype[t] = e)
                        })),
                        this.each(t.static,
                        function(e, t) {
                            o[i][t] = e
                        })
                    }
                },
                walk: qt,
                createNS: function(e, t) {
                    var n, r;
                    for (t = t || window, e = e.split("."), n = 0; n < e.length; n++) t[r = e[n]] || (t[r] = {}),
                    t = t[r];
                    return t
                },
                resolve: function(e, t) {
                    var n, r;
                    for (t = t || window, n = 0, r = (e = e.split(".")).length; n < r && (t = t[e[n]]); n++);
                    return t
                },
                explode: function(e, t) {
                    return ! e || $t(e, "array") ? e: Ut.map(e.split(t || ","), Vt)
                },
                _addCacheSuffix: function(e) {
                    var t = Se.cacheSuffix;
                    return t && (e += ( - 1 === e.indexOf("?") ? "?": "&") + t),
                    e
                }
            },
            Yt = document,
            Xt = Array.prototype.push,
            Gt = Array.prototype.slice,
            Jt = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
            Qt = je.Event,
            Zt = Kt.makeMap("children,contents,next,prev"),
            en = function(e) {
                return void 0 !== e
            },
            tn = function(e) {
                return "string" == typeof e
            },
            nn = function(e, t) {
                var n, r, o;
                for (o = (t = t || Yt).createElement("div"), n = t.createDocumentFragment(), o.innerHTML = e; r = o.firstChild;) n.appendChild(r);
                return n
            },
            rn = function(e, t, n, r) {
                var o;
                if (tn(t)) t = nn(t, bn(e[0]));
                else if (t.length && !t.nodeType) {
                    if (t = mn.makeArray(t), r) for (o = t.length - 1; o >= 0; o--) rn(e, t[o], n, r);
                    else for (o = 0; o < t.length; o++) rn(e, t[o], n, r);
                    return e
                }
                if (t.nodeType) for (o = e.length; o--;) n.call(e[o], t);
                return e
            },
            on = function(e, t) {
                return e && t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ")
            },
            an = function(e, t, n) {
                var r, o;
                return t = mn(t)[0],
                e.each(function() {
                    n && r === this.parentNode ? o.appendChild(this) : (r = this.parentNode, o = t.cloneNode(!1), this.parentNode.insertBefore(o, this), o.appendChild(this))
                }),
                e
            },
            sn = Kt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "),
            ln = Kt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "),
            un = {
                for: "htmlFor",
                class: "className",
                readonly: "readOnly"
            },
            cn = {
                float: "cssFloat"
            },
            dn = {},
            fn = {},
            mn = function(e, t) {
                return new mn.fn.init(e, t)
            },
            pn = /^\s*|\s*$/g,
            hn = function(e) {
                return null == e ? "": ("" + e).replace(pn, "")
            },
            gn = function(e, t) {
                var n, r, o, i;
                if (e) if (void 0 === (n = e.length)) {
                    for (r in e) if (e.hasOwnProperty(r) && (i = e[r], !1 === t.call(i, r, i))) break
                } else for (o = 0; o < n && (i = e[o], !1 !== t.call(i, o, i)); o++);
                return e
            },
            vn = function(e, t) {
                var n = [];
                return gn(e,
                function(e, r) {
                    t(r, e) && n.push(r)
                }),
                n
            },
            bn = function(e) {
                return e ? 9 === e.nodeType ? e: e.ownerDocument: Yt
            };
            mn.fn = mn.prototype = {
                constructor: mn,
                selector: "",
                context: null,
                length: 0,
                init: function(e, t) {
                    var n, r;
                    if (!e) return this;
                    if (e.nodeType) return this.context = this[0] = e,
                    this.length = 1,
                    this;
                    if (t && t.nodeType) this.context = t;
                    else {
                        if (t) return mn(e).attr(t);
                        this.context = t = document
                    }
                    if (tn(e)) {
                        if (this.selector = e, !(n = "<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && e.length >= 3 ? [null, e, null] : Jt.exec(e))) return mn(t).find(e);
                        if (n[1]) for (r = nn(e, bn(t)).firstChild; r;) Xt.call(this, r),
                        r = r.nextSibling;
                        else {
                            if (! (r = bn(t).getElementById(n[2]))) return this;
                            if (r.id !== n[2]) return this.find(e);
                            this.length = 1,
                            this[0] = r
                        }
                    } else this.add(e, !1);
                    return this
                },
                toArray: function() {
                    return Kt.toArray(this)
                },
                add: function(e, t) {
                    var n, r;
                    if (tn(e)) return this.add(mn(e));
                    if (!1 !== t) for (n = mn.unique(this.toArray().concat(mn.makeArray(e))), this.length = n.length, r = 0; r < n.length; r++) this[r] = n[r];
                    else Xt.apply(this, mn.makeArray(e));
                    return this
                },
                attr: function(e, t) {
                    var n, r = this;
                    if ("object" == typeof e) gn(e,
                    function(e, t) {
                        r.attr(e, t)
                    });
                    else {
                        if (!en(t)) {
                            if (r[0] && 1 === r[0].nodeType) {
                                if ((n = dn[e]) && n.get) return n.get(r[0], e);
                                if (ln[e]) return r.prop(e) ? e: void 0;
                                null === (t = r[0].getAttribute(e, 2)) && (t = void 0)
                            }
                            return t
                        }
                        this.each(function() {
                            var n;
                            if (1 === this.nodeType) {
                                if ((n = dn[e]) && n.set) return void n.set(this, t);
                                null === t ? this.removeAttribute(e, 2) : this.setAttribute(e, t, 2)
                            }
                        })
                    }
                    return r
                },
                removeAttr: function(e) {
                    return this.attr(e, null)
                },
                prop: function(e, t) {
                    var n = this;
                    if ("object" == typeof(e = un[e] || e)) gn(e,
                    function(e, t) {
                        n.prop(e, t)
                    });
                    else {
                        if (!en(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
                        this.each(function() {
                            1 === this.nodeType && (this[e] = t)
                        })
                    }
                    return n
                },
                css: function(e, t) {
                    var n, r, o = this,
                    i = function(e) {
                        return e.replace(/-(\D)/g,
                        function(e, t) {
                            return t.toUpperCase()
                        })
                    },
                    a = function(e) {
                        return e.replace(/[A-Z]/g,
                        function(e) {
                            return "-" + e
                        })
                    };
                    if ("object" == typeof e) gn(e,
                    function(e, t) {
                        o.css(e, t)
                    });
                    else if (en(t)) e = i(e),
                    "number" != typeof t || sn[e] || (t = t.toString() + "px"),
                    o.each(function() {
                        var n = this.style;
                        if ((r = fn[e]) && r.set) r.set(this, t);
                        else {
                            try {
                                this.style[cn[e] || e] = t
                            } catch(e) {}
                            null !== t && "" !== t || (n.removeProperty ? n.removeProperty(a(e)) : n.removeAttribute(e))
                        }
                    });
                    else {
                        if (n = o[0], (r = fn[e]) && r.get) return r.get(n);
                        if (!n.ownerDocument.defaultView) return n.currentStyle ? n.currentStyle[i(e)] : "";
                        try {
                            return n.ownerDocument.defaultView.getComputedStyle(n, null).getPropertyValue(a(e))
                        } catch(e) {
                            return
                        }
                    }
                    return o
                },
                remove: function() {
                    for (var e, t = this.length; t--;) e = this[t],
                    Qt.clean(e),
                    e.parentNode && e.parentNode.removeChild(e);
                    return this
                },
                empty: function() {
                    for (var e, t = this.length; t--;) for (e = this[t]; e.firstChild;) e.removeChild(e.firstChild);
                    return this
                },
                html: function(e) {
                    var t;
                    if (en(e)) {
                        t = this.length;
                        try {
                            for (; t--;) this[t].innerHTML = e
                        } catch(n) {
                            mn(this[t]).empty().append(e)
                        }
                        return this
                    }
                    return this[0] ? this[0].innerHTML: ""
                },
                text: function(e) {
                    var t;
                    if (en(e)) {
                        for (t = this.length; t--;)"innerText" in this[t] ? this[t].innerText = e: this[0].textContent = e;
                        return this
                    }
                    return this[0] ? this[0].innerText || this[0].textContent: ""
                },
                append: function() {
                    return rn(this, arguments,
                    function(e) { (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.appendChild(e)
                    })
                },
                prepend: function() {
                    return rn(this, arguments,
                    function(e) { (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.insertBefore(e, this.firstChild)
                    },
                    !0)
                },
                before: function() {
                    return this[0] && this[0].parentNode ? rn(this, arguments,
                    function(e) {
                        this.parentNode.insertBefore(e, this)
                    }) : this
                },
                after: function() {
                    return this[0] && this[0].parentNode ? rn(this, arguments,
                    function(e) {
                        this.parentNode.insertBefore(e, this.nextSibling)
                    },
                    !0) : this
                },
                appendTo: function(e) {
                    return mn(e).append(this),
                    this
                },
                prependTo: function(e) {
                    return mn(e).prepend(this),
                    this
                },
                replaceWith: function(e) {
                    return this.before(e).remove()
                },
                wrap: function(e) {
                    return an(this, e)
                },
                wrapAll: function(e) {
                    return an(this, e, !0)
                },
                wrapInner: function(e) {
                    return this.each(function() {
                        mn(this).contents().wrapAll(e)
                    }),
                    this
                },
                unwrap: function() {
                    return this.parent().each(function() {
                        mn(this).replaceWith(this.childNodes)
                    })
                },
                clone: function() {
                    var e = [];
                    return this.each(function() {
                        e.push(this.cloneNode(!0))
                    }),
                    mn(e)
                },
                addClass: function(e) {
                    return this.toggleClass(e, !0)
                },
                removeClass: function(e) {
                    return this.toggleClass(e, !1)
                },
                toggleClass: function(e, t) {
                    var n = this;
                    return "string" != typeof e ? n: ( - 1 !== e.indexOf(" ") ? gn(e.split(" "),
                    function() {
                        n.toggleClass(this, t)
                    }) : n.each(function(n, r) {
                        var o, i; (i = on(r, e)) !== t && (o = r.className, i ? r.className = hn((" " + o + " ").replace(" " + e + " ", " ")) : r.className += o ? " " + e: e)
                    }), n)
                },
                hasClass: function(e) {
                    return on(this[0], e)
                },
                each: function(e) {
                    return gn(this, e)
                },
                on: function(e, t) {
                    return this.each(function() {
                        Qt.bind(this, e, t)
                    })
                },
                off: function(e, t) {
                    return this.each(function() {
                        Qt.unbind(this, e, t)
                    })
                },
                trigger: function(e) {
                    return this.each(function() {
                        "object" == typeof e ? Qt.fire(this, e.type, e) : Qt.fire(this, e)
                    })
                },
                show: function() {
                    return this.css("display", "")
                },
                hide: function() {
                    return this.css("display", "none")
                },
                slice: function() {
                    return new mn(Gt.apply(this, arguments))
                },
                eq: function(e) {
                    return - 1 === e ? this.slice(e) : this.slice(e, +e + 1)
                },
                first: function() {
                    return this.eq(0)
                },
                last: function() {
                    return this.eq( - 1)
                },
                find: function(e) {
                    var t, n, r = [];
                    for (t = 0, n = this.length; t < n; t++) mn.find(e, this[t], r);
                    return mn(r)
                },
                filter: function(e) {
                    return mn("function" == typeof e ? vn(this.toArray(),
                    function(t, n) {
                        return e(n, t)
                    }) : mn.filter(e, this.toArray()))
                },
                closest: function(e) {
                    var t = [];
                    return e instanceof mn && (e = e[0]),
                    this.each(function(n, r) {
                        for (; r;) {
                            if ("string" == typeof e && mn(r).is(e)) {
                                t.push(r);
                                break
                            }
                            if (r === e) {
                                t.push(r);
                                break
                            }
                            r = r.parentNode
                        }
                    }),
                    mn(t)
                },
                offset: function(e) {
                    var t, n, r, o, i = 0,
                    a = 0;
                    return e ? this.css(e) : ((t = this[0]) && (r = (n = t.ownerDocument).documentElement, t.getBoundingClientRect && (i = (o = t.getBoundingClientRect()).left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft, a = o.top + (r.scrollTop || n.body.scrollTop) - r.clientTop)), {
                        left: i,
                        top: a
                    })
                },
                push: Xt,
                sort: [].sort,
                splice: [].splice
            },
            Kt.extend(mn, {
                extend: Kt.extend,
                makeArray: function(e) {
                    return (t = e) && t === t.window || e.nodeType ? [e] : Kt.toArray(e);
                    var t
                }, inArray: function(e, t) {
                    var n;
                    if (t.indexOf) return t.indexOf(e);
                    for (n = t.length; n--;) if (t[n] === e) return n;
                    return - 1
                },
                isArray: Kt.isArray,
                each: gn,
                trim: hn,
                grep: vn,
                find: kt,
                expr: kt.selectors,
                unique: kt.uniqueSort,
                text: kt.getText,
                contains: kt.contains,
                filter: function(e, t, n) {
                    var r = t.length;
                    for (n && (e = ":not(" + e + ")"); r--;) 1 !== t[r].nodeType && t.splice(r, 1);
                    return 1 === t.length ? mn.find.matchesSelector(t[0], e) ? [t[0]] : [] : mn.find.matches(e, t)
                }
            });
            var yn = function(e, t, n) {
                var r = [],
                o = e[t];
                for ("string" != typeof n && n instanceof mn && (n = n[0]); o && 9 !== o.nodeType;) {
                    if (void 0 !== n) {
                        if (o === n) break;
                        if ("string" == typeof n && mn(o).is(n)) break
                    }
                    1 === o.nodeType && r.push(o),
                    o = o[t]
                }
                return r
            },
            wn = function(e, t, n, r) {
                var o = [];
                for (r instanceof mn && (r = r[0]); e; e = e[t]) if (!n || e.nodeType === n) {
                    if (void 0 !== r) {
                        if (e === r) break;
                        if ("string" == typeof r && mn(e).is(r)) break
                    }
                    o.push(e)
                }
                return o
            },
            xn = function(e, t, n) {
                for (e = e[t]; e; e = e[t]) if (e.nodeType === n) return e;
                return null
            };
            gn({
                parent: function(e) {
                    var t = e.parentNode;
                    return t && 11 !== t.nodeType ? t: null
                },
                parents: function(e) {
                    return yn(e, "parentNode")
                },
                next: function(e) {
                    return xn(e, "nextSibling", 1)
                },
                prev: function(e) {
                    return xn(e, "previousSibling", 1)
                },
                children: function(e) {
                    return wn(e.firstChild, "nextSibling", 1)
                },
                contents: function(e) {
                    return Kt.toArray(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document: e).childNodes)
                }
            },
            function(e, t) {
                mn.fn[e] = function(n) {
                    var r = [];
                    return this.each(function() {
                        var e = t.call(r, this, n, r);
                        e && (mn.isArray(e) ? r.push.apply(r, e) : r.push(e))
                    }),
                    this.length > 1 && (Zt[e] || (r = mn.unique(r)), 0 === e.indexOf("parents") && (r = r.reverse())),
                    r = mn(r),
                    n ? r.filter(n) : r
                }
            }),
            gn({
                parentsUntil: function(e, t) {
                    return yn(e, "parentNode", t)
                },
                nextUntil: function(e, t) {
                    return wn(e, "nextSibling", 1, t).slice(1)
                },
                prevUntil: function(e, t) {
                    return wn(e, "previousSibling", 1, t).slice(1)
                }
            },
            function(e, t) {
                mn.fn[e] = function(n, r) {
                    var o = [];
                    return this.each(function() {
                        var e = t.call(o, this, n, o);
                        e && (mn.isArray(e) ? o.push.apply(o, e) : o.push(e))
                    }),
                    this.length > 1 && (o = mn.unique(o), 0 !== e.indexOf("parents") && "prevUntil" !== e || (o = o.reverse())),
                    o = mn(o),
                    r ? o.filter(r) : o
                }
            }),
            mn.fn.is = function(e) {
                return !! e && this.filter(e).length > 0
            },
            mn.fn.init.prototype = mn.fn,
            mn.overrideDefaults = function(e) {
                var t, n = function(r, o) {
                    return t = t || e(),
                    0 === arguments.length && (r = t.element),
                    o || (o = t.context),
                    new n.fn.init(r, o)
                };
                return mn.extend(n, this),
                n
            };
            var Cn = function(e, t, n) {
                gn(n,
                function(n, r) {
                    e[n] = e[n] || {},
                    e[n][t] = r
                })
            };
            Se.ie && Se.ie < 8 && (Cn(dn, "get", {
                maxlength: function(e) {
                    var t = e.maxLength;
                    if (2147483647 !== t) return t
                },
                size: function(e) {
                    var t = e.size;
                    if (20 !== t) return t
                },
                class: function(e) {
                    return e.className
                },
                style: function(e) {
                    var t = e.style.cssText;
                    if (0 !== t.length) return t
                }
            }), Cn(dn, "set", {
                class: function(e, t) {
                    e.className = t
                },
                style: function(e, t) {
                    e.style.cssText = t
                }
            })),
            Se.ie && Se.ie < 9 && (cn.float = "styleFloat", Cn(fn, "set", {
                opacity: function(e, t) {
                    var n = e.style;
                    null === t || "" === t ? n.removeAttribute("filter") : (n.zoom = 1, n.filter = "alpha(opacity=" + 100 * t + ")")
                }
            })),
            mn.attrHooks = dn,
            mn.cssHooks = fn;
            var _n = function(e) {
                var t, n = !1;
                return function() {
                    for (var r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
                    return n || (n = !0, t = e.apply(null, r)),
                    t
                }
            },
            kn = function() {
                return En(0, 0)
            },
            En = function(e, t) {
                return {
                    major: e,
                    minor: t
                }
            },
            Tn = {
                nu: En,
                detect: function(e, t) {
                    var n = String(t).toLowerCase();
                    return 0 === e.length ? kn() : function(e, t) {
                        var n = function(e, t) {
                            for (var n = 0; n < e.length; n++) {
                                var r = e[n];
                                if (r.test(t)) return r
                            }
                        } (e, t);
                        if (!n) return {
                            major: 0,
                            minor: 0
                        };
                        var r = function(e) {
                            return Number(t.replace(n, "$" + e))
                        };
                        return En(r(1), r(2))
                    } (e, n)
                },
                unknown: kn
            },
            Sn = function(e, t) {
                return function() {
                    return t === e
                }
            },
            Nn = function(e) {
                var t = e.current;
                return {
                    current: t,
                    version: e.version,
                    isEdge: Sn("Edge", t),
                    isChrome: Sn("Chrome", t),
                    isIE: Sn("IE", t),
                    isOpera: Sn("Opera", t),
                    isFirefox: Sn("Firefox", t),
                    isSafari: Sn("Safari", t)
                }
            },
            Rn = {
                unknown: function() {
                    return Nn({
                        current: void 0,
                        version: Tn.unknown()
                    })
                },
                nu: Nn,
                edge: g("Edge"),
                chrome: g("Chrome"),
                ie: g("IE"),
                opera: g("Opera"),
                firefox: g("Firefox"),
                safari: g("Safari")
            },
            An = function(e, t) {
                return function() {
                    return t === e
                }
            },
            On = function(e) {
                var t = e.current;
                return {
                    current: t,
                    version: e.version,
                    isWindows: An("Windows", t),
                    isiOS: An("iOS", t),
                    isAndroid: An("Android", t),
                    isOSX: An("OSX", t),
                    isLinux: An("Linux", t),
                    isSolaris: An("Solaris", t),
                    isFreeBSD: An("FreeBSD", t)
                }
            },
            Dn = {
                unknown: function() {
                    return On({
                        current: void 0,
                        version: Tn.unknown()
                    })
                },
                nu: On,
                windows: g("Windows"),
                ios: g("iOS"),
                android: g("Android"),
                linux: g("Linux"),
                osx: g("OSX"),
                solaris: g("Solaris"),
                freebsd: g("FreeBSD")
            },
            Pn = function(e, t) {
                var n = String(t).toLowerCase();
                return z(e,
                function(e) {
                    return e.search(n)
                })
            },
            Bn = function(e, t) {
                return Pn(e, t).map(function(e) {
                    var n = Tn.detect(e.versionRegexes, t);
                    return {
                        current: e.name,
                        version: n
                    }
                })
            },
            Mn = function(e, t) {
                return Pn(e, t).map(function(e) {
                    var n = Tn.detect(e.versionRegexes, t);
                    return {
                        current: e.name,
                        version: n
                    }
                })
            },
            In = function(e, t) {
                return - 1 !== e.indexOf(t)
            },
            Ln = function(e) {
                return e.replace(/^\s+|\s+$/g, "")
            },
            Fn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
            Wn = function(e) {
                return function(t) {
                    return In(t, e)
                }
            },
            Hn = [{
                name: "Edge",
                versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
                search: function(e) {
                    return In(e, "edge/") && In(e, "chrome") && In(e, "safari") && In(e, "applewebkit")
                }
            },
            {
                name: "Chrome",
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Fn],
                search: function(e) {
                    return In(e, "chrome") && !In(e, "chromeframe")
                }
            },
            {
                name: "IE",
                versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
                search: function(e) {
                    return In(e, "msie") || In(e, "trident")
                }
            },
            {
                name: "Opera",
                versionRegexes: [Fn, /.*?opera\/([0-9]+)\.([0-9]+).*/],
                search: Wn("opera")
            },
            {
                name: "Firefox",
                versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
                search: Wn("firefox")
            },
            {
                name: "Safari",
                versionRegexes: [Fn, /.*?cpu os ([0-9]+)_([0-9]+).*/],
                search: function(e) {
                    return (In(e, "safari") || In(e, "mobile/")) && In(e, "applewebkit")
                }
            }],
            jn = [{
                name: "Windows",
                search: Wn("win"),
                versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
                name: "iOS",
                search: function(e) {
                    return In(e, "iphone") || In(e, "ipad")
                },
                versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
            },
            {
                name: "Android",
                search: Wn("android"),
                versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
                name: "OSX",
                search: Wn("os x"),
                versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
            },
            {
                name: "Linux",
                search: Wn("linux"),
                versionRegexes: []
            },
            {
                name: "Solaris",
                search: Wn("sunos"),
                versionRegexes: []
            },
            {
                name: "FreeBSD",
                search: Wn("freebsd"),
                versionRegexes: []
            }],
            Un = {
                browsers: g(Hn),
                oses: g(jn)
            },
            zn = function(e) {
                var t = Un.browsers(),
                n = Un.oses(),
                r = Bn(t, e).fold(Rn.unknown, Rn.nu),
                o = Mn(n, e).fold(Dn.unknown, Dn.nu),
                i = function(e, t, n) {
                    var r = e.isiOS() && !0 === /ipad/i.test(n),
                    o = e.isiOS() && !r,
                    i = e.isAndroid() && 3 === e.version.major,
                    a = e.isAndroid() && 4 === e.version.major,
                    s = r || i || a && !0 === /mobile/i.test(n),
                    l = e.isiOS() || e.isAndroid(),
                    u = l && !s,
                    c = t.isSafari() && e.isiOS() && !1 === /safari/i.test(n);
                    return {
                        isiPad: g(r),
                        isiPhone: g(o),
                        isTablet: g(s),
                        isPhone: g(u),
                        isTouch: g(l),
                        isAndroid: e.isAndroid,
                        isiOS: e.isiOS,
                        isWebView: g(c)
                    }
                } (o, r, e);
                return {
                    browser: r,
                    os: o,
                    deviceType: i
                }
            },
            Vn = {
                detect: _n(function() {
                    var e = navigator.userAgent;
                    return zn(e)
                })
            },
            $n = function(e) {
                if (null == e) throw new Error("Node cannot be null or undefined");
                return {
                    dom: g(e)
                }
            },
            qn = {
                fromHtml: function(e, t) {
                    var n = (t || document).createElement("div");
                    if (n.innerHTML = e, !n.hasChildNodes() || n.childNodes.length > 1) throw "HTML must have a single root node";
                    return $n(n.childNodes[0])
                },
                fromTag: function(e, t) {
                    var n = (t || document).createElement(e);
                    return $n(n)
                },
                fromText: function(e, t) {
                    var n = (t || document).createTextNode(e);
                    return $n(n)
                },
                fromDom: $n,
                fromPoint: function(e, t, n) {
                    var r = e.dom();
                    return T.from(r.elementFromPoint(t, n)).map($n)
                }
            },
            Kn = {
                ATTRIBUTE: Node.ATTRIBUTE_NODE,
                CDATA_SECTION: Node.CDATA_SECTION_NODE,
                COMMENT: Node.COMMENT_NODE,
                DOCUMENT: Node.DOCUMENT_NODE,
                DOCUMENT_TYPE: Node.DOCUMENT_TYPE_NODE,
                DOCUMENT_FRAGMENT: Node.DOCUMENT_FRAGMENT_NODE,
                ELEMENT: Node.ELEMENT_NODE,
                TEXT: Node.TEXT_NODE,
                PROCESSING_INSTRUCTION: Node.PROCESSING_INSTRUCTION_NODE,
                ENTITY_REFERENCE: Node.ENTITY_REFERENCE_NODE,
                ENTITY: Node.ENTITY_NODE,
                NOTATION: Node.NOTATION_NODE
            },
            Yn = function(e) {
                return e.dom().nodeName.toLowerCase()
            },
            Xn = function(e) {
                return e.dom().nodeType
            },
            Gn = function(e) {
                return function(t) {
                    return Xn(t) === e
                }
            },
            Jn = Gn(Kn.ELEMENT),
            Qn = Gn(Kn.TEXT),
            Zn = Gn(Kn.DOCUMENT),
            er = {
                name: Yn,
                type: Xn,
                value: function(e) {
                    return e.dom().nodeValue
                },
                isElement: Jn,
                isText: Qn,
                isDocument: Zn,
                isComment: function(e) {
                    return Xn(e) === Kn.COMMENT || "#comment" === Yn(e)
                }
            },
            tr = Object.keys,
            nr = function(e, t) {
                for (var n = tr(e), r = 0, o = n.length; r < o; r++) {
                    var i = n[r];
                    t(e[i], i, e)
                }
            },
            rr = function(e, t) {
                return or(e,
                function(e, n, r) {
                    return {
                        k: n,
                        v: t(e, n, r)
                    }
                })
            },
            or = function(e, t) {
                var n = {};
                return nr(e,
                function(r, o) {
                    var i = t(r, o, e);
                    n[i.k] = i.v
                }),
                n
            },
            ir = function(e, t, n) {
                if (! (N(n) || D(n) || B(n))) throw new Error("Attribute value was not simple");
                e.setAttribute(t, n + "")
            },
            ar = function(e, t, n) {
                ir(e.dom(), t, n)
            },
            sr = function(e, t) {
                var n = e.dom().getAttribute(t);
                return null === n ? void 0 : n
            },
            lr = function(e, t) {
                var n = e.dom();
                return ! (!n || !n.hasAttribute) && n.hasAttribute(t)
            },
            ur = {
                clone: function(e) {
                    return U(e.dom().attributes,
                    function(e, t) {
                        return e[t.name] = t.value,
                        e
                    },
                    {})
                },
                set: ar,
                setAll: function(e, t) {
                    var n = e.dom();
                    nr(t,
                    function(e, t) {
                        ir(n, t, e)
                    })
                },
                get: sr,
                has: lr,
                remove: function(e, t) {
                    e.dom().removeAttribute(t)
                },
                hasNone: function(e) {
                    var t = e.dom().attributes;
                    return null == t || 0 === t.length
                },
                transfer: function(e, t, n) {
                    er.isElement(e) && er.isElement(t) && W(n,
                    function(n) { !
                        function(e, t, n) {
                            lr(e, n) && !lr(t, n) && ar(t, n, sr(e, n))
                        } (e, t, n)
                    })
                }
            },
            cr = _n(function() {
                return dr(qn.fromDom(document))
            }),
            dr = function(e) {
                var t = e.dom().body;
                if (null == t) throw "Body is not available yet";
                return qn.fromDom(t)
            },
            fr = {
                body: cr,
                getBody: dr,
                inBody: function(e) {
                    var t = er.isText(e) ? e.dom().parentNode: e.dom();
                    return null != t && t.ownerDocument.body.contains(t)
                }
            },
            mr = function(e) {
                return void 0 !== e.style
            },
            pr = function(e, t, n) {
                if (!N(n)) throw new Error("CSS value must be a string: " + n);
                mr(e) && e.style.setProperty(t, n)
            },
            hr = function(e, t) {
                return mr(e) ? e.style.getPropertyValue(t) : ""
            },
            gr = function(e, t) {
                var n = e.dom(),
                r = hr(n, t);
                return T.from(r).filter(function(e) {
                    return e.length > 0
                })
            },
            vr = function(e, t) {
                var n = e.dom();
                nr(t,
                function(e, t) {
                    pr(n, t, e)
                })
            },
            br = function(e, t) {
                var n = e.dom(),
                r = window.getComputedStyle(n).getPropertyValue(t),
                o = "" !== r || fr.inBody(e) ? r: hr(n, t);
                return null === o ? void 0 : o
            },
            yr = gr,
            wr = function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                return function() {
                    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    if (e.length !== t.length) throw new Error('Wrong number of arguments to struct. Expected "[' + e.length + ']", got ' + t.length + " arguments");
                    var r = {};
                    return W(e,
                    function(e, n) {
                        r[e] = g(t[n])
                    }),
                    r
                }
            },
            xr = function(e, t) {
                var n = [],
                r = function(e) {
                    return n.push(e),
                    t(e)
                },
                o = t(e);
                do {
                    o = o.bind(r)
                } while ( o . isSome ());
                return n
            },
            Cr = function() {
                return ne.getOrDie("Node")
            },
            _r = function(e, t, n) {
                return 0 != (e.compareDocumentPosition(t) & n)
            },
            kr = function(e, t) {
                return _r(e, t, Cr().DOCUMENT_POSITION_CONTAINED_BY)
            },
            Er = Kn.ELEMENT,
            Tr = Kn.DOCUMENT,
            Sr = function(e) {
                return e.nodeType !== Er && e.nodeType !== Tr || 0 === e.childElementCount
            },
            Nr = {
                all: function(e, t) {
                    var n = void 0 === t ? document: t.dom();
                    return Sr(n) ? [] : F(n.querySelectorAll(e), qn.fromDom)
                },
                is: function(e, t) {
                    var n = e.dom();
                    if (n.nodeType !== Er) return ! 1;
                    if (void 0 !== n.matches) return n.matches(t);
                    if (void 0 !== n.msMatchesSelector) return n.msMatchesSelector(t);
                    if (void 0 !== n.webkitMatchesSelector) return n.webkitMatchesSelector(t);
                    if (void 0 !== n.mozMatchesSelector) return n.mozMatchesSelector(t);
                    throw new Error("Browser lacks native selectors")
                },
                one: function(e, t) {
                    var n = void 0 === t ? document: t.dom();
                    return Sr(n) ? T.none() : T.from(n.querySelector(e)).map(qn.fromDom)
                }
            },
            Rr = function(e, t) {
                return e.dom() === t.dom()
            },
            Ar = Vn.detect().browser.isIE() ?
            function(e, t) {
                return kr(e.dom(), t.dom())
            }: function(e, t) {
                var n = e.dom(),
                r = t.dom();
                return n !== r && n.contains(r)
            },
            Or = {
                eq: Rr,
                isEqualNode: function(e, t) {
                    return e.dom().isEqualNode(t.dom())
                },
                member: function(e, t) {
                    return L(t, b(Rr, e))
                },
                contains: Ar,
                is: Nr.is
            },
            Dr = function(e) {
                var t = e.dom();
                return T.from(t.parentNode).map(qn.fromDom)
            },
            Pr = function(e) {
                var t = e.dom();
                return T.from(t.previousSibling).map(qn.fromDom)
            },
            Br = function(e) {
                var t = e.dom();
                return T.from(t.nextSibling).map(qn.fromDom)
            },
            Mr = function(e) {
                var t = e.dom();
                return F(t.childNodes, qn.fromDom)
            },
            Ir = function(e, t) {
                var n = e.dom().childNodes;
                return T.from(n[t]).map(qn.fromDom)
            },
            Lr = wr("element", "offset"),
            Fr = {
                owner: function(e) {
                    return qn.fromDom(e.dom().ownerDocument)
                },
                defaultView: function(e) {
                    var t = e.dom().ownerDocument.defaultView;
                    return qn.fromDom(t)
                },
                documentElement: function(e) {
                    return qn.fromDom(e.dom().ownerDocument.documentElement)
                },
                parent: Dr,
                findIndex: function(e) {
                    return Dr(e).bind(function(t) {
                        var n = Mr(t);
                        return V(n,
                        function(t) {
                            return Or.eq(e, t)
                        })
                    })
                },
                parents: function(e, t) {
                    for (var n = P(t) ? t: g(!1), r = e.dom(), o = []; null !== r.parentNode && void 0 !== r.parentNode;) {
                        var i = r.parentNode,
                        a = qn.fromDom(i);
                        if (o.push(a), !0 === n(a)) break;
                        r = i
                    }
                    return o
                },
                siblings: function(e) {
                    return Dr(e).map(Mr).map(function(t) {
                        return j(t,
                        function(t) {
                            return ! Or.eq(e, t)
                        })
                    }).getOr([])
                },
                prevSibling: Pr,
                offsetParent: function(e) {
                    var t = e.dom();
                    return T.from(t.offsetParent).map(qn.fromDom)
                },
                prevSiblings: function(e) {
                    return t = xr(e, Pr),
                    (n = X.call(t, 0)).reverse(),
                    n;
                    var t, n
                }, nextSibling: Br,
                nextSiblings: function(e) {
                    return xr(e, Br)
                },
                children: Mr,
                child: Ir,
                firstChild: function(e) {
                    return Ir(e, 0)
                },
                lastChild: function(e) {
                    return Ir(e, e.dom().childNodes.length - 1)
                },
                childNodesCount: function(e) {
                    return e.dom().childNodes.length
                },
                hasChildNodes: function(e) {
                    return e.dom().hasChildNodes()
                },
                leaf: function(e, t) {
                    var n = Mr(e);
                    return n.length > 0 && t < n.length ? Lr(n[t], 0) : Lr(e, t)
                }
            },
            Wr = Vn.detect().browser,
            Hr = function(e) {
                return z(e, er.isElement)
            },
            jr = {
                getPos: function(e, t, n) {
                    var r, o, i = 0,
                    a = 0,
                    s = e.ownerDocument;
                    if (n = n || e, t) {
                        if (n === e && t.getBoundingClientRect && "static" === br(qn.fromDom(e), "position")) return {
                            x: i = (o = t.getBoundingClientRect()).left + (s.documentElement.scrollLeft || e.scrollLeft) - s.documentElement.clientLeft,
                            y: a = o.top + (s.documentElement.scrollTop || e.scrollTop) - s.documentElement.clientTop
                        };
                        for (r = t; r && r !== n && r.nodeType;) i += r.offsetLeft || 0,
                        a += r.offsetTop || 0,
                        r = r.offsetParent;
                        for (r = t.parentNode; r && r !== n && r.nodeType;) i -= r.scrollLeft || 0,
                        a -= r.scrollTop || 0,
                        r = r.parentNode;
                        a +=
                        function(e) {
                            return Wr.isFirefox() && "table" === er.name(e) ? Hr(Fr.children(e)).filter(function(e) {
                                return "caption" === er.name(e)
                            }).bind(function(e) {
                                return Hr(Fr.nextSiblings(e)).map(function(t) {
                                    var n = t.dom().offsetTop,
                                    r = e.dom().offsetTop,
                                    o = e.dom().offsetHeight;
                                    return n <= r ? -o: 0
                                })
                            }).getOr(0) : 0
                        } (qn.fromDom(t))
                    }
                    return {
                        x: i,
                        y: a
                    }
                }
            },
            Ur = function(e) {
                var t = T.none(),
                n = [],
                r = function(e) {
                    o() ? a(e) : n.push(e)
                },
                o = function() {
                    return t.isSome()
                },
                i = function(e) {
                    W(e, a)
                },
                a = function(e) {
                    t.each(function(t) {
                        setTimeout(function() {
                            e(t)
                        },
                        0)
                    })
                };
                return e(function(e) {
                    t = T.some(e),
                    i(n),
                    n = []
                }),
                {
                    get: r,
                    map: function(e) {
                        return Ur(function(t) {
                            r(function(n) {
                                t(e(n))
                            })
                        })
                    },
                    isReady: o
                }
            },
            zr = {
                nu: Ur,
                pure: function(e) {
                    return Ur(function(t) {
                        t(e)
                    })
                }
            },
            Vr = function(e) {
                var t = function(t) {
                    var n;
                    e((n = t,
                    function() {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var r = this;
                        setTimeout(function() {
                            n.apply(r, e)
                        },
                        0)
                    }))
                },
                n = function() {
                    return zr.nu(t)
                };
                return {
                    map: function(e) {
                        return Vr(function(n) {
                            t(function(t) {
                                var r = e(t);
                                n(r)
                            })
                        })
                    },
                    bind: function(e) {
                        return Vr(function(n) {
                            t(function(t) {
                                e(t).get(n)
                            })
                        })
                    },
                    anonBind: function(e) {
                        return Vr(function(n) {
                            t(function(t) {
                                e.get(n)
                            })
                        })
                    },
                    toLazy: n,
                    toCached: function() {
                        var e = null;
                        return Vr(function(t) {
                            null === e && (e = n()),
                            e.get(t)
                        })
                    },
                    get: t
                }
            },
            $r = {
                nu: Vr,
                pure: function(e) {
                    return Vr(function(t) {
                        t(e)
                    })
                }
            },
            qr = function(e, t) {
                return t(function(t) {
                    var n = [],
                    r = 0;
                    0 === e.length ? t([]) : W(e,
                    function(o, i) {
                        o.get(function(o) {
                            return function(i) {
                                n[o] = i,
                                ++r >= e.length && t(n)
                            }
                        } (i))
                    })
                })
            },
            Kr = function(e) {
                return qr(e, $r.nu)
            },
            Yr = function(e) {
                return {
                    is: function(t) {
                        return e === t
                    },
                    isValue: w,
                    isError: y,
                    getOr: g(e),
                    getOrThunk: g(e),
                    getOrDie: g(e),
                    or: function(t) {
                        return Yr(e)
                    },
                    orThunk: function(t) {
                        return Yr(e)
                    },
                    fold: function(t, n) {
                        return n(e)
                    },
                    map: function(t) {
                        return Yr(t(e))
                    },
                    each: function(t) {
                        t(e)
                    },
                    bind: function(t) {
                        return t(e)
                    },
                    exists: function(t) {
                        return t(e)
                    },
                    forall: function(t) {
                        return t(e)
                    },
                    toOption: function() {
                        return T.some(e)
                    }
                }
            },
            Xr = function(e) {
                return {
                    is: y,
                    isValue: y,
                    isError: w,
                    getOr: v,
                    getOrThunk: function(e) {
                        return e()
                    },
                    getOrDie: function() {
                        return (t = String(e),
                        function() {
                            throw new Error(t)
                        })();
                        var t
                    }, or: function(e) {
                        return e
                    },
                    orThunk: function(e) {
                        return e()
                    },
                    fold: function(t, n) {
                        return t(e)
                    },
                    map: function(t) {
                        return Xr(e)
                    },
                    each: p,
                    bind: function(t) {
                        return Xr(e)
                    },
                    exists: y,
                    forall: w,
                    toOption: T.none
                }
            },
            Gr = {
                value: Yr,
                error: Xr
            };
            function Jr(e, t) {
                var n, r = 0,
                o = {};
                n = (t = t || {}).maxLoadTime || 5e3;
                var i = function(t, i, a) {
                    var s, l, u, c = function() {
                        for (var e = u.passed,
                        t = e.length; t--;) e[t]();
                        u.status = 2,
                        u.passed = [],
                        u.failed = []
                    },
                    d = function() {
                        for (var e = u.failed,
                        t = e.length; t--;) e[t]();
                        u.status = 3,
                        u.passed = [],
                        u.failed = []
                    },
                    f = function(e, t) {
                        e() || ((new Date).getTime() - l < n ? De.setTimeout(t) : d())
                    },
                    m = function() {
                        f(function() {
                            return e.styleSheets.length,
                            c(),
                            !0
                        },
                        m)
                    };
                    if (t = Kt._addCacheSuffix(t), o[t] ? u = o[t] : (u = {
                        passed: [],
                        failed: []
                    },
                    o[t] = u), i && u.passed.push(i), a && u.failed.push(a), 1 !== u.status) if (2 !== u.status) if (3 !== u.status) {
                        if (u.status = 1, (s = e.createElement("link")).rel = "stylesheet", s.type = "text/css", s.id = "u" + r++, s.async = !1, s.defer = !1, s.crossOrigin = "anonymous", l = (new Date).getTime(), "onload" in s && !((p = navigator.userAgent.match(/WebKit\/(\d*)/)) && parseInt(p[1], 10) < 536)) s.onload = m,
                        s.onerror = d;
                        else {
                            if (navigator.userAgent.indexOf("Firefox") > 0) return;
                            m()
                        }
                        var p, h;
                        h = s,
                        e.getElementsByTagName("head")[0].appendChild(h),
                        m()
                    } else d();
                    else c()
                },
                a = function(e) {
                    return $r.nu(function(t) {
                        i(e, h(t, g(Gr.value(e))), h(t, g(Gr.error(e))))
                    })
                },
                s = function(e) {
                    return e.fold(v, v)
                };
                return {
                    load: i,
                    loadAll: function(e, t, n) {
                        Kr(F(e, a)).get(function(e) {
                            var r = H(e,
                            function(e) {
                                return e.isValue()
                            });
                            r.fail.length > 0 ? n(r.fail.map(s)) : t(r.pass.map(s))
                        })
                    }
                }
            }
            function Qr(e, t) {
                var n = e,
                r = function(e, n, r, o) {
                    var i, a;
                    if (e) {
                        if (!o && e[n]) return e[n];
                        if (e !== t) {
                            if (i = e[r]) return i;
                            for (a = e.parentNode; a && a !== t; a = a.parentNode) if (i = a[r]) return i
                        }
                    }
                };
                this.current = function() {
                    return n
                },
                this.next = function(e) {
                    return n = r(n, "firstChild", "nextSibling", e)
                },
                this.prev = function(e) {
                    return n = r(n, "lastChild", "previousSibling", e)
                },
                this.prev2 = function(e) {
                    return n = function(e, n, r, o) {
                        var i, a, s;
                        if (e) {
                            if (i = e[r], t && i === t) return;
                            if (i) {
                                if (!o) for (s = i[n]; s; s = s[n]) if (!s[n]) return s;
                                return i
                            }
                            if ((a = e.parentNode) && a !== t) return a
                        }
                    } (n, "lastChild", "previousSibling", e)
                }
            }
            var Zr, eo, to, no = function(e) {
                var t;
                return function(n) {
                    return (t = t ||
                    function(e, t) {
                        for (var n = {},
                        r = 0,
                        o = e.length; r < o; r++) {
                            var i = e[r];
                            n[String(i)] = t(i, r)
                        }
                        return n
                    } (e, g(!0))).hasOwnProperty(er.name(n))
                }
            },
            ro = no(["h1", "h2", "h3", "h4", "h5", "h6"]),
            oo = no(["article", "aside", "details", "div", "dt", "figcaption", "footer", "form", "fieldset", "header", "hgroup", "html", "main", "nav", "section", "summary", "body", "p", "dl", "multicol", "dd", "figure", "address", "center", "blockquote", "h1", "h2", "h3", "h4", "h5", "h6", "listing", "xmp", "pre", "plaintext", "menu", "dir", "ul", "ol", "li", "hr", "table", "tbody", "thead", "tfoot", "th", "tr", "td", "caption"]),
            io = function(e) {
                return er.isElement(e) && !oo(e)
            },
            ao = function(e) {
                return er.isElement(e) && "br" === er.name(e)
            },
            so = no(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"]),
            lo = no(["ul", "ol", "dl"]),
            uo = no(["li", "dd", "dt"]),
            co = no(["area", "base", "basefont", "br", "col", "frame", "hr", "img", "input", "isindex", "link", "meta", "param", "embed", "source", "wbr", "track"]),
            fo = no(["thead", "tbody", "tfoot"]),
            mo = no(["td", "th"]),
            po = no(["pre", "script", "textarea", "style"]),
            ho = function(e) {
                return function(t) {
                    return !! t && t.nodeType === e
                }
            },
            go = ho(1),
            vo = function(e) {
                var t = e.toLowerCase().split(" ");
                return function(e) {
                    var n, r;
                    if (e && e.nodeType) for (r = e.nodeName.toLowerCase(), n = 0; n < t.length; n++) if (r === t[n]) return ! 0;
                    return ! 1
                }
            },
            bo = function(e) {
                return function(t) {
                    if (go(t)) {
                        if (t.contentEditable === e) return ! 0;
                        if (t.getAttribute("data-mce-contenteditable") === e) return ! 0
                    }
                    return ! 1
                }
            },
            yo = ho(3),
            wo = ho(8),
            xo = ho(9),
            Co = vo("br"),
            _o = bo("true"),
            ko = bo("false"),
            Eo = {
                isText: yo,
                isElement: go,
                isComment: wo,
                isDocument: xo,
                isBr: Co,
                isContentEditableTrue: _o,
                isContentEditableFalse: ko,
                matchNodeNames: vo,
                hasPropValue: function(e, t) {
                    return function(n) {
                        return go(n) && n[e] === t
                    }
                },
                hasAttribute: function(e, t) {
                    return function(t) {
                        return go(t) && t.hasAttribute(e)
                    }
                },
                hasAttributeValue: function(e, t) {
                    return function(n) {
                        return go(n) && n.getAttribute(e) === t
                    }
                },
                matchStyleValues: function(e, t) {
                    var n = t.toLowerCase().split(" ");
                    return function(t) {
                        var r;
                        if (go(t)) for (r = 0; r < n.length; r++) {
                            var o = t.ownerDocument.defaultView.getComputedStyle(t, null);
                            if ((o ? o.getPropertyValue(e) : null) === n[r]) return ! 0
                        }
                        return ! 1
                    }
                },
                isBogus: function(e) {
                    return go(e) && e.hasAttribute("data-mce-bogus")
                },
                isBogusAll: function(e) {
                    return go(e) && "all" === e.getAttribute("data-mce-bogus")
                },
                isTable: function(e) {
                    return go(e) && "TABLE" === e.tagName
                }
            },
            To = function(e) {
                return e && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type")
            },
            So = function(e, t) {
                var n, r = t.childNodes;
                if (!Eo.isElement(t) || !To(t)) {
                    for (n = r.length - 1; n >= 0; n--) So(e, r[n]);
                    if (!1 === Eo.isDocument(t)) {
                        if (Eo.isText(t) && t.nodeValue.length > 0) {
                            var o = Kt.trim(t.nodeValue).length;
                            if (e.isBlock(t.parentNode) || o > 0) return;
                            if (0 === o &&
                            function(e) {
                                var t = e.previousSibling && "SPAN" === e.previousSibling.nodeName,
                                n = e.nextSibling && "SPAN" === e.nextSibling.nodeName;
                                return t && n
                            } (t)) return
                        } else if (Eo.isElement(t) && (1 === (r = t.childNodes).length && To(r[0]) && t.parentNode.insertBefore(r[0], t), r.length || co(qn.fromDom(t)))) return;
                        e.remove(t)
                    }
                    return t
                }
            },
            No = {
                trimNode: So
            },
            Ro = Kt.makeMap,
            Ao = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
            Oo = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
            Do = /[<>&\"\']/g,
            Po = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
            Bo = {
                128 : "€",
                130 : "‚",
                131 : "ƒ",
                132 : "„",
                133 : "…",
                134 : "†",
                135 : "‡",
                136 : "ˆ",
                137 : "‰",
                138 : "Š",
                139 : "‹",
                140 : "Œ",
                142 : "Ž",
                145 : "‘",
                146 : "’",
                147 : "“",
                148 : "”",
                149 : "•",
                150 : "–",
                151 : "—",
                152 : "˜",
                153 : "™",
                154 : "š",
                155 : "›",
                156 : "œ",
                158 : "ž",
                159 : "Ÿ"
            };
            eo = {
                '"': "&quot;",
                "'": "&#39;",
                "<": "&lt;",
                ">": "&gt;",
                "&": "&amp;",
                "`": "&#96;"
            },
            to = {
                "&lt;": "<",
                "&gt;": ">",
                "&amp;": "&",
                "&quot;": '"',
                "&apos;": "'"
            };
            var Mo = function(e, t) {
                var n, r, o, i = {};
                if (e) {
                    for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2) r = String.fromCharCode(parseInt(e[n], t)),
                    eo[r] || (o = "&" + e[n + 1] + ";", i[r] = o, i[o] = r);
                    return i
                }
            };
            Zr = Mo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32);
            var Io = function(e, t) {
                return e.replace(t ? Ao: Oo,
                function(e) {
                    return eo[e] || e
                })
            },
            Lo = function(e, t) {
                return e.replace(t ? Ao: Oo,
                function(e) {
                    return e.length > 1 ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";": eo[e] || "&#" + e.charCodeAt(0) + ";"
                })
            },
            Fo = function(e, t, n) {
                return n = n || Zr,
                e.replace(t ? Ao: Oo,
                function(e) {
                    return eo[e] || n[e] || e
                })
            },
            Wo = {
                encodeRaw: Io,
                encodeAllRaw: function(e) {
                    return ("" + e).replace(Do,
                    function(e) {
                        return eo[e] || e
                    })
                },
                encodeNumeric: Lo,
                encodeNamed: Fo,
                getEncodeFunc: function(e, t) {
                    var n = Mo(t) || Zr,
                    r = Ro(e.replace(/\+/g, ","));
                    return r.named && r.numeric ?
                    function(e, t) {
                        return e.replace(t ? Ao: Oo,
                        function(e) {
                            return void 0 !== eo[e] ? eo[e] : void 0 !== n[e] ? n[e] : e.length > 1 ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";": "&#" + e.charCodeAt(0) + ";"
                        })
                    }: r.named ? t ?
                    function(e, t) {
                        return Fo(e, t, n)
                    }: Fo: r.numeric ? Lo: Io
                },
                decode: function(e) {
                    return e.replace(Po,
                    function(e, t) {
                        return t ? (t = "x" === t.charAt(0).toLowerCase() ? parseInt(t.substr(1), 16) : parseInt(t, 10)) > 65535 ? (t -= 65536, String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t))) : Bo[t] || String.fromCharCode(t) : to[e] || Zr[e] || (n = e, (r = qn.fromTag("div").dom()).innerHTML = n, r.textContent || r.innerText || n);
                        var n, r
                    })
                }
            }, Ho = {},
            jo = {},
            Uo = Kt.makeMap,
            zo = Kt.each,
            Vo = Kt.extend,
            $o = Kt.explode,
            qo = Kt.inArray,
            Ko = function(e, t) {
                return (e = Kt.trim(e)) ? e.split(t || " ") : []
            },
            Yo = function(e) {
                var t, n, r, o, i, a, s = {},
                l = function(e, n, r) {
                    var o, i, a, l = function(e, t) {
                        var n, r, o = {};
                        for (n = 0, r = e.length; n < r; n++) o[e[n]] = t || {};
                        return o
                    };
                    for (n = n || "", "string" == typeof(r = r || []) && (r = Ko(r)), o = (e = Ko(e)).length; o--;) a = {
                        attributes: l(i = Ko([t, n].join(" "))),
                        attributesOrder: i,
                        children: l(r, jo)
                    },
                    s[e[o]] = a
                },
                u = function(e, t) {
                    var n, r, o, i;
                    for (n = (e = Ko(e)).length, t = Ko(t); n--;) for (r = s[e[n]], o = 0, i = t.length; o < i; o++) r.attributes[t[o]] = {},
                    r.attributesOrder.push(t[o])
                };
                return Ho[e] ? Ho[e] : (t = "id accesskey class dir lang style tabindex title role", n = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul", r = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment", "html4" !== e && (t += " contenteditable contextmenu draggable dropzone hidden spellcheck translate", n += " article aside details dialog figure main header footer hgroup section nav", r += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"), "html5-strict" !== e && (t += " xml:lang", r = [r, a = "acronym applet basefont big font strike tt"].join(" "), zo(Ko(a),
                function(e) {
                    l(e, "", r)
                }), n = [n, i = "center dir isindex noframes"].join(" "), o = [n, r].join(" "), zo(Ko(i),
                function(e) {
                    l(e, "", o)
                })), o = o || [n, r].join(" "), l("html", "manifest", "head body"), l("head", "", "base command link meta noscript script style title"), l("title hr noscript br"), l("base", "href target"), l("link", "href rel media hreflang type sizes hreflang"), l("meta", "name http-equiv content charset"), l("style", "media type scoped"), l("script", "src async defer type charset"), l("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", o), l("address dt dd div caption", "", o), l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", r), l("blockquote", "cite", o), l("ol", "reversed start type", "li"), l("ul", "", "li"), l("li", "value", o), l("dl", "", "dt dd"), l("a", "href target rel media hreflang type", r), l("q", "cite", r), l("ins del", "cite datetime", o), l("img", "src sizes srcset alt usemap ismap width height"), l("iframe", "src name width height", o), l("embed", "src type width height"), l("object", "data type typemustmatch name usemap form width height", [o, "param"].join(" ")), l("param", "name value"), l("map", "name", [o, "area"].join(" ")), l("area", "alt coords shape href target rel media hreflang type"), l("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === e ? " col": "")), l("colgroup", "span", "col"), l("col", "span"), l("tbody thead tfoot", "", "tr"), l("tr", "", "td th"), l("td", "colspan rowspan headers", o), l("th", "colspan rowspan headers scope abbr", o), l("form", "accept-charset action autocomplete enctype method name novalidate target", o), l("fieldset", "disabled form name", [o, "legend"].join(" ")), l("label", "form for", r), l("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), l("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === e ? o: r), l("select", "disabled form multiple name required size", "option optgroup"), l("optgroup", "disabled label", "option"), l("option", "disabled label selected value"), l("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), l("menu", "type label", [o, "li"].join(" ")), l("noscript", "", o), "html4" !== e && (l("wbr"), l("ruby", "", [r, "rt rp"].join(" ")), l("figcaption", "", o), l("mark rt rp summary bdi", "", r), l("canvas", "width height", o), l("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [o, "track source"].join(" ")), l("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [o, "track source"].join(" ")), l("picture", "", "img source"), l("source", "src srcset type media sizes"), l("track", "kind src srclang label default"), l("datalist", "", [r, "option"].join(" ")), l("article section nav aside main header footer", "", o), l("hgroup", "", "h1 h2 h3 h4 h5 h6"), l("figure", "", [o, "figcaption"].join(" ")), l("time", "datetime", r), l("dialog", "open", o), l("command", "type label icon disabled checked radiogroup command"), l("output", "for form name", r), l("progress", "value max", r), l("meter", "value min max low high optimum", r), l("details", "open", [o, "summary"].join(" ")), l("keygen", "autofocus challenge disabled form keytype name")), "html5-strict" !== e && (u("script", "language xml:space"), u("style", "xml:space"), u("object", "declare classid code codebase codetype archive standby align border hspace vspace"), u("embed", "align name hspace vspace"), u("param", "valuetype type"), u("a", "charset name rev shape coords"), u("br", "clear"), u("applet", "codebase archive code object alt name width height align hspace vspace"), u("img", "name longdesc align border hspace vspace"), u("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), u("font basefont", "size color face"), u("input", "usemap align"), u("select", "onchange"), u("textarea"), u("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), u("ul", "type compact"), u("li", "type"), u("ol dl menu dir", "compact"), u("pre", "width xml:space"), u("hr", "align noshade size width"), u("isindex", "prompt"), u("table", "summary width frame rules cellspacing cellpadding align bgcolor"), u("col", "width align char charoff valign"), u("colgroup", "width align char charoff valign"), u("thead", "align char charoff valign"), u("tr", "align char charoff valign bgcolor"), u("th", "axis align char charoff valign nowrap bgcolor width height"), u("form", "accept"), u("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), u("tfoot", "align char charoff valign"), u("tbody", "align char charoff valign"), u("area", "nohref"), u("body", "background bgcolor text link vlink alink")), "html4" !== e && (u("input button select textarea", "autofocus"), u("input textarea", "placeholder"), u("a", "download"), u("link script img", "crossorigin"), u("iframe", "sandbox seamless allowfullscreen")), zo(Ko("a form meter progress dfn"),
                function(e) {
                    s[e] && delete s[e].children[e]
                }), delete s.caption.children.table, delete s.script, Ho[e] = s, s)
            },
            Xo = function(e, t) {
                var n;
                return e && (n = {},
                "string" == typeof e && (e = {
                    "*": e
                }), zo(e,
                function(e, r) {
                    n[r] = n[r.toUpperCase()] = "map" === t ? Uo(e, /[, ]/) : $o(e, /[, ]/)
                })),
                n
            };
            function Go(e) {
                var t, n, r, o, i, a, s, l, u, c, d, f, m, p = {},
                h = {},
                g = [],
                v = {},
                b = {},
                y = function(t, n, r) {
                    var o = e[t];
                    return o ? o = Uo(o, /[, ]/, Uo(o.toUpperCase(), /[, ]/)) : (o = Ho[t]) || (o = Uo(n, " ", Uo(n.toUpperCase(), " ")), o = Vo(o, r), Ho[t] = o),
                    o
                };
                r = Yo((e = e || {}).schema),
                !1 === e.verify_html && (e.valid_elements = "*[*]"),
                t = Xo(e.valid_styles),
                n = Xo(e.invalid_styles, "map"),
                l = Xo(e.valid_classes, "map"),
                o = y("whitespace_elements", "pre script noscript style textarea video audio iframe object code"),
                i = y("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"),
                a = y("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"),
                s = y("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),
                c = y("non_empty_elements", "td th iframe video audio object script pre code", a),
                d = y("move_caret_before_on_enter_elements", "table", c),
                f = y("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),
                u = y("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary", f),
                m = y("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp"),
                zo((e.special || "script noscript noframes noembed title style textarea xmp").split(" "),
                function(e) {
                    b[e] = new RegExp("</" + e + "[^>]*>", "gi")
                });
                var w = function(e) {
                    return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$")
                },
                x = function(e) {
                    var t, n, r, o, i, a, s, l, u, c, d, f, m, h, v, b, y, x, C, _ = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
                    k = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
                    E = /[*?+]/;
                    if (e) for (e = Ko(e, ","), p["@"] && (b = p["@"].attributes, y = p["@"].attributesOrder), t = 0, n = e.length; t < n; t++) if (i = _.exec(e[t])) {
                        if (h = i[1], u = i[2], v = i[3], l = i[5], a = {
                            attributes: f = {},
                            attributesOrder: m = []
                        },
                        "#" === h && (a.paddEmpty = !0), "-" === h && (a.removeEmpty = !0), "!" === i[4] && (a.removeEmptyAttrs = !0), b) {
                            for (x in b) f[x] = b[x];
                            m.push.apply(m, y)
                        }
                        if (l) for (r = 0, o = (l = Ko(l, "|")).length; r < o; r++) if (i = k.exec(l[r])) {
                            if (s = {},
                            d = i[1], c = i[2].replace(/[\\:]:/g, ":"), h = i[3], C = i[4], "!" === d && (a.attributesRequired = a.attributesRequired || [], a.attributesRequired.push(c), s.required = !0), "-" === d) {
                                delete f[c],
                                m.splice(qo(m, c), 1);
                                continue
                            }
                            h && ("=" === h && (a.attributesDefault = a.attributesDefault || [], a.attributesDefault.push({
                                name: c,
                                value: C
                            }), s.defaultValue = C), ":" === h && (a.attributesForced = a.attributesForced || [], a.attributesForced.push({
                                name: c,
                                value: C
                            }), s.forcedValue = C), "<" === h && (s.validValues = Uo(C, "?"))),
                            E.test(c) ? (a.attributePatterns = a.attributePatterns || [], s.pattern = w(c), a.attributePatterns.push(s)) : (f[c] || m.push(c), f[c] = s)
                        }
                        b || "@" !== u || (b = f, y = m),
                        v && (a.outputName = u, p[v] = a),
                        E.test(u) ? (a.pattern = w(u), g.push(a)) : p[u] = a
                    }
                },
                C = function(e) {
                    p = {},
                    g = [],
                    x(e),
                    zo(r,
                    function(e, t) {
                        h[t] = e.children
                    })
                },
                _ = function(e) {
                    var t = /^(~)?(.+)$/;
                    e && (Ho.text_block_elements = Ho.block_elements = null, zo(Ko(e, ","),
                    function(e) {
                        var n = t.exec(e),
                        r = "~" === n[1],
                        o = r ? "span": "div",
                        i = n[2];
                        if (h[i] = h[o], v[i] = o, r || (u[i.toUpperCase()] = {},
                        u[i] = {}), !p[i]) {
                            var a = p[o];
                            delete(a = Vo({},
                            a)).removeEmptyAttrs,
                            delete a.removeEmpty,
                            p[i] = a
                        }
                        zo(h,
                        function(e, t) {
                            e[o] && (h[t] = e = Vo({},
                            h[t]), e[i] = e[o])
                        })
                    }))
                },
                k = function(t) {
                    var n = /^([+\-]?)(\w+)\[([^\]]+)\]$/;
                    Ho[e.schema] = null,
                    t && zo(Ko(t, ","),
                    function(e) {
                        var t, r, o = n.exec(e);
                        o && (r = o[1], t = r ? h[o[2]] : h[o[2]] = {
                            "#comment": {}
                        },
                        t = h[o[2]], zo(Ko(o[3], "|"),
                        function(e) {
                            "-" === r ? delete t[e] : t[e] = {}
                        }))
                    })
                },
                E = function(e) {
                    var t, n = p[e];
                    if (n) return n;
                    for (t = g.length; t--;) if ((n = g[t]).pattern.test(e)) return n
                };
                return e.valid_elements ? C(e.valid_elements) : (zo(r,
                function(e, t) {
                    p[t] = {
                        attributes: e.attributes,
                        attributesOrder: e.attributesOrder
                    },
                    h[t] = e.children
                }), "html5" !== e.schema && zo(Ko("strong/b em/i"),
                function(e) {
                    e = Ko(e, "/"),
                    p[e[1]].outputName = e[0]
                }), zo(Ko("ol ul sub sup blockquote span font a table tbody tr strong em b i"),
                function(e) {
                    p[e] && (p[e].removeEmpty = !0)
                }), zo(Ko("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),
                function(e) {
                    p[e].paddEmpty = !0
                }), zo(Ko("span"),
                function(e) {
                    p[e].removeEmptyAttrs = !0
                })),
                _(e.custom_elements),
                k(e.valid_children),
                x(e.extended_valid_elements),
                k("+ol[ul|ol],+ul[ul|ol]"),
                zo({
                    dd: "dl",
                    dt: "dl",
                    li: "ul ol",
                    td: "tr",
                    th: "tr",
                    tr: "tbody thead tfoot",
                    tbody: "table",
                    thead: "table",
                    tfoot: "table",
                    legend: "fieldset",
                    area: "map",
                    param: "video audio object"
                },
                function(e, t) {
                    p[t] && (p[t].parentsRequired = Ko(e))
                }),
                e.invalid_elements && zo($o(e.invalid_elements),
                function(e) {
                    p[e] && delete p[e]
                }),
                E("span") || x("span[!data-mce-type|*]"),
                {
                    children: h,
                    elements: p,
                    getValidStyles: function() {
                        return t
                    },
                    getValidClasses: function() {
                        return l
                    },
                    getBlockElements: function() {
                        return u
                    },
                    getInvalidStyles: function() {
                        return n
                    },
                    getShortEndedElements: function() {
                        return a
                    },
                    getTextBlockElements: function() {
                        return f
                    },
                    getTextInlineElements: function() {
                        return m
                    },
                    getBoolAttrs: function() {
                        return s
                    },
                    getElementRule: E,
                    getSelfClosingElements: function() {
                        return i
                    },
                    getNonEmptyElements: function() {
                        return c
                    },
                    getMoveCaretBeforeOnEnterElements: function() {
                        return d
                    },
                    getWhiteSpaceElements: function() {
                        return o
                    },
                    getSpecialElements: function() {
                        return b
                    },
                    isValidChild: function(e, t) {
                        var n = h[e.toLowerCase()];
                        return ! (!n || !n[t.toLowerCase()])
                    },
                    isValid: function(e, t) {
                        var n, r, o = E(e);
                        if (o) {
                            if (!t) return ! 0;
                            if (o.attributes[t]) return ! 0;
                            if (n = o.attributePatterns) for (r = n.length; r--;) if (n[r].pattern.test(e)) return ! 0
                        }
                        return ! 1
                    },
                    getCustomElements: function() {
                        return v
                    },
                    addValidElements: x,
                    setValidElements: C,
                    addCustomElements: _,
                    addValidChildren: k
                }
            }
            var Jo = function(e, t, n, r) {
                var o = function(e) {
                    return (e = parseInt(e, 10).toString(16)).length > 1 ? e: "0" + e
                };
                return "#" + o(t) + o(n) + o(r)
            };
            function Qo(e, t) {
                var n, r, o, i, a = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
                s = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
                l = /\s*([^:]+):\s*([^;]+);?/g,
                u = /\s+$/,
                c = {};
                for (e = e || {},
                t && (o = t.getValidStyles(), i = t.getInvalidStyles()), r = "\\\" \\' \\; \\: ; : \ufeff".split(" "), n = 0; n < r.length; n++) c[r[n]] = "\ufeff" + n,
                c["\ufeff" + n] = r[n];
                return {
                    toHex: function(e) {
                        return e.replace(a, Jo)
                    },
                    parse: function(t) {
                        var r, o, i, d, f, m, p, h, g = {},
                        v = e.url_converter,
                        b = e.url_converter_scope || this,
                        y = function(e, t, r) {
                            var o, i, a, s;
                            if ((o = g[e + "-top" + t]) && (i = g[e + "-right" + t]) && (a = g[e + "-bottom" + t]) && (s = g[e + "-left" + t])) {
                                var l = [o, i, a, s];
                                for (n = l.length - 1; n--&&l[n] === l[n + 1];);
                                n > -1 && r || (g[e + t] = -1 === n ? l[0] : l.join(" "), delete g[e + "-top" + t], delete g[e + "-right" + t], delete g[e + "-bottom" + t], delete g[e + "-left" + t])
                            }
                        },
                        w = function(e) {
                            var t, n = g[e];
                            if (n) {
                                for (t = (n = n.split(" ")).length; t--;) if (n[t] !== n[0]) return ! 1;
                                return g[e] = n[0],
                                !0
                            }
                        },
                        x = function(e) {
                            return d = !0,
                            c[e]
                        },
                        C = function(e, t) {
                            return d && (e = e.replace(/\uFEFF[0-9]/g,
                            function(e) {
                                return c[e]
                            })),
                            t || (e = e.replace(/\\([\'\";:])/g, "$1")),
                            e
                        },
                        _ = function(e) {
                            return String.fromCharCode(parseInt(e.slice(1), 16))
                        },
                        k = function(e) {
                            return e.replace(/\\[0-9a-f]+/gi, _)
                        },
                        E = function(t, n, r, o, i, a) {
                            if (i = i || a) return "'" + (i = C(i)).replace(/\'/g, "\\'") + "'";
                            if (n = C(n || r || o), !e.allow_script_urls) {
                                var s = n.replace(/[\s\r\n]+/g, "");
                                if (/(java|vb)script:/i.test(s)) return "";
                                if (!e.allow_svg_data_urls && /^data:image\/svg/i.test(s)) return ""
                            }
                            return v && (n = v.call(b, n, "style")),
                            "url('" + n.replace(/\'/g, "\\'") + "')"
                        };
                        if (t) {
                            for (t = (t = t.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, x).replace(/\"[^\"]+\"|\'[^\']+\'/g,
                            function(e) {
                                return e.replace(/[;:]/g, x)
                            }); r = l.exec(t);) if (l.lastIndex = r.index + r[0].length, o = r[1].replace(u, "").toLowerCase(), i = r[2].replace(u, ""), o && i) {
                                if (o = k(o), i = k(i), -1 !== o.indexOf("\ufeff") || -1 !== o.indexOf('"')) continue;
                                if (!e.allow_script_urls && ("behavior" === o || /expression\s*\(|\/\*|\*\//.test(i))) continue;
                                "font-weight" === o && "700" === i ? i = "bold": "color" !== o && "background-color" !== o || (i = i.toLowerCase()),
                                i = (i = i.replace(a, Jo)).replace(s, E),
                                g[o] = d ? C(i, !0) : i
                            }
                            y("border", "", !0),
                            y("border", "-width"),
                            y("border", "-color"),
                            y("border", "-style"),
                            y("padding", ""),
                            y("margin", ""),
                            f = "border",
                            p = "border-style",
                            h = "border-color",
                            w(m = "border-width") && w(p) && w(h) && (g[f] = g[m] + " " + g[p] + " " + g[h], delete g[m], delete g[p], delete g[h]),
                            "medium none" === g.border && delete g.border,
                            "none" === g["border-image"] && delete g["border-image"]
                        }
                        return g
                    },
                    serialize: function(e, t) {
                        var n, r, a = "",
                        s = function(t) {
                            var n, r, i, s;
                            if (n = o[t]) for (r = 0, i = n.length; r < i; r++) t = n[r],
                            (s = e[t]) && (a += (a.length > 0 ? " ": "") + t + ": " + s + ";")
                        },
                        l = function(e, t) {
                            var n;
                            return ! ((n = i["*"]) && n[e] || (n = i[t]) && n[e])
                        };
                        if (t && o) s("*"),
                        s(t);
                        else for (n in e) ! (r = e[n]) || i && !l(n, t) || (a += (a.length > 0 ? " ": "") + n + ": " + r + ";");
                        return a
                    }
                }
            }
            var Zo = Kt.each,
            ei = Kt.grep,
            ti = Se.ie,
            ni = /^([a-z0-9],?)+$/i,
            ri = /^[ \t\r\n]*$/,
            oi = function(e, t, n) {
                var r = {},
                o = t.keep_values,
                i = {
                    set: function(e, r, o) {
                        t.url_converter && (r = t.url_converter.call(t.url_converter_scope || n(), r, o, e[0])),
                        e.attr("data-mce-" + o, r).attr(o, r)
                    },
                    get: function(e, t) {
                        return e.attr("data-mce-" + t) || e.attr(t)
                    }
                };
                return r = {
                    style: {
                        set: function(e, t) {
                            null === t || "object" != typeof t ? (o && e.attr("data-mce-style", t), e.attr("style", t)) : e.css(t)
                        },
                        get: function(t) {
                            var n = t.attr("data-mce-style") || t.attr("style");
                            return e.serialize(e.parse(n), t[0].nodeName)
                        }
                    }
                },
                o && (r.href = r.src = i),
                r
            },
            ii = function(e, t) {
                var n = t.attr("style"),
                r = e.serialize(e.parse(n), t[0].nodeName);
                r || (r = null),
                t.attr("data-mce-style", r)
            },
            ai = function(e, t) {
                var n, r, o = 0;
                if (e) for (n = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) r = e.nodeType,
                (!t || 3 !== r || r !== n && e.nodeValue.length) && (o++, n = r);
                return o
            };
            function si(e, t) {
                var n, r = this;
                void 0 === t && (t = {});
                var o = {},
                i = window,
                a = {},
                s = 0,
                l = Jr(e),
                u = [],
                c = t.schema ? t.schema: Go({}),
                d = Qo({
                    url_converter: t.url_converter,
                    url_converter_scope: t.url_converter_scope
                },
                t.schema),
                f = t.ownEvents ? new je(t.proxy) : je.Event,
                m = c.getBlockElements(),
                p = mn.overrideDefaults(function() {
                    return {
                        context: e,
                        element: j.getRoot()
                    }
                }),
                h = function(t) {
                    if (t && e && "string" == typeof t) {
                        var n = e.getElementById(t);
                        return n && n.id !== t ? e.getElementsByName(t)[1] : n
                    }
                    return t
                },
                g = function(e) {
                    return "string" == typeof e && (e = h(e)),
                    p(e)
                },
                v = function(e, t, r) {
                    var o, i, a = g(e);
                    return a.length && (i = (o = n[t]) && o.get ? o.get(a, t) : a.attr(t)),
                    void 0 === i && (i = r || ""),
                    i
                },
                b = function(e) {
                    var t = h(e);
                    return t ? t.attributes: []
                },
                y = function(e, r, o) {
                    var i, a;
                    "" === o && (o = null);
                    var s = g(e);
                    i = s.attr(r),
                    s.length && ((a = n[r]) && a.set ? a.set(s, o, r) : s.attr(r, o), i !== o && t.onSetAttrib && t.onSetAttrib({
                        attrElm: s,
                        attrName: r,
                        attrValue: o
                    }))
                },
                w = function() {
                    return t.root_element || e.body
                },
                x = function(t, n) {
                    return jr.getPos(e.body, h(t), n)
                },
                C = function(e, t, n) {
                    var r = g(e);
                    return n ? r.css(t) : ("float" === (t = t.replace(/-(\D)/g,
                    function(e, t) {
                        return t.toUpperCase()
                    })) && (t = Se.ie && Se.ie < 12 ? "styleFloat": "cssFloat"), r[0] && r[0].style ? r[0].style[t] : void 0)
                },
                _ = function(e) {
                    var t, n;
                    return e = h(e),
                    t = C(e, "width"),
                    n = C(e, "height"),
                    -1 === t.indexOf("px") && (t = 0),
                    -1 === n.indexOf("px") && (n = 0),
                    {
                        w: parseInt(t, 10) || e.offsetWidth || e.clientWidth,
                        h: parseInt(n, 10) || e.offsetHeight || e.clientHeight
                    }
                },
                k = function(e, t) {
                    var n;
                    if (!e) return ! 1;
                    if (!Array.isArray(e)) {
                        if ("*" === t) return 1 === e.nodeType;
                        if (ni.test(t)) {
                            var r = t.toLowerCase().split(/,/),
                            o = e.nodeName.toLowerCase();
                            for (n = r.length - 1; n >= 0; n--) if (r[n] === o) return ! 0;
                            return ! 1
                        }
                        if (e.nodeType && 1 !== e.nodeType) return ! 1
                    }
                    var i = Array.isArray(e) ? e: [e];
                    return kt(t, i[0].ownerDocument || i[0], null, i).length > 0
                },
                E = function(e, t, n, r) {
                    var o, i = [],
                    a = h(e);
                    for (r = void 0 === r, n = n || ("BODY" !== w().nodeName ? w().parentNode: null), Kt.is(t, "string") && (o = t, t = "*" === t ?
                    function(e) {
                        return 1 === e.nodeType
                    }: function(e) {
                        return k(e, o)
                    }); a && a !== n && a.nodeType && 9 !== a.nodeType;) {
                        if (!t || "function" == typeof t && t(a)) {
                            if (!r) return [a];
                            i.push(a)
                        }
                        a = a.parentNode
                    }
                    return r ? i: null
                },
                T = function(e, t, n) {
                    var r = t;
                    if (e) for ("string" == typeof t && (r = function(e) {
                        return k(e, t)
                    }), e = e[n]; e; e = e[n]) if ("function" == typeof r && r(e)) return e;
                    return null
                },
                S = function(e, t, n) {
                    var o, i = "string" == typeof e ? h(e) : e;
                    if (!i) return ! 1;
                    if (Kt.isArray(i) && (i.length || 0 === i.length)) return o = [],
                    Zo(i,
                    function(e, r) {
                        e && ("string" == typeof e && (e = h(e)), o.push(t.call(n, e, r)))
                    }),
                    o;
                    var a = n || r;
                    return t.call(a, i)
                },
                N = function(e, t) {
                    g(e).each(function(e, n) {
                        Zo(t,
                        function(e, t) {
                            y(n, t, e)
                        })
                    })
                },
                R = function(e, t) {
                    var n = g(e);
                    ti ? n.each(function(e, n) {
                        if (!1 !== n.canHaveHTML) {
                            for (; n.firstChild;) n.removeChild(n.firstChild);
                            try {
                                n.innerHTML = "<br>" + t,
                                n.removeChild(n.firstChild)
                            } catch(e) {
                                mn("<div></div>").html("<br>" + t).contents().slice(1).appendTo(n)
                            }
                            return t
                        }
                    }) : n.html(t)
                },
                A = function(t, n, r, o, i) {
                    return S(t,
                    function(t) {
                        var a = "string" == typeof n ? e.createElement(n) : n;
                        return N(a, r),
                        o && ("string" != typeof o && o.nodeType ? a.appendChild(o) : "string" == typeof o && R(a, o)),
                        i ? a: t.appendChild(a)
                    })
                },
                O = function(t, n, r) {
                    return A(e.createElement(t), t, n, r, !0)
                },
                D = Wo.decode,
                P = Wo.encodeAllRaw,
                B = function(e, t) {
                    var n = g(e);
                    return t ? n.each(function() {
                        for (var e; e = this.firstChild;) 3 === e.nodeType && 0 === e.data.length ? this.removeChild(e) : this.parentNode.insertBefore(e, this)
                    }).remove() : n.remove(),
                    n.length > 1 ? n.toArray() : n[0]
                },
                M = function(e, t, n) {
                    g(e).toggleClass(t, n).each(function() {
                        "" === this.className && mn(this).attr("class", null)
                    })
                },
                I = function(e, t, n) {
                    return S(t,
                    function(t) {
                        return Kt.is(t, "array") && (e = e.cloneNode(!0)),
                        n && Zo(ei(t.childNodes),
                        function(t) {
                            e.appendChild(t)
                        }),
                        t.parentNode.replaceChild(e, t)
                    })
                },
                L = function() {
                    return e.createRange()
                },
                F = function(n, r, o, a) {
                    if (Kt.isArray(n)) {
                        for (var s = n.length; s--;) n[s] = F(n[s], r, o, a);
                        return n
                    }
                    return ! t.collect || n !== e && n !== i || u.push([n, r, o, a]),
                    f.bind(n, r, o, a || j)
                },
                W = function(t, n, r) {
                    var o;
                    if (Kt.isArray(t)) {
                        for (o = t.length; o--;) t[o] = W(t[o], n, r);
                        return t
                    }
                    if (u && (t === e || t === i)) for (o = u.length; o--;) {
                        var a = u[o];
                        t !== a[0] || n && n !== a[1] || r && r !== a[2] || f.unbind(a[0], a[1], a[2])
                    }
                    return f.unbind(t, n, r)
                },
                H = function(e) {
                    if (e && Eo.isElement(e)) {
                        var t = e.getAttribute("data-mce-contenteditable");
                        return t && "inherit" !== t ? t: "inherit" !== e.contentEditable ? e.contentEditable: null
                    }
                    return null
                },
                j = {
                    doc: e,
                    settings: t,
                    win: i,
                    files: a,
                    stdMode: !0,
                    boxModel: !0,
                    styleSheetLoader: l,
                    boundEvents: u,
                    styles: d,
                    schema: c,
                    events: f,
                    isBlock: function(e) {
                        if ("string" == typeof e) return !! m[e];
                        if (e) {
                            var t = e.nodeType;
                            if (t) return ! (1 !== t || !m[e.nodeName])
                        }
                        return ! 1
                    },
                    $: p,
                    $$: g,
                    root: null,
                    clone: function(t, n) {
                        if (!ti || 1 !== t.nodeType || n) return t.cloneNode(n);
                        if (!n) {
                            var r = e.createElement(t.nodeName);
                            return Zo(b(t),
                            function(e) {
                                y(r, e.nodeName, v(t, e.nodeName))
                            }),
                            r
                        }
                        return null
                    },
                    getRoot: w,
                    getViewPort: function(e) {
                        var t = e || i,
                        n = t.document,
                        r = n.documentElement;
                        return {
                            x: t.pageXOffset || r.scrollLeft,
                            y: t.pageYOffset || r.scrollTop,
                            w: t.innerWidth || r.clientWidth,
                            h: t.innerHeight || r.clientHeight
                        }
                    },
                    getRect: function(e) {
                        var t, n;
                        return e = h(e),
                        t = x(e),
                        n = _(e),
                        {
                            x: t.x,
                            y: t.y,
                            w: n.w,
                            h: n.h
                        }
                    },
                    getSize: _,
                    getParent: function(e, t, n) {
                        var r = E(e, t, n, !1);
                        return r && r.length > 0 ? r[0] : null
                    },
                    getParents: E,
                    get: h,
                    getNext: function(e, t) {
                        return T(e, t, "nextSibling")
                    },
                    getPrev: function(e, t) {
                        return T(e, t, "previousSibling")
                    },
                    select: function(n, r) {
                        return kt(n, h(r) || t.root_element || e, [])
                    },
                    is: k,
                    add: A,
                    create: O,
                    createHTML: function(e, t, n) {
                        var r, o = "";
                        for (r in o += "<" + e, t) t.hasOwnProperty(r) && null !== t[r] && void 0 !== t[r] && (o += " " + r + '="' + P(t[r]) + '"');
                        return void 0 !== n ? o + ">" + n + "</" + e + ">": o + " />"
                    },
                    createFragment: function(t) {
                        var n, r = e.createElement("div"),
                        o = e.createDocumentFragment();
                        for (t && (r.innerHTML = t); n = r.firstChild;) o.appendChild(n);
                        return o
                    },
                    remove: B,
                    setStyle: function(e, n, r) {
                        var o = g(e).css(n, r);
                        t.update_styles && ii(d, o)
                    },
                    getStyle: C,
                    setStyles: function(e, n) {
                        var r = g(e).css(n);
                        t.update_styles && ii(d, r)
                    },
                    removeAllAttribs: function(e) {
                        return S(e,
                        function(e) {
                            var t, n = e.attributes;
                            for (t = n.length - 1; t >= 0; t--) e.removeAttributeNode(n.item(t))
                        })
                    },
                    setAttrib: y,
                    setAttribs: N,
                    getAttrib: v,
                    getPos: x,
                    parseStyle: function(e) {
                        return d.parse(e)
                    },
                    serializeStyle: function(e, t) {
                        return d.serialize(e, t)
                    },
                    addStyle: function(t) {
                        var n, r;
                        if (j !== si.DOM && e === document) {
                            if (o[t]) return;
                            o[t] = !0
                        } (r = e.getElementById("mceDefaultStyles")) || ((r = e.createElement("style")).id = "mceDefaultStyles", r.type = "text/css", (n = e.getElementsByTagName("head")[0]).firstChild ? n.insertBefore(r, n.firstChild) : n.appendChild(r)),
                        r.styleSheet ? r.styleSheet.cssText += t: r.appendChild(e.createTextNode(t))
                    },
                    loadCSS: function(t) {
                        var n;
                        j === si.DOM || e !== document ? (t || (t = ""), n = e.getElementsByTagName("head")[0], Zo(t.split(","),
                        function(e) {
                            var t;
                            e = Kt._addCacheSuffix(e),
                            a[e] || (a[e] = !0, t = O("link", {
                                rel: "stylesheet",
                                href: e
                            }), n.appendChild(t))
                        })) : si.DOM.loadCSS(t)
                    },
                    addClass: function(e, t) {
                        g(e).addClass(t)
                    },
                    removeClass: function(e, t) {
                        M(e, t, !1)
                    },
                    hasClass: function(e, t) {
                        return g(e).hasClass(t)
                    },
                    toggleClass: M,
                    show: function(e) {
                        g(e).show()
                    },
                    hide: function(e) {
                        g(e).hide()
                    },
                    isHidden: function(e) {
                        return "none" === g(e).css("display")
                    },
                    uniqueId: function(e) {
                        return (e || "mce_") + s++
                    },
                    setHTML: R,
                    getOuterHTML: function(e) {
                        var t = "string" == typeof e ? h(e) : e;
                        return Eo.isElement(t) ? t.outerHTML: mn("<div></div>").append(mn(t).clone()).html()
                    },
                    setOuterHTML: function(e, t) {
                        g(e).each(function() {
                            try {
                                if ("outerHTML" in this) return void(this.outerHTML = t)
                            } catch(e) {}
                            B(mn(this).html(t), !0)
                        })
                    },
                    decode: D,
                    encode: P,
                    insertAfter: function(e, t) {
                        var n = h(t);
                        return S(e,
                        function(e) {
                            var t, r;
                            return t = n.parentNode,
                            (r = n.nextSibling) ? t.insertBefore(e, r) : t.appendChild(e),
                            e
                        })
                    },
                    replace: I,
                    rename: function(e, t) {
                        var n;
                        return e.nodeName !== t.toUpperCase() && (n = O(t), Zo(b(e),
                        function(t) {
                            y(n, t.nodeName, v(e, t.nodeName))
                        }), I(n, e, !0)),
                        n || e
                    },
                    findCommonAncestor: function(e, t) {
                        for (var n, r = e; r;) {
                            for (n = t; n && r !== n;) n = n.parentNode;
                            if (r === n) break;
                            r = r.parentNode
                        }
                        return ! r && e.ownerDocument ? e.ownerDocument.documentElement: r
                    },
                    toHex: function(e) {
                        return d.toHex(Kt.trim(e))
                    },
                    run: S,
                    getAttribs: b,
                    isEmpty: function(e, t) {
                        var n, r, o, i, a, s, l = 0;
                        if (e = e.firstChild) {
                            a = new Qr(e, e.parentNode),
                            t = t || (c ? c.getNonEmptyElements() : null),
                            i = c ? c.getWhiteSpaceElements() : {};
                            do {
                                if (o = e.nodeType, Eo.isElement(e)) {
                                    var u = e.getAttribute("data-mce-bogus");
                                    if (u) {
                                        e = a.next("all" === u);
                                        continue
                                    }
                                    if (s = e.nodeName.toLowerCase(), t && t[s]) {
                                        if ("br" === s) {
                                            l++,
                                            e = a.next();
                                            continue
                                        }
                                        return ! 1
                                    }
                                    for (n = (r = b(e)).length; n--;) if ("name" === (s = r[n].nodeName) || "data-mce-bookmark" === s) return ! 1
                                }
                                if (8 === o) return ! 1;
                                if (3 === o && !ri.test(e.nodeValue)) return ! 1;
                                if (3 === o && e.parentNode && i[e.parentNode.nodeName] && ri.test(e.nodeValue)) return ! 1;
                                e = a.next()
                            } while ( e )
                        }
                        return l <= 1
                    },
                    createRng: L,
                    nodeIndex: ai,
                    split: function(e, t, n) {
                        var r, o, i, a = L();
                        if (e && t) return a.setStart(e.parentNode, ai(e)),
                        a.setEnd(t.parentNode, ai(t)),
                        r = a.extractContents(),
                        (a = L()).setStart(t.parentNode, ai(t) + 1),
                        a.setEnd(e.parentNode, ai(e) + 1),
                        o = a.extractContents(),
                        (i = e.parentNode).insertBefore(No.trimNode(j, r), e),
                        n ? i.insertBefore(n, e) : i.insertBefore(t, e),
                        i.insertBefore(No.trimNode(j, o), e),
                        B(e),
                        n || t
                    },
                    bind: F,
                    unbind: W,
                    fire: function(e, t, n) {
                        return f.fire(e, t, n)
                    },
                    getContentEditable: H,
                    getContentEditableParent: function(e) {
                        for (var t = w(), n = null; e && e !== t && null === (n = H(e)); e = e.parentNode);
                        return n
                    },
                    destroy: function() {
                        if (u) for (var e = u.length; e--;) {
                            var t = u[e];
                            f.unbind(t[0], t[1], t[2])
                        }
                        kt.setDocument && kt.setDocument()
                    },
                    isChildOf: function(e, t) {
                        for (; e;) {
                            if (t === e) return ! 0;
                            e = e.parentNode
                        }
                        return ! 1
                    },
                    dumpRng: function(e) {
                        return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset
                    }
                };
                return n = oi(d, t,
                function() {
                    return j
                }),
                j
            } !
            function(e) {
                e.DOM = e(document),
                e.nodeIndex = ai
            } (si || (si = {}));
            var li = si,
            ui = li.DOM,
            ci = Kt.each,
            di = Kt.grep,
            fi = function(e) {
                return "function" == typeof e
            },
            mi = function() {
                var e = {},
                t = [],
                n = {},
                r = [],
                o = 0;
                this.isDone = function(t) {
                    return 2 === e[t]
                },
                this.markDone = function(t) {
                    e[t] = 2
                },
                this.add = this.load = function(r, o, i, a) {
                    void 0 === e[r] && (t.push(r), e[r] = 0),
                    o && (n[r] || (n[r] = []), n[r].push({
                        success: o,
                        failure: a,
                        scope: i || this
                    }))
                },
                this.remove = function(t) {
                    delete e[t],
                    delete n[t]
                },
                this.loadQueue = function(e, n, r) {
                    this.loadScripts(t, e, n, r)
                },
                this.loadScripts = function(t, i, a, s) {
                    var l, u = [],
                    c = function(e, t) {
                        ci(n[t],
                        function(t) {
                            fi(t[e]) && t[e].call(t.scope)
                        }),
                        n[t] = void 0
                    };
                    r.push({
                        success: i,
                        failure: s,
                        scope: a || this
                    }),
                    (l = function() {
                        var n = di(t);
                        if (t.length = 0, ci(n,
                        function(t) {
                            2 !== e[t] ? 3 !== e[t] ? 1 !== e[t] && (e[t] = 1, o++,
                            function(e, t, n) {
                                var r, o, i = ui;
                                o = i.uniqueId(),
                                (r = document.createElement("script")).id = o,
                                r.type = "text/javascript",
                                r.src = Kt._addCacheSuffix(e),
                                r.onload = function() {
                                    i.remove(o),
                                    r && (r.onreadystatechange = r.onload = r = null),
                                    t()
                                },
                                r.onerror = function() {
                                    fi(n) ? n() : "undefined" != typeof console && console.log
                                },
                                (document.getElementsByTagName("head")[0] || document.body).appendChild(r)
                            } (t,
                            function() {
                                e[t] = 2,
                                o--,
                                c("success", t),
                                l()
                            },
                            function() {
                                e[t] = 3,
                                o--,
                                u.push(t),
                                c("failure", t),
                                l()
                            })) : c("failure", t) : c("success", t)
                        }), !o) {
                            var i = r.slice(0);
                            r.length = 0,
                            ci(i,
                            function(e) {
                                0 === u.length ? fi(e.success) && e.success.call(e.scope) : fi(e.failure) && e.failure.call(e.scope, u)
                            })
                        }
                    })()
                }
            };
            mi.ScriptLoader = new mi;
            var pi = Kt.each;
            function hi() {
                var e = this,
                t = [],
                n = {},
                r = {},
                o = [],
                i = function(e) {
                    var t;
                    return r[e] && (t = r[e].dependencies),
                    t || []
                },
                a = function(e, t) {
                    return "object" == typeof t ? t: "string" == typeof e ? {
                        prefix: "",
                        resource: t,
                        suffix: ""
                    }: {
                        prefix: e.prefix,
                        resource: t,
                        suffix: e.suffix
                    }
                },
                s = function(e, t, n, r) {
                    var o = i(e);
                    pi(o,
                    function(e) {
                        var n = a(t, e);
                        l(n.resource, n, void 0, void 0)
                    }),
                    n && (r ? n.call(r) : n.call(mi))
                },
                l = function(e, t, o, i, a) {
                    if (!n[e]) {
                        var l = "string" == typeof t ? t: t.prefix + t.resource + t.suffix;
                        0 !== l.indexOf("/") && -1 === l.indexOf("://") && (l = hi.baseURL + "/" + l),
                        n[e] = l.substring(0, l.lastIndexOf("/")),
                        r[e] ? s(e, t, o, i) : mi.ScriptLoader.add(l,
                        function() {
                            return s(e, t, o, i)
                        },
                        i, a)
                    }
                };
                return {
                    items: t,
                    urls: n,
                    lookup: r,
                    _listeners: o,
                    get: function(e) {
                        if (r[e]) return r[e].instance
                    },
                    dependencies: i,
                    requireLangPack: function(e, t) {
                        var r = hi.language;
                        if (r && !1 !== hi.languageLoad) {
                            if (t) if ( - 1 !== (t = "," + t + ",").indexOf("," + r.substr(0, 2) + ",")) r = r.substr(0, 2);
                            else if ( - 1 === t.indexOf("," + r + ",")) return;
                            mi.ScriptLoader.add(n[e] + "/langs/" + r + ".js")
                        }
                    },
                    add: function(e, n, i) {
                        t.push(n),
                        r[e] = {
                            instance: n,
                            dependencies: i
                        };
                        var a = H(o,
                        function(t) {
                            return t.name === e
                        });
                        return o = a.fail,
                        pi(a.pass,
                        function(e) {
                            e.callback()
                        }),
                        n
                    },
                    remove: function(e) {
                        delete n[e],
                        delete r[e]
                    },
                    createUrl: a,
                    addComponents: function(t, n) {
                        var r = e.urls[t];
                        pi(n,
                        function(e) {
                            mi.ScriptLoader.add(r + "/" + e)
                        })
                    },
                    load: l,
                    waitFor: function(e, t) {
                        r.hasOwnProperty(e) ? t() : o.push({
                            name: e,
                            callback: t
                        })
                    }
                }
            } !
            function(e) {
                e.PluginManager = e(),
                e.ThemeManager = e()
            } (hi || (hi = {}));
            var gi = function(e, t) {
                Fr.parent(e).each(function(n) {
                    n.dom().insertBefore(t.dom(), e.dom())
                })
            },
            vi = function(e, t) {
                e.dom().appendChild(t.dom())
            },
            bi = {
                before: gi,
                after: function(e, t) {
                    Fr.nextSibling(e).fold(function() {
                        Fr.parent(e).each(function(e) {
                            vi(e, t)
                        })
                    },
                    function(e) {
                        gi(e, t)
                    })
                },
                prepend: function(e, t) {
                    Fr.firstChild(e).fold(function() {
                        vi(e, t)
                    },
                    function(n) {
                        e.dom().insertBefore(t.dom(), n.dom())
                    })
                },
                append: vi,
                appendAt: function(e, t, n) {
                    Fr.child(e, n).fold(function() {
                        vi(e, t)
                    },
                    function(e) {
                        gi(e, t)
                    })
                },
                wrap: function(e, t) {
                    gi(e, t),
                    vi(t, e)
                }
            },
            yi = function(e, t) {
                W(t,
                function(t) {
                    bi.before(e, t)
                })
            },
            wi = function(e, t) {
                W(t,
                function(t) {
                    bi.append(e, t)
                })
            },
            xi = function(e) {
                var t = e.dom();
                null !== t.parentNode && t.parentNode.removeChild(t)
            },
            Ci = {
                empty: function(e) {
                    e.dom().textContent = "",
                    W(Fr.children(e),
                    function(e) {
                        xi(e)
                    })
                },
                remove: xi,
                unwrap: function(e) {
                    var t = Fr.children(e);
                    t.length > 0 && yi(e, t),
                    xi(e)
                }
            },
            _i = function(e, t) {
                var n = null;
                return {
                    cancel: function() {
                        null !== n && (clearTimeout(n), n = null)
                    },
                    throttle: function() {
                        for (var r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
                        null === n && (n = setTimeout(function() {
                            e.apply(null, r),
                            n = null
                        },
                        t))
                    }
                }
            },
            ki = function(e) {
                var t = e,
                n = function() {
                    return t
                };
                return {
                    get: n,
                    set: function(e) {
                        t = e
                    },
                    clone: function() {
                        return ki(n())
                    }
                }
            },
            Ei = function(e, t) {
                var n = ur.get(e, t);
                return void 0 === n || "" === n ? [] : n.split(" ")
            },
            Ti = Ei,
            Si = function(e, t, n) {
                var r = Ei(e, t).concat([n]);
                return ur.set(e, t, r.join(" ")),
                !0
            },
            Ni = function(e, t, n) {
                var r = j(Ei(e, t),
                function(e) {
                    return e !== n
                });
                return r.length > 0 ? ur.set(e, t, r.join(" ")) : ur.remove(e, t),
                !1
            },
            Ri = function(e) {
                return Ti(e, "class")
            },
            Ai = function(e, t) {
                return Si(e, "class", t)
            },
            Oi = function(e, t) {
                return Ni(e, "class", t)
            },
            Di = Ri,
            Pi = Ai,
            Bi = Oi,
            Mi = function(e, t) {
                return I(Ri(e), t) ? Oi(e, t) : Ai(e, t)
            },
            Ii = function(e) {
                return void 0 !== e.dom().classList
            },
            Li = function(e, t) {
                return Ii(e) && e.dom().classList.contains(t)
            },
            Fi = {
                add: function(e, t) {
                    Ii(e) ? e.dom().classList.add(t) : Pi(e, t)
                },
                remove: function(e, t) {
                    Ii(e) ? e.dom().classList.remove(t) : Bi(e, t),
                    function(e) {
                        0 === (Ii(e) ? e.dom().classList: Di(e)).length && ur.remove(e, "class")
                    } (e)
                },
                toggle: function(e, t) {
                    return Ii(e) ? e.dom().classList.toggle(t) : Mi(e, t)
                },
                toggler: function(e, t) {
                    var n = Ii(e),
                    r = e.dom().classList;
                    return function(e, t, n) {
                        var r = n || !1,
                        o = function() {
                            t(),
                            r = !0
                        },
                        i = function() {
                            e(),
                            r = !1
                        };
                        return {
                            on: o,
                            off: i,
                            toggle: function() { (r ? i: o)()
                            },
                            isOn: function() {
                                return r
                            }
                        }
                    } (function() {
                        n ? r.remove(t) : Bi(e, t)
                    },
                    function() {
                        n ? r.add(t) : Pi(e, t)
                    },
                    Li(e, t))
                },
                has: Li
            },
            Wi = function(e, t) {
                return Nr.all(t, e)
            };
            function Hi(e, t, n, r, o) {
                return e(n, r) ? T.some(n) : P(o) && o(n) ? T.none() : t(n, r, o)
            }
            var ji = function(e, t, n) {
                for (var r = e.dom(), o = P(n) ? n: g(!1); r.parentNode;) {
                    r = r.parentNode;
                    var i = qn.fromDom(r);
                    if (t(i)) return T.some(i);
                    if (o(i)) break
                }
                return T.none()
            },
            Ui = function(e, t) {
                return z(e.dom().childNodes, h(t, qn.fromDom)).map(qn.fromDom)
            },
            zi = function(e, t) {
                var n = function(e) {
                    for (var r = 0; r < e.childNodes.length; r++) {
                        if (t(qn.fromDom(e.childNodes[r]))) return T.some(qn.fromDom(e.childNodes[r]));
                        var o = n(e.childNodes[r]);
                        if (o.isSome()) return o
                    }
                    return T.none()
                };
                return n(e.dom())
            },
            Vi = {
                first: function(e) {
                    return zi(fr.body(), e)
                },
                ancestor: ji,
                closest: function(e, t, n) {
                    return Hi(function(e) {
                        return t(e)
                    },
                    ji, e, t, n)
                },
                sibling: function(e, t) {
                    var n = e.dom();
                    return n.parentNode ? Ui(qn.fromDom(n.parentNode),
                    function(n) {
                        return ! Or.eq(e, n) && t(n)
                    }) : T.none()
                },
                child: Ui,
                descendant: zi
            },
            $i = function(e, t, n) {
                return Vi.ancestor(e,
                function(e) {
                    return Nr.is(e, t)
                },
                n)
            },
            qi = $i,
            Ki = function(e, t) {
                return Nr.one(t, e)
            },
            Yi = function(e, t, n) {
                return Hi(Nr.is, $i, e, t, n)
            },
            Xi = g("mce-annotation"),
            Gi = g("data-mce-annotation"),
            Ji = g("data-mce-annotation-uid"),
            Qi = function(e, t) {
                var n = e.selection.getRng(),
                r = qn.fromDom(n.startContainer),
                o = qn.fromDom(e.getBody()),
                i = t.fold(function() {
                    return "." + Xi()
                },
                function(e) {
                    return "[" + Gi() + '="' + e + '"]'
                }),
                a = Fr.child(r, n.startOffset).getOr(r),
                s = Yi(a, i,
                function(e) {
                    return Or.eq(e, o)
                }),
                l = function(e, t) {
                    return ur.has(e, t) ? T.some(ur.get(e, t)) : T.none()
                };
                return s.bind(function(t) {
                    return l(t, "" + Ji()).bind(function(n) {
                        return l(t, "" + Gi()).map(function(t) {
                            var r = Zi(e, n);
                            return {
                                uid: n,
                                name: t,
                                elements: r
                            }
                        })
                    })
                })
            },
            Zi = function(e, t) {
                var n = qn.fromDom(e.getBody());
                return Wi(n, "[" + Ji() + '="' + t + '"]')
            },
            ea = function(e, t) {
                var n = qn.fromDom(e.getBody()),
                r = Wi(n, "[" + Gi() + '="' + t + '"]'),
                o = {};
                return W(r,
                function(e) {
                    var t = ur.get(e, Ji()),
                    n = o.hasOwnProperty(t) ? o[t] : [];
                    o[t] = n.concat([e])
                }),
                o
            },
            ta = function(e, t) {
                var n, r, o, i = ki({}),
                a = function(e, t) {
                    s(e,
                    function(e) {
                        return t(e),
                        e
                    })
                },
                s = function(e, t) {
                    var n = i.get(),
                    r = t(n.hasOwnProperty(e) ? n[e] : {
                        listeners: [],
                        previous: ki(T.none())
                    });
                    n[e] = r,
                    i.set(n)
                },
                l = (n = function() {
                    var t, n, r, o = i.get(),
                    l = (t = tr(o), (r = X.call(t, 0)).sort(n), r);
                    W(l,
                    function(t) {
                        s(t,
                        function(n) {
                            var r = n.previous.get();
                            return Qi(e, T.some(t)).fold(function() {
                                r.isSome() && (function(e) {
                                    a(e,
                                    function(t) {
                                        W(t.listeners,
                                        function(t) {
                                            return t(!1, e)
                                        })
                                    })
                                } (t), n.previous.set(T.none()))
                            },
                            function(e) {
                                var t = e.uid,
                                o = e.name,
                                i = e.elements;
                                r.is(t) || (function(e, t, n) {
                                    a(e,
                                    function(r) {
                                        W(r.listeners,
                                        function(r) {
                                            return r(!0, e, {
                                                uid: t,
                                                nodes: F(n,
                                                function(e) {
                                                    return e.dom()
                                                })
                                            })
                                        })
                                    })
                                } (o, t, i), n.previous.set(T.some(t)))
                            }),
                            {
                                previous: n.previous,
                                listeners: n.listeners
                            }
                        })
                    })
                },
                r = 30, o = null, {
                    cancel: function() {
                        null !== o && (clearTimeout(o), o = null)
                    },
                    throttle: function() {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        null !== o && clearTimeout(o),
                        o = setTimeout(function() {
                            n.apply(null, e),
                            o = null
                        },
                        r)
                    }
                });
                return e.on("remove",
                function() {
                    l.cancel()
                }),
                e.on("nodeChange",
                function() {
                    l.throttle()
                }),
                {
                    addListener: function(e, t) {
                        s(e,
                        function(e) {
                            return {
                                previous: e.previous,
                                listeners: e.listeners.concat([t])
                            }
                        })
                    }
                }
            },
            na = function(e, t) {
                e.on("init",
                function() {
                    e.serializer.addNodeFilter("span",
                    function(e) {
                        W(e,
                        function(e) { (function(e) {
                                return T.from(e.attributes.map[Gi()]).bind(t.lookup)
                            })(e).each(function(t) { ! 1 === t.persistent && e.unwrap()
                            })
                        })
                    })
                })
            },
            ra = function() {
                var e = {};
                return {
                    register: function(t, n) {
                        e[t] = {
                            name: t,
                            settings: n
                        }
                    },
                    lookup: function(t) {
                        return e.hasOwnProperty(t) ? T.from(e[t]).map(function(e) {
                            return e.settings
                        }) : T.none()
                    }
                }
            },
            oa = 0,
            ia = function(e, t) {
                W(t,
                function(t) {
                    Fi.add(e, t)
                })
            },
            aa = function(e, t) {
                return qn.fromDom(e.dom().cloneNode(t))
            },
            sa = function(e) {
                return aa(e, !0)
            },
            la = function(e) {
                return aa(e, !1)
            },
            ua = sa,
            ca = function(e, t) {
                var n = (t || document).createElement("div");
                return n.innerHTML = e,
                Fr.children(qn.fromDom(n))
            },
            da = function(e) {
                return e.dom().innerHTML
            },
            fa = da,
            ma = function(e, t) {
                var n = Fr.owner(e).dom(),
                r = qn.fromDom(n.createDocumentFragment()),
                o = ca(t, n);
                wi(r, o),
                Ci.empty(e),
                bi.append(e, r)
            },
            pa = [].slice,
            ha = function(e) {
                for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                var r = pa.call(arguments);
                return r.length - 1 >= e.length ? e.apply(this, r.slice(1)) : function() {
                    var e = r.concat([].slice.call(arguments));
                    return ha.apply(this, e)
                }
            },
            ga = {
                constant: function(e) {
                    return function() {
                        return e
                    }
                },
                negate: function(e) {
                    return function(t) {
                        return ! e(t)
                    }
                },
                and: function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    var n = pa.call(arguments);
                    return function(e) {
                        for (var t = 0; t < n.length; t++) if (!n[t](e)) return ! 1;
                        return ! 0
                    }
                },
                or: function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    var n = pa.call(arguments);
                    return function(e) {
                        for (var t = 0; t < n.length; t++) if (n[t](e)) return ! 0;
                        return ! 1
                    }
                },
                curry: ha,
                compose: function(e, t) {
                    return function(n) {
                        return e(t(n))
                    }
                },
                noop: function() {}
            },
            va = function(e) {
                return "\ufeff" === e
            },
            ba = "\ufeff",
            ya = function(e) {
                return e.replace(new RegExp("\ufeff", "g"), "")
            },
            wa = Eo.isElement,
            xa = Eo.isText,
            Ca = function(e) {
                return xa(e) && (e = e.parentNode),
                wa(e) && e.hasAttribute("data-mce-caret")
            },
            _a = function(e) {
                return xa(e) && va(e.data)
            },
            ka = function(e) {
                return Ca(e) || _a(e)
            },
            Ea = function(e) {
                return e.firstChild !== e.lastChild || !Eo.isBr(e.firstChild)
            },
            Ta = function(e) {
                var t = e.container();
                return e && Eo.isText(t) && t.data.charAt(e.offset()) === ba
            },
            Sa = function(e) {
                var t = e.container();
                return e && Eo.isText(t) && t.data.charAt(e.offset() - 1) === ba
            },
            Na = function(e, t, n) {
                var r, o, i;
                return (r = t.ownerDocument.createElement(e)).setAttribute("data-mce-caret", n ? "before": "after"),
                r.setAttribute("data-mce-bogus", "all"),
                r.appendChild(((i = document.createElement("br")).setAttribute("data-mce-bogus", "1"), i)),
                o = t.parentNode,
                n ? o.insertBefore(r, t) : t.nextSibling ? o.insertBefore(r, t.nextSibling) : o.appendChild(r),
                r
            },
            Ra = function(e) {
                return xa(e) && e.data[0] === ba
            },
            Aa = function(e) {
                return xa(e) && e.data[e.data.length - 1] === ba
            },
            Oa = function(e) {
                return e && e.hasAttribute("data-mce-caret") ? (t = e.getElementsByTagName("br"), n = t[t.length - 1], Eo.isBogus(n) && n.parentNode.removeChild(n), e.removeAttribute("data-mce-caret"), e.removeAttribute("data-mce-bogus"), e.removeAttribute("style"), e.removeAttribute("_moz_abspos"), e) : null;
                var t, n
            }, Da = Eo.isContentEditableTrue,
            Pa = Eo.isContentEditableFalse,
            Ba = Eo.isBr,
            Ma = Eo.isText,
            Ia = Eo.matchNodeNames("script style textarea"),
            La = Eo.matchNodeNames("img input textarea hr iframe video audio object"),
            Fa = Eo.matchNodeNames("table"),
            Wa = ka,
            Ha = function(e) {
                return ! Wa(e) && (Ma(e) ? !Ia(e.parentNode) : La(e) || Ba(e) || Fa(e) || ja(e))
            },
            ja = function(e) {
                return ! 1 ===
                function(e) {
                    return Eo.isElement(e) && "true" === e.getAttribute("unselectable")
                } (e) && Pa(e)
            },
            Ua = function(e) {
                return La(e) ||
                function(e) {
                    return !! ja(e) && !0 !== Ut.reduce(e.getElementsByTagName("*"),
                    function(e, t) {
                        return e || Da(t)
                    },
                    !1)
                } (e)
            },
            za = function(e, t) {
                return Ha(e) &&
                function(e, t) {
                    for (e = e.parentNode; e && e !== t; e = e.parentNode) {
                        if (ja(e)) return ! 1;
                        if (Da(e)) return ! 0
                    }
                    return ! 0
                } (e, t)
            },
            Va = Math.round,
            $a = function(e) {
                return e ? {
                    left: Va(e.left),
                    top: Va(e.top),
                    bottom: Va(e.bottom),
                    right: Va(e.right),
                    width: Va(e.width),
                    height: Va(e.height)
                }: {
                    left: 0,
                    top: 0,
                    bottom: 0,
                    right: 0,
                    width: 0,
                    height: 0
                }
            },
            qa = function(e, t) {
                return e = $a(e),
                t ? e.right = e.left: (e.left = e.left + e.width, e.right = e.left),
                e.width = 0,
                e
            },
            Ka = function(e, t, n) {
                return e >= 0 && e <= Math.min(t.height, n.height) / 2
            },
            Ya = function(e, t) {
                return e.bottom - e.height / 2 < t.top || !(e.top > t.bottom) && Ka(t.top - e.bottom, e, t)
            },
            Xa = function(e, t) {
                return e.top > t.bottom || !(e.bottom < t.top) && Ka(t.bottom - e.top, e, t)
            },
            Ga = function(e, t) {
                return t.left > e.left && t.right < e.right ? 0 : t.left < e.left ? t.left - e.left: t.right - e.right
            },
            Ja = function(e, t) {
                return t.top > e.top && t.bottom < e.bottom ? 0 : t.top < e.top ? t.top - e.top: t.bottom - e.bottom
            },
            Qa = function(e) {
                var t = e.startContainer,
                n = e.startOffset;
                return t.hasChildNodes() && e.endOffset === n + 1 ? t.childNodes[n] : null
            },
            Za = function(e, t) {
                return 1 === e.nodeType && e.hasChildNodes() && (t >= e.childNodes.length && (t = e.childNodes.length - 1), e = e.childNodes[t]),
                e
            },
            es = new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),
            ts = function(e) {
                return "string" == typeof e && e.charCodeAt(0) >= 768 && es.test(e)
            },
            ns = function(e, t) {
                for (var n = [], r = 0; r < e.length; r++) {
                    var o = e[r];
                    if (!o.isSome()) return T.none();
                    n.push(o.getOrDie())
                }
                return T.some(t.apply(null, n))
            },
            rs = Eo.isElement,
            os = Ha,
            is = Eo.matchStyleValues("display", "block table"),
            as = Eo.matchStyleValues("float", "left right"),
            ss = ga.and(rs, os, ga.negate(as)),
            ls = ga.negate(Eo.matchStyleValues("white-space", "pre pre-line pre-wrap")),
            us = Eo.isText,
            cs = Eo.isBr,
            ds = li.nodeIndex,
            fs = Za,
            ms = function(e) {
                return "createRange" in e ? e.createRange() : li.DOM.createRng()
            },
            ps = function(e) {
                return e && /[\r\n\t ]/.test(e)
            },
            hs = function(e) {
                return !! e.setStart && !!e.setEnd
            },
            gs = function(e) {
                var t, n = e.startContainer,
                r = e.startOffset;
                return !! (ps(e.toString()) && ls(n.parentNode) && Eo.isText(n) && (t = n.data, ps(t[r - 1]) || ps(t[r + 1])))
            },
            vs = function(e) {
                return 0 === e.left && 0 === e.right && 0 === e.top && 0 === e.bottom
            },
            bs = function(e) {
                var t, n;
                return t = (n = e.getClientRects()).length > 0 ? $a(n[0]) : $a(e.getBoundingClientRect()),
                !hs(e) && cs(e) && vs(t) ?
                function(e) {
                    var t, n = e.ownerDocument,
                    r = ms(n),
                    o = n.createTextNode(" "),
                    i = e.parentNode;
                    return i.insertBefore(o, e),
                    r.setStart(o, 0),
                    r.setEnd(o, 1),
                    t = $a(r.getBoundingClientRect()),
                    i.removeChild(o),
                    t
                } (e) : vs(t) && hs(e) ?
                function(e) {
                    var t = e.startContainer,
                    n = e.endContainer,
                    r = e.startOffset,
                    o = e.endOffset;
                    if (t === n && Eo.isText(n) && 0 === r && 1 === o) {
                        var i = e.cloneRange();
                        return i.setEndAfter(n),
                        bs(i)
                    }
                    return null
                } (e) : t
            },
            ys = function(e, t) {
                var n = qa(e, t);
                return n.width = 1,
                n.right = n.left + 1,
                n
            },
            ws = function(e) {
                var t, n, r = [],
                o = function(e) {
                    var t, n;
                    0 !== e.height && (r.length > 0 && (t = e, n = r[r.length - 1], t.left === n.left && t.top === n.top && t.bottom === n.bottom && t.right === n.right) || r.push(e))
                },
                i = function(e, t) {
                    var n = ms(e.ownerDocument);
                    if (t < e.data.length) {
                        if (ts(e.data[t])) return r;
                        if (ts(e.data[t - 1]) && (n.setStart(e, t), n.setEnd(e, t + 1), !gs(n))) return o(ys(bs(n), !1)),
                        r
                    }
                    t > 0 && (n.setStart(e, t - 1), n.setEnd(e, t), gs(n) || o(ys(bs(n), !1))),
                    t < e.data.length && (n.setStart(e, t), n.setEnd(e, t + 1), gs(n) || o(ys(bs(n), !0)))
                };
                if (us(e.container())) return i(e.container(), e.offset()),
                r;
                if (rs(e.container())) if (e.isAtEnd()) n = fs(e.container(), e.offset()),
                us(n) && i(n, n.data.length),
                ss(n) && !cs(n) && o(ys(bs(n), !1));
                else {
                    if (n = fs(e.container(), e.offset()), us(n) && i(n, 0), ss(n) && e.isAtEnd()) return o(ys(bs(n), !1)),
                    r;
                    t = fs(e.container(), e.offset() - 1),
                    ss(t) && !cs(t) && (is(t) || is(n) || !ss(n)) && o(ys(bs(t), !1)),
                    ss(n) && o(ys(bs(n), !0))
                }
                return r
            };
            function xs(e, t, n) {
                var r = function() {
                    return n || (n = ws(xs(e, t))),
                    n
                };
                return {
                    container: ga.constant(e),
                    offset: ga.constant(t),
                    toRange: function() {
                        var n;
                        return (n = ms(e.ownerDocument)).setStart(e, t),
                        n.setEnd(e, t),
                        n
                    },
                    getClientRects: r,
                    isVisible: function() {
                        return r().length > 0
                    },
                    isAtStart: function() {
                        return us(e),
                        0 === t
                    },
                    isAtEnd: function() {
                        return us(e) ? t >= e.data.length: t >= e.childNodes.length
                    },
                    isEqual: function(n) {
                        return n && e === n.container() && t === n.offset()
                    },
                    getNode: function(n) {
                        return fs(e, n ? t - 1 : t)
                    }
                }
            } !
            function(e) {
                e.fromRangeStart = function(t) {
                    return e(t.startContainer, t.startOffset)
                },
                e.fromRangeEnd = function(t) {
                    return e(t.endContainer, t.endOffset)
                },
                e.after = function(t) {
                    return e(t.parentNode, ds(t) + 1)
                },
                e.before = function(t) {
                    return e(t.parentNode, ds(t))
                },
                e.isAbove = function(e, t) {
                    return ns([J(t.getClientRects()), Q(e.getClientRects())], Ya).getOr(!1)
                },
                e.isBelow = function(e, t) {
                    return ns([Q(t.getClientRects()), J(e.getClientRects())], Xa).getOr(!1)
                },
                e.isAtStart = function(e) {
                    return !! e && e.isAtStart()
                },
                e.isAtEnd = function(e) {
                    return !! e && e.isAtEnd()
                },
                e.isTextPosition = function(e) {
                    return !! e && Eo.isText(e.container())
                },
                e.isElementPosition = function(t) {
                    return ! 1 === e.isTextPosition(t)
                }
            } (xs || (xs = {}));
            var Cs, _s = xs,
            ks = Eo.isText,
            Es = Eo.isBogus,
            Ts = li.nodeIndex,
            Ss = function(e) {
                var t = e.parentNode;
                return Es(t) ? Ss(t) : t
            },
            Ns = function(e) {
                return e ? Ut.reduce(e.childNodes,
                function(e, t) {
                    return Es(t) && "BR" !== t.nodeName ? e = e.concat(Ns(t)) : e.push(t),
                    e
                },
                []) : []
            },
            Rs = function(e) {
                return function(t) {
                    return e === t
                }
            },
            As = function(e) {
                return (ks(e) ? "text()": e.nodeName.toLowerCase()) + "[" +
                function(e) {
                    var t, n, r;
                    return t = Ns(Ss(e)),
                    n = Ut.findIndex(t, Rs(e), e),
                    t = t.slice(0, n + 1),
                    r = Ut.reduce(t,
                    function(e, n, r) {
                        return ks(n) && ks(t[r - 1]) && e++,
                        e
                    },
                    0),
                    t = Ut.filter(t, Eo.matchNodeNames(e.nodeName)),
                    (n = Ut.findIndex(t, Rs(e), e)) - r
                } (e) + "]"
            },
            Os = function(e, t) {
                var n, r, o, i, a, s = [];
                return n = t.container(),
                r = t.offset(),
                ks(n) ? o = function(e, t) {
                    for (; (e = e.previousSibling) && ks(e);) t += e.data.length;
                    return t
                } (n, r) : (r >= (i = n.childNodes).length ? (o = "after", r = i.length - 1) : o = "before", n = i[r]),
                s.push(As(n)),
                a = function(e, t, n) {
                    var r = [];
                    for (t = t.parentNode; ! (t === e || n && n(t)); t = t.parentNode) r.push(t);
                    return r
                } (e, n),
                a = Ut.filter(a, ga.negate(Eo.isBogus)),
                (s = s.concat(Ut.map(a,
                function(e) {
                    return As(e)
                }))).reverse().join("/") + "," + o
            },
            Ds = function(e, t) {
                var n, r, o;
                return t ? (n = t.split(","), t = n[0].split("/"), o = n.length > 1 ? n[1] : "before", (r = Ut.reduce(t,
                function(e, t) {
                    return (t = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)) ? ("text()" === t[1] && (t[1] = "#text"), n = e, r = t[1], o = parseInt(t[2], 10), i = Ns(n), i = Ut.filter(i,
                    function(e, t) {
                        return ! ks(e) || !ks(i[t - 1])
                    }), (i = Ut.filter(i, Eo.matchNodeNames(r)))[o]) : null;
                    var n, r, o, i
                }, e)) ? ks(r) ?
                function(e, t) {
                    for (var n, r = e,
                    o = 0; ks(r);) {
                        if (n = r.data.length, t >= o && t <= o + n) {
                            e = r,
                            t -= o;
                            break
                        }
                        if (!ks(r.nextSibling)) {
                            e = r,
                            t = n;
                            break
                        }
                        o += n,
                        r = r.nextSibling
                    }
                    return ks(e) && t > e.data.length && (t = e.data.length),
                    _s(e, t)
                } (r, parseInt(o, 10)) : (o = "after" === o ? Ts(r) + 1 : Ts(r), _s(r.parentNode, o)) : null) : null
            },
            Ps = Eo.isContentEditableFalse,
            Bs = function(e, t, n, r, o) {
                var i, a = r[o ? "startContainer": "endContainer"],
                s = r[o ? "startOffset": "endOffset"],
                l = [],
                u = 0,
                c = e.getRoot();
                for (Eo.isText(a) ? l.push(n ?
                function(e, t, n) {
                    var r, o;
                    for (o = e(t.data.slice(0, n)).length, r = t.previousSibling; r && Eo.isText(r); r = r.previousSibling) o += e(r.data).length;
                    return o
                } (t, a, s) : s) : (s >= (i = a.childNodes).length && i.length && (u = 1, s = Math.max(0, i.length - 1)), l.push(e.nodeIndex(i[s], n) + u)); a && a !== c; a = a.parentNode) l.push(e.nodeIndex(a, n));
                return l
            },
            Ms = function(e) {
                Eo.isText(e) && 0 === e.data.length && e.parentNode.removeChild(e)
            },
            Is = function(e, t, n) {
                var r = 0;
                return Kt.each(e.select(t),
                function(e) {
                    if ("all" !== e.getAttribute("data-mce-bogus")) return e !== n && void r++
                }),
                r
            },
            Ls = function(e, t) {
                var n, r, o, i = t ? "start": "end";
                n = e[i + "Container"],
                r = e[i + "Offset"],
                Eo.isElement(n) && "TR" === n.nodeName && (n = (o = n.childNodes)[Math.min(t ? r: r - 1, o.length - 1)]) && (r = t ? 0 : n.childNodes.length, e["set" + (t ? "Start": "End")](n, r))
            },
            Fs = function(e) {
                return Ls(e, !0),
                Ls(e, !1),
                e
            },
            Ws = function(e, t) {
                var n;
                if (Eo.isElement(e) && (e = Za(e, t), Ps(e))) return e;
                if (ka(e)) {
                    if (Eo.isText(e) && Ca(e) && (e = e.parentNode), n = e.previousSibling, Ps(n)) return n;
                    if (n = e.nextSibling, Ps(n)) return n
                }
            },
            Hs = function(e, t, n) {
                var r = n.getNode(),
                o = r ? r.nodeName: null,
                i = n.getRng();
                if (Ps(r) || "IMG" === o) return {
                    name: o,
                    index: Is(n.dom, o, r)
                };
                var a = function(e) {
                    return Ws(e.startContainer, e.startOffset) || Ws(e.endContainer, e.endOffset)
                } (i);
                return a ? {
                    name: o = a.tagName,
                    index: Is(n.dom, o, a)
                }: function(e, t, n, r) {
                    var o = t.dom,
                    i = {};
                    return i.start = Bs(o, e, n, r, !0),
                    t.isCollapsed() || (i.end = Bs(o, e, n, r, !1)),
                    i
                } (e, n, t, i)
            },
            js = function(e, t, n) {
                var r = {
                    "data-mce-type": "bookmark",
                    id: t,
                    style: "overflow:hidden;line-height:0px"
                };
                return n ? e.create("span", r, "&#xFEFF;") : e.create("span", r)
            },
            Us = function(e, t) {
                var n = e.dom,
                r = e.getRng(),
                o = n.uniqueId(),
                i = e.isCollapsed(),
                a = e.getNode(),
                s = a.nodeName;
                if ("IMG" === s) return {
                    name: s,
                    index: Is(n, s, a)
                };
                var l = Fs(r.cloneRange());
                if (!i) {
                    l.collapse(!1);
                    var u = js(n, o + "_end", t);
                    l.insertNode(u),
                    Ms(u.nextSibling)
                } (r = Fs(r)).collapse(!0);
                var c = js(n, o + "_start", t);
                return r.insertNode(c),
                Ms(c.previousSibling),
                Ms(c.nextSibling),
                e.moveToBookmark({
                    id: o,
                    keep: 1
                }),
                {
                    id: o
                }
            },
            zs = {
                getBookmark: function(e, t, n) {
                    return 2 === t ? Hs(ya, n, e) : 3 === t ?
                    function(e) {
                        var t = e.getRng();
                        return {
                            start: Os(e.dom.getRoot(), _s.fromRangeStart(t)),
                            end: Os(e.dom.getRoot(), _s.fromRangeEnd(t))
                        }
                    } (e) : t ?
                    function(e) {
                        return {
                            rng: e.getRng()
                        }
                    } (e) : Us(e, !1)
                },
                getUndoBookmark: b(Hs, v, !0),
                getPersistentBookmark: Us
            },
            Vs = function(e) {
                return Eo.isElement(e) && "_mce_caret" === e.id
            },
            $s = function(e, t) {
                for (; t && t !== e;) {
                    if ("_mce_caret" === t.id) return t;
                    t = t.parentNode
                }
                return null
            },
            qs = Eo.isElement,
            Ks = Eo.isText,
            Ys = function(e) {
                var t = e.parentNode;
                t && t.removeChild(e)
            },
            Xs = function(e, t) {
                0 === t.length ? Ys(e) : e.nodeValue = t
            },
            Gs = function(e) {
                var t = ya(e);
                return {
                    count: e.length - t.length,
                    text: t
                }
            },
            Js = function(e, t) {
                return el(e),
                t
            },
            Qs = function(e, t) {
                var n, r, o, i = t.container(),
                a = (n = Z(i.childNodes), r = e, o = M(n, r), -1 === o ? T.none() : T.some(o)).map(function(e) {
                    return e < t.offset() ? _s(i, t.offset() - 1) : t
                }).getOr(t);
                return el(e),
                a
            },
            Zs = function(e, t) {
                return Ks(e) && t.container() === e ?
                function(e, t) {
                    var n = Gs(e.data.substr(0, t.offset())),
                    r = Gs(e.data.substr(t.offset())),
                    o = n.text + r.text;
                    return o.length > 0 ? (Xs(e, o), _s(e, t.offset() - n.count)) : t
                } (e, t) : Js(e, t)
            },
            el = function(e) {
                if (qs(e) && ka(e) && (Ea(e) ? e.removeAttribute("data-mce-caret") : Ys(e)), Ks(e)) {
                    var t = ya(function(e) {
                        try {
                            return e.nodeValue
                        } catch(e) {
                            return ""
                        }
                    } (e));
                    Xs(e, t)
                }
            },
            tl = {
                removeAndReposition: function(e, t) {
                    return _s.isTextPosition(t) ? Zs(e, t) : function(e, t) {
                        return t.container() === e.parentNode ? Qs(e, t) : Js(e, t)
                    } (e, t)
                },
                remove: el
            },
            nl = Eo.isContentEditableTrue,
            rl = Eo.isContentEditableFalse,
            ol = function(e, t, n, r, o) {
                return t._selectionOverrides.showCaret(e, n, r, o)
            },
            il = function(e, t) {
                return e.fire("BeforeObjectSelected", {
                    target: t
                }).isDefaultPrevented() ? null: function(e) {
                    var t = e.ownerDocument.createRange();
                    return t.selectNode(e),
                    t
                } (t)
            },
            al = function(e, t, n) {
                var r = Cu(1, e.getBody(), t),
                o = _s.fromRangeStart(r),
                i = o.getNode();
                if (rl(i)) return ol(1, e, i, !o.isAtEnd(), !1);
                var a = o.getNode(!0);
                if (rl(a)) return ol(1, e, a, !1, !1);
                var s = e.dom.getParent(o.getNode(),
                function(e) {
                    return rl(e) || nl(e)
                });
                return rl(s) ? ol(1, e, s, !1, n) : null
            },
            sl = function(e, t, n) {
                if (!t || !t.collapsed) return t;
                var r = al(e, t, n);
                return r || t
            }; !
            function(e) {
                e[e.Backwards = -1] = "Backwards",
                e[e.Forwards = 1] = "Forwards"
            } (Cs || (Cs = {}));
            var ll, ul = Eo.isContentEditableFalse,
            cl = Eo.isText,
            dl = Eo.isElement,
            fl = Eo.isBr,
            ml = Ha,
            pl = Ua,
            hl = za,
            gl = function(e, t) {
                return e.hasChildNodes() && t < e.childNodes.length ? e.childNodes[t] : null
            },
            vl = function(e, t) {
                if (cu(e)) {
                    if (ml(t.previousSibling) && !cl(t.previousSibling)) return _s.before(t);
                    if (cl(t)) return _s(t, 0)
                }
                if (du(e)) {
                    if (ml(t.nextSibling) && !cl(t.nextSibling)) return _s.after(t);
                    if (cl(t)) return _s(t, t.data.length)
                }
                return du(e) ? fl(t) ? _s.before(t) : _s.after(t) : _s.before(t)
            },
            bl = function(e, t, n) {
                var r, o, i, a, s;
                if (!dl(n) || !t) return null;
                if (t.isEqual(_s.after(n)) && n.lastChild) {
                    if (s = _s.after(n.lastChild), du(e) && ml(n.lastChild) && dl(n.lastChild)) return fl(n.lastChild) ? _s.before(n.lastChild) : s
                } else s = t;
                var l = s.container(),
                u = s.offset();
                if (cl(l)) {
                    if (du(e) && u > 0) return _s(l, --u);
                    if (cu(e) && u < l.length) return _s(l, ++u);
                    r = l
                } else {
                    if (du(e) && u > 0 && (o = gl(l, u - 1), ml(o))) return ! pl(o) && (i = mu(o, e, hl, o)) ? cl(i) ? _s(i, i.data.length) : _s.after(i) : cl(o) ? _s(o, o.data.length) : _s.before(o);
                    if (cu(e) && u < l.childNodes.length && (o = gl(l, u), ml(o))) return fl(o) && n.lastChild === o ? null: function(e, t) {
                        var n;
                        return ! (!Eo.isBr(e) || Ua(e.nextSibling) || !(n = bl(Cs.Forwards, _s.after(e), t)) || hu(_s.before(e), _s.before(n), t))
                    } (o, n) ? bl(e, _s.after(o), n) : !pl(o) && (i = mu(o, e, hl, o)) ? cl(i) ? _s(i, 0) : _s.before(i) : cl(o) ? _s(o, 0) : _s.after(o);
                    r = o || s.getNode()
                }
                return (cu(e) && s.isAtEnd() || du(e) && s.isAtStart()) && (r = mu(r, e, ga.constant(!0), n, !0), hl(r, n)) ? vl(e, r) : (o = mu(r, e, hl, n), !(a = Ut.last(Ut.filter(function(e, t) {
                    for (var n = []; e && e !== t;) n.push(e),
                    e = e.parentNode;
                    return n
                } (l, n), ul))) || o && a.contains(o) ? o ? vl(e, o) : null: s = cu(e) ? _s.after(a) : _s.before(a))
            },
            yl = function(e) {
                return {
                    next: function(t) {
                        return bl(Cs.Forwards, t, e)
                    },
                    prev: function(t) {
                        return bl(Cs.Backwards, t, e)
                    }
                }
            }; !
            function(e) {
                e[e.Br = 0] = "Br",
                e[e.Block = 1] = "Block",
                e[e.Wrap = 2] = "Wrap",
                e[e.Eol = 3] = "Eol"
            } (ll || (ll = {}));
            var wl = function(e, t) {
                return e === Cs.Backwards ? t.reverse() : t
            },
            xl = function(e, t, n) {
                return e === Cs.Forwards ? t.next(n) : t.prev(n)
            },
            Cl = function(e, t, n, r) {
                return Eo.isBr(r.getNode(t === Cs.Forwards)) ? ll.Br: !1 === hu(n, r) ? ll.Block: ll.Wrap
            },
            _l = function(e, t, n, r) {
                for (var o, i = yl(n), a = r, s = []; a && (o = xl(t, i, a));) {
                    if (Eo.isBr(o.getNode(!1))) return t === Cs.Forwards ? {
                        positions: wl(t, s).concat([o]),
                        breakType: ll.Br,
                        breakAt: T.some(o)
                    }: {
                        positions: wl(t, s),
                        breakType: ll.Br,
                        breakAt: T.some(o)
                    };
                    if (o.isVisible()) {
                        if (e(a, o)) {
                            var l = Cl(0, t, a, o);
                            return {
                                positions: wl(t, s),
                                breakType: l,
                                breakAt: T.some(o)
                            }
                        }
                        s.push(o),
                        a = o
                    } else a = o
                }
                return {
                    positions: wl(t, s),
                    breakType: ll.Eol,
                    breakAt: T.none()
                }
            },
            kl = function(e, t, n, r) {
                return t(n, r).breakAt.map(function(r) {
                    var o = t(n, r).positions;
                    return e === Cs.Backwards ? o.concat(r) : [r].concat(o)
                }).getOr([])
            },
            El = function(e, t) {
                return U(e,
                function(e, n) {
                    return e.fold(function() {
                        return T.some(n)
                    },
                    function(r) {
                        return ns([J(r.getClientRects()), J(n.getClientRects())],
                        function(e, o) {
                            var i = Math.abs(t - e.left);
                            return Math.abs(t - o.left) <= i ? n: r
                        }).or(e)
                    })
                },
                T.none())
            },
            Tl = function(e, t) {
                return J(t.getClientRects()).bind(function(t) {
                    return El(e, t.left)
                })
            },
            Sl = b(_l, xs.isAbove, -1),
            Nl = b(_l, xs.isBelow, 1),
            Rl = b(kl, -1, Sl),
            Al = b(kl, 1, Nl),
            Ol = function(e, t, n, r, o) {
                var i = Wi(qn.fromDom(n), "td,th,caption").map(function(e) {
                    return e.dom()
                });
                return function(e, t, n) {
                    return U(e,
                    function(e, r) {
                        return e.fold(function() {
                            return T.some(r)
                        },
                        function(e) {
                            var o = Math.sqrt(Math.abs(e.x - t) + Math.abs(e.y - n)),
                            i = Math.sqrt(Math.abs(r.x - t) + Math.abs(r.y - n));
                            return T.some(i < o ? r: e)
                        })
                    },
                    T.none())
                } (j(function(e, t) {
                    return K(t,
                    function(t) {
                        var n = function(e, t) {
                            return {
                                left: e.left - t,
                                top: e.top - t,
                                right: e.right + 2 * t,
                                bottom: e.bottom + 2 * t,
                                width: e.width + t,
                                height: e.height + t
                            }
                        } ($a(t.getBoundingClientRect()), -1);
                        return [{
                            x: n.left,
                            y: e(n),
                            cell: t
                        },
                        {
                            x: n.right,
                            y: e(n),
                            cell: t
                        }]
                    })
                } (e, i),
                function(e) {
                    return t(e, o)
                }), r, o).map(function(e) {
                    return e.cell
                })
            },
            Dl = b(Ol,
            function(e) {
                return e.bottom
            },
            function(e, t) {
                return e.y < t
            }),
            Pl = b(Ol,
            function(e) {
                return e.top
            },
            function(e, t) {
                return e.y > t
            }),
            Bl = function(e, t) {
                return J(t.getClientRects()).bind(function(t) {
                    return Dl(e, t.left, t.top)
                }).bind(function(e) {
                    return Tl((n = e, Lu.lastPositionIn(n).map(function(e) {
                        return Sl(n, e).positions.concat(e)
                    }).getOr([])), t);
                    var n
                })
            }, Ml = function(e, t) {
                return Q(t.getClientRects()).bind(function(t) {
                    return Pl(e, t.left, t.top)
                }).bind(function(e) {
                    return Tl((n = e, Lu.firstPositionIn(n).map(function(e) {
                        return [e].concat(Nl(n, e).positions)
                    }).getOr([])), t);
                    var n
                })
            }, Il = function(e) {
                for (var t = 0,
                n = 0,
                r = e; r && r.nodeType;) t += r.offsetLeft || 0,
                n += r.offsetTop || 0,
                r = r.offsetParent;
                return {
                    x: t,
                    y: n
                }
            },
            Ll = function(e, t, n) {
                var r, o, i, a, s = e.dom,
                l = s.getRoot(),
                u = 0;
                if (!
                function(e, t, n) {
                    var r = {
                        elm: t,
                        alignToTop: n
                    };
                    return e.fire("scrollIntoView", r),
                    r.isDefaultPrevented()
                } (e, t, n) && Eo.isElement(t)) {
                    if (!1 === n && (u = t.offsetHeight), "BODY" !== l.nodeName) {
                        var c = e.selection.getScrollContainer();
                        if (c) return r = Il(t).y - Il(c).y + u,
                        a = c.clientHeight,
                        void((r < (i = c.scrollTop) || r + 25 > i + a) && (c.scrollTop = r < i ? r: r - a + 25))
                    }
                    o = s.getViewPort(e.getWin()),
                    r = s.getPos(t).y + u,
                    i = o.y,
                    a = o.h,
                    (r < o.y || r + 25 > i + a) && e.getWin().scrollTo(0, r < i ? r: r - a + 25)
                }
            },
            Fl = function(e, t) {
                J(xs.fromRangeStart(t).getClientRects()).each(function(t) {
                    var n, r, o = function(e) {
                        if (e.inline) return e.getBody().getBoundingClientRect();
                        var t = e.getWin();
                        return {
                            left: 0,
                            right: t.innerWidth,
                            top: 0,
                            bottom: t.innerHeight,
                            width: t.innerWidth,
                            height: t.innerHeight
                        }
                    } (e),
                    i = {
                        x: Ga(n = o, r = t),
                        y: Ja(n, r)
                    }; !
                    function(e, t, n) {
                        e.inline ? (e.getBody().scrollLeft += t, e.getBody().scrollTop += n) : e.getWin().scrollBy(t, n)
                    } (e, 0 !== i.x ? i.x > 0 ? i.x + 4 : i.x - 4 : 0, 0 !== i.y ? i.y > 0 ? i.y + 4 : i.y - 4 : 0)
                })
            },
            Wl = function(e, t, n) {
                var r = e.getParam(t, n);
                if ( - 1 !== r.indexOf("=")) {
                    var o = e.getParam(t, "", "hash");
                    return o.hasOwnProperty(e.id) ? o[e.id] : n
                }
                return r
            },
            Hl = {
                getIframeAttrs: function(e) {
                    return e.getParam("iframe_attrs", {})
                },
                getDocType: function(e) {
                    return e.getParam("doctype", "<!DOCTYPE html>")
                },
                getDocumentBaseUrl: function(e) {
                    return e.getParam("document_base_url", "")
                },
                getBodyId: function(e) {
                    return Wl(e, "body_id", "tinymce")
                },
                getBodyClass: function(e) {
                    return Wl(e, "body_class", "")
                },
                getContentSecurityPolicy: function(e) {
                    return e.getParam("content_security_policy", "")
                },
                shouldPutBrInPre: function(e) {
                    return e.getParam("br_in_pre", !0)
                },
                getForcedRootBlock: function(e) {
                    if (e.getParam("force_p_newlines", !1)) return "p";
                    var t = e.getParam("forced_root_block", "p");
                    return ! 1 === t ? "": t
                },
                getForcedRootBlockAttrs: function(e) {
                    return e.getParam("forced_root_block_attrs", {})
                },
                getBrNewLineSelector: function(e) {
                    return e.getParam("br_newline_selector", ".mce-toc h2,figcaption,caption")
                },
                getNoNewLineSelector: function(e) {
                    return e.getParam("no_newline_selector", "")
                },
                shouldKeepStyles: function(e) {
                    return e.getParam("keep_styles", !0)
                },
                shouldEndContainerOnEmptyBlock: function(e) {
                    return e.getParam("end_container_on_empty_block", !1)
                },
                getFontStyleValues: function(e) {
                    return Kt.explode(e.getParam("font_size_style_values", ""))
                },
                getFontSizeClasses: function(e) {
                    return Kt.explode(e.getParam("font_size_classes", ""))
                },
                getImagesDataImgFilter: function(e) {
                    return e.getParam("images_dataimg_filter", g(!0), "function")
                },
                isAutomaticUploadsEnabled: function(e) {
                    return e.getParam("automatic_uploads", !0, "boolean")
                },
                shouldReuseFileName: function(e) {
                    return e.getParam("images_reuse_filename", !1, "boolean")
                },
                shouldReplaceBlobUris: function(e) {
                    return e.getParam("images_replace_blob_uris", !0, "boolean")
                },
                getImageUploadUrl: function(e) {
                    return e.getParam("images_upload_url", "", "string")
                },
                getImageUploadBasePath: function(e) {
                    return e.getParam("images_upload_base_path", "", "string")
                },
                getImagesUploadCredentials: function(e) {
                    return e.getParam("images_upload_credentials", !1, "boolean")
                },
                getImagesUploadHandler: function(e) {
                    return e.getParam("images_upload_handler", null, "function")
                }
            },
            jl = Vn.detect().browser,
            Ul = function() {
                return jl.isIE() || jl.isEdge() || jl.isFirefox()
            },
            zl = function(e, t) {
                e.selection.setRng(t),
                Fl(e, t)
            },
            Vl = function(e, t, n) {
                var r = e(t, n);
                return function(e) {
                    return e.breakType === ll.Wrap && 0 === e.positions.length
                } (r) || !Eo.isBr(n.getNode()) &&
                function(e) {
                    return e.breakType === ll.Br && 1 === e.positions.length
                } (r) ? !
                function(e, t, n) {
                    return n.breakAt.map(function(n) {
                        return e(t, n).breakAt.isSome()
                    }).getOr(!1)
                } (e, t, r) : r.breakAt.isNone()
            },
            $l = ga.curry(Vl, Sl),
            ql = ga.curry(Vl, Nl),
            Kl = function(e, t, n, r) {
                var o = e.selection.getRng(),
                i = t ? 1 : -1;
                if (Ul() &&
                function(e, t, n) {
                    var r = _s.fromRangeStart(t);
                    return Lu.positionIn(!e, n).map(function(e) {
                        return e.isEqual(r)
                    }).getOr(!1)
                } (t, o, n)) {
                    var a = ol(i, e, n, !t, !0);
                    return zl(e, a),
                    !0
                }
                return ! 1
            },
            Yl = function(e, t) {
                var n = t.getNode(e);
                return Eo.isElement(n) && "TABLE" === n.nodeName ? T.some(n) : T.none()
            },
            Xl = function(e, t, n) {
                var r = Yl( !! t, n),
                o = !1 === t;
                r.fold(function() {
                    return zl(e, n.toRange())
                },
                function(r) {
                    return Lu.positionIn(o, e.getBody()).filter(function(e) {
                        return e.isEqual(n)
                    }).fold(function() {
                        return zl(e, n.toRange())
                    },
                    function(o) {
                        return function(e, t, n, r) {
                            var o = Hl.getForcedRootBlock(t);
                            o ? t.undoManager.transact(function() {
                                var r = qn.fromTag(o);
                                ur.setAll(r, Hl.getForcedRootBlockAttrs(t)),
                                bi.append(r, qn.fromTag("br")),
                                e ? bi.after(qn.fromDom(n), r) : bi.before(qn.fromDom(n), r);
                                var i = t.dom.createRng();
                                i.setStart(r.dom(), 0),
                                i.setEnd(r.dom(), 0),
                                zl(t, i)
                            }) : zl(t, r.toRange())
                        } (t, e, r, n)
                    })
                })
            },
            Gl = function(e, t, n, r) {
                var o = e.selection.getRng(),
                i = _s.fromRangeStart(o),
                a = e.getBody();
                if (!t && $l(r, i)) {
                    var s = function(e, t, n) {
                        return Bl(t, n).orThunk(function() {
                            return J(n.getClientRects()).bind(function(n) {
                                return El(Rl(e, _s.before(t)), n.left)
                            })
                        }).getOr(_s.before(t))
                    } (a, n, i);
                    return Xl(e, t, s),
                    !0
                }
                return ! (!t || !ql(r, i)) && (s = function(e, t, n) {
                    return Ml(t, n).orThunk(function() {
                        return J(n.getClientRects()).bind(function(n) {
                            return El(Al(e, _s.after(t)), n.left)
                        })
                    }).getOr(_s.after(t))
                } (a, n, i), Xl(e, t, s), !0)
            },
            Jl = function(e, t) {
                return function() {
                    return T.from(e.dom.getParent(e.selection.getNode(), "td,th")).bind(function(n) {
                        return T.from(e.dom.getParent(n, "table")).map(function(n) {
                            return Kl(e, t, n)
                        })
                    }).getOr(!1)
                }
            },
            Ql = function(e, t) {
                return function() {
                    return T.from(e.dom.getParent(e.selection.getNode(), "td,th")).bind(function(n) {
                        return T.from(e.dom.getParent(n, "table")).map(function(r) {
                            return Gl(e, t, r, n)
                        })
                    }).getOr(!1)
                }
            },
            Zl = Eo.isContentEditableFalse,
            eu = function(e, t, n) {
                var r, o, i, a, s, l = qa(t.getBoundingClientRect(), n);
                return "BODY" === e.tagName ? (r = e.ownerDocument.documentElement, o = e.scrollLeft || r.scrollLeft, i = e.scrollTop || r.scrollTop) : (s = e.getBoundingClientRect(), o = e.scrollLeft - s.left, i = e.scrollTop - s.top),
                l.left += o,
                l.right += o,
                l.top += i,
                l.bottom += i,
                l.width = 1,
                (a = t.offsetWidth - t.clientWidth) > 0 && (n && (a *= -1), l.left += a, l.right += a),
                l
            },
            tu = function(e, t, n) {
                var r, o, i = ki(T.none()),
                a = function() { !
                    function(e) {
                        var t, n, r, o, i;
                        for (t = mn("*[contentEditable=false]", e), o = 0; o < t.length; o++) r = (n = t[o]).previousSibling,
                        Aa(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(i.length - 1, 1)),
                        r = n.nextSibling,
                        Ra(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(0, 1))
                    } (e),
                    o && (tl.remove(o), o = null),
                    i.get().each(function(e) {
                        mn(e.caret).remove(),
                        i.set(T.none())
                    }),
                    clearInterval(r)
                },
                s = function() {
                    r = De.setInterval(function() {
                        n() ? mn("div.mce-visual-caret", e).toggleClass("mce-visual-caret-hidden") : mn("div.mce-visual-caret", e).addClass("mce-visual-caret-hidden")
                    },
                    500)
                };
                return {
                    show: function(n, r) {
                        var l, u, c;
                        if (a(), c = r, Eo.isElement(c) && /^(TD|TH)$/i.test(c.tagName)) return null;
                        if (!t(r)) return o = function(e, t) {
                            var n, r, o;
                            if (r = e.ownerDocument.createTextNode(ba), o = e.parentNode, t) {
                                if (n = e.previousSibling, xa(n)) {
                                    if (ka(n)) return n;
                                    if (Aa(n)) return n.splitText(n.data.length - 1)
                                }
                                o.insertBefore(r, e)
                            } else {
                                if (n = e.nextSibling, xa(n)) {
                                    if (ka(n)) return n;
                                    if (Ra(n)) return n.splitText(1),
                                    n
                                }
                                e.nextSibling ? o.insertBefore(r, e.nextSibling) : o.appendChild(r)
                            }
                            return r
                        } (r, n),
                        u = r.ownerDocument.createRange(),
                        Zl(o.nextSibling) ? (u.setStart(o, 0), u.setEnd(o, 0)) : (u.setStart(o, 1), u.setEnd(o, 1)),
                        u;
                        o = Na("p", r, n),
                        l = eu(e, r, n),
                        mn(o).css("top", l.top);
                        var d = mn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(e)[0];
                        return i.set(T.some({
                            caret: d,
                            element: r,
                            before: n
                        })),
                        i.get().each(function(e) {
                            n && mn(e.caret).addClass("mce-visual-caret-before")
                        }),
                        s(),
                        (u = r.ownerDocument.createRange()).setStart(o, 0),
                        u.setEnd(o, 0),
                        u
                    },
                    hide: a,
                    getCss: function() {
                        return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"
                    },
                    reposition: function() {
                        i.get().each(function(t) {
                            var n = eu(e, t.element, t.before);
                            mn(t.caret).css(n)
                        })
                    },
                    destroy: function() {
                        return De.clearInterval(r)
                    }
                }
            },
            nu = function(e) {
                return Zl(e) || Eo.isTable(e) && Ul()
            },
            ru = Eo.isContentEditableFalse,
            ou = Eo.matchStyleValues("display", "block table table-cell table-caption list-item"),
            iu = ka,
            au = Ca,
            su = ga.curry,
            lu = Eo.isElement,
            uu = Ha,
            cu = function(e) {
                return e > 0
            },
            du = function(e) {
                return e < 0
            },
            fu = function(e, t) {
                for (var n; n = e(t);) if (!au(n)) return n;
                return null
            },
            mu = function(e, t, n, r, o) {
                var i = new Qr(e, r);
                if (du(t)) {
                    if ((ru(e) || au(e)) && n(e = fu(i.prev, !0))) return e;
                    for (; e = fu(i.prev, o);) if (n(e)) return e
                }
                if (cu(t)) {
                    if ((ru(e) || au(e)) && n(e = fu(i.next, !0))) return e;
                    for (; e = fu(i.next, o);) if (n(e)) return e
                }
                return null
            },
            pu = function(e, t) {
                for (; e && e !== t;) {
                    if (ou(e)) return e;
                    e = e.parentNode
                }
                return null
            },
            hu = function(e, t, n) {
                return pu(e.container(), n) === pu(t.container(), n)
            },
            gu = function(e, t) {
                var n, r;
                return t ? (n = t.container(), r = t.offset(), lu(n) ? n.childNodes[r + e] : null) : null
            },
            vu = function(e, t) {
                var n = t.ownerDocument.createRange();
                return e ? (n.setStartBefore(t), n.setEndBefore(t)) : (n.setStartAfter(t), n.setEndAfter(t)),
                n
            },
            bu = function(e, t, n) {
                return pu(t, e) === pu(n, e)
            },
            yu = function(e, t, n) {
                var r, o;
                for (o = e ? "previousSibling": "nextSibling"; n && n !== t;) {
                    if (r = n[o], iu(r) && (r = r[o]), ru(r)) {
                        if (bu(t, r, n)) return r;
                        break
                    }
                    if (uu(r)) break;
                    n = n.parentNode
                }
                return null
            },
            wu = su(vu, !0),
            xu = su(vu, !1),
            Cu = function(e, t, n) {
                var r, o, i, a, s = su(yu, !0, t),
                l = su(yu, !1, t);
                if (o = n.startContainer, i = n.startOffset, Ca(o)) {
                    if (lu(o) || (o = o.parentNode), "before" === (a = o.getAttribute("data-mce-caret")) && (r = o.nextSibling, nu(r))) return wu(r);
                    if ("after" === a && (r = o.previousSibling, nu(r))) return xu(r)
                }
                if (!n.collapsed) return n;
                if (Eo.isText(o)) {
                    if (iu(o)) {
                        if (1 === e) {
                            if (r = l(o)) return wu(r);
                            if (r = s(o)) return xu(r)
                        }
                        if ( - 1 === e) {
                            if (r = s(o)) return xu(r);
                            if (r = l(o)) return wu(r)
                        }
                        return n
                    }
                    if (Aa(o) && i >= o.data.length - 1) return 1 === e && (r = l(o)) ? wu(r) : n;
                    if (Ra(o) && i <= 1) return - 1 === e && (r = s(o)) ? xu(r) : n;
                    if (i === o.data.length) return (r = l(o)) ? wu(r) : n;
                    if (0 === i) return (r = s(o)) ? xu(r) : n
                }
                return n
            },
            _u = function(e, t) {
                var n = gu(e, t);
                return ru(n) && !Eo.isBogusAll(n)
            },
            ku = function(e, t) {
                return Eo.isTable(gu(e, t))
            },
            Eu = function(e, t) {
                return T.from(gu(e ? 0 : -1, t)).filter(ru)
            },
            Tu = function(e, t, n) {
                var r = Cu(e, t, n);
                return - 1 === e ? xs.fromRangeStart(r) : xs.fromRangeEnd(r)
            },
            Su = su(_u, 0),
            Nu = su(_u, -1),
            Ru = su(ku, 0),
            Au = su(ku, -1),
            Ou = function(e) {
                return _s.isTextPosition(e) ? 0 === e.offset() : Ha(e.getNode())
            },
            Du = function(e) {
                if (_s.isTextPosition(e)) {
                    var t = e.container();
                    return e.offset() === t.data.length
                }
                return Ha(e.getNode(!0))
            },
            Pu = function(e, t) {
                return ! _s.isTextPosition(e) && !_s.isTextPosition(t) && e.getNode() === t.getNode(!0)
            },
            Bu = function(e, t, n) {
                return e ? !Pu(t, n) && (r = t, !(!_s.isTextPosition(r) && Eo.isBr(r.getNode()))) && Du(t) && Ou(n) : !Pu(n, t) && Ou(t) && Du(n);
                var r
            }, Mu = function(e, t, n) {
                var r = yl(t);
                return T.from(e ? r.next(n) : r.prev(n))
            },
            Iu = function(e, t) {
                var n, r = e ? t.firstChild: t.lastChild;
                return Eo.isText(r) ? T.some(_s(r, e ? 0 : r.data.length)) : r ? Ha(r) ? T.some(e ? _s.before(r) : (n = r, Eo.isBr(n) ? _s.before(n) : _s.after(n))) : function(e, t, n) {
                    var r = e ? _s.before(n) : _s.after(n);
                    return Mu(e, t, r)
                } (e, t, r) : T.none()
            },
            Lu = {
                fromPosition: Mu,
                nextPosition: b(Mu, !0),
                prevPosition: b(Mu, !1),
                navigate: function(e, t, n) {
                    return Mu(e, t, n).bind(function(r) {
                        return hu(n, r, t) && Bu(e, n, r) ? Mu(e, t, r) : T.some(r)
                    })
                },
                positionIn: Iu,
                firstPositionIn: b(Iu, !0),
                lastPositionIn: b(Iu, !1)
            },
            Fu = function(e, t) {
                return ! e.isBlock(t) || t.innerHTML || Se.ie || (t.innerHTML = '<br data-mce-bogus="1" />'),
                t
            },
            Wu = function(e, t) {
                return Lu.lastPositionIn(e).fold(function() {
                    return ! 1
                },
                function(e) {
                    return t.setStart(e.container(), e.offset()),
                    t.setEnd(e.container(), e.offset()),
                    !0
                })
            },
            Hu = function(e, t, n) {
                return ! (!
                function(e) {
                    return ! 1 === e.hasChildNodes()
                } (t) || !$s(e, t) || (function(e, t) {
                    var n = e.ownerDocument.createTextNode(ba);
                    e.appendChild(n),
                    t.setStart(n, 0),
                    t.setEnd(n, 0)
                } (t, n), 0))
            },
            ju = function(e, t, n, r) {
                var o, i, a, s, l = n[t ? "start": "end"],
                u = e.getRoot();
                if (l) {
                    for (a = l[0], i = u, o = l.length - 1; o >= 1; o--) {
                        if (s = i.childNodes, Hu(u, i, r)) return ! 0;
                        if (l[o] > s.length - 1) return !! Hu(u, i, r) || Wu(i, r);
                        i = s[l[o]]
                    }
                    3 === i.nodeType && (a = Math.min(l[0], i.nodeValue.length)),
                    1 === i.nodeType && (a = Math.min(l[0], i.childNodes.length)),
                    t ? r.setStart(i, a) : r.setEnd(i, a)
                }
                return ! 0
            },
            Uu = function(e) {
                return Eo.isText(e) && e.data.length > 0
            },
            zu = function(e, t, n) {
                var r, o, i, a, s, l, u = e.get(n.id + "_" + t),
                c = n.keep;
                if (u) {
                    if (r = u.parentNode, "start" === t ? (c ? u.hasChildNodes() ? (r = u.firstChild, o = 1) : Uu(u.nextSibling) ? (r = u.nextSibling, o = 0) : Uu(u.previousSibling) ? (r = u.previousSibling, o = u.previousSibling.data.length) : (r = u.parentNode, o = e.nodeIndex(u) + 1) : o = e.nodeIndex(u), s = r, l = o) : (c ? u.hasChildNodes() ? (r = u.firstChild, o = 1) : Uu(u.previousSibling) ? (r = u.previousSibling, o = u.previousSibling.data.length) : (r = u.parentNode, o = e.nodeIndex(u)) : o = e.nodeIndex(u), s = r, l = o), !c) {
                        for (a = u.previousSibling, i = u.nextSibling, Kt.each(Kt.grep(u.childNodes),
                        function(e) {
                            Eo.isText(e) && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""))
                        }); u = e.get(n.id + "_" + t);) e.remove(u, !0);
                        a && i && a.nodeType === i.nodeType && Eo.isText(a) && !Se.opera && (o = a.nodeValue.length, a.appendData(i.nodeValue), e.remove(i), s = a, l = o)
                    }
                    return T.some(_s(s, l))
                }
                return T.none()
            },
            Vu = function(e, t) {
                var n = e.dom;
                if (t) {
                    if (function(e) {
                        return Kt.isArray(e.start)
                    } (t)) return function(e, t) {
                        var n = e.createRng();
                        return ju(e, !0, t, n) && ju(e, !1, t, n) ? T.some(n) : T.none()
                    } (n, t);
                    if (function(e) {
                        return "string" == typeof e.start
                    } (t)) return T.some(function(e, t) {
                        var n, r;
                        return n = e.createRng(),
                        r = Ds(e.getRoot(), t.start),
                        n.setStart(r.container(), r.offset()),
                        r = Ds(e.getRoot(), t.end),
                        n.setEnd(r.container(), r.offset()),
                        n
                    } (n, t));
                    if (function(e) {
                        return e.hasOwnProperty("id")
                    } (t)) return function(e, t) {
                        var n, r, o = zu(e, "start", t),
                        i = zu(e, "end", t);
                        return ns([o, (n = i, r = o, n.isSome() ? n: r)],
                        function(t, n) {
                            var r = e.createRng();
                            return r.setStart(Fu(e, t.container()), t.offset()),
                            r.setEnd(Fu(e, n.container()), n.offset()),
                            r
                        })
                    } (n, t);
                    if (function(e) {
                        return e.hasOwnProperty("name")
                    } (t)) return function(e, t) {
                        return T.from(e.select(t.name)[t.index]).map(function(t) {
                            var n = e.createRng();
                            return n.selectNode(t),
                            n
                        })
                    } (n, t);
                    if (function(e) {
                        return e.hasOwnProperty("rng")
                    } (t)) return T.some(t.rng)
                }
                return T.none()
            },
            $u = {
                getBookmark: function(e, t, n) {
                    return zs.getBookmark(e, t, n)
                },
                moveToBookmark: function(e, t) {
                    Vu(e, t).each(function(t) {
                        e.setRng(t)
                    })
                },
                isBookmarkNode: function(e) {
                    return Eo.isElement(e) && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type")
                }
            },
            qu = function(e) {
                return e && /^(IMG)$/.test(e.nodeName)
            },
            Ku = function(e) {
                return e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue)
            },
            Yu = function(e, t, n) {
                return "color" !== n && "backgroundColor" !== n || (t = e.toHex(t)),
                "fontWeight" === n && 700 === t && (t = "bold"),
                "fontFamily" === n && (t = t.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")),
                "" + t
            },
            Xu = {
                isInlineBlock: qu,
                moveStart: function(e, t, n) {
                    var r, o, i, a = n.startOffset,
                    s = n.startContainer;
                    if ((n.startContainer !== n.endContainer || !qu(n.startContainer.childNodes[n.startOffset])) && 1 === s.nodeType) for (a < (i = s.childNodes).length ? r = new Qr(s = i[a], e.getParent(s, e.isBlock)) : (r = new Qr(s = i[i.length - 1], e.getParent(s, e.isBlock))).next(!0), o = r.current(); o; o = r.next()) if (3 === o.nodeType && !Ku(o)) return n.setStart(o, 0),
                    void t.setRng(n)
                },
                getNonWhiteSpaceSibling: function(e, t, n) {
                    if (e) for (t = t ? "nextSibling": "previousSibling", e = n ? e: e[t]; e; e = e[t]) if (1 === e.nodeType || !Ku(e)) return e
                },
                isTextBlock: function(e, t) {
                    return t.nodeType && (t = t.nodeName),
                    !!e.schema.getTextBlockElements()[t.toLowerCase()]
                },
                isValid: function(e, t, n) {
                    return e.schema.isValidChild(t, n)
                },
                isWhiteSpaceNode: Ku,
                replaceVars: function(e, t) {
                    return "string" != typeof e ? e = e(t) : t && (e = e.replace(/%(\w+)/g,
                    function(e, n) {
                        return t[n] || e
                    })),
                    e
                },
                isEq: function(e, t) {
                    return t = t || "",
                    e = "" + ((e = e || "").nodeName || e),
                    t = "" + (t.nodeName || t),
                    e.toLowerCase() === t.toLowerCase()
                },
                normalizeStyleValue: Yu,
                getStyle: function(e, t, n) {
                    return Yu(e, e.getStyle(t, n), n)
                },
                getTextDecoration: function(e, t) {
                    var n;
                    return e.getParent(t,
                    function(t) {
                        return (n = e.getStyle(t, "text-decoration")) && "none" !== n
                    }),
                    n
                },
                getParents: function(e, t, n) {
                    return e.getParents(t, n, e.getRoot())
                }
            },
            Gu = $u.isBookmarkNode,
            Ju = Xu.getParents,
            Qu = Xu.isWhiteSpaceNode,
            Zu = Xu.isTextBlock,
            ec = function(e, t) {
                for (void 0 === t && (t = 3 === e.nodeType ? e.length: e.childNodes.length); e && e.hasChildNodes();)(e = e.childNodes[t]) && (t = 3 === e.nodeType ? e.length: e.childNodes.length);
                return {
                    node: e,
                    offset: t
                }
            },
            tc = function(e, t) {
                for (var n = t; n;) {
                    if (1 === n.nodeType && e.getContentEditable(n)) return "false" === e.getContentEditable(n) ? n: t;
                    n = n.parentNode
                }
                return t
            },
            nc = function(e, t, n, r) {
                var o, i, a = n.nodeValue;
                return void 0 === r && (r = e ? a.length: 0),
                e ? -1 !== (o = (o = a.lastIndexOf(" ", r)) > (i = a.lastIndexOf(" ", r)) ? o: i) && !t && (o < r || !e) && o <= a.length && o++:(o = a.indexOf(" ", r), i = a.indexOf(" ", r), o = -1 !== o && ( - 1 === i || o < i) ? o: i),
                o
            },
            rc = function(e, t, n, r, o, i) {
                var a, s, l, u;
                if (3 === n.nodeType) {
                    if ( - 1 !== (l = nc(o, i, n, r))) return {
                        container: n,
                        offset: l
                    };
                    u = n
                }
                for (a = new Qr(n, e.getParent(n, e.isBlock) || t); s = a[o ? "prev": "next"]();) if (3 !== s.nodeType || Gu(s.parentNode)) {
                    if (e.isBlock(s) || Xu.isEq(s, "BR")) break
                } else if (u = s, -1 !== (l = nc(o, i, s))) return {
                    container: s,
                    offset: l
                };
                if (u) return {
                    container: u,
                    offset: r = o ? 0 : u.length
                }
            },
            oc = function(e, t, n, r, o) {
                var i, a, s, l;
                for (3 === r.nodeType && 0 === r.nodeValue.length && r[o] && (r = r[o]), i = Ju(e, r), a = 0; a < i.length; a++) for (s = 0; s < t.length; s++) if (! ("collapsed" in (l = t[s]) && l.collapsed !== n.collapsed) && e.is(i[a], l.selector)) return i[a];
                return r
            },
            ic = function(e, t, n, r) {
                var o, i = e.dom,
                a = i.getRoot();
                if (t[0].wrapper || (o = i.getParent(n, t[0].block, a)), !o) {
                    var s = i.getParent(n, "LI,TD,TH");
                    o = i.getParent(3 === n.nodeType ? n.parentNode: n,
                    function(t) {
                        return t !== a && Zu(e, t)
                    },
                    s)
                }
                if (o && t[0].wrapper && (o = Ju(i, o, "ul,ol").reverse()[0] || o), !o) for (o = n; o[r] && !i.isBlock(o[r]) && (o = o[r], !Xu.isEq(o, "br")););
                return o || n
            },
            ac = function(e, t, n, r, o, i, a) {
                var s, l, u, c, d, f;
                if (s = l = a ? n: o, c = a ? "previousSibling": "nextSibling", d = e.getRoot(), 3 === s.nodeType && !Qu(s) && (a ? r > 0 : i < s.nodeValue.length)) return s;
                for (;;) {
                    if (!t[0].block_expand && e.isBlock(l)) return l;
                    for (u = l[c]; u; u = u[c]) if (!Gu(u) && !Qu(u) && ("BR" !== (f = u).nodeName || !f.getAttribute("data-mce-bogus") || f.nextSibling)) return l;
                    if (l === d || l.parentNode === d) {
                        s = l;
                        break
                    }
                    l = l.parentNode
                }
                return s
            },
            sc = function(e, t, n, r) {
                var o, i = t.startContainer,
                a = t.startOffset,
                s = t.endContainer,
                l = t.endOffset,
                u = e.dom;
                return 1 === i.nodeType && i.hasChildNodes() && 3 === (i = Za(i, a)).nodeType && (a = 0),
                1 === s.nodeType && s.hasChildNodes() && 3 === (s = Za(s, t.collapsed ? l: l - 1)).nodeType && (l = s.nodeValue.length),
                i = tc(u, i),
                s = tc(u, s),
                (Gu(i.parentNode) || Gu(i)) && (i = Gu(i) ? i: i.parentNode, 3 === (i = t.collapsed ? i.previousSibling || i: i.nextSibling || i).nodeType && (a = t.collapsed ? i.length: 0)),
                (Gu(s.parentNode) || Gu(s)) && (s = Gu(s) ? s: s.parentNode, 3 === (s = t.collapsed ? s.nextSibling || s: s.previousSibling || s).nodeType && (l = t.collapsed ? 0 : s.length)),
                t.collapsed && ((o = rc(u, e.getBody(), i, a, !0, r)) && (i = o.container, a = o.offset), (o = rc(u, e.getBody(), s, l, !1, r)) && (s = o.container, l = o.offset)),
                n[0].inline && (s = r ? s: function(e, t) {
                    var n = ec(e, t);
                    if (n.node) {
                        for (; n.node && 0 === n.offset && n.node.previousSibling;) n = ec(n.node.previousSibling);
                        n.node && n.offset > 0 && 3 === n.node.nodeType && " " === n.node.nodeValue.charAt(n.offset - 1) && n.offset > 1 && (e = n.node).splitText(n.offset - 1)
                    }
                    return e
                } (s, l)),
                (n[0].inline || n[0].block_expand) && (n[0].inline && 3 === i.nodeType && 0 !== a || (i = ac(u, n, i, a, s, l, !0)), n[0].inline && 3 === s.nodeType && l !== s.nodeValue.length || (s = ac(u, n, i, a, s, l, !1))),
                n[0].selector && !1 !== n[0].expand && !n[0].inline && (i = oc(u, n, t, i, "previousSibling"), s = oc(u, n, t, s, "nextSibling")),
                (n[0].block || n[0].selector) && (i = ic(e, n, i, "previousSibling"), s = ic(e, n, s, "nextSibling"), n[0].block && (u.isBlock(i) || (i = ac(u, n, i, a, s, l, !0)), u.isBlock(s) || (s = ac(u, n, i, a, s, l, !1)))),
                1 === i.nodeType && (a = u.nodeIndex(i), i = i.parentNode),
                1 === s.nodeType && (l = u.nodeIndex(s) + 1, s = s.parentNode),
                {
                    startContainer: i,
                    startOffset: a,
                    endContainer: s,
                    endOffset: l
                }
            },
            lc = Kt.each,
            uc = {
                walk: function(e, t, n) {
                    var r, o, i, a, s, l, u, c = t.startContainer,
                    d = t.startOffset,
                    f = t.endContainer,
                    m = t.endOffset;
                    if ((u = e.select("td[data-mce-selected],th[data-mce-selected]")).length > 0) lc(u,
                    function(e) {
                        n([e])
                    });
                    else {
                        var p, h, g, v = function(e) {
                            var t;
                            return 3 === (t = e[0]).nodeType && t === c && d >= t.nodeValue.length && e.splice(0, 1),
                            t = e[e.length - 1],
                            0 === m && e.length > 0 && t === f && 3 === t.nodeType && e.splice(e.length - 1, 1),
                            e
                        },
                        b = function(e, t, n) {
                            for (var r = []; e && e !== n; e = e[t]) r.push(e);
                            return r
                        },
                        y = function(e, t) {
                            do {
                                if (e.parentNode === t) return e;
                                e = e.parentNode
                            } while ( e )
                        },
                        w = function(e, t, r) {
                            var o = r ? "nextSibling": "previousSibling";
                            for (s = (a = e).parentNode; a && a !== t; a = s) s = a.parentNode,
                            (l = b(a === e ? a: a[o], o)).length && (r || l.reverse(), n(v(l)))
                        };
                        if (1 === c.nodeType && c.hasChildNodes() && (c = c.childNodes[d]), 1 === f.nodeType && f.hasChildNodes() && (h = m, g = (p = f).childNodes, --h > g.length - 1 ? h = g.length - 1 : h < 0 && (h = 0), f = g[h] || p), c === f) return n(v([c]));
                        for (r = e.findCommonAncestor(c, f), a = c; a; a = a.parentNode) {
                            if (a === f) return w(c, r, !0);
                            if (a === r) break
                        }
                        for (a = f; a; a = a.parentNode) {
                            if (a === c) return w(f, r);
                            if (a === r) break
                        }
                        o = y(c, r) || c,
                        i = y(f, r) || f,
                        w(c, o, !0),
                        (l = b(o === c ? o: o.nextSibling, "nextSibling", i === f ? i.nextSibling: i)).length && n(v(l)),
                        w(f, i)
                    }
                }
            },
            cc = function(e, t) {
                var n = function(t) {
                    return e(t) ? T.from(t.dom().nodeValue) : T.none()
                },
                r = Vn.detect().browser,
                o = r.isIE() && 10 === r.version.major ?
                function(e) {
                    try {
                        return n(e)
                    } catch(e) {
                        return T.none()
                    }
                }: n;
                return {
                    get: function(n) {
                        if (!e(n)) throw new Error("Can only get " + t + " value of a " + t + " node");
                        return o(n).getOr("")
                    },
                    getOption: o,
                    set: function(n, r) {
                        if (!e(n)) throw new Error("Can only set raw " + t + " value of a " + t + " node");
                        n.dom().nodeValue = r
                    }
                }
            } (er.isText, "text"),
            dc = function(e) {
                return cc.get(e)
            },
            fc = function(e, t, n, r) {
                return Fr.parent(t).fold(function() {
                    return "skipping"
                },
                function(o) {
                    return "br" === r ||
                    function(e) {
                        return er.isText(e) && "\ufeff" === dc(e)
                    } (t) ? "valid": function(e) {
                        return er.isElement(e) && Fi.has(e, Xi())
                    } (t) ? "existing": Vs(t) ? "caret": Xu.isValid(e, n, r) && Xu.isValid(e, er.name(o), n) ? "valid": "invalid-child"
                })
            },
            mc = function(e, t) {
                var n = {};
                for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                    var o = 0;
                    for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && (n[r[o]] = e[r[o]])
                }
                return n
            },
            pc = function(e, t, n, r) {
                var o, i, a = t.uid,
                s = void 0 === a ? (o = "mce-annotation", i = (new Date).getTime(), o + "_" + Math.floor(1e9 * Math.random()) + ++oa + String(i)) : a,
                l = mc(t, ["uid"]),
                u = qn.fromTag("span", e);
                Fi.add(u, Xi()),
                ur.set(u, "" + Ji(), s),
                ur.set(u, "" + Gi(), n);
                var c = r(s, l),
                d = c.attributes,
                f = void 0 === d ? {}: d,
                m = c.classes,
                p = void 0 === m ? [] : m;
                return ur.setAll(u, f),
                ia(u, p),
                u
            },
            hc = function(e, t, n, r, o) {
                var i = [],
                a = pc(e.getDoc(), o, n, r),
                s = ki(T.none()),
                l = function() {
                    s.set(T.none())
                },
                u = function(e) {
                    W(e, c)
                },
                c = function(t) {
                    switch (fc(e, t, "span", er.name(t))) {
                    case "invalid-child":
                        l();
                        var n = Fr.children(t);
                        u(n),
                        l();
                        break;
                    case "valid":
                        var r = s.get().getOrThunk(function() {
                            var e = la(a);
                            return i.push(e),
                            s.set(T.some(e)),
                            e
                        });
                        bi.wrap(t, r)
                    }
                };
                return uc.walk(e.dom, t,
                function(e) {
                    l(),
                    function(e) {
                        var t = F(e, qn.fromDom);
                        u(t)
                    } (e)
                }),
                i
            },
            gc = function(e, t, n, r) {
                e.undoManager.transact(function() {
                    var o = e.selection.getRng();
                    if (o.collapsed &&
                    function(e, t) {
                        var n = sc(e, t, [{
                            inline: !0
                        }],
                        function(e) {
                            return 3 === e.startContainer.nodeType && e.startContainer.nodeValue.length >= e.startOffset && " " === e.startContainer.nodeValue[e.startOffset]
                        } (t));
                        t.setStart(n.startContainer, n.startOffset),
                        t.setEnd(n.endContainer, n.endOffset),
                        e.selection.setRng(t)
                    } (e, o), e.selection.getRng().collapsed) {
                        var i = pc(e.getDoc(), r, t, n.decorate);
                        ma(i, " "),
                        e.selection.getRng().insertNode(i.dom()),
                        e.selection.select(i.dom())
                    } else {
                        var a = zs.getPersistentBookmark(e.selection, !1),
                        s = e.selection.getRng();
                        hc(e, s, t, n.decorate, r),
                        e.selection.moveToBookmark(a)
                    }
                })
            };
            function vc(e) {
                var t = ra();
                na(e, t);
                var n = ta(e, t);
                return {
                    register: function(e, n) {
                        t.register(e, n)
                    },
                    annotate: function(n, r) {
                        t.lookup(n).each(function(t) {
                            gc(e, n, t, r)
                        })
                    },
                    annotationChanged: function(e, t) {
                        n.addListener(e, t)
                    },
                    remove: function(t) {
                        Qi(e, T.some(t)).each(function(e) {
                            var t = e.elements;
                            W(t, Ci.unwrap)
                        })
                    },
                    getAll: function(t) {
                        var n = ea(e, t);
                        return rr(n,
                        function(e) {
                            return F(e,
                            function(e) {
                                return e.dom()
                            })
                        })
                    }
                }
            }
            var bc = function(e) {
                return Kt.grep(e.childNodes,
                function(e) {
                    return "LI" === e.nodeName
                })
            },
            yc = function(e) {
                return e && e.firstChild && e.firstChild === e.lastChild &&
                function(e) {
                    return " " === e.data || Eo.isBr(e)
                } (e.firstChild)
            },
            wc = function(e) {
                return e.length > 0 && (!(t = e[e.length - 1]).firstChild || yc(t)) ? e.slice(0, -1) : e;
                var t
            }, xc = function(e, t) {
                var n = e.getParent(t, e.isBlock);
                return n && "LI" === n.nodeName ? n: null
            },
            Cc = function(e, t) {
                var n = _s.after(e),
                r = yl(t).prev(n);
                return r ? r.toRange() : null
            },
            _c = function(e, t, n) {
                var r = e.parentNode;
                return Kt.each(t,
                function(t) {
                    r.insertBefore(t, e)
                }),
                function(e, t) {
                    var n = _s.before(e),
                    r = yl(t).next(n);
                    return r ? r.toRange() : null
                } (e, n)
            },
            kc = function(e, t) {
                var n = t.firstChild,
                r = t.lastChild;
                return n && "meta" === n.name && (n = n.next),
                r && "mce_marker" === r.attr("id") && (r = r.prev),
                function(e, t) {
                    var n = e.getNonEmptyElements();
                    return t && (t.isEmpty(n) ||
                    function(e, t) {
                        return e.getBlockElements()[t.name] &&
                        function(e) {
                            return e.firstChild && e.firstChild === e.lastChild
                        } (t) &&
                        function(e) {
                            return "br" === e.name || " " === e.value
                        } (t.firstChild)
                    } (e, t))
                } (e, r) && (r = r.prev),
                !(!n || n !== r || "ul" !== n.name && "ol" !== n.name)
            },
            Ec = function(e, t, n, r) {
                var o = function(e, t, n) {
                    var r = t.serialize(n);
                    return function(e) {
                        var t = e.firstChild,
                        n = e.lastChild;
                        return t && "META" === t.nodeName && t.parentNode.removeChild(t),
                        n && "mce_marker" === n.id && n.parentNode.removeChild(n),
                        e
                    } (e.createFragment(r))
                } (t, e, r),
                i = xc(t, n.startContainer),
                a = wc(bc(o.firstChild)),
                s = t.getRoot(),
                l = function(e) {
                    var r = _s.fromRangeStart(n),
                    o = yl(t.getRoot()),
                    a = 1 === e ? o.prev(r) : o.next(r);
                    return ! a || xc(t, a.getNode()) !== i
                };
                return l(1) ? _c(i, a, s) : l(2) ?
                function(e, t, n, r) {
                    return r.insertAfter(t.reverse(), e),
                    Cc(t[0], n)
                } (i, a, s, t) : function(e, t, n, r) {
                    var o = function(e, t) {
                        var n = t.cloneRange(),
                        r = t.cloneRange();
                        return n.setStartBefore(e),
                        r.setEndAfter(e),
                        [n.cloneContents(), r.cloneContents()]
                    } (e, r),
                    i = e.parentNode;
                    return i.insertBefore(o[0], e),
                    Kt.each(t,
                    function(t) {
                        i.insertBefore(t, e)
                    }),
                    i.insertBefore(o[1], e),
                    i.removeChild(e),
                    Cc(t[t.length - 1], n)
                } (i, a, s, n)
            },
            Tc = function(e, t) {
                return !! xc(e, t)
            },
            Sc = Kt.each,
            Nc = function(e) {
                this.compare = function(t, n) {
                    if (t.nodeName !== n.nodeName) return ! 1;
                    var r = function(t) {
                        var n = {};
                        return Sc(e.getAttribs(t),
                        function(r) {
                            var o = r.nodeName.toLowerCase();
                            0 !== o.indexOf("_") && "style" !== o && 0 !== o.indexOf("data-") && (n[o] = e.getAttrib(t, o))
                        }),
                        n
                    },
                    o = function(e, t) {
                        var n, r;
                        for (r in e) if (e.hasOwnProperty(r)) {
                            if (void 0 === (n = t[r])) return ! 1;
                            if (e[r] !== n) return ! 1;
                            delete t[r]
                        }
                        for (r in t) if (t.hasOwnProperty(r)) return ! 1;
                        return ! 0
                    };
                    return ! (!o(r(t), r(n)) || !o(e.parseStyle(e.getAttrib(t, "style")), e.parseStyle(e.getAttrib(n, "style"))) || $u.isBookmarkNode(t) || $u.isBookmarkNode(n))
                }
            },
            Rc = function(e) {
                var t = Wi(e, "br"),
                n = j(function(e) {
                    for (var t = [], n = e.dom(); n;) t.push(qn.fromDom(n)),
                    n = n.lastChild;
                    return t
                } (e).slice( - 1), ao);
                t.length === n.length && W(n, Ci.remove)
            },
            Ac = function(e) {
                Ci.empty(e),
                bi.append(e, qn.fromHtml('<br data-mce-bogus="1">'))
            },
            Oc = function(e) {
                Fr.lastChild(e).each(function(t) {
                    Fr.prevSibling(t).each(function(n) {
                        oo(e) && ao(t) && oo(n) && Ci.remove(t)
                    })
                })
            },
            Dc = Kt.makeMap;
            function Pc(e) {
                var t, n, r, o, i, a = [];
                return t = (e = e || {}).indent,
                n = Dc(e.indent_before || ""),
                r = Dc(e.indent_after || ""),
                o = Wo.getEncodeFunc(e.entity_encoding || "raw", e.entities),
                i = "html" === e.element_format,
                {
                    start: function(e, s, l) {
                        var u, c, d, f;
                        if (t && n[e] && a.length > 0 && (f = a[a.length - 1]).length > 0 && "\n" !== f && a.push("\n"), a.push("<", e), s) for (u = 0, c = s.length; u < c; u++) d = s[u],
                        a.push(" ", d.name, '="', o(d.value, !0), '"');
                        a[a.length] = !l || i ? ">": " />",
                        l && t && r[e] && a.length > 0 && (f = a[a.length - 1]).length > 0 && "\n" !== f && a.push("\n")
                    },
                    end: function(e) {
                        var n;
                        a.push("</", e, ">"),
                        t && r[e] && a.length > 0 && (n = a[a.length - 1]).length > 0 && "\n" !== n && a.push("\n")
                    },
                    text: function(e, t) {
                        e.length > 0 && (a[a.length] = t ? e: o(e))
                    },
                    cdata: function(e) {
                        a.push("<![CDATA[", e, "]]>")
                    },
                    comment: function(e) {
                        a.push("\x3c!--", e, "--\x3e")
                    },
                    pi: function(e, n) {
                        n ? a.push("<?", e, " ", o(n), "?>") : a.push("<?", e, "?>"),
                        t && a.push("\n")
                    },
                    doctype: function(e) {
                        a.push("<!DOCTYPE", e, ">", t ? "\n": "")
                    },
                    reset: function() {
                        a.length = 0
                    },
                    getContent: function() {
                        return a.join("").replace(/\n$/, "")
                    }
                }
            }
            function Bc(e, t) {
                void 0 === t && (t = Go());
                var n = Pc(e);
                return (e = e || {}).validate = !("validate" in e) || e.validate,
                {
                    serialize: function(r) {
                        var o, i;
                        i = e.validate,
                        o = {
                            3 : function(e) {
                                n.text(e.value, e.raw)
                            },
                            8 : function(e) {
                                n.comment(e.value)
                            },
                            7 : function(e) {
                                n.pi(e.name, e.value)
                            },
                            10 : function(e) {
                                n.doctype(e.value)
                            },
                            4 : function(e) {
                                n.cdata(e.value)
                            },
                            11 : function(e) {
                                if (e = e.firstChild) do {
                                    a(e)
                                } while ( e = e . next )
                            }
                        },
                        n.reset();
                        var a = function(e) {
                            var r, s, l, u, c, d, f, m, p, h = o[e.type];
                            if (h) h(e);
                            else {
                                if (r = e.name, s = e.shortEnded, l = e.attributes, i && l && l.length > 1 && ((d = []).map = {},
                                p = t.getElementRule(e.name))) {
                                    for (f = 0, m = p.attributesOrder.length; f < m; f++)(u = p.attributesOrder[f]) in l.map && (c = l.map[u], d.map[u] = c, d.push({
                                        name: u,
                                        value: c
                                    }));
                                    for (f = 0, m = l.length; f < m; f++)(u = l[f].name) in d.map || (c = l.map[u], d.map[u] = c, d.push({
                                        name: u,
                                        value: c
                                    }));
                                    l = d
                                }
                                if (n.start(e.name, l, s), !s) {
                                    if (e = e.firstChild) do {
                                        a(e)
                                    } while ( e = e . next );
                                    n.end(r)
                                }
                            }
                        };
                        return 1 !== r.type || e.inner ? o[11](r) : a(r),
                        n.getContent()
                    }
                }
            }
            var Mc = function(e) {
                var t = _s.fromRangeStart(e),
                n = _s.fromRangeEnd(e),
                r = e.commonAncestorContainer;
                return Lu.fromPosition(!1, r, n).map(function(o) {
                    return ! hu(t, n, r) && hu(t, o, r) ?
                    function(e, t, n, r) {
                        var o = document.createRange();
                        return o.setStart(e, t),
                        o.setEnd(n, r),
                        o
                    } (t.container(), t.offset(), o.container(), o.offset()) : e
                }).getOr(e)
            },
            Ic = function(e) {
                return e.collapsed ? e: Mc(e)
            },
            Lc = Eo.matchNodeNames("td th"),
            Fc = function(e, t) {
                var n = e.selection.getRng(),
                r = n.startContainer,
                o = n.startOffset;
                n.collapsed &&
                function(e, t) {
                    return Eo.isText(e) && " " === e.nodeValue[t - 1]
                } (r, o) && Eo.isText(r) && (r.insertData(o - 1, " "), r.deleteData(o, 1), n.setStart(r, o), n.setEnd(r, o), e.selection.setRng(n)),
                e.selection.setContent(t)
            },
            Wc = function(e, t, n) {
                var r, o, i, a, s, l, u, c, d, f, m, p = e.selection,
                h = e.dom;
                if (/^ | $/.test(t) && (t = function(e, t) {
                    var n, r;
                    n = e.startContainer,
                    r = e.startOffset;
                    var o = function(e) {
                        return n[e] && 3 === n[e].nodeType
                    };
                    return 3 === n.nodeType && (r > 0 ? t = t.replace(/^&nbsp;/, " ") : o("previousSibling") || (t = t.replace(/^ /, "&nbsp;")), r < n.length ? t = t.replace(/&nbsp;(<br>|)$/, " ") : o("nextSibling") || (t = t.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))),
                    t
                } (p.getRng(), t)), r = e.parser, m = n.merge, o = Bc({
                    validate: e.settings.validate
                },
                e.schema), f = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>', l = {
                    content: t,
                    format: "html",
                    selection: !0,
                    paste: n.paste
                },
                (l = e.fire("BeforeSetContent", l)).isDefaultPrevented()) e.fire("SetContent", {
                    content: l.content,
                    format: "html",
                    selection: !0,
                    paste: n.paste
                });
                else { - 1 === (t = l.content).indexOf("{$caret}") && (t += "{$caret}"),
                    t = t.replace(/\{\$caret\}/, f);
                    var g = (c = p.getRng()).startContainer || (c.parentElement ? c.parentElement() : null),
                    v = e.getBody();
                    g === v && p.isCollapsed() && h.isBlock(v.firstChild) &&
                    function(e, t) {
                        return t && !e.schema.getShortEndedElements()[t.nodeName]
                    } (e, v.firstChild) && h.isEmpty(v.firstChild) && ((c = h.createRng()).setStart(v.firstChild, 0), c.setEnd(v.firstChild, 0), p.setRng(c)),
                    p.isCollapsed() || (e.selection.setRng(Ic(e.selection.getRng())), e.getDoc().execCommand("Delete", !1, null), t = function(e, t) {
                        var n, r;
                        return n = e.startContainer,
                        r = e.startOffset,
                        3 === n.nodeType && e.collapsed && (" " === n.data[r] ? (n.deleteData(r, 1), /[\u00a0| ]$/.test(t) || (t += " ")) : " " === n.data[r - 1] && (n.deleteData(r - 1, 1), /[\u00a0| ]$/.test(t) || (t = " " + t))),
                        t
                    } (e.selection.getRng(), t));
                    var b, y = {
                        context: (i = p.getNode()).nodeName.toLowerCase(),
                        data: n.data,
                        insert: !0
                    };
                    if (s = r.parse(t, y), !0 === n.paste && kc(e.schema, s) && Tc(h, i)) return c = Ec(o, h, e.selection.getRng(), s),
                    e.selection.setRng(c),
                    void e.fire("SetContent", l);
                    if (function(e) {
                        for (var t = e; t = t.walk();) 1 === t.type && t.attr("data-mce-fragment", "1")
                    } (s), "mce_marker" === (d = s.lastChild).attr("id")) for (u = d, d = d.prev; d; d = d.walk(!0)) if (3 === d.type || !h.isBlock(d.name)) {
                        e.schema.isValidChild(d.parent.name, "span") && d.parent.insert(u, d, "br" === d.name);
                        break
                    }
                    if (e._selectionOverrides.showBlockCaretContainer(i), y.invalid) {
                        for (Fc(e, f), i = p.getNode(), a = e.getBody(), 9 === i.nodeType ? i = d = a: d = i; d !== a;) i = d,
                        d = d.parentNode;
                        t = i === a ? a.innerHTML: h.getOuterHTML(i),
                        t = o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,
                        function() {
                            return o.serialize(s)
                        }))),
                        i === a ? h.setHTML(a, t) : h.setOuterHTML(i, t)
                    } else !
                    function(e, t, n) {
                        if ("all" === n.getAttribute("data-mce-bogus")) n.parentNode.insertBefore(e.dom.createFragment(t), n);
                        else {
                            var r = n.firstChild,
                            o = n.lastChild; ! r || r === o && "BR" === r.nodeName ? e.dom.setHTML(n, t) : Fc(e, t)
                        }
                    } (e, t = o.serialize(s), i); !
                    function(e, t) {
                        var n = e.schema.getTextInlineElements(),
                        r = e.dom;
                        if (t) {
                            var o = e.getBody(),
                            i = new Nc(r);
                            Kt.each(r.select("*[data-mce-fragment]"),
                            function(e) {
                                for (var t = e.parentNode; t && t !== o; t = t.parentNode) n[e.nodeName.toLowerCase()] && i.compare(t, e) && r.remove(e, !0)
                            })
                        }
                    } (e, m),
                    function(e, t) {
                        var n, r, o, i, a, s = e.dom,
                        l = e.selection;
                        if (t) {
                            if (e.selection.scrollIntoView(t), n = function(t) {
                                for (var n = e.getBody(); t && t !== n; t = t.parentNode) if ("false" === e.dom.getContentEditable(t)) return t;
                                return null
                            } (t)) return s.remove(t),
                            void l.select(n);
                            var u = s.createRng(); (i = t.previousSibling) && 3 === i.nodeType ? (u.setStart(i, i.nodeValue.length), Se.ie || (a = t.nextSibling) && 3 === a.nodeType && (i.appendData(a.data), a.parentNode.removeChild(a))) : (u.setStartBefore(t), u.setEndBefore(t)),
                            r = s.getParent(t, s.isBlock),
                            s.remove(t),
                            r && s.isEmpty(r) && (e.$(r).empty(), u.setStart(r, 0), u.setEnd(r, 0), Lc(r) ||
                            function(e) {
                                return !! e.getAttribute("data-mce-fragment")
                            } (r) || !(o = function(t) {
                                var n = _s.fromRangeStart(t);
                                if (n = yl(e.getBody()).next(n)) return n.toRange()
                            } (u)) ? s.add(r, s.create("br", {
                                "data-mce-bogus": "1"
                            })) : (u = o, s.remove(r))),
                            l.setRng(u)
                        }
                    } (e, h.get("mce_marker")),
                    b = e.getBody(),
                    Kt.each(b.getElementsByTagName("*"),
                    function(e) {
                        e.removeAttribute("data-mce-fragment")
                    }),
                    function(e, t) {
                        T.from(e.getParent(t, "td,th")).map(qn.fromDom).each(Oc)
                    } (e.dom, e.selection.getStart()),
                    e.fire("SetContent", l),
                    e.addVisual()
                }
            },
            Hc = {
                insertAtCaret: function(e, t) {
                    var n = function(e) {
                        var t;
                        return "string" != typeof e ? (t = Kt.extend({
                            paste: e.paste,
                            data: {
                                paste: e.paste
                            }
                        },
                        e), {
                            content: e.content,
                            details: t
                        }) : {
                            content: e,
                            details: {}
                        }
                    } (t);
                    Wc(e, n.content, n.details)
                }
            },
            jc = wr("sections", "settings"),
            Uc = Vn.detect(),
            zc = Uc.deviceType.isTouch(),
            Vc = ["lists", "autolink", "autosave"],
            $c = {
                theme: "mobile"
            },
            qc = function(e) {
                var t = A(e) ? e.join(" ") : e,
                n = F(N(t) ? t.split(" ") : [], Ln);
                return j(n,
                function(e) {
                    return e.length > 0
                })
            },
            Kc = function(e, t) {
                var n, r, o, i = (n = function(t, n) {
                    return I(e, n)
                },
                r = {},
                o = {},
                nr(t,
                function(e, t) { (n(e, t) ? r: o)[t] = e
                }), {
                    t: r,
                    f: o
                });
                return jc(i.t, i.f)
            },
            Yc = function(e, t) {
                return e.sections().hasOwnProperty(t)
            },
            Xc = function(e, t) {
                var n = t.external_plugins ? t.external_plugins: {};
                return e && e.external_plugins ? Kt.extend({},
                e.external_plugins, n) : n
            },
            Gc = function(e, t, n, r) {
                var o = qc(n.forced_plugins),
                i = qc(r.plugins),
                a = function(e, t) {
                    return [].concat(qc(e)).concat(qc(t))
                } (o, e && Yc(t, "mobile") ?
                function(e) {
                    return j(e, b(I, Vc))
                } (i) : i);
                return Kt.extend(r, {
                    plugins: a.join(" ")
                })
            },
            Jc = function(e, t, n, r) {
                var o = Kc(["mobile"], r),
                i = Kt.extend(t, n, o.settings(),
                function(e, t) {
                    var n = t.settings().inline;
                    return e && Yc(t, "mobile") && !n
                } (e, o) ?
                function(e, t, n) {
                    var r = e.sections(),
                    o = r.hasOwnProperty(t) ? r[t] : {};
                    return Kt.extend({},
                    n, o)
                } (o, "mobile", $c) : {},
                {
                    validate: !0,
                    content_editable: o.settings().inline,
                    external_plugins: Xc(n, o.settings())
                });
                return Gc(e, o, n, i)
            },
            Qc = function(e, t, n) {
                return T.from(t.settings[n]).filter(e)
            },
            Zc = b(Qc, N),
            ed = function(e, t, n, r) {
                var o, i = t in e.settings ? e.settings[t] : n;
                return "hash" === r ?
                function(e) {
                    var t = {};
                    return "string" == typeof e ? W(e.indexOf("=") > 0 ? e.split(/[;,](?![^=;,]*(?:[;,]|$))/) : e.split(","),
                    function(e) {
                        var n = e.split("=");
                        n.length > 1 ? t[Kt.trim(n[0])] = Kt.trim(n[1]) : t[Kt.trim(n[0])] = Kt.trim(n)
                    }) : t = e,
                    t
                } (i) : "string" === r ? Qc(N, e, t).getOr(n) : "number" === r ? Qc(B, e, t).getOr(n) : "boolean" === r ? Qc(D, e, t).getOr(n) : "object" === r ? Qc(R, e, t).getOr(n) : "array" === r ? Qc(A, e, t).getOr(n) : "string[]" === r ? Qc((o = N,
                function(e) {
                    return A(e) && Y(e, o)
                }), e, t).getOr(n) : "function" === r ? Qc(P, e, t).getOr(n) : i
            },
            td = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,
            nd = function(e, t) {
                var n = t.container(),
                r = t.offset();
                return e ? _a(n) ? Eo.isText(n.nextSibling) ? _s(n.nextSibling, 0) : _s.after(n) : Ta(t) ? _s(n, r + 1) : t: _a(n) ? Eo.isText(n.previousSibling) ? _s(n.previousSibling, n.previousSibling.data.length) : _s.before(n) : Sa(t) ? _s(n, r - 1) : t
            },
            rd = b(nd, !0),
            od = b(nd, !1),
            id = {
                isInlineTarget: function(e, t) {
                    var n = Zc(e, "inline_boundaries_selector").getOr("a[href],code");
                    return Nr.is(qn.fromDom(t), n)
                },
                findRootInline: function(e, t, n) {
                    var r = function(e, t, n) {
                        return j(li.DOM.getParents(n.container(), "*", t), e)
                    } (e, t, n);
                    return T.from(r[r.length - 1])
                },
                isRtl: function(e) {
                    return "rtl" === li.DOM.getStyle(e, "direction", !0) || (t = e.textContent, td.test(t));
                    var t
                }, isAtZwsp: function(e) {
                    return Ta(e) || Sa(e)
                },
                normalizePosition: nd,
                normalizeForwards: rd,
                normalizeBackwards: od,
                hasSameParentBlock: function(e, t, n) {
                    var r = pu(t, e),
                    o = pu(n, e);
                    return r && r === o
                }
            },
            ad = function(e, t) {
                return Or.contains(e, t) ? Vi.closest(t,
                function(e) {
                    return so(e) || uo(e)
                },
                function(e) {
                    return function(t) {
                        return Or.eq(e, qn.fromDom(t.dom().parentNode))
                    }
                } (e)) : T.none()
            },
            sd = function(e) {
                e.dom.isEmpty(e.getBody()) && (e.setContent(""),
                function(e) {
                    var t = e.getBody(),
                    n = t.firstChild && e.dom.isBlock(t.firstChild) ? t.firstChild: t;
                    e.selection.setCursorLocation(n, 0)
                } (e))
            },
            ld = function(e, t, n) {
                return ns([Lu.firstPositionIn(n), Lu.lastPositionIn(n)],
                function(r, o) {
                    var i = id.normalizePosition(!0, r),
                    a = id.normalizePosition(!1, o),
                    s = id.normalizePosition(!1, t);
                    return e ? Lu.nextPosition(n, s).map(function(e) {
                        return e.isEqual(a) && t.isEqual(i)
                    }).getOr(!1) : Lu.prevPosition(n, s).map(function(e) {
                        return e.isEqual(i) && t.isEqual(a)
                    }).getOr(!1)
                }).getOr(!0)
            },
            ud = function(e, t, n) {
                return qi(e, t, n).isSome()
            },
            cd = function(e, t) {
                return Eo.isText(t) && /^[ \t\r\n]*$/.test(t.data) && !1 ===
                function(e, t) {
                    var n = qn.fromDom(e),
                    r = qn.fromDom(t);
                    return ud(r, "pre,code", b(Or.eq, n))
                } (e, t)
            },
            dd = function(e, t) {
                return Ha(t) && !1 === cd(e, t) ||
                function(e) {
                    return Eo.isElement(e) && "A" === e.nodeName && e.hasAttribute("name")
                } (t) || fd(t)
            },
            fd = Eo.hasAttribute("data-mce-bookmark"),
            md = Eo.hasAttribute("data-mce-bogus"),
            pd = Eo.hasAttributeValue("data-mce-bogus", "all"),
            hd = function(e) {
                return function(e) {
                    var t, n, r = 0;
                    if (dd(e, e)) return ! 1;
                    if (! (n = e.firstChild)) return ! 0;
                    t = new Qr(n, e);
                    do {
                        if (pd(n)) n = t.next(!0);
                        else if (md(n)) n = t.next();
                        else if (Eo.isBr(n)) r++, n = t.next();
                        else {
                            if (dd(e, n)) return ! 1;
                            n = t.next()
                        }
                    } while ( n );
                    return r <= 1
                } (e.dom())
            },
            gd = wr("block", "position"),
            vd = wr("from", "to"),
            bd = function(e, t) {
                var n = qn.fromDom(e),
                r = qn.fromDom(t.container());
                return ad(n, r).map(function(e) {
                    return gd(e, t)
                })
            },
            yd = function(e, t, n) {
                var r = bd(e, _s.fromRangeStart(n)),
                o = r.bind(function(n) {
                    return Lu.fromPosition(t, e, n.position()).bind(function(n) {
                        return bd(e, n).map(function(n) {
                            return function(e, t, n) {
                                return Eo.isBr(n.position().getNode()) && !1 === hd(n.block()) ? Lu.positionIn(!1, n.block().dom()).bind(function(r) {
                                    return r.isEqual(n.position()) ? Lu.fromPosition(t, e, r).bind(function(t) {
                                        return bd(e, t)
                                    }) : T.some(n)
                                }).getOr(n) : n
                            } (e, t, n)
                        })
                    })
                });
                return ns([r, o], vd).filter(function(e) {
                    return function(e) {
                        return ! 1 === Or.eq(e.from().block(), e.to().block())
                    } (e) &&
                    function(e) {
                        return Fr.parent(e.from().block()).bind(function(t) {
                            return Fr.parent(e.to().block()).filter(function(e) {
                                return Or.eq(t, e)
                            })
                        }).isSome()
                    } (e) &&
                    function(e) {
                        return ! 1 === Eo.isContentEditableFalse(e.from().block()) && !1 === Eo.isContentEditableFalse(e.to().block())
                    } (e)
                })
            },
            wd = function(e, t, n) {
                return n.collapsed ? yd(e, t, n) : T.none()
            },
            xd = function(e, t, n) {
                return Or.contains(t, e) ? Fr.parents(e,
                function(e) {
                    return n(e) || Or.eq(e, t)
                }).slice(0, -1) : []
            },
            Cd = function(e, t) {
                return xd(e, t, g(!1))
            },
            _d = Cd,
            kd = function(e, t) {
                return [e].concat(Cd(e, t))
            },
            Ed = function(e) {
                var t = function(e) {
                    var t = Fr.children(e);
                    return V(t, oo).fold(function() {
                        return t
                    },
                    function(e) {
                        return t.slice(0, e)
                    })
                } (e);
                return W(t, Ci.remove),
                t
            },
            Td = function(e, t) {
                var n = kd(t, e);
                return z(n.reverse(), hd).each(Ci.remove)
            },
            Sd = function(e, t, n, r) {
                if (hd(n)) return Ac(n),
                Lu.firstPositionIn(n.dom());
                var o;
                o = r,
                0 === j(Fr.prevSiblings(o),
                function(e) {
                    return ! hd(e)
                }).length && hd(t) && bi.before(r, qn.fromTag("br"));
                var i = Lu.prevPosition(n.dom(), _s.before(r.dom()));
                return W(Ed(t),
                function(e) {
                    bi.before(r, e)
                }),
                Td(e, t),
                i
            },
            Nd = function(e, t, n) {
                if (hd(n)) return Ci.remove(n),
                hd(t) && Ac(t),
                Lu.firstPositionIn(t.dom());
                var r = Lu.lastPositionIn(n.dom());
                return W(Ed(t),
                function(e) {
                    bi.append(n, e)
                }),
                Td(e, t),
                r
            },
            Rd = function(e, t) {
                return Or.contains(t, e) ?
                function(e, t) {
                    var n = kd(t, e);
                    return T.from(n[n.length - 1])
                } (t, e) : T.none()
            },
            Ad = function(e, t) {
                Lu.positionIn(e, t.dom()).map(function(e) {
                    return e.getNode()
                }).map(qn.fromDom).filter(ao).each(Ci.remove)
            },
            Od = function(e, t, n) {
                return Ad(!0, t),
                Ad(!1, n),
                Rd(t, n).fold(b(Nd, e, t, n), b(Sd, e, t, n))
            },
            Dd = function(e, t, n, r) {
                return t ? Od(e, r, n) : Od(e, n, r)
            },
            Pd = function(e, t) {
                var n, r = qn.fromDom(e.getBody());
                return (n = wd(r.dom(), t, e.selection.getRng()).bind(function(e) {
                    return Dd(r, t, e.from().block(), e.to().block())
                })).each(function(t) {
                    e.selection.setRng(t.toRange())
                }),
                n.isSome()
            },
            Bd = function(e, t) {
                var n = qn.fromDom(t),
                r = b(Or.eq, e);
                return Vi.ancestor(n, mo, r).isSome()
            },
            Md = function(e, t) {
                var n = Lu.prevPosition(e.dom(), _s.fromRangeStart(t)).isNone(),
                r = Lu.nextPosition(e.dom(), _s.fromRangeEnd(t)).isNone();
                return !
                function(e, t) {
                    return Bd(e, t.startContainer) || Bd(e, t.endContainer)
                } (e, t) && n && r
            },
            Id = function(e) {
                var t = qn.fromDom(e.getBody()),
                n = e.selection.getRng();
                return Md(t, n) ?
                function(e) {
                    return e.setContent(""),
                    e.selection.setCursorLocation(),
                    !0
                } (e) : function(e, t) {
                    var n = t.getRng();
                    return ns([ad(e, qn.fromDom(n.startContainer)), ad(e, qn.fromDom(n.endContainer))],
                    function(r, o) {
                        return ! 1 === Or.eq(r, o) && (n.deleteContents(), Dd(e, !0, r, o).each(function(e) {
                            t.setRng(e.toRange())
                        }), !0)
                    }).getOr(!1)
                } (t, e.selection)
            },
            Ld = function(e, t) {
                return ! e.selection.isCollapsed() && Id(e)
            },
            Fd = function(e) {
                if (!A(e)) throw new Error("cases must be an array");
                if (0 === e.length) throw new Error("there must be at least one case");
                var t = [],
                n = {};
                return W(e,
                function(r, o) {
                    var i = tr(r);
                    if (1 !== i.length) throw new Error("one and only one name per case");
                    var a = i[0],
                    s = r[a];
                    if (void 0 !== n[a]) throw new Error("duplicate key detected:" + a);
                    if ("cata" === a) throw new Error("cannot have a case named cata (sorry)");
                    if (!A(s)) throw new Error("case arguments must be an array");
                    t.push(a),
                    n[a] = function() {
                        var n = arguments.length;
                        if (n !== s.length) throw new Error("Wrong number of arguments to case " + a + ". Expected " + s.length + " (" + s + "), got " + n);
                        for (var r = new Array(n), i = 0; i < r.length; i++) r[i] = arguments[i];
                        return {
                            fold: function() {
                                if (arguments.length !== e.length) throw new Error("Wrong number of arguments to fold. Expected " + e.length + ", got " + arguments.length);
                                return arguments[o].apply(null, r)
                            },
                            match: function(e) {
                                var n = tr(e);
                                if (t.length !== n.length) throw new Error("Wrong number of arguments to match. Expected: " + t.join(",") + "\nActual: " + n.join(","));
                                if (!Y(t,
                                function(e) {
                                    return I(n, e)
                                })) throw new Error("Not all branches were specified when using match. Specified: " + n.join(", ") + "\nRequired: " + t.join(", "));
                                return e[a].apply(null, r)
                            },
                            log: function(e) {}
                        }
                    }
                }),
                n
            },
            Wd = Fd([{
                remove: ["element"]
            },
            {
                moveToElement: ["element"]
            },
            {
                moveToPosition: ["position"]
            }]),
            Hd = function(e, t, n, r) {
                var o = r.getNode(!1 === t);
                return ad(qn.fromDom(e), qn.fromDom(n.getNode())).map(function(e) {
                    return hd(e) ? Wd.remove(e.dom()) : Wd.moveToElement(o)
                }).orThunk(function() {
                    return T.some(Wd.moveToElement(o))
                })
            },
            jd = function(e, t, n) {
                return Lu.fromPosition(t, e, n).bind(function(r) {
                    return o = r.getNode(),
                    mo(qn.fromDom(o)) || uo(qn.fromDom(o)) ? T.none() : function(e, t, n, r) {
                        var o = function(t) {
                            return io(qn.fromDom(t)) && !hu(n, r, e)
                        };
                        return Eu(!t, n).fold(function() {
                            return Eu(t, r).fold(g(!1), o)
                        },
                        o)
                    } (e, t, n, r) ? T.none() : t && Eo.isContentEditableFalse(r.getNode()) ? Hd(e, t, n, r) : !1 === t && Eo.isContentEditableFalse(r.getNode(!0)) ? Hd(e, t, n, r) : t && Nu(n) ? T.some(Wd.moveToPosition(r)) : !1 === t && Su(n) ? T.some(Wd.moveToPosition(r)) : T.none();
                    var o
                })
            }, Ud = function(e, t, n) {
                return function(e, t) {
                    var n = t.getNode(!1 === e),
                    r = e ? "after": "before";
                    return Eo.isElement(n) && n.getAttribute("data-mce-caret") === r
                } (t, n) ?
                function(e, t) {
                    return e && Eo.isContentEditableFalse(t.nextSibling) ? T.some(Wd.moveToElement(t.nextSibling)) : !1 === e && Eo.isContentEditableFalse(t.previousSibling) ? T.some(Wd.moveToElement(t.previousSibling)) : T.none()
                } (t, n.getNode(!1 === t)).fold(function() {
                    return jd(e, t, n)
                },
                T.some) : jd(e, t, n).bind(function(t) {
                    return function(e, t, n) {
                        return n.fold(function(e) {
                            return T.some(Wd.remove(e))
                        },
                        function(e) {
                            return T.some(Wd.moveToElement(e))
                        },
                        function(n) {
                            return hu(t, n, e) ? T.none() : T.some(Wd.moveToPosition(n))
                        })
                    } (e, n, t)
                })
            },
            zd = function(e, t) {
                return function(e, t) {
                    var n = e.container(),
                    r = e.offset();
                    return ! 1 === _s.isTextPosition(e) && n === t.parentNode && r > _s.before(t).offset()
                } (t, e) ? _s(t.container(), t.offset() - 1) : t
            },
            Vd = function(e) {
                return Ha(e.previousSibling) ? T.some((t = e.previousSibling, Eo.isText(t) ? _s(t, t.data.length) : _s.after(t))) : e.previousSibling ? Lu.lastPositionIn(e.previousSibling) : T.none();
                var t
            }, $d = function(e) {
                return Ha(e.nextSibling) ? T.some((t = e.nextSibling, Eo.isText(t) ? _s(t, 0) : _s.before(t))) : e.nextSibling ? Lu.firstPositionIn(e.nextSibling) : T.none();
                var t
            }, qd = function(e, t) {
                return Vd(t).orThunk(function() {
                    return $d(t)
                }).orThunk(function() {
                    return function(e, t) {
                        var n = _s.before(t.previousSibling ? t.previousSibling: t.parentNode);
                        return Lu.prevPosition(e, n).fold(function() {
                            return Lu.nextPosition(e, _s.after(t))
                        },
                        T.some)
                    } (e, t)
                })
            },
            Kd = function(e, t) {
                return $d(t).orThunk(function() {
                    return Vd(t)
                }).orThunk(function() {
                    return function(e, t) {
                        return Lu.nextPosition(e, _s.after(t)).fold(function() {
                            return Lu.prevPosition(e, _s.before(t))
                        },
                        T.some)
                    } (e, t)
                })
            },
            Yd = function(e, t, n) {
                return function(e, t, n) {
                    return e ? Kd(t, n) : qd(t, n)
                } (e, t, n).map(b(zd, n))
            },
            Xd = function(e, t, n) {
                n.fold(function() {
                    e.focus()
                },
                function(n) {
                    e.selection.setRng(n.toRange(), t)
                })
            },
            Gd = function(e, t) {
                return t && e.schema.getBlockElements().hasOwnProperty(er.name(t))
            },
            Jd = function(e) {
                if (hd(e)) {
                    var t = qn.fromHtml('<br data-mce-bogus="1">');
                    return Ci.empty(e),
                    bi.append(e, t),
                    T.some(_s.before(t.dom()))
                }
                return T.none()
            },
            Qd = function(e, t, n) {
                var r, o = Yd(t, e.getBody(), n.dom()),
                i = Vi.ancestor(n, b(Gd, e), (r = e.getBody(),
                function(e) {
                    return e.dom() === r
                })),
                a = function(e, t) {
                    return ns([Fr.prevSibling(e), Fr.nextSibling(e), t],
                    function(t, n, r) {
                        var o, i = t.dom(),
                        a = n.dom();
                        return Eo.isText(i) && Eo.isText(a) ? (o = i.data.length, i.appendData(a.data), Ci.remove(n), Ci.remove(e), r.container() === a ? _s(i, o) : r) : (Ci.remove(e), r)
                    }).orThunk(function() {
                        return Ci.remove(e),
                        t
                    })
                } (n, o);
                e.dom.isEmpty(e.getBody()) ? (e.setContent(""), e.selection.setCursorLocation()) : i.bind(Jd).fold(function() {
                    Xd(e, t, a)
                },
                function(n) {
                    Xd(e, t, T.some(n))
                })
            },
            Zd = function(e, t) {
                return function(e, t, n) {
                    var r = Cu(t ? 1 : -1, e, n),
                    o = _s.fromRangeStart(r);
                    return ! 1 === t && Nu(o) ? T.some(Wd.remove(o.getNode(!0))) : t && Su(o) ? T.some(Wd.remove(o.getNode())) : Ud(e, t, o)
                } (e.getBody(), t, e.selection.getRng()).map(function(n) {
                    return n.fold(function(e, t) {
                        return function(n) {
                            return e._selectionOverrides.hideFakeCaret(),
                            Qd(e, t, qn.fromDom(n)),
                            !0
                        }
                    } (e, t),
                    function(e, t) {
                        return function(n) {
                            var r = t ? _s.before(n) : _s.after(n);
                            return e.selection.setRng(r.toRange()),
                            !0
                        }
                    } (e, t),
                    function(e) {
                        return function(t) {
                            return e.selection.setRng(t.toRange()),
                            !0
                        }
                    } (e))
                }).getOr(!1)
            },
            ef = function(e, t) {
                var n, r = e.selection.getNode();
                return !! Eo.isContentEditableFalse(r) && (n = qn.fromDom(e.getBody()), W(Wi(n, ".mce-offscreen-selection"), Ci.remove), Qd(e, t, qn.fromDom(e.selection.getNode())), sd(e), !0)
            },
            tf = function(e, t) {
                return e.selection.isCollapsed() ? Zd(e, t) : ef(e, t)
            },
            nf = function(e) {
                var t, n = function(e, t) {
                    for (; t && t !== e;) {
                        if (Eo.isContentEditableTrue(t) || Eo.isContentEditableFalse(t)) return t;
                        t = t.parentNode
                    }
                    return null
                } (e.getBody(), e.selection.getNode());
                return Eo.isContentEditableTrue(n) && e.dom.isBlock(n) && e.dom.isEmpty(n) && (t = e.dom.create("br", {
                    "data-mce-bogus": "1"
                }), e.dom.setHTML(n, ""), n.appendChild(t), e.selection.setRng(_s.before(t).toRange())),
                !0
            },
            rf = Eo.isText,
            of = function(e) {
                return rf(e) && e.data[0] === ba
            },
            af = function(e) {
                return rf(e) && e.data[e.data.length - 1] === ba
            },
            sf = function(e) {
                return e.ownerDocument.createTextNode(ba)
            },
            lf = function(e, t) {
                return e ?
                function(e) {
                    if (rf(e.previousSibling)) return af(e.previousSibling) ? e.previousSibling: (e.previousSibling.appendData(ba), e.previousSibling);
                    if (rf(e)) return of(e) ? e: (e.insertData(0, ba), e);
                    var t = sf(e);
                    return e.parentNode.insertBefore(t, e),
                    t
                } (t) : function(e) {
                    if (rf(e.nextSibling)) return of(e.nextSibling) ? e.nextSibling: (e.nextSibling.insertData(0, ba), e.nextSibling);
                    if (rf(e)) return af(e) ? e: (e.appendData(ba), e);
                    var t = sf(e);
                    return e.nextSibling ? e.parentNode.insertBefore(t, e.nextSibling) : e.parentNode.appendChild(t),
                    t
                } (t)
            },
            uf = b(lf, !0),
            cf = b(lf, !1),
            df = function(e, t) {
                return Eo.isText(e.container()) ? lf(t, e.container()) : lf(t, e.getNode())
            },
            ff = function(e, t) {
                var n = t.get();
                return n && e.container() === n && _a(n)
            },
            mf = function(e, t) {
                return t.fold(function(t) {
                    tl.remove(e.get());
                    var n = uf(t);
                    return e.set(n),
                    T.some(_s(n, n.length - 1))
                },
                function(t) {
                    return Lu.firstPositionIn(t).map(function(t) {
                        if (ff(t, e)) return _s(e.get(), 1);
                        tl.remove(e.get());
                        var n = df(t, !0);
                        return e.set(n),
                        _s(n, 1)
                    })
                },
                function(t) {
                    return Lu.lastPositionIn(t).map(function(t) {
                        if (ff(t, e)) return _s(e.get(), e.get().length - 1);
                        tl.remove(e.get());
                        var n = df(t, !1);
                        return e.set(n),
                        _s(n, n.length - 1)
                    })
                },
                function(t) {
                    tl.remove(e.get());
                    var n = cf(t);
                    return e.set(n),
                    T.some(_s(n, 1))
                })
            },
            pf = function(e, t) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n].apply(null, t);
                    if (r.isSome()) return r
                }
                return T.none()
            },
            hf = Fd([{
                before: ["element"]
            },
            {
                start: ["element"]
            },
            {
                end: ["element"]
            },
            {
                after: ["element"]
            }]),
            gf = function(e, t) {
                var n = pu(t, e);
                return n || e
            },
            vf = function(e, t, n) {
                var r = id.normalizeForwards(n),
                o = gf(t, r.container());
                return id.findRootInline(e, o, r).fold(function() {
                    return Lu.nextPosition(o, r).bind(b(id.findRootInline, e, o)).map(function(e) {
                        return hf.before(e)
                    })
                },
                T.none)
            },
            bf = function(e, t) {
                return null === $s(e, t)
            },
            yf = function(e, t, n) {
                return id.findRootInline(e, t, n).filter(b(bf, t))
            },
            wf = function(e, t, n) {
                var r = id.normalizeBackwards(n);
                return yf(e, t, r).bind(function(e) {
                    return Lu.prevPosition(e, r).isNone() ? T.some(hf.start(e)) : T.none()
                })
            },
            xf = function(e, t, n) {
                var r = id.normalizeForwards(n);
                return yf(e, t, r).bind(function(e) {
                    return Lu.nextPosition(e, r).isNone() ? T.some(hf.end(e)) : T.none()
                })
            },
            Cf = function(e, t, n) {
                var r = id.normalizeBackwards(n),
                o = gf(t, r.container());
                return id.findRootInline(e, o, r).fold(function() {
                    return Lu.prevPosition(o, r).bind(b(id.findRootInline, e, o)).map(function(e) {
                        return hf.after(e)
                    })
                },
                T.none)
            },
            _f = function(e) {
                return ! 1 === id.isRtl(Ef(e))
            },
            kf = function(e, t, n) {
                return pf([vf, wf, xf, Cf], [e, t, n]).filter(_f)
            },
            Ef = function(e) {
                return e.fold(v, v, v, v)
            },
            Tf = function(e) {
                return e.fold(g("before"), g("start"), g("end"), g("after"))
            },
            Sf = function(e) {
                return e.fold(hf.before, hf.before, hf.after, hf.after)
            },
            Nf = function(e, t, n, r, o, i) {
                return ns([id.findRootInline(t, n, r), id.findRootInline(t, n, o)],
                function(t, r) {
                    return t !== r && id.hasSameParentBlock(n, t, r) ? hf.after(e ? t: r) : i
                }).getOr(i)
            },
            Rf = function(e, t) {
                return e.fold(g(!0),
                function(e) {
                    return r = t,
                    !(Tf(n = e) === Tf(r) && Ef(n) === Ef(r));
                    var n, r
                })
            }, Af = function(e, t) {
                return e ? t.fold(h(T.some, hf.start), T.none, h(T.some, hf.after), T.none) : t.fold(T.none, h(T.some, hf.before), T.none, h(T.some, hf.end))
            },
            Of = function(e, t, n, r) {
                var o = id.normalizePosition(e, r),
                i = kf(t, n, o);
                return kf(t, n, o).bind(b(Af, e)).orThunk(function() {
                    return function(e, t, n, r, o) {
                        var i = id.normalizePosition(e, o);
                        return Lu.fromPosition(e, n, i).map(b(id.normalizePosition, e)).fold(function() {
                            return r.map(Sf)
                        },
                        function(o) {
                            return kf(t, n, o).map(b(Nf, e, t, n, i, o)).filter(b(Rf, r))
                        }).filter(_f)
                    } (e, t, n, i, r)
                })
            },
            Df = kf,
            Pf = Of,
            Bf = (b(Of, !1), b(Of, !0), Sf),
            Mf = function(e) {
                return e.fold(hf.start, hf.start, hf.end, hf.end)
            },
            If = function(e) {
                return P(e.selection.getSel().modify)
            },
            Lf = function(e, t, n) {
                var r = e ? 1 : -1;
                return t.setRng(_s(n.container(), n.offset() + r).toRange()),
                t.getSel().modify("move", e ? "forward": "backward", "word"),
                !0
            },
            Ff = function(e, t) {
                var n = t.selection.getRng(),
                r = e ? _s.fromRangeEnd(n) : _s.fromRangeStart(n);
                return !! If(t) && (e && Ta(r) ? Lf(!0, t.selection, r) : !(e || !Sa(r)) && Lf(!1, t.selection, r))
            },
            Wf = function(e, t) {
                var n = e.dom.createRng();
                n.setStart(t.container(), t.offset()),
                n.setEnd(t.container(), t.offset()),
                e.selection.setRng(n)
            },
            Hf = function(e) {
                return ! 1 !== e.settings.inline_boundaries
            },
            jf = function(e, t) {
                e ? t.setAttribute("data-mce-selected", "inline-boundary") : t.removeAttribute("data-mce-selected")
            },
            Uf = function(e, t, n) {
                return mf(t, n).map(function(t) {
                    return Wf(e, t),
                    n
                })
            },
            zf = function(e, t, n) {
                return function() {
                    return !! Hf(t) && Ff(e, t)
                }
            },
            Vf = {
                move: function(e, t, n) {
                    return function() {
                        return !! Hf(e) &&
                        function(e, t, n) {
                            var r = e.getBody(),
                            o = _s.fromRangeStart(e.selection.getRng()),
                            i = b(id.isInlineTarget, e);
                            return Pf(n, i, r, o).bind(function(n) {
                                return Uf(e, t, n)
                            })
                        } (e, t, n).isSome()
                    }
                },
                moveNextWord: b(zf, !0),
                movePrevWord: b(zf, !1),
                setupSelectedState: function(e) {
                    var t = ki(null),
                    n = b(id.isInlineTarget, e);
                    return e.on("NodeChange",
                    function(r) {
                        Hf(e) && (function(e, t, n) {
                            var r = j(t.select('*[data-mce-selected="inline-boundary"]'), e),
                            o = j(n, e);
                            W(G(r, o), b(jf, !1)),
                            W(G(o, r), b(jf, !0))
                        } (n, e.dom, r.parents),
                        function(e, t) {
                            if (e.selection.isCollapsed() && !0 !== e.composing && t.get()) {
                                var n = _s.fromRangeStart(e.selection.getRng());
                                _s.isTextPosition(n) && !1 === id.isAtZwsp(n) && (Wf(e, tl.removeAndReposition(t.get(), n)), t.set(null))
                            }
                        } (e, t),
                        function(e, t, n, r) {
                            if (t.selection.isCollapsed()) {
                                var o = j(r, e);
                                W(o,
                                function(r) {
                                    var o = _s.fromRangeStart(t.selection.getRng());
                                    Df(e, t.getBody(), o).bind(function(e) {
                                        return Uf(t, n, e)
                                    })
                                })
                            }
                        } (n, e, t, r.parents))
                    }),
                    t
                },
                setCaretPosition: Wf
            },
            $f = function(e, t) {
                return function(n) {
                    return mf(t, n).map(function(t) {
                        return Vf.setCaretPosition(e, t),
                        !0
                    }).getOr(!1)
                }
            },
            qf = function(e, t, n, r) {
                var o = e.getBody(),
                i = b(id.isInlineTarget, e);
                e.undoManager.ignore(function() {
                    e.selection.setRng(function(e, t) {
                        var n = document.createRange();
                        return n.setStart(e.container(), e.offset()),
                        n.setEnd(t.container(), t.offset()),
                        n
                    } (n, r)),
                    e.execCommand("Delete"),
                    Df(i, o, _s.fromRangeStart(e.selection.getRng())).map(Mf).map($f(e, t))
                }),
                e.nodeChanged()
            },
            Kf = function(e, t, n, r) {
                var o = function(e, t) {
                    var n = pu(t, e);
                    return n || e
                } (e.getBody(), r.container()),
                i = b(id.isInlineTarget, e),
                a = Df(i, o, r);
                return a.bind(function(e) {
                    return n ? e.fold(g(T.some(Mf(e))), T.none, g(T.some(Bf(e))), T.none) : e.fold(T.none, g(T.some(Bf(e))), T.none, g(T.some(Mf(e))))
                }).map($f(e, t)).getOrThunk(function() {
                    var s = Lu.navigate(n, o, r),
                    l = s.bind(function(e) {
                        return Df(i, o, e)
                    });
                    return a.isSome() && l.isSome() ? id.findRootInline(i, o, r).map(function(t) {
                        return !!
                        function(e) {
                            return ns([Lu.firstPositionIn(e), Lu.lastPositionIn(e)],
                            function(t, n) {
                                var r = id.normalizePosition(!0, t),
                                o = id.normalizePosition(!1, n);
                                return Lu.nextPosition(e, r).map(function(e) {
                                    return e.isEqual(o)
                                }).getOr(!0)
                            }).getOr(!0)
                        } (t) && (Qd(e, n, qn.fromDom(t)), !0)
                    }).getOr(!1) : l.bind(function(o) {
                        return s.map(function(o) {
                            return n ? qf(e, t, r, o) : qf(e, t, o, r),
                            !0
                        })
                    }).getOr(!1)
                })
            },
            Yf = function(e, t, n) {
                if (e.selection.isCollapsed() &&
                function(e) {
                    return ! 1 !== e.settings.inline_boundaries
                } (e)) {
                    var r = _s.fromRangeStart(e.selection.getRng());
                    return Kf(e, t, n, r)
                }
                return ! 1
            },
            Xf = wr("start", "end"),
            Gf = wr("rng", "table", "cells"),
            Jf = Fd([{
                removeTable: ["element"]
            },
            {
                emptyCells: ["cells"]
            }]),
            Qf = function(e, t) {
                return Yi(qn.fromDom(e), "td,th", t)
            },
            Zf = function(e, t) {
                return qi(e, "table", t)
            },
            em = function(e) {
                return ! 1 === Or.eq(e.start(), e.end())
            },
            tm = function(e, t) {
                return Zf(e.start(), t).bind(function(n) {
                    return Zf(e.end(), t).bind(function(e) {
                        return Or.eq(n, e) ? T.some(n) : T.none()
                    })
                })
            },
            nm = function(e) {
                return Wi(e, "td,th")
            },
            rm = function(e, t) {
                var n = Qf(t.startContainer, e),
                r = Qf(t.endContainer, e);
                return t.collapsed ? T.none() : ns([n, r], Xf).fold(function() {
                    return n.fold(function() {
                        return r.bind(function(t) {
                            return Zf(t, e).bind(function(e) {
                                return J(nm(e)).map(function(e) {
                                    return Xf(e, t)
                                })
                            })
                        })
                    },
                    function(t) {
                        return Zf(t, e).bind(function(e) {
                            return Q(nm(e)).map(function(e) {
                                return Xf(t, e)
                            })
                        })
                    })
                },
                function(t) {
                    return om(e, t) ? T.none() : function(e, t) {
                        return Zf(e.start(), t).bind(function(t) {
                            return Q(nm(t)).map(function(t) {
                                return Xf(e.start(), t)
                            })
                        })
                    } (t, e)
                })
            },
            om = function(e, t) {
                return tm(t, e).isSome()
            },
            im = function(e, t) {
                var n = function(e) {
                    return b(Or.eq, e)
                } (e);
                return function(e, t) {
                    var n = Qf(e.startContainer, t),
                    r = Qf(e.endContainer, t);
                    return ns([n, r], Xf).filter(em).filter(function(e) {
                        return om(t, e)
                    }).orThunk(function() {
                        return rm(t, e)
                    })
                } (t, n).bind(function(e) {
                    return function(e, t) {
                        return tm(e, t).map(function(t) {
                            return Gf(e, t, nm(t))
                        })
                    } (e, n)
                })
            },
            am = function(e, t) {
                return V(e,
                function(e) {
                    return Or.eq(e, t)
                })
            },
            sm = function(e) {
                return function(e) {
                    return ns([am(e.cells(), e.rng().start()), am(e.cells(), e.rng().end())],
                    function(t, n) {
                        return e.cells().slice(t, n + 1)
                    })
                } (e).map(function(t) {
                    var n = e.cells();
                    return t.length === n.length ? Jf.removeTable(e.table()) : Jf.emptyCells(t)
                })
            },
            lm = function(e, t) {
                return im(e, t).bind(sm)
            },
            um = function(e) {
                var t = [];
                if (e) for (var n = 0; n < e.rangeCount; n++) t.push(e.getRangeAt(n));
                return t
            },
            cm = um,
            dm = function(e) {
                return K(e,
                function(e) {
                    var t = Qa(e);
                    return t ? [qn.fromDom(t)] : []
                })
            },
            fm = function(e) {
                return um(e).length > 1
            },
            mm = function(e) {
                return j(dm(e), mo)
            },
            pm = function(e) {
                return Wi(e, "td[data-mce-selected],th[data-mce-selected]")
            },
            hm = function(e, t) {
                var n = pm(t),
                r = mm(e);
                return n.length > 0 ? n: r
            },
            gm = hm,
            vm = function(e) {
                return hm(cm(e.selection.getSel()), qn.fromDom(e.getBody()))
            },
            bm = function(e, t) {
                return W(t, Ac),
                e.selection.setCursorLocation(t[0].dom(), 0),
                !0
            },
            ym = function(e, t) {
                return Qd(e, !1, t),
                !0
            },
            wm = function(e, t, n, r) {
                return Cm(t, r).fold(function() {
                    return function(e, t, n) {
                        return lm(t, n).map(function(t) {
                            return t.fold(b(ym, e), b(bm, e))
                        })
                    } (e, t, n)
                },
                function(t) {
                    return function(e, t) {
                        return _m(e, t)
                    } (e, t)
                }).getOr(!1)
            },
            xm = function(e, t) {
                return z(kd(t, e), mo)
            },
            Cm = function(e, t) {
                return z(kd(t, e),
                function(e) {
                    return "caption" === er.name(e)
                })
            },
            _m = function(e, t) {
                return Ac(t),
                e.selection.setCursorLocation(t.dom(), 0),
                T.some(!0)
            },
            km = function(e, t, n, r, o) {
                return Lu.navigate(n, e.getBody(), o).bind(function(i) {
                    return function(e, t, n, r) {
                        return Lu.firstPositionIn(e.dom()).bind(function(o) {
                            return Lu.lastPositionIn(e.dom()).map(function(e) {
                                return t ? n.isEqual(o) && r.isEqual(e) : n.isEqual(e) && r.isEqual(o)
                            })
                        }).getOr(!0)
                    } (r, n, o, i) ?
                    function(e, t) {
                        return _m(e, t)
                    } (e, r) : function(e, t, n) {
                        return Cm(e, qn.fromDom(n.getNode())).map(function(e) {
                            return ! 1 === Or.eq(e, t)
                        })
                    } (t, r, i)
                }).or(T.some(!0))
            },
            Em = function(e, t, n, r) {
                var o = _s.fromRangeStart(e.selection.getRng());
                return xm(n, r).bind(function(r) {
                    return hd(r) ? _m(e, r) : function(e, t, n, r, o) {
                        return Lu.navigate(n, e.getBody(), o).bind(function(e) {
                            return xm(t, qn.fromDom(e.getNode())).map(function(e) {
                                return ! 1 === Or.eq(e, r)
                            })
                        })
                    } (e, n, t, r, o)
                })
            },
            Tm = function(e, t, n) {
                var r = qn.fromDom(e.getBody());
                return Cm(r, n).fold(function() {
                    return Em(e, t, r, n)
                },
                function(n) {
                    return function(e, t, n, r) {
                        var o = _s.fromRangeStart(e.selection.getRng());
                        return hd(r) ? _m(e, r) : km(e, n, t, r, o)
                    } (e, t, r, n)
                }).getOr(!1)
            },
            Sm = function(e, t) {
                var n = qn.fromDom(e.selection.getStart(!0)),
                r = vm(e);
                return e.selection.isCollapsed() && 0 === r.length ? Tm(e, t, n) : function(e, t) {
                    var n = qn.fromDom(e.getBody()),
                    r = e.selection.getRng(),
                    o = vm(e);
                    return 0 !== o.length ? bm(e, o) : wm(e, n, r, t)
                } (e, n)
            },
            Nm = function(e, t) {
                e.getDoc().execCommand(t, !1, null)
            },
            Rm = {
                deleteCommand: function(e) {
                    tf(e, !1) || Yf(e, !1) || Pd(e, !1) || Sm(e) || Ld(e, !1) || (Nm(e, "Delete"), sd(e))
                },
                forwardDeleteCommand: function(e) {
                    tf(e, !0) || Yf(e, !0) || Pd(e, !0) || Sm(e) || Ld(e, !0) || Nm(e, "ForwardDelete")
                }
            },
            Am = function(e) {
                return function(t, n) {
                    return T.from(n).map(qn.fromDom).filter(er.isElement).bind(function(n) {
                        return function(e, t, n) {
                            var r = function(t) {
                                return yr(t, e)
                            };
                            return Vi.closest(qn.fromDom(n),
                            function(e) {
                                return r(e).isSome()
                            },
                            function(e) {
                                return Or.eq(qn.fromDom(t), e)
                            }).bind(r)
                        } (e, t, n.dom()).or(function(e, t) {
                            return T.from(li.DOM.getStyle(t, e, !0))
                        } (e, n.dom()))
                    }).getOr("")
                }
            },
            Om = {
                getFontSize: Am("font-size"),
                getFontFamily: h(function(e) {
                    return e.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",")
                },
                Am("font-family")),
                toPt: function(e, t) {
                    return /[0-9.]+px$/.test(e) ?
                    function(e, t) {
                        var n = Math.pow(10, t);
                        return Math.round(e * n) / n
                    } (72 * parseInt(e, 10) / 96, t || 0) + "pt": e
                }
            },
            Dm = function(e) {
                return Lu.firstPositionIn(e.getBody()).map(function(e) {
                    var t = e.container();
                    return Eo.isText(t) ? t.parentNode: t
                })
            },
            Pm = function(e) {
                return T.from(e.selection.getRng()).bind(function(t) {
                    return function(e, t) {
                        return e.startContainer === t && 0 === e.startOffset
                    } (t, e.getBody()) ? T.none() : T.from(e.selection.getStart(!0))
                })
            },
            Bm = function(e, t) {
                if (/^[0-9\.]+$/.test(t)) {
                    var n = parseInt(t, 10);
                    if (n >= 1 && n <= 7) {
                        var r = Hl.getFontStyleValues(e),
                        o = Hl.getFontSizeClasses(e);
                        return o ? o[n - 1] || t: r[n - 1] || t
                    }
                    return t
                }
                return t
            },
            Mm = function(e, t) {
                e.formatter.toggle("fontname", {
                    value: Bm(e, t)
                }),
                e.nodeChanged()
            },
            Im = function(e) {
                return Pm(e).fold(function() {
                    return Dm(e).map(function(t) {
                        return Om.getFontFamily(e.getBody(), t)
                    }).getOr("")
                },
                function(t) {
                    return Om.getFontFamily(e.getBody(), t)
                })
            },
            Lm = function(e, t) {
                e.formatter.toggle("fontsize", {
                    value: Bm(e, t)
                }),
                e.nodeChanged()
            },
            Fm = function(e) {
                return Pm(e).fold(function() {
                    return Dm(e).map(function(t) {
                        return Om.getFontSize(e.getBody(), t)
                    }).getOr("")
                },
                function(t) {
                    return Om.getFontSize(e.getBody(), t)
                })
            },
            Wm = {
                isEq: function(e, t) {
                    return e && t && e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset
                }
            },
            Hm = function(e, t, n) {
                return null !==
                function(e, t, n) {
                    for (; e && e !== t;) {
                        if (n(e)) return e;
                        e = e.parentNode
                    }
                    return null
                } (e, t, n)
            },
            jm = function(e, t, n) {
                return Hm(e, t,
                function(e) {
                    return e.nodeName === n
                })
            },
            Um = function(e) {
                return e && "TABLE" === e.nodeName
            },
            zm = function(e) {
                return e && /^(TD|TH|CAPTION)$/.test(e.nodeName)
            },
            Vm = function(e, t) {
                return ka(e) && !1 === Hm(e, t, Vs)
            },
            $m = function(e, t, n) {
                for (var r = new Qr(t, e.getParent(t.parentNode, e.isBlock) || e.getRoot()); t = r[n ? "prev": "next"]();) if (Eo.isBr(t)) return ! 0
            },
            qm = function(e, t, n, r, o) {
                var i, a, s, l, u = e.getRoot(),
                c = e.schema.getNonEmptyElements();
                if (s = e.getParent(o.parentNode, e.isBlock) || u, r && Eo.isBr(o) && t && e.isEmpty(s)) return T.some(xs(o.parentNode, e.nodeIndex(o)));
                for (i = new Qr(o, s); l = i[r ? "prev": "next"]();) {
                    if ("false" === e.getContentEditableParent(l) || Vm(l, u)) return T.none();
                    if (Eo.isText(l) && l.nodeValue.length > 0) return ! 1 === jm(l, u, "A") ? T.some(xs(l, r ? l.nodeValue.length: 0)) : T.none();
                    if (e.isBlock(l) || c[l.nodeName.toLowerCase()]) return T.none();
                    a = l
                }
                return n && a ? T.some(xs(a, 0)) : T.none()
            },
            Km = function(e, t, n, r) {
                var o, i, a, s, l, u, c, d = e.getRoot(),
                f = !1;
                if (o = r[(n ? "start": "end") + "Container"], i = r[(n ? "start": "end") + "Offset"], c = Eo.isElement(o) && i === o.childNodes.length, l = e.schema.getNonEmptyElements(), u = n, ka(o)) return T.none();
                if (Eo.isElement(o) && i > o.childNodes.length - 1 && (u = !1), Eo.isDocument(o) && (o = d, i = 0), o === d) {
                    if (u && (s = o.childNodes[i > 0 ? i - 1 : 0])) {
                        if (ka(s)) return T.none();
                        if (l[s.nodeName] || Um(s)) return T.none()
                    }
                    if (o.hasChildNodes()) {
                        if (i = Math.min(!u && i > 0 ? i - 1 : i, o.childNodes.length - 1), o = o.childNodes[i], i = Eo.isText(o) && c ? o.data.length: 0, !t && o === d.lastChild && Um(o)) return T.none();
                        if (function(e, t) {
                            for (; t && t !== e;) {
                                if (Eo.isContentEditableFalse(t)) return ! 0;
                                t = t.parentNode
                            }
                            return ! 1
                        } (d, o) || ka(o)) return T.none();
                        if (o.hasChildNodes() && !1 === Um(o)) {
                            s = o,
                            a = new Qr(o, d);
                            do {
                                if (Eo.isContentEditableFalse(s) || ka(s)) {
                                    f = !1;
                                    break
                                }
                                if (Eo.isText(s) && s.nodeValue.length > 0) {
                                    i = u ? 0 : s.nodeValue.length,
                                    o = s,
                                    f = !0;
                                    break
                                }
                                if (l[s.nodeName.toLowerCase()] && !zm(s)) {
                                    i = e.nodeIndex(s),
                                    o = s.parentNode,
                                    u || i++,
                                    f = !0;
                                    break
                                }
                            } while ( s = u ? a . next () : a.prev())
                        }
                    }
                }
                return t && (Eo.isText(o) && 0 === i && qm(e, c, t, !0, o).each(function(e) {
                    o = e.container(),
                    i = e.offset(),
                    f = !0
                }), Eo.isElement(o) && ((s = o.childNodes[i]) || (s = o.childNodes[i - 1]), !s || !Eo.isBr(s) ||
                function(e, t) {
                    return e.previousSibling && e.previousSibling.nodeName === t
                } (s, "A") || $m(e, s, !1) || $m(e, s, !0) || qm(e, c, t, !0, s).each(function(e) {
                    o = e.container(),
                    i = e.offset(),
                    f = !0
                }))),
                u && !t && Eo.isText(o) && i === o.nodeValue.length && qm(e, c, t, !1, o).each(function(e) {
                    o = e.container(),
                    i = e.offset(),
                    f = !0
                }),
                f ? T.some(xs(o, i)) : T.none()
            },
            Ym = {
                normalize: function(e, t) {
                    var n = t.collapsed,
                    r = t.cloneRange(),
                    o = xs.fromRangeStart(t);
                    return Km(e, n, !0, r).each(function(e) {
                        n && xs.isAbove(o, e) || r.setStart(e.container(), e.offset())
                    }),
                    n || Km(e, n, !1, r).each(function(e) {
                        r.setEnd(e.container(), e.offset())
                    }),
                    n && r.collapse(!0),
                    Wm.isEq(t, r) ? T.none() : T.some(r)
                }
            },
            Xm = function(e, t, n) {
                var r = e.create("span", {},
                "&nbsp;");
                n.parentNode.insertBefore(r, n),
                t.scrollIntoView(r),
                e.remove(r)
            },
            Gm = function(e, t, n, r) {
                var o = e.createRng();
                r ? (o.setStartBefore(n), o.setEndBefore(n)) : (o.setStartAfter(n), o.setEndAfter(n)),
                t.setRng(o)
            },
            Jm = function(e, t) {
                var n, r, o = e.selection,
                i = e.dom,
                a = o.getRng();
                Ym.normalize(i, a).each(function(e) {
                    a.setStart(e.startContainer, e.startOffset),
                    a.setEnd(e.endContainer, e.endOffset)
                });
                var s = a.startOffset,
                l = a.startContainer;
                if (1 === l.nodeType && l.hasChildNodes()) {
                    var u = s > l.childNodes.length - 1;
                    l = l.childNodes[Math.min(s, l.childNodes.length - 1)] || l,
                    s = u && 3 === l.nodeType ? l.nodeValue.length: 0
                }
                var c = i.getParent(l, i.isBlock),
                d = c ? i.getParent(c.parentNode, i.isBlock) : null,
                f = d ? d.nodeName.toUpperCase() : "",
                m = t && t.ctrlKey;
                "LI" !== f || m || (c = d),
                l && 3 === l.nodeType && s >= l.nodeValue.length && (function(e, t, n) {
                    for (var r, o = new Qr(t, n), i = e.getNonEmptyElements(); r = o.next();) if (i[r.nodeName.toLowerCase()] || r.length > 0) return ! 0
                } (e.schema, l, c) || (n = i.create("br"), a.insertNode(n), a.setStartAfter(n), a.setEndAfter(n), r = !0)),
                n = i.create("br"),
                a.insertNode(n),
                Xm(i, o, n),
                Gm(i, o, n, r),
                e.undoManager.add()
            },
            Qm = function(e, t) {
                var n = qn.fromTag("br");
                bi.before(qn.fromDom(t), n),
                e.undoManager.add()
            },
            Zm = function(e, t) {
                ep(e.getBody(), t) || bi.after(qn.fromDom(t), qn.fromTag("br"));
                var n = qn.fromTag("br");
                bi.after(qn.fromDom(t), n),
                Xm(e.dom, e.selection, n.dom()),
                Gm(e.dom, e.selection, n.dom(), !1),
                e.undoManager.add()
            },
            ep = function(e, t) {
                return n = _s.after(t),
                !!Eo.isBr(n.getNode()) || Lu.nextPosition(e, _s.after(t)).map(function(e) {
                    return Eo.isBr(e.getNode())
                }).getOr(!1);
                var n
            }, tp = function(e) {
                return e && "A" === e.nodeName && "href" in e
            },
            np = function(e) {
                return e.fold(g(!1), tp, tp, g(!1))
            },
            rp = function(e, t) {
                t.fold(p, b(Qm, e), b(Zm, e), p)
            },
            op = {
                insert: function(e, t) {
                    var n = function(e) {
                        var t = b(id.isInlineTarget, e),
                        n = _s.fromRangeStart(e.selection.getRng());
                        return Df(t, e.getBody(), n).filter(np)
                    } (e);
                    n.isSome() ? n.each(b(rp, e)) : Jm(e, t)
                }
            },
            ip = Fd([{
                before: ["element"]
            },
            {
                on: ["element", "offset"]
            },
            {
                after: ["element"]
            }]),
            ap = (ip.before, ip.on, ip.after,
            function(e) {
                return e.fold(v, v, v)
            }),
            sp = Fd([{
                domRange: ["rng"]
            },
            {
                relative: ["startSitu", "finishSitu"]
            },
            {
                exact: ["start", "soffset", "finish", "foffset"]
            }]),
            lp = wr("start", "soffset", "finish", "foffset"),
            up = {
                domRange: sp.domRange,
                relative: sp.relative,
                exact: sp.exact,
                exactFromRange: function(e) {
                    return sp.exact(e.start(), e.soffset(), e.finish(), e.foffset())
                },
                range: lp,
                getWin: function(e) {
                    var t = function(e) {
                        return e.match({
                            domRange: function(e) {
                                return qn.fromDom(e.startContainer)
                            },
                            relative: function(e, t) {
                                return ap(e)
                            },
                            exact: function(e, t, n, r) {
                                return e
                            }
                        })
                    } (e);
                    return Fr.defaultView(t)
                }
            },
            cp = Vn.detect().browser,
            dp = function(e, t) {
                var n = er.isText(t) ? dc(t).length: Fr.children(t).length + 1;
                return e > n ? n: e < 0 ? 0 : e
            },
            fp = function(e) {
                return up.range(e.start(), dp(e.soffset(), e.start()), e.finish(), dp(e.foffset(), e.finish()))
            },
            mp = function(e, t) {
                return Or.contains(e, t) || Or.eq(e, t)
            },
            pp = function(e) {
                return function(t) {
                    return mp(e, t.start()) && mp(e, t.finish())
                }
            },
            hp = function(e) {
                return ! 0 === e.inline || cp.isIE()
            },
            gp = function(e) {
                return up.range(qn.fromDom(e.startContainer), e.startOffset, qn.fromDom(e.endContainer), e.endOffset)
            },
            vp = function(e) {
                var t = e.getSelection();
                return (t && 0 !== t.rangeCount ? T.from(t.getRangeAt(0)) : T.none()).map(gp)
            },
            bp = function(e) {
                var t = Fr.defaultView(e);
                return vp(t.dom()).filter(pp(e))
            },
            yp = function(e, t) {
                return T.from(t).filter(pp(e)).map(fp)
            },
            wp = function(e) {
                var t = document.createRange();
                try {
                    return t.setStart(e.start().dom(), e.soffset()),
                    t.setEnd(e.finish().dom(), e.foffset()),
                    T.some(t)
                } catch(e) {
                    return T.none()
                }
            },
            xp = function(e) {
                return (e.bookmark ? e.bookmark: T.none()).bind(b(yp, qn.fromDom(e.getBody()))).bind(wp)
            },
            Cp = {
                store: function(e) {
                    var t = hp(e) ? bp(qn.fromDom(e.getBody())) : T.none();
                    e.bookmark = t.isSome() ? t: e.bookmark
                },
                storeNative: function(e, t) {
                    var n = qn.fromDom(e.getBody()),
                    r = (hp(e) ? T.from(t) : T.none()).map(gp).filter(pp(n));
                    e.bookmark = r.isSome() ? r: e.bookmark
                },
                readRange: vp,
                restore: function(e) {
                    xp(e).each(function(t) {
                        e.selection.setRng(t)
                    })
                },
                getRng: xp,
                getBookmark: bp,
                validate: yp
            },
            _p = function(e, t) {
                var n = e.settings,
                r = e.dom,
                o = e.selection,
                i = e.formatter,
                a = /[a-z%]+$/i.exec(n.indentation)[0],
                s = parseInt(n.indentation, 10),
                l = e.getParam("indent_use_margin", !1);
                e.queryCommandState("InsertUnorderedList") || e.queryCommandState("InsertOrderedList") || (n.forced_root_block || r.getParent(o.getNode(), r.isBlock) || i.apply("div"), W(o.getSelectedBlocks(),
                function(e) {
                    return function(e, t, n, r, o, i) {
                        if ("false" !== e.getContentEditable(i) && "LI" !== i.nodeName) {
                            var a = n ? "margin": "padding";
                            if (a = "TABLE" === i.nodeName ? "margin": a, a += "rtl" === e.getStyle(i, "direction", !0) ? "Right": "Left", "outdent" === t) {
                                var s = Math.max(0, parseInt(i.style[a] || 0, 10) - r);
                                e.setStyle(i, a, s ? s + o: "")
                            } else s = parseInt(i.style[a] || 0, 10) + r + o,
                            e.setStyle(i, a, s)
                        }
                    } (r, t, l, s, a, e)
                }))
            },
            kp = Kt.each,
            Ep = Kt.extend,
            Tp = Kt.map,
            Sp = Kt.inArray;
            function Np(e) {
                var t, n, r, o, i = {
                    state: {},
                    exec: {},
                    value: {}
                },
                a = e.settings;
                e.on("PreInit",
                function() {
                    t = e.dom,
                    n = e.selection,
                    a = e.settings,
                    r = e.formatter
                });
                var s = function(t) {
                    var n;
                    if (!e.quirks.isHidden() && !e.removed) {
                        if (t = t.toLowerCase(), n = i.state[t]) return n(t);
                        try {
                            return e.getDoc().queryCommandState(t)
                        } catch(e) {}
                        return ! 1
                    }
                },
                l = function(e, t) {
                    t = t || "exec",
                    kp(e,
                    function(e, n) {
                        kp(n.toLowerCase().split(","),
                        function(n) {
                            i[t][n] = e
                        })
                    })
                },
                u = function(t, n, r) {
                    t = t.toLowerCase(),
                    i.value[t] = function() {
                        return n.call(r || e)
                    }
                };
                Ep(this, {
                    execCommand: function(t, n, r, o) {
                        var a, s, l = !1;
                        if (!e.removed) {
                            if (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t) || o && o.skip_focus ? Cp.restore(e) : e.focus(), (o = e.fire("BeforeExecCommand", {
                                command: t,
                                ui: n,
                                value: r
                            })).isDefaultPrevented()) return ! 1;
                            if (s = t.toLowerCase(), a = i.exec[s]) return a(s, n, r),
                            e.fire("ExecCommand", {
                                command: t,
                                ui: n,
                                value: r
                            }),
                            !0;
                            if (kp(e.plugins,
                            function(o) {
                                if (o.execCommand && o.execCommand(t, n, r)) return e.fire("ExecCommand", {
                                    command: t,
                                    ui: n,
                                    value: r
                                }),
                                l = !0,
                                !1
                            }), l) return l;
                            if (e.theme && e.theme.execCommand && e.theme.execCommand(t, n, r)) return e.fire("ExecCommand", {
                                command: t,
                                ui: n,
                                value: r
                            }),
                            !0;
                            try {
                                l = e.getDoc().execCommand(t, n, r)
                            } catch(e) {}
                            return !! l && (e.fire("ExecCommand", {
                                command: t,
                                ui: n,
                                value: r
                            }), !0)
                        }
                    },
                    queryCommandState: s,
                    queryCommandValue: function(t) {
                        var n;
                        if (!e.quirks.isHidden() && !e.removed) {
                            if (t = t.toLowerCase(), n = i.value[t]) return n(t);
                            try {
                                return e.getDoc().queryCommandValue(t)
                            } catch(e) {}
                        }
                    },
                    queryCommandSupported: function(t) {
                        if (t = t.toLowerCase(), i.exec[t]) return ! 0;
                        try {
                            return e.getDoc().queryCommandSupported(t)
                        } catch(e) {}
                        return ! 1
                    },
                    addCommands: l,
                    addCommand: function(t, n, r) {
                        t = t.toLowerCase(),
                        i.exec[t] = function(t, o, i, a) {
                            return n.call(r || e, o, i, a)
                        }
                    },
                    addQueryStateHandler: function(t, n, r) {
                        t = t.toLowerCase(),
                        i.state[t] = function() {
                            return n.call(r || e)
                        }
                    },
                    addQueryValueHandler: u,
                    hasCustomCommand: function(e) {
                        return e = e.toLowerCase(),
                        !!i.exec[e]
                    }
                });
                var c = function(t, n, r) {
                    return void 0 === n && (n = !1),
                    void 0 === r && (r = null),
                    e.getDoc().execCommand(t, n, r)
                },
                d = function(e) {
                    return r.match(e)
                },
                f = function(t, n) {
                    r.toggle(t, n ? {
                        value: n
                    }: void 0),
                    e.nodeChanged()
                },
                m = function(e) {
                    o = n.getBookmark(e)
                },
                p = function() {
                    n.moveToBookmark(o)
                };
                l({
                    "mceResetDesignMode,mceBeginUndoLevel": function() {},
                    "mceEndUndoLevel,mceAddUndoLevel": function() {
                        e.undoManager.add()
                    },
                    "Cut,Copy,Paste": function(t) {
                        var n, r = e.getDoc();
                        try {
                            c(t)
                        } catch(e) {
                            n = !0
                        }
                        if ("paste" !== t || r.queryCommandEnabled(t) || (n = !0), n || !r.queryCommandSupported(t)) {
                            var o = e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");
                            Se.mac && (o = o.replace(/Ctrl\+/g, "⌘+")),
                            e.notificationManager.open({
                                text: o,
                                type: "error"
                            })
                        }
                    },
                    unlink: function() {
                        if (n.isCollapsed()) {
                            var t = e.dom.getParent(e.selection.getStart(), "a");
                            t && e.dom.remove(t, !0)
                        } else r.remove("link")
                    },
                    "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function(e) {
                        var t = e.substring(7);
                        "full" === t && (t = "justify"),
                        kp("left,center,right,justify".split(","),
                        function(e) {
                            t !== e && r.remove("align" + e)
                        }),
                        "none" !== t && f("align" + t)
                    },
                    "InsertUnorderedList,InsertOrderedList": function(e) {
                        var r, o;
                        c(e),
                        (r = t.getParent(n.getNode(), "ol,ul")) && (o = r.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName) && (m(), t.split(o, r), p()))
                    },
                    "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                        f(e)
                    },
                    "ForeColor,HiliteColor": function(e, t, n) {
                        f(e, n)
                    },
                    FontName: function(t, n, r) {
                        Mm(e, r)
                    },
                    FontSize: function(t, n, r) {
                        Lm(e, r)
                    },
                    RemoveFormat: function(e) {
                        r.remove(e)
                    },
                    mceBlockQuote: function() {
                        f("blockquote")
                    },
                    FormatBlock: function(e, t, n) {
                        return f(n || "p")
                    },
                    mceCleanup: function() {
                        var t = n.getBookmark();
                        e.setContent(e.getContent()),
                        n.moveToBookmark(t)
                    },
                    mceRemoveNode: function(t, r, o) {
                        var i = o || n.getNode();
                        i !== e.getBody() && (m(), e.dom.remove(i, !0), p())
                    },
                    mceSelectNodeDepth: function(r, o, i) {
                        var a = 0;
                        t.getParent(n.getNode(),
                        function(e) {
                            if (1 === e.nodeType && a++===i) return n.select(e),
                            !1
                        },
                        e.getBody())
                    },
                    mceSelectNode: function(e, t, r) {
                        n.select(r)
                    },
                    mceInsertContent: function(t, n, r) {
                        Hc.insertAtCaret(e, r)
                    },
                    mceInsertRawHTML: function(t, r, o) {
                        n.setContent("tiny_mce_marker");
                        var i = e.getContent();
                        e.setContent(i.replace(/tiny_mce_marker/g,
                        function() {
                            return o
                        }))
                    },
                    mceToggleFormat: function(e, t, n) {
                        f(n)
                    },
                    mceSetContent: function(t, n, r) {
                        e.setContent(r)
                    },
                    "Indent,Outdent": function(t) {
                        _p(e, t)
                    },
                    mceRepaint: function() {},
                    InsertHorizontalRule: function() {
                        e.execCommand("mceInsertContent", !1, "<hr />")
                    },
                    mceToggleVisualAid: function() {
                        e.hasVisual = !e.hasVisual,
                        e.addVisual()
                    },
                    mceReplaceContent: function(t, r, o) {
                        e.execCommand("mceInsertContent", !1, o.replace(/\{\$selection\}/g, n.getContent({
                            format: "text"
                        })))
                    },
                    mceInsertLink: function(e, o, i) {
                        var a;
                        "string" == typeof i && (i = {
                            href: i
                        }),
                        a = t.getParent(n.getNode(), "a"),
                        i.href = i.href.replace(" ", "%20"),
                        a && i.href || r.remove("link"),
                        i.href && r.apply("link", i, a)
                    },
                    selectAll: function() {
                        var e = t.getParent(n.getStart(), Eo.isContentEditableTrue);
                        if (e) {
                            var r = t.createRng();
                            r.selectNodeContents(e),
                            n.setRng(r)
                        }
                    },
                    delete: function() {
                        Rm.deleteCommand(e)
                    },
                    forwardDelete: function() {
                        Rm.forwardDeleteCommand(e)
                    },
                    mceNewDocument: function() {
                        e.setContent("")
                    },
                    InsertLineBreak: function(t, n, r) {
                        return op.insert(e, r),
                        !0
                    }
                });
                var h = function(e) {
                    return function() {
                        var o = n.isCollapsed() ? [t.getParent(n.getNode(), t.isBlock)] : n.getSelectedBlocks(),
                        i = Tp(o,
                        function(t) {
                            return !! r.matchNode(t, e)
                        });
                        return - 1 !== Sp(i, !0)
                    }
                };
                l({
                    JustifyLeft: h("alignleft"),
                    JustifyCenter: h("aligncenter"),
                    JustifyRight: h("alignright"),
                    JustifyFull: h("alignjustify"),
                    "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                        return d(e)
                    },
                    mceBlockQuote: function() {
                        return d("blockquote")
                    },
                    Outdent: function() {
                        var e;
                        if (a.inline_styles) {
                            if ((e = t.getParent(n.getStart(), t.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return ! 0;
                            if ((e = t.getParent(n.getEnd(), t.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return ! 0
                        }
                        return s("InsertUnorderedList") || s("InsertOrderedList") || !a.inline_styles && !!t.getParent(n.getNode(), "BLOCKQUOTE")
                    },
                    "InsertUnorderedList,InsertOrderedList": function(e) {
                        var r = t.getParent(n.getNode(), "ul,ol");
                        return r && ("insertunorderedlist" === e && "UL" === r.tagName || "insertorderedlist" === e && "OL" === r.tagName)
                    }
                },
                "state"),
                l({
                    Undo: function() {
                        e.undoManager.undo()
                    },
                    Redo: function() {
                        e.undoManager.redo()
                    }
                }),
                u("FontName",
                function() {
                    return Im(e)
                },
                this),
                u("FontSize",
                function() {
                    return Fm(e)
                },
                this)
            }
            var Rp = Kt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend", " "),
            Ap = function(e) {
                var t, n, r = this,
                o = {},
                i = function() {
                    return ! 1
                },
                a = function() {
                    return ! 0
                };
                t = (e = e || {}).scope || r,
                n = e.toggleEvent || i;
                var s = function(e, t, a, s) {
                    var l, u, c;
                    if (!1 === t && (t = i), t) for (t = {
                        func: t
                    },
                    s && Kt.extend(t, s), c = (u = e.toLowerCase().split(" ")).length; c--;) e = u[c],
                    (l = o[e]) || (l = o[e] = [], n(e, !0)),
                    a ? l.unshift(t) : l.push(t);
                    return r
                },
                l = function(e, t) {
                    var i, a, s, l, u;
                    if (e) for (i = (l = e.toLowerCase().split(" ")).length; i--;) {
                        if (e = l[i], a = o[e], !e) {
                            for (s in o) n(s, !1),
                            delete o[s];
                            return r
                        }
                        if (a) {
                            if (t) for (u = a.length; u--;) a[u].func === t && (a = a.slice(0, u).concat(a.slice(u + 1)), o[e] = a);
                            else a.length = 0;
                            a.length || (n(e, !1), delete o[e])
                        }
                    } else {
                        for (e in o) n(e, !1);
                        o = {}
                    }
                    return r
                };
                r.fire = function(n, r) {
                    var s, u, c, d;
                    if (n = n.toLowerCase(), (r = r || {}).type = n, r.target || (r.target = t), r.preventDefault || (r.preventDefault = function() {
                        r.isDefaultPrevented = a
                    },
                    r.stopPropagation = function() {
                        r.isPropagationStopped = a
                    },
                    r.stopImmediatePropagation = function() {
                        r.isImmediatePropagationStopped = a
                    },
                    r.isDefaultPrevented = i, r.isPropagationStopped = i, r.isImmediatePropagationStopped = i), e.beforeFire && e.beforeFire(r), s = o[n]) for (u = 0, c = s.length; u < c; u++) {
                        if ((d = s[u]).once && l(n, d.func), r.isImmediatePropagationStopped()) return r.stopPropagation(),
                        r;
                        if (!1 === d.func.call(t, r)) return r.preventDefault(),
                        r
                    }
                    return r
                },
                r.on = s,
                r.off = l,
                r.once = function(e, t, n) {
                    return s(e, t, n, {
                        once: !0
                    })
                },
                r.has = function(e) {
                    return e = e.toLowerCase(),
                    !(!o[e] || 0 === o[e].length)
                }
            };
            Ap.isNative = function(e) {
                return !! Rp[e.toLowerCase()]
            };
            var Op, Dp = function(e) {
                return e._eventDispatcher || (e._eventDispatcher = new Ap({
                    scope: e,
                    toggleEvent: function(t, n) {
                        Ap.isNative(t) && e.toggleNativeEvent && e.toggleNativeEvent(t, n)
                    }
                })),
                e._eventDispatcher
            },
            Pp = {
                fire: function(e, t, n) {
                    if (this.removed && "remove" !== e) return t;
                    if (t = Dp(this).fire(e, t, n), !1 !== n && this.parent) for (var r = this.parent(); r && !t.isPropagationStopped();) r.fire(e, t, !1),
                    r = r.parent();
                    return t
                },
                on: function(e, t, n) {
                    return Dp(this).on(e, t, n)
                },
                off: function(e, t) {
                    return Dp(this).off(e, t)
                },
                once: function(e, t) {
                    return Dp(this).once(e, t)
                },
                hasEventListeners: function(e) {
                    return Dp(this).has(e)
                }
            },
            Bp = function(e, t) {
                return e.fire("PreProcess", t)
            },
            Mp = function(e, t) {
                return e.fire("PostProcess", t)
            },
            Ip = function(e) {
                return e.fire("remove")
            },
            Lp = function(e, t) {
                return e.fire("SwitchMode", {
                    mode: t
                })
            },
            Fp = function(e, t, n, r) {
                e.fire("ObjectResizeStart", {
                    target: t,
                    width: n,
                    height: r
                })
            },
            Wp = function(e, t, n, r) {
                e.fire("ObjectResized", {
                    target: t,
                    width: n,
                    height: r
                })
            },
            Hp = function(e, t, n) {
                try {
                    e.getDoc().execCommand(t, !1, n)
                } catch(e) {}
            },
            jp = function(e, t) { !
                function(e, t, n) {
                    Fi.has(e, t) && !1 === n ? Fi.remove(e, t) : n && Fi.add(e, t)
                } (qn.fromDom(e.getBody()), "mce-content-readonly", t),
                t ? (e.selection.controlSelection.hideResizeRect(), e.readonly = !0, e.getBody().contentEditable = "false") : (e.readonly = !1, e.getBody().contentEditable = "true", Hp(e, "StyleWithCSS", !1), Hp(e, "enableInlineTableEditing", !1), Hp(e, "enableObjectResizing", !1), e.focus(), e.nodeChanged())
            },
            Up = function(e) {
                return e.readonly ? "readonly": "design"
            },
            zp = li.DOM,
            Vp = function(e, t) {
                return "selectionchange" === t ? e.getDoc() : !e.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t) ? e.getDoc().documentElement: e.settings.event_root ? (e.eventRoot || (e.eventRoot = zp.select(e.settings.event_root)[0]), e.eventRoot) : e.getBody()
            },
            $p = function(e, t, n) { !
                function(e) {
                    return ! e.hidden && !e.readonly
                } (e) ?
                function(e) {
                    return ! 0 === e.readonly
                } (e) && n.preventDefault() : e.fire(t, n)
            },
            qp = function(e, t) {
                var n, r;
                if (e.delegates || (e.delegates = {}), !e.delegates[t] && !e.removed) if (n = Vp(e, t), e.settings.event_root) {
                    if (Op || (Op = {},
                    e.editorManager.on("removeEditor",
                    function() {
                        var t;
                        if (!e.editorManager.activeEditor && Op) {
                            for (t in Op) e.dom.unbind(Vp(e, t));
                            Op = null
                        }
                    })), Op[t]) return;
                    r = function(n) {
                        for (var r = n.target,
                        o = e.editorManager.get(), i = o.length; i--;) {
                            var a = o[i].getBody(); (a === r || zp.isChildOf(r, a)) && $p(o[i], t, n)
                        }
                    },
                    Op[t] = r,
                    zp.bind(n, t, r)
                } else r = function(n) {
                    $p(e, t, n)
                },
                zp.bind(n, t, r),
                e.delegates[t] = r
            },
            Kp = {
                bindPendingEventDelegates: function() {
                    var e = this;
                    Kt.each(e._pendingNativeEvents,
                    function(t) {
                        qp(e, t)
                    })
                },
                toggleNativeEvent: function(e, t) {
                    "focus" !== e && "blur" !== e && (t ? this.initialized ? qp(this, e) : this._pendingNativeEvents ? this._pendingNativeEvents.push(e) : this._pendingNativeEvents = [e] : this.initialized && (this.dom.unbind(Vp(this, e), e, this.delegates[e]), delete this.delegates[e]))
                },
                unbindAllNativeEvents: function() {
                    var e, t = this.getBody(),
                    n = this.dom;
                    if (this.delegates) {
                        for (e in this.delegates) this.dom.unbind(Vp(this, e), e, this.delegates[e]);
                        delete this.delegates
                    } ! this.inline && t && n && (t.onload = null, n.unbind(this.getWin()), n.unbind(this.getDoc())),
                    n && (n.unbind(t), n.unbind(this.getContainer()))
                }
            },
            Yp = Kp = Kt.extend({},
            Pp, Kp),
            Xp = Kt.each,
            Gp = Kt.explode,
            Jp = {
                f9: 120,
                f10: 121,
                f11: 122
            },
            Qp = Kt.makeMap("alt,ctrl,shift,meta,access");
            function Zp(e) {
                var t = {},
                n = [],
                r = function(e) {
                    var t, n, r = {};
                    for (n in Xp(Gp(e, "+"),
                    function(e) {
                        e in Qp ? r[e] = !0 : /^[0-9]{2,}$/.test(e) ? r.keyCode = parseInt(e, 10) : (r.charCode = e.charCodeAt(0), r.keyCode = Jp[e] || e.toUpperCase().charCodeAt(0))
                    }), t = [r.keyCode], Qp) r[n] ? t.push(n) : r[n] = !1;
                    return r.id = t.join(","),
                    r.access && (r.alt = !0, Se.mac ? r.ctrl = !0 : r.shift = !0),
                    r.meta && (Se.mac ? r.meta = !0 : (r.ctrl = !0, r.meta = !1)),
                    r
                },
                o = function(t, n, o, i) {
                    var a;
                    return (a = Kt.map(Gp(t, ">"), r))[a.length - 1] = Kt.extend(a[a.length - 1], {
                        func: o,
                        scope: i || e
                    }),
                    Kt.extend(a[0], {
                        desc: e.translate(n),
                        subpatterns: a.slice(1)
                    })
                },
                i = function(e, t) {
                    return !! t && t.ctrl === e.ctrlKey && t.meta === e.metaKey && t.alt === e.altKey && t.shift === e.shiftKey && !!(e.keyCode === t.keyCode || e.charCode && e.charCode === t.charCode) && (e.preventDefault(), !0)
                },
                a = function(e) {
                    return e.func ? e.func.call(e.scope) : null
                };
                e.on("keyup keypress keydown",
                function(e) { !
                    function(e) {
                        return e.altKey || e.ctrlKey || e.metaKey
                    } (e) && !
                    function(e) {
                        return "keydown" === e.type && e.keyCode >= 112 && e.keyCode <= 123
                    } (e) || e.isDefaultPrevented() || (Xp(t,
                    function(t) {
                        if (i(e, t)) return n = t.subpatterns.slice(0),
                        "keydown" === e.type && a(t),
                        !0
                    }), i(e, n[0]) && (1 === n.length && "keydown" === e.type && a(n[0]), n.shift()))
                }),
                this.add = function(n, r, i, a) {
                    var s;
                    return s = i,
                    "string" == typeof i ? i = function() {
                        e.execCommand(s, !1, null)
                    }: Kt.isArray(s) && (i = function() {
                        e.execCommand(s[0], s[1], s[2])
                    }),
                    Xp(Gp(Kt.trim(n.toLowerCase())),
                    function(e) {
                        var n = o(e, r, i, a);
                        t[n.id] = n
                    }),
                    !0
                },
                this.remove = function(e) {
                    var n = o(e);
                    return !! t[n.id] && (delete t[n.id], !0)
                }
            }
            var eh = function(e) {
                var t = void 0 !== e ? e.dom() : document;
                return T.from(t.activeElement).map(qn.fromDom)
            },
            th = function(e) {
                var t = Fr.owner(e).dom();
                return e.dom() === t.activeElement
            },
            nh = function(e) {
                return eh(Fr.owner(e)).filter(function(t) {
                    return e.dom().contains(t.dom())
                })
            },
            rh = function(e, t) {
                return function(e) {
                    return e.collapsed ? T.from(Za(e.startContainer, e.startOffset)).map(qn.fromDom) : T.none()
                } (t).bind(function(t) {
                    return fo(t) ? T.some(t) : !1 === Or.contains(e, t) ? T.some(e) : T.none()
                })
            },
            oh = function(e, t) {
                rh(qn.fromDom(e.getBody()), t).bind(function(e) {
                    return Lu.firstPositionIn(e.dom())
                }).fold(function() {
                    e.selection.normalize()
                },
                function(t) {
                    return e.selection.setRng(t.toRange())
                })
            },
            ih = function(e) {
                if (e.setActive) try {
                    e.setActive()
                } catch(t) {
                    e.focus()
                } else e.focus()
            },
            ah = function(e) {
                var t, n = e.getBody();
                return n && (t = qn.fromDom(n), th(t) || nh(t).isSome())
            },
            sh = function(e) {
                return e.inline ? ah(e) : function(e) {
                    return e.iframeElement && th(qn.fromDom(e.iframeElement))
                } (e)
            },
            lh = function(e) {
                return e.editorManager.setActive(e)
            },
            uh = function(e, t) {
                e.removed || (t ? lh(e) : function(e) {
                    var t = e.selection,
                    n = e.settings.content_editable,
                    r = e.getBody(),
                    o = t.getRng();
                    e.quirks.refreshContentEditable();
                    var i = function(e, t) {
                        return e.dom.getParent(t,
                        function(t) {
                            return "true" === e.dom.getContentEditable(t)
                        })
                    } (e, t.getNode());
                    if (e.$.contains(r, i)) return ih(i),
                    oh(e, o),
                    void lh(e);
                    void 0 !== e.bookmark && !1 === sh(e) && Cp.getRng(e).each(function(t) {
                        e.selection.setRng(t),
                        o = t
                    }),
                    n || (Se.opera || ih(r), e.getWin().focus()),
                    (Se.gecko || n) && (ih(r), oh(e, o)),
                    lh(e)
                } (e))
            },
            ch = sh,
            dh = function(e, t) {
                return t.dom()[e]
            },
            fh = function(e, t) {
                return parseInt(br(t, e), 10)
            },
            mh = b(dh, "clientWidth"),
            ph = b(dh, "clientHeight"),
            hh = b(fh, "margin-top"),
            gh = b(fh, "margin-left"),
            vh = {
                isXYInContentArea: function(e, t, n) {
                    var r = qn.fromDom(e.getBody()),
                    o = e.inline ? r: Fr.documentElement(r),
                    i = function(e, t, n, r) {
                        var o = function(e) {
                            return e.dom().getBoundingClientRect()
                        } (t);
                        return {
                            x: n - (e ? o.left + t.dom().clientLeft + gh(t) : 0),
                            y: r - (e ? o.top + t.dom().clientTop + hh(t) : 0)
                        }
                    } (e.inline, o, t, n);
                    return function(e, t, n) {
                        var r = mh(e),
                        o = ph(e);
                        return t >= 0 && n >= 0 && t <= r && n <= o
                    } (o, i.x, i.y)
                },
                isEditorAttachedToDom: function(e) {
                    var t, n = e.inline ? e.getBody() : e.getContentAreaContainer();
                    return (t = n, T.from(t).map(qn.fromDom)).map(function(e) {
                        return Or.contains(Fr.owner(e), e)
                    }).getOr(!1)
                }
            };
            function bh(e) {
                var t = [],
                n = function() {
                    var t, n = e.theme;
                    return n && n.getNotificationManagerImpl ? n.getNotificationManagerImpl() : {
                        open: t = function() {
                            throw new Error("Theme did not provide a NotificationManager implementation.")
                        },
                        close: t,
                        reposition: t,
                        getArgs: t
                    }
                },
                r = function() {
                    t.length > 0 && n().reposition(t)
                },
                o = function(e) {
                    V(t,
                    function(t) {
                        return t === e
                    }).each(function(e) {
                        t.splice(e, 1)
                    })
                },
                i = function(i) {
                    if (!e.removed && vh.isEditorAttachedToDom(e)) return z(t,
                    function(e) {
                        return t = n().getArgs(e),
                        r = i,
                        !(t.type !== r.type || t.text !== r.text || t.progressBar || t.timeout || r.progressBar || r.timeout);
                        var t, r
                    }).getOrThunk(function() {
                        e.editorManager.setActive(e);
                        var a = n().open(i,
                        function() {
                            o(a),
                            r()
                        });
                        return function(e) {
                            t.push(e)
                        } (a),
                        r(),
                        a
                    })
                };
                return function(e) {
                    e.on("SkinLoaded",
                    function() {
                        var t = e.settings.service_message;
                        t && i({
                            text: t,
                            type: "warning",
                            timeout: 0,
                            icon: ""
                        })
                    }),
                    e.on("ResizeEditor ResizeWindow",
                    function() {
                        De.requestAnimationFrame(r)
                    }),
                    e.on("remove",
                    function() {
                        W(t.slice(),
                        function(e) {
                            n().close(e)
                        })
                    })
                } (e),
                {
                    open: i,
                    close: function() {
                        T.from(t[0]).each(function(e) {
                            n().close(e),
                            o(e),
                            r()
                        })
                    },
                    getNotifications: function() {
                        return t
                    }
                }
            }
            function yh(e) {
                var t = [],
                n = function() {
                    var t, n = e.theme;
                    return n && n.getWindowManagerImpl ? n.getWindowManagerImpl() : {
                        open: t = function() {
                            throw new Error("Theme did not provide a WindowManager implementation.")
                        },
                        alert: t,
                        confirm: t,
                        close: t,
                        getParams: t,
                        setParams: t
                    }
                },
                r = function(e, t) {
                    return function() {
                        return t ? t.apply(e, arguments) : void 0
                    }
                },
                o = function(n) {
                    t.push(n),
                    function(t) {
                        e.fire("OpenWindow", {
                            win: t
                        })
                    } (n)
                },
                i = function(n) {
                    V(t,
                    function(e) {
                        return e === n
                    }).each(function(r) {
                        t.splice(r, 1),
                        function(t) {
                            e.fire("CloseWindow", {
                                win: t
                            })
                        } (n),
                        0 === t.length && e.focus()
                    })
                },
                a = function() {
                    return T.from(t[t.length - 1])
                };
                return e.on("remove",
                function() {
                    W(t.slice(0),
                    function(e) {
                        n().close(e)
                    })
                }),
                {
                    windows: t,
                    open: function(t, r) {
                        e.editorManager.setActive(e),
                        Cp.store(e);
                        var a = n().open(t, r, i);
                        return o(a),
                        a
                    },
                    alert: function(e, t, a) {
                        var s = n().alert(e, r(a || this, t), i);
                        o(s)
                    },
                    confirm: function(e, t, a) {
                        var s = n().confirm(e, r(a || this, t), i);
                        o(s)
                    },
                    close: function() {
                        a().each(function(e) {
                            n().close(e),
                            i(e)
                        })
                    },
                    getParams: function() {
                        return a().map(n().getParams).getOr(null)
                    },
                    setParams: function(e) {
                        a().each(function(t) {
                            n().setParams(t, e)
                        })
                    },
                    getWindows: function() {
                        return t
                    }
                }
            }
            var wh = hi.PluginManager,
            xh = function(e, t) {
                var n = function(e, t) {
                    for (var n in wh.urls) if (wh.urls[n] + "/plugin" + t + ".js" === e) return n;
                    return null
                } (t, e.suffix);
                return n ? "Failed to load plugin: " + n + " from url " + t: "Failed to load plugin url: " + t
            },
            Ch = function(e, t) {
                e.notificationManager.open({
                    type: "error",
                    text: t
                })
            },
            _h = function(e, t) {
                e._skinLoaded ? Ch(e, t) : e.on("SkinLoaded",
                function() {
                    Ch(e, t)
                })
            },
            kh = {
                pluginLoadError: function(e, t) {
                    _h(e, xh(e, t))
                },
                uploadError: function(e, t) {
                    _h(e, "Failed to upload image: " + t)
                },
                displayError: _h,
                initError: function(e) {
                    for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                    var r = window.console;
                    r && (r.error ? r.error.apply(r, arguments) : r.log.apply(r, arguments))
                }
            },
            Eh = hi.PluginManager,
            Th = hi.ThemeManager;
            function Sh() {
                return new(ne.getOrDie("XMLHttpRequest"))
            }
            function Nh(e, t) {
                var n = {},
                r = function(e, n, r, o) {
                    var i, a; (i = Sh()).open("POST", t.url),
                    i.withCredentials = t.credentials,
                    i.upload.onprogress = function(e) {
                        o(e.loaded / e.total * 100)
                    },
                    i.onerror = function() {
                        r("Image upload failed due to a XHR Transport error. Code: " + i.status)
                    },
                    i.onload = function() {
                        var e, o, a;
                        i.status < 200 || i.status >= 300 ? r("HTTP Error: " + i.status) : (e = JSON.parse(i.responseText)) && "string" == typeof e.location ? n((o = t.basePath, a = e.location, o ? o.replace(/\/$/, "") + "/" + a.replace(/^\//, "") : a)) : r("Invalid JSON: " + i.responseText)
                    },
                    (a = new FormData).append("file", e.blob(), e.filename()),
                    i.send(a)
                },
                o = function(e, t) {
                    return {
                        url: t,
                        blobInfo: e,
                        status: !0
                    }
                },
                i = function(e, t) {
                    return {
                        url: "",
                        blobInfo: e,
                        status: !1,
                        error: t
                    }
                },
                a = function(e, t) {
                    Kt.each(n[e],
                    function(e) {
                        e(t)
                    }),
                    delete n[e]
                },
                s = function(r, s) {
                    return r = Kt.grep(r,
                    function(t) {
                        return ! e.isUploaded(t.blobUri())
                    }),
                    Ne.all(Kt.map(r,
                    function(r) {
                        return e.isPending(r.blobUri()) ?
                        function(e) {
                            var t = e.blobUri();
                            return new Ne(function(e) {
                                n[t] = n[t] || [],
                                n[t].push(e)
                            })
                        } (r) : function(t, n, r) {
                            return e.markPending(t.blobUri()),
                            new Ne(function(s) {
                                var l;
                                try {
                                    var u = function() {
                                        l && l.close()
                                    };
                                    n(t,
                                    function(n) {
                                        u(),
                                        e.markUploaded(t.blobUri(), n),
                                        a(t.blobUri(), o(t, n)),
                                        s(o(t, n))
                                    },
                                    function(n) {
                                        u(),
                                        e.removeFailed(t.blobUri()),
                                        a(t.blobUri(), i(t, n)),
                                        s(i(t, n))
                                    },
                                    function(e) {
                                        e < 0 || e > 100 || (l || (l = r()), l.progressBar.value(e))
                                    })
                                } catch(e) {
                                    s(i(t, e.message))
                                }
                            })
                        } (r, t.handler, s)
                    }))
                };
                return ! 1 === P(t.handler) && (t.handler = r),
                {
                    upload: function(e, n) {
                        return t.url || t.handler !== r ? s(e, n) : new Ne(function(e) {
                            e([])
                        })
                    }
                }
            }
            var Rh = function(e) {
                return ne.getOrDie("atob")(e)
            },
            Ah = function(e) {
                var t, n, r = decodeURIComponent(e).split(",");
                return (n = /data:([^;]+)/.exec(r[0])) && (t = n[1]),
                {
                    type: t,
                    data: r[1]
                }
            },
            Oh = function(e) {
                return new Ne(function(t) {
                    var n, r, o, i = Ah(e);
                    try {
                        n = Rh(i.data)
                    } catch(e) {
                        return void t(new Blob([]))
                    }
                    for (r = function(e) {
                        return new(ne.getOrDie("Uint8Array"))(e)
                    } (n.length), o = 0; o < r.length; o++) r[o] = n.charCodeAt(o);
                    t(new Blob([r], {
                        type: i.type
                    }))
                })
            },
            Dh = function(e) {
                return 0 === e.indexOf("blob:") ?
                function(e) {
                    return new Ne(function(t, n) {
                        var r = function() {
                            n("Cannot convert " + e + " to Blob. Resource might not exist or is inaccessible.")
                        };
                        try {
                            var o = Sh();
                            o.open("GET", e, !0),
                            o.responseType = "blob",
                            o.onload = function() {
                                200 === this.status ? t(this.response) : r()
                            },
                            o.onerror = r,
                            o.send()
                        } catch(e) {
                            r()
                        }
                    })
                } (e) : 0 === e.indexOf("data:") ? Oh(e) : null
            },
            Ph = function(e) {
                return new Ne(function(t) {
                    var n = new(ne.getOrDie("FileReader"));
                    n.onloadend = function() {
                        t(n.result)
                    },
                    n.readAsDataURL(e)
                })
            },
            Bh = Ah,
            Mh = 0,
            Ih = function(e) {
                return (e || "blobid") + Mh++
            },
            Lh = function(e, t, n, r) {
                var o, i;
                0 !== t.src.indexOf("blob:") ? (o = Bh(t.src).data, (i = e.findFirst(function(e) {
                    return e.base64() === o
                })) ? n({
                    image: t,
                    blobInfo: i
                }) : Dh(t.src).then(function(r) {
                    i = e.create(Ih(), r, o),
                    e.add(i),
                    n({
                        image: t,
                        blobInfo: i
                    })
                },
                function(e) {
                    r(e)
                })) : (i = e.getByUri(t.src)) ? n({
                    image: t,
                    blobInfo: i
                }) : Dh(t.src).then(function(r) {
                    Ph(r).then(function(a) {
                        o = Bh(a).data,
                        i = e.create(Ih(), r, o),
                        e.add(i),
                        n({
                            image: t,
                            blobInfo: i
                        })
                    })
                },
                function(e) {
                    r(e)
                })
            },
            Fh = function(e) {
                return e ? e.getElementsByTagName("img") : []
            },
            Wh = 0,
            Hh = {
                uuid: function(e) {
                    return e + Wh+++(t = function() {
                        return Math.round(4294967295 * Math.random()).toString(36)
                    },
                    "s" + (new Date).getTime().toString(36) + t() + t() + t());
                    var t
                }
            };
            function jh(e) {
                var t, n, r, o, i, a, s, l, u, c, d = (t = [], n = ga.constant, r = function(e) {
                    var t, r, o;
                    if (!e.blob || !e.base64) throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");
                    return t = e.id || Hh.uuid("blobid"),
                    r = e.name || t,
                    {
                        id: n(t),
                        name: n(r),
                        filename: n(r + "." + (o = e.blob.type, {
                            "image/jpeg": "jpg",
                            "image/jpg": "jpg",
                            "image/gif": "gif",
                            "image/png": "png"
                        } [o.toLowerCase()] || "dat")),
                        blob: n(e.blob),
                        base64: n(e.base64),
                        blobUri: n(e.blobUri || oe.createObjectURL(e.blob)),
                        uri: n(e.uri)
                    }
                },
                {
                    create: function(e, t, n, o) {
                        if (N(e)) return r({
                            id: e,
                            name: o,
                            blob: t,
                            base64: n
                        });
                        if (R(e)) return r(e);
                        throw new Error("Unknown input type")
                    },
                    add: function(e) {
                        o(e.id()) || t.push(e)
                    },
                    get: o = function(e) {
                        return i(function(t) {
                            return t.id() === e
                        })
                    },
                    getByUri: function(e) {
                        return i(function(t) {
                            return t.blobUri() === e
                        })
                    },
                    findFirst: i = function(e) {
                        return Ut.filter(t, e)[0]
                    },
                    removeByUri: function(e) {
                        t = Ut.filter(t,
                        function(t) {
                            return t.blobUri() !== e || (oe.revokeObjectURL(t.blobUri()), !1)
                        })
                    },
                    destroy: function() {
                        Ut.each(t,
                        function(e) {
                            oe.revokeObjectURL(e.blobUri())
                        }),
                        t = []
                    }
                }),
                f = (l = {},
                u = function(e, t) {
                    return {
                        status: e,
                        resultUri: t
                    }
                },
                {
                    hasBlobUri: c = function(e) {
                        return e in l
                    },
                    getResultUri: function(e) {
                        var t = l[e];
                        return t ? t.resultUri: null
                    },
                    isPending: function(e) {
                        return !! c(e) && 1 === l[e].status
                    },
                    isUploaded: function(e) {
                        return !! c(e) && 2 === l[e].status
                    },
                    markPending: function(e) {
                        l[e] = u(1, null)
                    },
                    markUploaded: function(e, t) {
                        l[e] = u(2, t)
                    },
                    removeFailed: function(e) {
                        delete l[e]
                    },
                    destroy: function() {
                        l = {}
                    }
                }),
                m = [],
                p = function(t) {
                    return function(n) {
                        return e.selection ? t(n) : []
                    }
                },
                h = function(e, t, n) {
                    var r = 0;
                    do { - 1 !== (r = e.indexOf(t, r)) && (e = e.substring(0, r) + n + e.substr(r + t.length), r += n.length - t.length + 1)
                    } while ( - 1 !== r );
                    return e
                },
                g = function(e, t, n) {
                    return e = h(e, 'src="' + t + '"', 'src="' + n + '"'),
                    h(e, 'data-mce-src="' + t + '"', 'data-mce-src="' + n + '"')
                },
                v = function(t, n) {
                    W(e.undoManager.data,
                    function(e) {
                        "fragmented" === e.type ? e.fragments = F(e.fragments,
                        function(e) {
                            return g(e, t, n)
                        }) : e.content = g(e.content, t, n)
                    })
                },
                b = function() {
                    return e.notificationManager.open({
                        text: e.translate("Image uploading..."),
                        type: "info",
                        timeout: -1,
                        progressBar: !0
                    })
                },
                y = function(t) {
                    return a || (a = Nh(f, {
                        url: Hl.getImageUploadUrl(e),
                        basePath: Hl.getImageUploadBasePath(e),
                        credentials: Hl.getImagesUploadCredentials(e),
                        handler: Hl.getImagesUploadHandler(e)
                    })),
                    C().then(p(function(n) {
                        var r;
                        return r = F(n,
                        function(e) {
                            return e.blobInfo
                        }),
                        a.upload(r, b).then(p(function(r) {
                            var o = F(r,
                            function(t, r) {
                                var o = n[r].image;
                                return t.status && Hl.shouldReplaceBlobUris(e) ?
                                function(t, n) {
                                    d.removeByUri(t.src),
                                    v(t.src, n),
                                    e.$(t).attr({
                                        src: Hl.shouldReuseFileName(e) ? n + "?" + (new Date).getTime() : n,
                                        "data-mce-src": e.convertURL(n, "src")
                                    })
                                } (o, t.url) : t.error && kh.uploadError(e, t.error),
                                {
                                    element: o,
                                    status: t.status
                                }
                            });
                            return t && t(o),
                            o
                        }))
                    }))
                },
                w = function(t) {
                    if (Hl.isAutomaticUploadsEnabled(e)) return y(t)
                },
                x = function(t) {
                    return ! 1 !== Y(m,
                    function(e) {
                        return e(t)
                    }) && (0 !== t.getAttribute("src").indexOf("data:") || Hl.getImagesDataImgFilter(e)(t))
                },
                C = function() {
                    return s || (s = function(e, t) {
                        var n = {};
                        return {
                            findAll: function(r, o) {
                                var i;
                                o || (o = ga.constant(!0)),
                                i = Ut.filter(Fh(r),
                                function(t) {
                                    var n = t.src;
                                    return !! Se.fileApi && !t.hasAttribute("data-mce-bogus") && !t.hasAttribute("data-mce-placeholder") && !(!n || n === Se.transparentSrc) && (0 === n.indexOf("blob:") ? !e.isUploaded(n) && o(t) : 0 === n.indexOf("data:") && o(t))
                                });
                                var a = Ut.map(i,
                                function(e) {
                                    if (n[e.src]) return new Ne(function(t) {
                                        n[e.src].then(function(n) {
                                            if ("string" == typeof n) return n;
                                            t({
                                                image: e,
                                                blobInfo: n.blobInfo
                                            })
                                        })
                                    });
                                    var r = new Ne(function(n, r) {
                                        Lh(t, e, n, r)
                                    }).then(function(e) {
                                        return delete n[e.image.src],
                                        e
                                    }).
                                    catch(function(t) {
                                        return delete n[e.src],
                                        t
                                    });
                                    return n[e.src] = r,
                                    r
                                });
                                return Ne.all(a)
                            }
                        }
                    } (f, d)),
                    s.findAll(e.getBody(), x).then(p(function(t) {
                        return t = j(t,
                        function(t) {
                            return "string" != typeof t || (kh.displayError(e, t), !1)
                        }),
                        W(t,
                        function(e) {
                            v(e.image.src, e.blobInfo.blobUri()),
                            e.image.src = e.blobInfo.blobUri(),
                            e.image.removeAttribute("data-mce-src")
                        }),
                        t
                    }))
                },
                _ = function(t) {
                    return t.replace(/src="(blob:[^"]+)"/g,
                    function(t, n) {
                        var r = f.getResultUri(n);
                        if (r) return 'src="' + r + '"';
                        var o = d.getByUri(n);
                        return o || (o = U(e.editorManager.get(),
                        function(e, t) {
                            return e || t.editorUpload && t.editorUpload.blobCache.getByUri(n)
                        },
                        null)),
                        o ? 'src="data:' + o.blob().type + ";base64," + o.base64() + '"': t
                    })
                };
                return e.on("setContent",
                function() {
                    Hl.isAutomaticUploadsEnabled(e) ? w() : C()
                }),
                e.on("RawSaveContent",
                function(e) {
                    e.content = _(e.content)
                }),
                e.on("getContent",
                function(e) {
                    e.source_view || "raw" === e.format || (e.content = _(e.content))
                }),
                e.on("PostRender",
                function() {
                    e.parser.addNodeFilter("img",
                    function(e) {
                        W(e,
                        function(e) {
                            var t = e.attr("src");
                            if (!d.getByUri(t)) {
                                var n = f.getResultUri(t);
                                n && e.attr("src", n)
                            }
                        })
                    })
                }),
                {
                    blobCache: d,
                    addFilter: function(e) {
                        m.push(e)
                    },
                    uploadImages: y,
                    uploadImagesAuto: w,
                    scanForImages: C,
                    destroy: function() {
                        d.destroy(),
                        f.destroy(),
                        s = a = null
                    }
                }
            }
            var Uh = function(e, t) {
                return e.hasOwnProperty(t.nodeName)
            },
            zh = function(e, t) {
                return !! Eo.isText(t) || !!Eo.isElement(t) && !Uh(e, t) && !$u.isBookmarkNode(t)
            },
            Vh = function(e, t) {
                if (Eo.isText(t)) {
                    if (0 === t.nodeValue.length) return ! 0;
                    if (/^\s+$/.test(t.nodeValue) && (!t.nextSibling || Uh(e, t.nextSibling))) return ! 0
                }
                return ! 1
            },
            $h = function(e) {
                var t, n, r, o, i, a, s, l, u, c, d, f = e.settings,
                m = e.dom,
                p = e.selection,
                h = e.schema,
                g = h.getBlockElements(),
                v = p.getStart(),
                b = e.getBody();
                if (d = f.forced_root_block, v && Eo.isElement(v) && d && (c = b.nodeName.toLowerCase(), h.isValidChild(c, d.toLowerCase()) && !
                function(e, t, n) {
                    return L(_d(qn.fromDom(n), qn.fromDom(t)),
                    function(t) {
                        return Uh(e, t.dom())
                    })
                } (g, b, v))) {
                    for (n = (t = p.getRng()).startContainer, r = t.startOffset, o = t.endContainer, i = t.endOffset, u = ch(e), v = b.firstChild; v;) if (zh(g, v)) {
                        if (Vh(g, v)) {
                            s = v,
                            v = v.nextSibling,
                            m.remove(s);
                            continue
                        }
                        a || (a = m.create(d, e.settings.forced_root_block_attrs), v.parentNode.insertBefore(a, v), l = !0),
                        s = v,
                        v = v.nextSibling,
                        a.appendChild(s)
                    } else a = null,
                    v = v.nextSibling;
                    l && u && (t.setStart(n, r), t.setEnd(o, i), p.setRng(t), e.nodeChanged())
                }
            },
            qh = function(e) {
                e.settings.forced_root_block && e.on("NodeChange", b($h, e))
            },
            Kh = function(e) {
                var t = e.startContainer,
                n = e.startOffset;
                return Eo.isText(t) ? 0 === n ? T.some(qn.fromDom(t)) : T.none() : T.from(t.childNodes[n]).map(qn.fromDom)
            },
            Yh = function(e) {
                var t = e.endContainer,
                n = e.endOffset;
                return Eo.isText(t) ? n === t.data.length ? T.some(qn.fromDom(t)) : T.none() : T.from(t.childNodes[n - 1]).map(qn.fromDom)
            },
            Xh = function(e) {
                return Fr.firstChild(e).fold(g([e]),
                function(t) {
                    return [e].concat(Xh(t))
                })
            },
            Gh = function(e) {
                return Fr.lastChild(e).fold(g([e]),
                function(t) {
                    return "br" === er.name(t) ? Fr.prevSibling(t).map(function(t) {
                        return [e].concat(Gh(t))
                    }).getOr([]) : [e].concat(Gh(t))
                })
            },
            Jh = function(e, t, n, r) {
                var o = n,
                i = new Qr(n, o),
                a = e.schema.getNonEmptyElements();
                do {
                    if (3 === n.nodeType && 0 !== Kt.trim(n.nodeValue).length) return void(r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length));
                    if (a[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName)) return void(r ? t.setStartBefore(n) : "BR" === n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n));
                    if (Se.ie && Se.ie < 11 && e.isBlock(n) && e.isEmpty(n)) return void(r ? t.setStart(n, 0) : t.setEnd(n, 0))
                } while ( n = r ? i . next () : i.prev());
                "BODY" === o.nodeName && (r ? t.setStart(o, 0) : t.setEnd(o, o.childNodes.length))
            },
            Qh = function(e) {
                var t = e.selection.getSel();
                return t && t.rangeCount > 0
            };
            function Zh(e) {
                var t, n = [];
                "onselectionchange" in e.getDoc() || e.on("NodeChange Click MouseUp KeyUp Focus",
                function(n) {
                    var r, o;
                    o = {
                        startContainer: (r = e.selection.getRng()).startContainer,
                        startOffset: r.startOffset,
                        endContainer: r.endContainer,
                        endOffset: r.endOffset
                    },
                    "nodechange" !== n.type && Wm.isEq(o, t) || e.fire("SelectionChange"),
                    t = o
                }),
                e.on("contextmenu",
                function() {
                    e.fire("SelectionChange")
                }),
                e.on("SelectionChange",
                function() {
                    var t = e.selection.getStart(!0); ! t || !Se.range && e.selection.isCollapsed() || Qh(e) && !
                    function(t) {
                        var r, o;
                        if ((o = e.$(t).parentsUntil(e.getBody()).add(t)).length === n.length) {
                            for (r = o.length; r >= 0 && o[r] === n[r]; r--);
                            if ( - 1 === r) return n = o,
                            !0
                        }
                        return n = o,
                        !1
                    } (t) && e.dom.isChildOf(t, e.getBody()) && e.nodeChanged({
                        selectionChange: !0
                    })
                }),
                e.on("MouseUp",
                function(t) { ! t.isDefaultPrevented() && Qh(e) && ("IMG" === e.selection.getNode().nodeName ? De.setEditorTimeout(e,
                    function() {
                        e.nodeChanged()
                    }) : e.nodeChanged())
                }),
                this.nodeChanged = function(t) {
                    var n, r, o, i = e.selection;
                    e.initialized && i && !e.settings.disable_nodechange && !e.readonly && (o = e.getBody(), (n = i.getStart(!0) || o).ownerDocument === e.getDoc() && e.dom.isChildOf(n, o) || (n = o), r = [], e.dom.getParent(n,
                    function(e) {
                        if (e === o) return ! 0;
                        r.push(e)
                    }), (t = t || {}).element = n, t.parents = r, e.fire("NodeChange", t))
                }
            }
            var eg, tg = function(e) {
                var t, n, r, o;
                return o = e.getBoundingClientRect(),
                n = (t = e.ownerDocument).documentElement,
                r = t.defaultView,
                {
                    top: o.top + r.pageYOffset - n.clientTop,
                    left: o.left + r.pageXOffset - n.clientLeft
                }
            },
            ng = function(e, t) {
                return n = function(e) {
                    return e.inline ? tg(e.getBody()) : {
                        left: 0,
                        top: 0
                    }
                } (e),
                r = function(e) {
                    var t = e.getBody();
                    return e.inline ? {
                        left: t.scrollLeft,
                        top: t.scrollTop
                    }: {
                        left: 0,
                        top: 0
                    }
                } (e),
                {
                    pageX: (o = function(e, t) {
                        if (t.target.ownerDocument !== e.getDoc()) {
                            var n = tg(e.getContentAreaContainer()),
                            r = function(e) {
                                var t = e.getBody(),
                                n = e.getDoc().documentElement,
                                r = {
                                    left: t.scrollLeft,
                                    top: t.scrollTop
                                },
                                o = {
                                    left: t.scrollLeft || n.scrollLeft,
                                    top: t.scrollTop || n.scrollTop
                                };
                                return e.inline ? r: o
                            } (e);
                            return {
                                left: t.pageX - n.left + r.left,
                                top: t.pageY - n.top + r.top
                            }
                        }
                        return {
                            left: t.pageX,
                            top: t.pageY
                        }
                    } (e, t)).left - n.left + r.left,
                    pageY: o.top - n.top + r.top
                };
                var n, r, o
            }, rg = Eo.isContentEditableFalse,
            og = Eo.isContentEditableTrue,
            ig = function(e) {
                e && e.parentNode && e.parentNode.removeChild(e)
            },
            ag = function(e, t) {
                return function(n) {
                    if (function(e) {
                        return 0 === e.button
                    } (n)) {
                        var r = Ut.find(t.dom.getParents(n.target), ga.or(rg, og));
                        if (s = t.getBody(), rg(l = r) && l !== s) {
                            var o = t.dom.getPos(r),
                            i = t.getBody(),
                            a = t.getDoc().documentElement;
                            e.element = r,
                            e.screenX = n.screenX,
                            e.screenY = n.screenY,
                            e.maxX = (t.inline ? i.scrollWidth: a.offsetWidth) - 2,
                            e.maxY = (t.inline ? i.scrollHeight: a.offsetHeight) - 2,
                            e.relX = n.pageX - o.x,
                            e.relY = n.pageY - o.y,
                            e.width = r.offsetWidth,
                            e.height = r.offsetHeight,
                            e.ghost = function(e, t, n, r) {
                                var o = t.cloneNode(!0);
                                e.dom.setStyles(o, {
                                    width: n,
                                    height: r
                                }),
                                e.dom.setAttrib(o, "data-mce-selected", null);
                                var i = e.dom.create("div", {
                                    class: "mce-drag-container",
                                    "data-mce-bogus": "all",
                                    unselectable: "on",
                                    contenteditable: "false"
                                });
                                return e.dom.setStyles(i, {
                                    position: "absolute",
                                    opacity: .5,
                                    overflow: "hidden",
                                    border: 0,
                                    padding: 0,
                                    margin: 0,
                                    width: n,
                                    height: r
                                }),
                                e.dom.setStyles(o, {
                                    margin: 0,
                                    boxSizing: "border-box"
                                }),
                                i.appendChild(o),
                                i
                            } (t, r, e.width, e.height)
                        }
                    }
                    var s, l
                }
            }, sg = function(e, t) {
                return function(n) {
                    if (e.dragging &&
                    function(e, t, n) {
                        return t !== n && !e.dom.isChildOf(t, n) && !rg(t)
                    } (t, (s = t.selection, 3 === (l = s.getSel().getRangeAt(0).startContainer).nodeType ? l.parentNode: l), e.element)) {
                        var r = (i = e.element, (a = i.cloneNode(!0)).removeAttribute("data-mce-selected"), a),
                        o = t.fire("drop", {
                            targetClone: r,
                            clientX: n.clientX,
                            clientY: n.clientY
                        });
                        o.isDefaultPrevented() || (r = o.targetClone, t.undoManager.transact(function() {
                            ig(e.element),
                            t.insertContent(t.dom.getOuterHTML(r)),
                            t._selectionOverrides.hideFakeCaret()
                        }))
                    }
                    var i, a, s, l;
                    lg(e)
                }
            },
            lg = function(e) {
                e.dragging = !1,
                e.element = null,
                ig(e.ghost)
            },
            ug = function(e) {
                var t, n, r, o, i, a, s = {};
                t = li.DOM,
                a = document,
                n = ag(s, e),
                r = function(e, t) {
                    var n = De.throttle(function(e, n) {
                        t._selectionOverrides.hideFakeCaret(),
                        t.selection.placeCaretAt(e, n)
                    },
                    0);
                    return function(r) {
                        var o, i, a = Math.max(Math.abs(r.screenX - e.screenX), Math.abs(r.screenY - e.screenY));
                        if (function(e) {
                            return e.element
                        } (e) && !e.dragging && a > 10) {
                            if (t.fire("dragstart", {
                                target: e.element
                            }).isDefaultPrevented()) return;
                            e.dragging = !0,
                            t.focus()
                        }
                        if (e.dragging) {
                            var s = function(e, t) {
                                return {
                                    pageX: t.pageX - e.relX,
                                    pageY: t.pageY + 5
                                }
                            } (e, ng(t, r));
                            o = e.ghost,
                            i = t.getBody(),
                            o.parentNode !== i && i.appendChild(o),
                            function(e, t, n, r, o, i) {
                                var a = 0,
                                s = 0;
                                e.style.left = t.pageX + "px",
                                e.style.top = t.pageY + "px",
                                t.pageX + n > o && (a = t.pageX + n - o),
                                t.pageY + r > i && (s = t.pageY + r - i),
                                e.style.width = n - a + "px",
                                e.style.height = r - s + "px"
                            } (e.ghost, s, e.width, e.height, e.maxX, e.maxY),
                            n(r.clientX, r.clientY)
                        }
                    }
                } (s, e),
                o = sg(s, e),
                i = function(e, t) {
                    return function() {
                        e.dragging && t.fire("dragend"),
                        lg(e)
                    }
                } (s, e),
                e.on("mousedown", n),
                e.on("mousemove", r),
                e.on("mouseup", o),
                t.bind(a, "mousemove", r),
                t.bind(a, "mouseup", i),
                e.on("remove",
                function() {
                    t.unbind(a, "mousemove", r),
                    t.unbind(a, "mouseup", i)
                })
            },
            cg = function(e) {
                ug(e),
                function(e) {
                    e.on("drop",
                    function(t) {
                        var n = void 0 !== t.clientX ? e.getDoc().elementFromPoint(t.clientX, t.clientY) : null; (rg(n) || rg(e.dom.getContentEditableParent(n))) && t.preventDefault()
                    })
                } (e)
            },
            dg = function(e) {
                return Ut.reduce(e,
                function(e, t) {
                    return e.concat(function(e) {
                        var t = function(t) {
                            return Ut.map(t,
                            function(t) {
                                return (t = $a(t)).node = e,
                                t
                            })
                        };
                        if (Eo.isElement(e)) return t(e.getClientRects());
                        if (Eo.isText(e)) {
                            var n = e.ownerDocument.createRange();
                            return n.setStart(e, 0),
                            n.setEnd(e, e.data.length),
                            t(n.getClientRects())
                        }
                    } (t))
                },
                [])
            }; !
            function(e) {
                e[e.Up = -1] = "Up",
                e[e.Down = 1] = "Down"
            } (eg || (eg = {}));
            var fg = function(e, t, n, r, o, i) {
                var a, s, l = 0,
                u = [],
                c = function(r) {
                    var i, a, c;
                    for (c = dg([r]), -1 === e && (c = c.reverse()), i = 0; i < c.length; i++) if (a = c[i], !n(a, s)) {
                        if (u.length > 0 && t(a, Ut.last(u)) && l++, a.line = l, o(a)) return ! 0;
                        u.push(a)
                    }
                };
                return (s = Ut.last(i.getClientRects())) ? (c(a = i.getNode()),
                function(e, t, n, r) {
                    for (; r = mu(r, e, za, t);) if (n(r)) return
                } (e, r, c, a), u) : u
            },
            mg = b(fg, eg.Up, Ya, Xa),
            pg = b(fg, eg.Down, Xa, Ya),
            hg = function(e) {
                return function(t) {
                    return function(e, t) {
                        return t.line > e
                    } (e, t)
                }
            },
            gg = function(e) {
                return function(t) {
                    return function(e, t) {
                        return t.line === e
                    } (e, t)
                }
            },
            vg = Eo.isContentEditableFalse,
            bg = mu,
            yg = function(e, t) {
                return Math.abs(e.left - t)
            },
            wg = function(e, t) {
                return Math.abs(e.right - t)
            },
            xg = function(e, t) {
                return e >= t.left && e <= t.right
            },
            Cg = function(e, t) {
                return Ut.reduce(e,
                function(e, n) {
                    var r, o;
                    return r = Math.min(yg(e, t), wg(e, t)),
                    o = Math.min(yg(n, t), wg(n, t)),
                    xg(t, n) ? n: xg(t, e) ? e: o === r && vg(n.node) ? n: o < r ? n: e
                })
            },
            _g = function(e, t, n, r) {
                for (; r = bg(r, e, za, t);) if (n(r)) return
            },
            kg = function(e, t, n) {
                var r, o = dg(function(e) {
                    return Ut.filter(Ut.toArray(e.getElementsByTagName("*")), nu)
                } (e)),
                i = Ut.filter(o,
                function(e) {
                    return n >= e.top && n <= e.bottom
                });
                return (r = Cg(i, t)) && (r = Cg(function(e, t) {
                    var n = [],
                    r = function(e, r) {
                        var o;
                        return o = Ut.filter(dg([r]),
                        function(n) {
                            return ! e(n, t)
                        }),
                        n = n.concat(o),
                        0 === o.length
                    };
                    return n.push(t),
                    _g(eg.Up, e, b(r, Ya), t.node),
                    _g(eg.Down, e, b(r, Xa), t.node),
                    n
                } (e, r), t)) && nu(r.node) ?
                function(e, t) {
                    return {
                        node: e.node,
                        before: yg(e, t) < wg(e, t)
                    }
                } (r, t) : null
            },
            Eg = function(e, t, n) {
                return ! n.collapsed && U(n.getClientRects(),
                function(n, r) {
                    return n ||
                    function(e, t, n) {
                        return t >= e.left && t <= e.right && n >= e.top && n <= e.bottom
                    } (r, e, t)
                },
                !1)
            },
            Tg = function(e) {
                var t = _i(function() {
                    if (!e.removed && e.selection.getRng().collapsed) {
                        var t = sl(e, e.selection.getRng(), !1);
                        e.selection.setRng(t)
                    }
                },
                0);
                e.on("focus",
                function() {
                    t.throttle()
                }),
                e.on("blur",
                function() {
                    t.cancel()
                })
            },
            Sg = {
                BACKSPACE: 8,
                DELETE: 46,
                DOWN: 40,
                ENTER: 13,
                LEFT: 37,
                RIGHT: 39,
                SPACEBAR: 32,
                TAB: 9,
                UP: 38,
                modifierPressed: function(e) {
                    return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e)
                },
                metaKeyPressed: function(e) {
                    return Se.mac ? e.metaKey: e.ctrlKey && !e.altKey
                }
            },
            Ng = Eo.isContentEditableTrue,
            Rg = Eo.isContentEditableFalse,
            Ag = Nu,
            Og = Su,
            Dg = function(e, t) {
                for (var n = e.getBody(); t && t !== n;) {
                    if (Ng(t) || Rg(t)) return t;
                    t = t.parentNode
                }
                return null
            },
            Pg = function(e) {
                var t, n, r = e.getBody(),
                o = tu(e.getBody(),
                function(t) {
                    return e.dom.isBlock(t)
                },
                function() {
                    return ch(e)
                }),
                i = "sel-" + e.dom.uniqueId(),
                a = function(t) {
                    t && e.selection.setRng(t)
                },
                s = function() {
                    return e.selection.getRng()
                },
                l = function(t, n, r, i) {
                    return void 0 === i && (i = !0),
                    e.fire("ShowCaret", {
                        target: n,
                        direction: t,
                        before: r
                    }).isDefaultPrevented() ? null: (i && e.selection.scrollIntoView(n, -1 === t), o.show(r, n))
                },
                u = function(e, t) {
                    return t = Cu(e, r, t),
                    -1 === e ? _s.fromRangeStart(t) : _s.fromRangeEnd(t)
                },
                c = function(e) {
                    return ka(e) || Ra(e) || Aa(e)
                },
                d = function(e) {
                    return c(e.startContainer) || c(e.endContainer)
                },
                f = function(n, r) {
                    var o, a, s, c, f, m, h, g, v, b, y = e.$,
                    w = e.dom;
                    if (!n) return null;
                    if (n.collapsed) {
                        if (!d(n)) if (!1 === r) {
                            if (g = u( - 1, n), nu(g.getNode(!0))) return l( - 1, g.getNode(!0), !1, !1);
                            if (nu(g.getNode())) return l( - 1, g.getNode(), !g.isAtEnd(), !1)
                        } else {
                            if (g = u(1, n), nu(g.getNode())) return l(1, g.getNode(), !g.isAtEnd(), !1);
                            if (nu(g.getNode(!0))) return l(1, g.getNode(!0), !1, !1)
                        }
                        return null
                    }
                    return c = n.startContainer,
                    f = n.startOffset,
                    m = n.endOffset,
                    3 === c.nodeType && 0 === f && Rg(c.parentNode) && (c = c.parentNode, f = w.nodeIndex(c), c = c.parentNode),
                    1 !== c.nodeType ? null: (m === f + 1 && (o = c.childNodes[f]), Rg(o) ? (v = b = o.cloneNode(!0), (h = e.fire("ObjectSelected", {
                        target: o,
                        targetClone: v
                    })).isDefaultPrevented() ? null: (a = Ki(qn.fromDom(e.getBody()), "#" + i).fold(function() {
                        return y([])
                    },
                    function(e) {
                        return y([e.dom()])
                    }), v = h.targetClone, 0 === a.length && (a = y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", i)).appendTo(e.getBody()), n = e.dom.createRng(), v === b && Se.ie ? (a.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(v), n.setStartAfter(a[0].firstChild.firstChild), n.setEndAfter(v)) : (a.empty().append(" ").append(v).append(" "), n.setStart(a[0].firstChild, 1), n.setEnd(a[0].lastChild, 0)), a.css({
                        top: w.getPos(o, e.getBody()).y
                    }), a[0].focus(), (s = e.selection.getSel()).removeAllRanges(), s.addRange(n), W(Wi(qn.fromDom(e.getBody()), "*[data-mce-selected]"),
                    function(e) {
                        ur.remove(e, "data-mce-selected")
                    }), o.setAttribute("data-mce-selected", "1"), t = o, p(), n)) : null)
                },
                m = function() {
                    t && (t.removeAttribute("data-mce-selected"), Ki(qn.fromDom(e.getBody()), "#" + i).each(Ci.remove), t = null),
                    Ki(qn.fromDom(e.getBody()), "#" + i).each(Ci.remove),
                    t = null
                },
                p = function() {
                    o.hide()
                };
                return Se.ceFalse && (function() {
                    e.on("mouseup",
                    function(t) {
                        var n = s();
                        n.collapsed && vh.isXYInContentArea(e, t.clientX, t.clientY) && a(al(e, n, !1))
                    }),
                    e.on("click",
                    function(t) {
                        var n; (n = Dg(e, t.target)) && (Rg(n) && (t.preventDefault(), e.focus()), Ng(n) && e.dom.isChildOf(n, e.selection.getNode()) && m())
                    }),
                    e.on("blur NewBlock",
                    function() {
                        m()
                    }),
                    e.on("ResizeWindow FullscreenStateChanged",
                    function() {
                        return o.reposition()
                    });
                    var n = function(t, n) {
                        var r, o, i = e.dom.getParent(t, e.dom.isBlock),
                        a = e.dom.getParent(n, e.dom.isBlock);
                        return ! (!i || !e.dom.isChildOf(i, a) || !1 !== Rg(Dg(e, i))) || i && (r = i, o = a, !(e.dom.getParent(r, e.dom.isBlock) === e.dom.getParent(o, e.dom.isBlock))) &&
                        function(e) {
                            var t = yl(e);
                            if (!e.firstChild) return ! 1;
                            var n = _s.before(e.firstChild),
                            r = t.next(n);
                            return r && !Og(r) && !Ag(r)
                        } (i)
                    }; !
                    function(e) {
                        var t = !1;
                        e.on("touchstart",
                        function() {
                            t = !1
                        }),
                        e.on("touchmove",
                        function() {
                            t = !0
                        }),
                        e.on("touchend",
                        function(n) {
                            var r = Dg(e, n.target);
                            Rg(r) && (t || (n.preventDefault(), f(il(e, r))))
                        })
                    } (e),
                    e.on("mousedown",
                    function(t) {
                        var o, i = t.target;
                        if ((i === r || "HTML" === i.nodeName || e.dom.isChildOf(i, r)) && !1 !== vh.isXYInContentArea(e, t.clientX, t.clientY)) if (o = Dg(e, i)) Rg(o) ? (t.preventDefault(), f(il(e, o))) : (m(), Ng(o) && t.shiftKey || Eg(t.clientX, t.clientY, e.selection.getRng()) || (p(), e.selection.placeCaretAt(t.clientX, t.clientY)));
                        else if (!1 === nu(i)) {
                            m(),
                            p();
                            var s = kg(r, t.clientX, t.clientY);
                            if (s && !n(t.target, s.node)) {
                                t.preventDefault();
                                var u = l(1, s.node, s.before, !1);
                                e.getBody().focus(),
                                a(u)
                            }
                        }
                    }),
                    e.on("keypress",
                    function(t) {
                        Sg.modifierPressed(t) || (t.keyCode, Rg(e.selection.getNode()) && t.preventDefault())
                    }),
                    e.on("getSelectionRange",
                    function(e) {
                        var n = e.range;
                        if (t) {
                            if (!t.parentNode) return void(t = null); (n = n.cloneRange()).selectNode(t),
                            e.range = n
                        }
                    }),
                    e.on("setSelectionRange",
                    function(e) {
                        var t; (t = f(e.range, e.forward)) && (e.range = t)
                    }),
                    e.on("AfterSetSelectionRange",
                    function(t) {
                        var n, r = t.range;
                        d(r) || "mcepastebin" === r.startContainer.parentNode.id || p(),
                        n = r.startContainer.parentNode,
                        e.dom.hasClass(n, "mce-offscreen-selection") || m()
                    }),
                    e.on("copy",
                    function(t) {
                        var n, r = t.clipboardData;
                        if (!t.isDefaultPrevented() && t.clipboardData && !Se.ie) {
                            var o = (n = e.dom.get(i)) ? n.getElementsByTagName("*")[0] : n;
                            o && (t.preventDefault(), r.clearData(), r.setData("text/html", o.outerHTML), r.setData("text/plain", o.outerText))
                        }
                    }),
                    cg(e),
                    Tg(e)
                } (), (n = e.contentStyles).push(o.getCss()), n.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")),
                {
                    showCaret: l,
                    showBlockCaretContainer: function(t) {
                        t.hasAttribute("data-mce-caret") && (Oa(t), a(s()), e.selection.scrollIntoView(t[0]))
                    },
                    hideFakeCaret: p,
                    destroy: function() {
                        o.destroy(),
                        t = null
                    }
                }
            },
            Bg = function(e) {
                return 0 === e.indexOf("data-") || 0 === e.indexOf("aria-")
            },
            Mg = function(e) {
                return e.replace(/<!--|-->/g, "")
            },
            Ig = function(e, t) {
                return ! e.allow_html_data_urls && (/^data:image\//i.test(t) ? !1 === e.allow_svg_data_urls && /^data:image\/svg\+xml/i.test(t) : /^data:/i.test(t))
            },
            Lg = function(e, t, n) {
                var r, o, i, a, s = 1;
                for (a = e.getShortEndedElements(), (i = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex = r = n; o = i.exec(t);) {
                    if (r = i.lastIndex, "/" === o[1]) s--;
                    else if (!o[1]) {
                        if (o[2] in a) continue;
                        s++
                    }
                    if (0 === s) break
                }
                return r
            };
            function Fg(e, t) {
                void 0 === t && (t = Go());
                var n = function() {}; ! 1 !== (e = e || {}).fix_self_closing && (e.fix_self_closing = !0);
                var r = e.comment ? e.comment: n,
                o = e.cdata ? e.cdata: n,
                i = e.text ? e.text: n,
                a = e.start ? e.start: n,
                s = e.end ? e.end: n,
                l = e.pi ? e.pi: n,
                u = e.doctype ? e.doctype: n;
                return {
                    parse: function(n) {
                        var c, d, f, m, p, h, g, v, b, y, w, x, C, _, k, E, T, S, N, R, A, O, D, P, B, M, I, L, F, W = 0,
                        H = [],
                        j = 0,
                        U = Wo.decode,
                        z = Kt.makeMap("src,href,data,background,formaction,poster,xlink:href"),
                        V = /((java|vb)script|mhtml):/i,
                        $ = function(e) {
                            var t, n;
                            for (t = H.length; t--&&H[t].name !== e;);
                            if (t >= 0) {
                                for (n = H.length - 1; n >= t; n--)(e = H[n]).valid && s(e.name);
                                H.length = t
                            }
                        },
                        q = function(t, n, r, o, i) {
                            var a, s;
                            if (r = (n = n.toLowerCase()) in w ? n: U(r || o || i || ""), C && !v && !1 === Bg(n)) {
                                if (! (a = S[n]) && N) {
                                    for (s = N.length; s--&&!(a = N[s]).pattern.test(n);); - 1 === s && (a = null)
                                }
                                if (!a) return;
                                if (a.validValues && !(r in a.validValues)) return
                            }
                            if (z[n] && !e.allow_script_urls) {
                                var l = r.replace(/[\s\u0000-\u001F]+/g, "");
                                try {
                                    l = decodeURIComponent(l)
                                } catch(e) {
                                    l = unescape(l)
                                }
                                if (V.test(l)) return;
                                if (Ig(e, l)) return
                            }
                            v && (n in z || 0 === n.indexOf("on")) || (m.map[n] = r, m.push({
                                name: n,
                                value: r
                            }))
                        };
                        for (B = new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))", "g"), M = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, y = t.getShortEndedElements(), P = e.self_closing_elements || t.getSelfClosingElements(), w = t.getBoolAttrs(), C = e.validate, b = e.remove_internals, F = e.fix_self_closing, I = t.getSpecialElements(), D = n + ">"; c = B.exec(D);) {
                            if (W < c.index && i(U(n.substr(W, c.index - W))), d = c[6])":" === (d = d.toLowerCase()).charAt(0) && (d = d.substr(1)),
                            $(d);
                            else if (d = c[7]) {
                                if (c.index + c[0].length > n.length) {
                                    i(U(n.substr(c.index))),
                                    W = c.index + c[0].length;
                                    continue
                                }
                                if (":" === (d = d.toLowerCase()).charAt(0) && (d = d.substr(1)), x = d in y, F && P[d] && H.length > 0 && H[H.length - 1].name === d && $(d), !C || (_ = t.getElementRule(d))) {
                                    if (k = !0, C && (S = _.attributes, N = _.attributePatterns), (T = c[8]) ? ((v = -1 !== T.indexOf("data-mce-type")) && b && (k = !1), (m = []).map = {},
                                    T.replace(M, q)) : (m = []).map = {},
                                    C && !v) {
                                        if (R = _.attributesRequired, A = _.attributesDefault, O = _.attributesForced, _.removeEmptyAttrs && !m.length && (k = !1), O) for (p = O.length; p--;) g = (E = O[p]).name,
                                        "{$uid}" === (L = E.value) && (L = "mce_" + j++),
                                        m.map[g] = L,
                                        m.push({
                                            name: g,
                                            value: L
                                        });
                                        if (A) for (p = A.length; p--;)(g = (E = A[p]).name) in m.map || ("{$uid}" === (L = E.value) && (L = "mce_" + j++), m.map[g] = L, m.push({
                                            name: g,
                                            value: L
                                        }));
                                        if (R) {
                                            for (p = R.length; p--&&!(R[p] in m.map);); - 1 === p && (k = !1)
                                        }
                                        if (E = m.map["data-mce-bogus"]) {
                                            if ("all" === E) {
                                                W = Lg(t, n, B.lastIndex),
                                                B.lastIndex = W;
                                                continue
                                            }
                                            k = !1
                                        }
                                    }
                                    k && a(d, m, x)
                                } else k = !1;
                                if (f = I[d]) {
                                    f.lastIndex = W = c.index + c[0].length,
                                    (c = f.exec(n)) ? (k && (h = n.substr(W, c.index - W)), W = c.index + c[0].length) : (h = n.substr(W), W = n.length),
                                    k && (h.length > 0 && i(h, !0), s(d)),
                                    B.lastIndex = W;
                                    continue
                                }
                                x || (T && T.indexOf("/") === T.length - 1 ? k && s(d) : H.push({
                                    name: d,
                                    valid: k
                                }))
                            } else(d = c[1]) ? (">" === d.charAt(0) && (d = " " + d), e.allow_conditional_comments || "[if" !== d.substr(0, 3).toLowerCase() || (d = " " + d), r(d)) : (d = c[2]) ? o(Mg(d)) : (d = c[3]) ? u(d) : (d = c[4]) && l(d, c[5]);
                            W = c.index + c[0].length
                        }
                        for (W < n.length && i(U(n.substr(W))), p = H.length - 1; p >= 0; p--)(d = H[p]).valid && s(d.name)
                    }
                }
            } !
            function(e) {
                e.findEndTag = Lg
            } (Fg || (Fg = {}));
            var Wg = Fg,
            Hg = function(e, t) {
                var n, r, o, i, a, s = t,
                l = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,
                u = e.schema;
                for (s = function(e, t) {
                    var n = new RegExp(["\\s?(" + e.join("|") + ')="[^"]+"'].join("|"), "gi");
                    return t.replace(n, "")
                } (e.getTempAttrs(), s), a = u.getShortEndedElements(); i = l.exec(s);) r = l.lastIndex,
                o = i[0].length,
                n = a[i[1]] ? r: Wg.findEndTag(u, s, r),
                s = s.substring(0, r - o) + s.substring(n),
                l.lastIndex = r - o;
                return ya(s)
            },
            jg = {
                trimExternal: Hg,
                trimInternal: Hg
            },
            Ug = 0,
            zg = 2,
            Vg = 1,
            $g = function(e, t) {
                var n = e.length + t.length + 2,
                r = new Array(n),
                o = new Array(n),
                i = function(n, r, o, a, l) {
                    var u = s(n, r, o, a);
                    if (null === u || u.start === r && u.diag === r - a || u.end === n && u.diag === n - o) for (var c = n,
                    d = o; c < r || d < a;) c < r && d < a && e[c] === t[d] ? (l.push([0, e[c]]), ++c, ++d) : r - n > a - o ? (l.push([2, e[c]]), ++c) : (l.push([1, t[d]]), ++d);
                    else {
                        i(n, u.start, o, u.start - u.diag, l);
                        for (var f = u.start; f < u.end; ++f) l.push([0, e[f]]);
                        i(u.end, r, u.end - u.diag, a, l)
                    }
                },
                a = function(n, r, o, i) {
                    for (var a = n; a - r < i && a < o && e[a] === t[a - r];)++a;
                    return function(e, t, n) {
                        return {
                            start: e,
                            end: t,
                            diag: n
                        }
                    } (n, a, r)
                },
                s = function(n, i, s, l) {
                    var u = i - n,
                    c = l - s;
                    if (0 === u || 0 === c) return null;
                    var d, f, m, p, h, g = u - c,
                    v = c + u,
                    b = (v % 2 == 0 ? v: v + 1) / 2;
                    for (r[1 + b] = n, o[1 + b] = i + 1, d = 0; d <= b; ++d) {
                        for (f = -d; f <= d; f += 2) {
                            for (m = f + b, f === -d || f !== d && r[m - 1] < r[m + 1] ? r[m] = r[m + 1] : r[m] = r[m - 1] + 1, h = (p = r[m]) - n + s - f; p < i && h < l && e[p] === t[h];) r[m] = ++p,
                            ++h;
                            if (g % 2 != 0 && g - d <= f && f <= g + d && o[m - g] <= r[m]) return a(o[m - g], f + n - s, i, l)
                        }
                        for (f = g - d; f <= g + d; f += 2) {
                            for (m = f + b - g, f === g - d || f !== g + d && o[m + 1] <= o[m - 1] ? o[m] = o[m + 1] - 1 : o[m] = o[m - 1], h = (p = o[m] - 1) - n + s - f; p >= n && h >= s && e[p] === t[h];) o[m] = p--,
                            h--;
                            if (g % 2 == 0 && -d <= f && f <= d && o[m] <= r[m + g]) return a(o[m], f + n - s, i, l)
                        }
                    }
                },
                l = [];
                return i(0, e.length, 0, t.length, l),
                l
            },
            qg = function(e) {
                return Eo.isElement(e) ? e.outerHTML: Eo.isText(e) ? Wo.encodeRaw(e.data, !1) : Eo.isComment(e) ? "\x3c!--" + e.data + "--\x3e": ""
            },
            Kg = function(e, t, n) {
                var r = function(e) {
                    var t, n, r;
                    for (r = document.createElement("div"), t = document.createDocumentFragment(), e && (r.innerHTML = e); n = r.firstChild;) t.appendChild(n);
                    return t
                } (t);
                if (e.hasChildNodes() && n < e.childNodes.length) {
                    var o = e.childNodes[n];
                    o.parentNode.insertBefore(r, o)
                } else e.appendChild(r)
            },
            Yg = function(e) {
                return Ut.filter(Ut.map(e.childNodes, qg),
                function(e) {
                    return e.length > 0
                })
            },
            Xg = function(e, t) {
                var n = Ut.map(t.childNodes, qg);
                return function(e, t) {
                    var n = 0;
                    Ut.each(e,
                    function(e) {
                        e[0] === Ug ? n++:e[0] === Vg ? (Kg(t, e[1], n), n++) : e[0] === zg &&
                        function(e, t) {
                            if (e.hasChildNodes() && t < e.childNodes.length) {
                                var n = e.childNodes[t];
                                n.parentNode.removeChild(n)
                            }
                        } (t, n)
                    })
                } ($g(n, e), t),
                t
            },
            Gg = ki(T.none()),
            Jg = function(e) {
                return {
                    type: "fragmented",
                    fragments: e,
                    content: "",
                    bookmark: null,
                    beforeBookmark: null
                }
            },
            Qg = function(e) {
                return {
                    type: "complete",
                    fragments: null,
                    content: e,
                    bookmark: null,
                    beforeBookmark: null
                }
            },
            Zg = function(e) {
                return "fragmented" === e.type ? e.fragments.join("") : e.content
            },
            ev = function(e) {
                var t = qn.fromTag("body", Gg.get().getOrThunk(function() {
                    var e = document.implementation.createHTMLDocument("undo");
                    return Gg.set(T.some(e)),
                    e
                }));
                return ma(t, Zg(e)),
                W(Wi(t, "*[data-mce-bogus]"), Ci.unwrap),
                fa(t)
            },
            tv = {
                createFragmentedLevel: Jg,
                createCompleteLevel: Qg,
                createFromEditor: function(e) {
                    var t, n, r;
                    return t = Yg(e.getBody()),
                    -1 !== (n = (r = K(t,
                    function(t) {
                        var n = jg.trimInternal(e.serializer, t);
                        return n.length > 0 ? [n] : []
                    })).join("")).indexOf("</iframe>") ? Jg(r) : Qg(n)
                },
                applyToEditor: function(e, t, n) {
                    "fragmented" === t.type ? Xg(t.fragments, e.getBody()) : e.setContent(t.content, {
                        format: "raw"
                    }),
                    e.selection.moveToBookmark(n ? t.beforeBookmark: t.bookmark)
                },
                isEq: function(e, t) {
                    return ! (!e || !t) && ( !!
                    function(e, t) {
                        return Zg(e) === Zg(t)
                    } (e, t) ||
                    function(e, t) {
                        return ev(e) === ev(t)
                    } (e, t))
                }
            };
            function nv(e) {
                var t, n, r = this,
                o = 0,
                i = [],
                a = 0,
                s = function() {
                    return 0 === a
                },
                l = function(e) {
                    s() && (r.typing = e)
                },
                u = function(t) {
                    e.setDirty(t)
                },
                c = function(e) {
                    l(!1),
                    r.add({},
                    e)
                },
                d = function() {
                    r.typing && (l(!1), r.add())
                };
                return e.on("init",
                function() {
                    r.add()
                }),
                e.on("BeforeExecCommand",
                function(e) {
                    var t = e.command;
                    "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && (d(), r.beforeChange())
                }),
                e.on("ExecCommand",
                function(e) {
                    var t = e.command;
                    "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && c(e)
                }),
                e.on("ObjectResizeStart Cut",
                function() {
                    r.beforeChange()
                }),
                e.on("SaveContent ObjectResized blur", c),
                e.on("DragEnd", c),
                e.on("KeyUp",
                function(t) {
                    var o = t.keyCode;
                    t.isDefaultPrevented() || ((o >= 33 && o <= 36 || o >= 37 && o <= 40 || 45 === o || t.ctrlKey) && (c(), e.nodeChanged()), 46 !== o && 8 !== o || e.nodeChanged(), n && r.typing && !1 === tv.isEq(tv.createFromEditor(e), i[0]) && (!1 === e.isDirty() && (u(!0), e.fire("change", {
                        level: i[0],
                        lastLevel: null
                    })), e.fire("TypingUndo"), n = !1, e.nodeChanged()))
                }),
                e.on("KeyDown",
                function(e) {
                    var t = e.keyCode;
                    if (!e.isDefaultPrevented()) if (t >= 33 && t <= 36 || t >= 37 && t <= 40 || 45 === t) r.typing && c(e);
                    else {
                        var o = e.ctrlKey && !e.altKey || e.metaKey; ! (t < 16 || t > 20) || 224 === t || 91 === t || r.typing || o || (r.beforeChange(), l(!0), r.add({},
                        e), n = !0)
                    }
                }),
                e.on("MouseDown",
                function(e) {
                    r.typing && c(e)
                }),
                e.on("input",
                function(e) {
                    e.inputType && ("insertReplacementText" === e.inputType ||
                    function(e) {
                        return "insertText" === e.inputType && null === e.data
                    } (e)) && c(e)
                }),
                e.addShortcut("meta+z", "", "Undo"),
                e.addShortcut("meta+y,meta+shift+z", "", "Redo"),
                e.on("AddUndo Undo Redo ClearUndos",
                function(t) {
                    t.isDefaultPrevented() || e.nodeChanged()
                }),
                r = {
                    data: i,
                    typing: !1,
                    beforeChange: function() {
                        s() && (t = zs.getUndoBookmark(e.selection))
                    },
                    add: function(n, r) {
                        var a, l, c, d = e.settings;
                        if (c = tv.createFromEditor(e), n = n || {},
                        n = Kt.extend(n, c), !1 === s() || e.removed) return null;
                        if (l = i[o], e.fire("BeforeAddUndo", {
                            level: n,
                            lastLevel: l,
                            originalEvent: r
                        }).isDefaultPrevented()) return null;
                        if (l && tv.isEq(l, n)) return null;
                        if (i[o] && (i[o].beforeBookmark = t), d.custom_undo_redo_levels && i.length > d.custom_undo_redo_levels) {
                            for (a = 0; a < i.length - 1; a++) i[a] = i[a + 1];
                            i.length--,
                            o = i.length
                        }
                        n.bookmark = zs.getUndoBookmark(e.selection),
                        o < i.length - 1 && (i.length = o + 1),
                        i.push(n),
                        o = i.length - 1;
                        var f = {
                            level: n,
                            lastLevel: l,
                            originalEvent: r
                        };
                        return e.fire("AddUndo", f),
                        o > 0 && (u(!0), e.fire("change", f)),
                        n
                    },
                    undo: function() {
                        var t;
                        return r.typing && (r.add(), r.typing = !1, l(!1)),
                        o > 0 && (t = i[--o], tv.applyToEditor(e, t, !0), u(!0), e.fire("undo", {
                            level: t
                        })),
                        t
                    },
                    redo: function() {
                        var t;
                        return o < i.length - 1 && (t = i[++o], tv.applyToEditor(e, t, !1), u(!0), e.fire("redo", {
                            level: t
                        })),
                        t
                    },
                    clear: function() {
                        i = [],
                        o = 0,
                        r.typing = !1,
                        r.data = i,
                        e.fire("ClearUndos")
                    },
                    hasUndo: function() {
                        return o > 0 || r.typing && i[0] && !tv.isEq(tv.createFromEditor(e), i[0])
                    },
                    hasRedo: function() {
                        return o < i.length - 1 && !r.typing
                    },
                    transact: function(e) {
                        return d(),
                        r.beforeChange(),
                        r.ignore(e),
                        r.add()
                    },
                    ignore: function(e) {
                        try {
                            a++,
                            e()
                        } finally {
                            a--
                        }
                    },
                    extra: function(t, n) {
                        var a, s;
                        r.transact(t) && (s = i[o].bookmark, a = i[o - 1], tv.applyToEditor(e, a, !0), r.transact(n) && (i[o - 1].beforeBookmark = s))
                    }
                }
            }
            var rv = Xu.isEq,
            ov = function(e, t, n) {
                var r = e.formatter.get(n);
                if (r) for (var o = 0; o < r.length; o++) if (!1 === r[o].inherit && e.dom.is(t, r[o].selector)) return ! 0;
                return ! 1
            },
            iv = function(e, t, n, r) {
                var o = e.dom.getRoot();
                return t !== o && (t = e.dom.getParent(t,
                function(t) {
                    return !! ov(e, t, n) || t.parentNode === o || !!lv(e, t, n, r, !0)
                }), lv(e, t, n, r))
            },
            av = function(e, t, n) {
                return !! rv(t, n.inline) || !!rv(t, n.block) || (n.selector ? 1 === t.nodeType && e.is(t, n.selector) : void 0)
            },
            sv = function(e, t, n, r, o, i) {
                var a, s, l, u = n[r];
                if (n.onmatch) return n.onmatch(t, n, r);
                if (u) if (void 0 === u.length) {
                    for (a in u) if (u.hasOwnProperty(a)) {
                        if (s = "attributes" === r ? e.getAttrib(t, a) : Xu.getStyle(e, t, a), o && !s && !n.exact) return;
                        if ((!o || n.exact) && !rv(s, Xu.normalizeStyleValue(e, Xu.replaceVars(u[a], i), a))) return
                    }
                } else for (l = 0; l < u.length; l++) if ("attributes" === r ? e.getAttrib(t, u[l]) : Xu.getStyle(e, t, u[l])) return n;
                return n
            },
            lv = function(e, t, n, r, o) {
                var i, a, s, l, u = e.formatter.get(n),
                c = e.dom;
                if (u && t) for (a = 0; a < u.length; a++) if (i = u[a], av(e.dom, t, i) && sv(c, t, i, "attributes", o, r) && sv(c, t, i, "styles", o, r)) {
                    if (l = i.classes) for (s = 0; s < l.length; s++) if (!e.dom.hasClass(t, l[s])) return;
                    return i
                }
            },
            uv = {
                matchNode: lv,
                matchName: av,
                match: function(e, t, n, r) {
                    var o;
                    return r ? iv(e, r, t, n) : (r = e.selection.getNode(), !!iv(e, r, t, n) || !((o = e.selection.getStart()) === r || !iv(e, o, t, n)))
                },
                matchAll: function(e, t, n) {
                    var r, o = [],
                    i = {};
                    return r = e.selection.getStart(),
                    e.dom.getParent(r,
                    function(r) {
                        var a, s;
                        for (a = 0; a < t.length; a++) s = t[a],
                        !i[s] && lv(e, r, s, n) && (i[s] = !0, o.push(s))
                    },
                    e.dom.getRoot()),
                    o
                },
                canApply: function(e, t) {
                    var n, r, o, i, a, s = e.formatter.get(t),
                    l = e.dom;
                    if (s) for (n = e.selection.getStart(), r = Xu.getParents(l, n), i = s.length - 1; i >= 0; i--) {
                        if (! (a = s[i].selector) || s[i].defaultBlock) return ! 0;
                        for (o = r.length - 1; o >= 0; o--) if (l.is(r[o], a)) return ! 0
                    }
                    return ! 1
                },
                matchesUnInheritedFormatSelector: ov
            },
            cv = function(e, t) {
                return e.splitText(t)
            },
            dv = {
                split: function(e) {
                    var t = e.startContainer,
                    n = e.startOffset,
                    r = e.endContainer,
                    o = e.endOffset;
                    return t === r && Eo.isText(t) ? n > 0 && n < t.nodeValue.length && (t = (r = cv(t, n)).previousSibling, o > n ? (t = r = cv(r, o -= n).previousSibling, o = r.nodeValue.length, n = 0) : o = 0) : (Eo.isText(t) && n > 0 && n < t.nodeValue.length && (t = cv(t, n), n = 0), Eo.isText(r) && o > 0 && o < r.nodeValue.length && (o = (r = cv(r, o).previousSibling).nodeValue.length)),
                    {
                        startContainer: t,
                        startOffset: n,
                        endContainer: r,
                        endOffset: o
                    }
                }
            },
            fv = ba,
            mv = function(e) {
                return function(e) {
                    for (var t = []; e;) {
                        if (3 === e.nodeType && e.nodeValue !== fv || e.childNodes.length > 1) return [];
                        1 === e.nodeType && t.push(e),
                        e = e.firstChild
                    }
                    return t
                } (e).length > 0
            },
            pv = function(e) {
                var t;
                if (e) for (e = (t = new Qr(e, e)).current(); e; e = t.next()) if (3 === e.nodeType) return e;
                return null
            },
            hv = function(e) {
                var t = qn.fromTag("span");
                return ur.setAll(t, {
                    id: "_mce_caret",
                    "data-mce-bogus": "1",
                    "data-mce-type": "format-caret"
                }),
                e && bi.append(t, qn.fromText(fv)),
                t
            },
            gv = function(e, t, n, r) {
                var o, i, a;
                o = t.getRng(!0),
                i = e.getParent(n, e.isBlock),
                mv(n) ? (!1 !== r && (o.setStartBefore(n), o.setEndBefore(n)), e.remove(n)) : (a = function(e) {
                    var t = pv(e);
                    return t && t.nodeValue.charAt(0) === fv && t.deleteData(0, 1),
                    t
                } (n), o.startContainer === a && o.startOffset > 0 && o.setStart(a, o.startOffset - 1), o.endContainer === a && o.endOffset > 0 && o.setEnd(a, o.endOffset - 1), e.remove(n, !0)),
                i && e.isEmpty(i) && Ac(qn.fromDom(i)),
                t.setRng(o)
            },
            vv = function(e, t, n, r, o) {
                if (r) gv(t, n, r, o);
                else if (! (r = $s(e, n.getStart()))) for (; r = t.get("_mce_caret");) gv(t, n, r, !1)
            },
            bv = function(e, t, n) {
                var r = e.dom,
                o = r.getParent(n, ga.curry(Xu.isTextBlock, e));
                o && r.isEmpty(o) ? n.parentNode.replaceChild(t, n) : (Rc(qn.fromDom(n)), r.isEmpty(n) ? n.parentNode.replaceChild(t, n) : r.insertAfter(t, n))
            },
            yv = function(e, t) {
                return e.appendChild(t),
                t
            },
            wv = function(e, t) {
                var n, r, o = (n = function(e, t) {
                    return yv(e, t.cloneNode(!1))
                },
                r = t,
                function(e, t) {
                    for (var n = e.length - 1; n >= 0; n--) t(e[n], n, e)
                } (e,
                function(e) {
                    r = n(r, e)
                }), r);
                return yv(o, o.ownerDocument.createTextNode(fv))
            },
            xv = function(e) {
                var t = e.dom,
                n = e.selection,
                r = e.getBody();
                e.on("mouseup keydown",
                function(e) { !
                    function(e, t, n, r) {
                        vv(e, t, n, null, !1),
                        8 === r && n.isCollapsed() && n.getStart().innerHTML === fv && vv(e, t, n, $s(e, n.getStart())),
                        37 !== r && 39 !== r || vv(e, t, n, $s(e, n.getStart()))
                    } (r, t, n, e.keyCode)
                })
            },
            Cv = function(e, t) {
                return e.schema.getTextInlineElements().hasOwnProperty(er.name(t)) && !Vs(t.dom()) && !Eo.isBogus(t.dom())
            },
            _v = {},
            kv = Ut.filter,
            Ev = Ut.each; !
            function(e, t) {
                var n = _v[e];
                n || (_v[e] = n = []),
                _v[e].push(t)
            } ("pre",
            function(e) {
                var t, n, r = e.selection.getRng();
                t = Eo.matchNodeNames("pre"),
                r.collapsed || (n = e.selection.getSelectedBlocks(), Ev(kv(kv(n, t),
                function(e) {
                    return t(e.previousSibling) && -1 !== Ut.indexOf(n, e.previousSibling)
                }),
                function(e) {
                    var t, n;
                    t = e.previousSibling,
                    mn(n = e).remove(),
                    mn(t).append("<br><br>").append(n.childNodes)
                }))
            });
            var Tv = function(e, t) {
                Ev(_v[e],
                function(e) {
                    e(t)
                })
            },
            Sv = /^(src|href|style)$/,
            Nv = Kt.each,
            Rv = Xu.isEq,
            Av = function(e) {
                return /^(TH|TD)$/.test(e.nodeName)
            },
            Ov = function(e, t, n) {
                var r, o, i;
                return r = t[n ? "startContainer": "endContainer"],
                o = t[n ? "startOffset": "endOffset"],
                Eo.isElement(r) && (i = r.childNodes.length - 1, !n && o && o--, r = r.childNodes[o > i ? i: o]),
                Eo.isText(r) && n && o >= r.nodeValue.length && (r = new Qr(r, e.getBody()).next() || r),
                Eo.isText(r) && !n && 0 === o && (r = new Qr(r, e.getBody()).prev() || r),
                r
            },
            Dv = function(e, t, n, r) {
                var o = e.create(n, r);
                return t.parentNode.insertBefore(o, t),
                o.appendChild(t),
                o
            },
            Pv = function(e, t, n, r) {
                return ! (t = Xu.getNonWhiteSpaceSibling(t, n, r)) || "BR" === t.nodeName || e.isBlock(t)
            },
            Bv = function(e, t, n, r, o) {
                var i, a, s, l = e.dom;
                if (!
                function(e, t, n) {
                    return !! Rv(t, n.inline) || !!Rv(t, n.block) || (n.selector ? Eo.isElement(t) && e.is(t, n.selector) : void 0)
                } (l, r, t) && !
                function(e, t) {
                    return t.links && "A" === e.tagName
                } (r, t)) return ! 1;
                if ("all" !== t.remove) for (Nv(t.styles,
                function(e, i) {
                    e = Xu.normalizeStyleValue(l, Xu.replaceVars(e, n), i),
                    "number" == typeof i && (i = e, o = 0),
                    (t.remove_similar || !o || Rv(Xu.getStyle(l, o, i), e)) && l.setStyle(r, i, ""),
                    s = 1
                }), s && "" === l.getAttrib(r, "style") && (r.removeAttribute("style"), r.removeAttribute("data-mce-style")), Nv(t.attributes,
                function(e, t) {
                    var i;
                    if (e = Xu.replaceVars(e, n), "number" == typeof t && (t = e, o = 0), !o || Rv(l.getAttrib(o, t), e)) {
                        if ("class" === t && (e = l.getAttrib(r, t)) && (i = "", Nv(e.split(/\s+/),
                        function(e) { / mce\ - \w + /.test(e)&&(i+=(i?" ":"")+e)}),i))return void l.setAttrib(r,t,i);"class"===t&&r.removeAttribute("className"),Sv.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),Nv(t.classes,function(e){e=Xu.replaceVars(e,n),o&&!l.hasClass(o,e)||l.removeClass(r,e)}),a=l.getAttribs(r),i=0;i<a.length;i++){var u=a[i].nodeName;if(0!==u.indexOf("_")&&0!==u.indexOf("data-"))return!1}return"none"!==t.remove?(function(e,t,n){var r,o=t.parentNode,i=e.dom,a=e.settings.forced_root_block;n.block&&(a?o===i.getRoot()&&(n.list_block&&Rv(t,n.list_block)||Nv(Kt.grep(t.childNodes),function(t){Xu.isValid(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=Dv(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):i.isBlock(t)&&!i.isBlock(o)&&(Pv(i,t,!1)||Pv(i,t.firstChild,!0,1)||t.insertBefore(i.create("br"),t.firstChild),Pv(i,t,!0)||Pv(i,t.lastChild,!1,1)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!Rv(n.inline,t)||i.remove(t,1)}(e,r,t),!0):void 0},Mv={removeFormat:Bv,remove:function(e,t,n,r,o){var i,a,s=e.formatter.get(t),l=s[0],u=!0,c=e.dom,d=e.selection,f=function(r){var i=function(e,t,n,r,o){var i;return Nv(Xu.getParents(e.dom,t.parentNode).reverse(),function(t){var a;i||"_start"===t.id||"_end"===t.id||(a=uv.matchNode(e,t,n,r,o))&&!1!==a.split&&(i=t)}),i}(e,r,t,n,o);return function(e,t,n,r,o,i,a,s){var l,u,c,d,f,m,p=e.dom;if(n){for(m=n.parentNode,l=r.parentNode;l&&l!==m;l=l.parentNode){for(u=p.clone(l,!1),f=0;f<t.length;f++)if(Bv(e,t[f],s,u,u)){u=0;break}u&&(c&&u.appendChild(c),d||(d=u),c=u)}!i||a.mixed&&p.isBlock(n)||(r=p.split(n,r)),c&&(o.parentNode.insertBefore(c,o),d.appendChild(o))}return r}(e,s,i,r,r,!0,l,n)},m=function(t){var r,o,i,a,d;if(Eo.isElement(t)&&c.getContentEditable(t)&&(a=u,u="true"===c.getContentEditable(t),d=!0),r=Kt.grep(t.childNodes),u&&!d)for(o=0,i=s.length;o<i&&!Bv(e,s[o],n,t,t);o++);if(l.deep&&r.length){for(o=0,i=r.length;o<i;o++)m(r[o]);d&&(u=a)}},p=function(e){var t=c.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return $u.isBookmarkNode(n)&&(n=n[e?"firstChild":"lastChild"]),Eo.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),c.remove(t,!0),n},h=function(t){var n,r,o=t.commonAncestorContainer;if(t=sc(e,t,s,!0),l.split){if(t=dv.split(t),(n=Ov(e,t,!0))!==(r=Ov(e,t))){if(/ ^ (TR | TH | TD) $ / .test(n.nodeName) && n.firstChild && (n = "TR" === n.nodeName ? n.firstChild.firstChild || n: n.firstChild || n),
                            o && /^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName) && Av(r) && r.firstChild && (r = r.firstChild || r),
                            c.isChildOf(n, r) && n !== r && !c.isBlock(r) && !Av(n) && !Av(r)) {
                                var i = function(e, t, n, r, o) {
                                    var i = (r ? "next": "previous") + "Sibling",
                                    a = e.create(n, o);
                                    t.parentNode.insertBefore(a, t);
                                    for (var s = [t], l = t; l = l[i];) s.push(l);
                                    return s.forEach(function(e) {
                                        return a.appendChild(e)
                                    }),
                                    a
                                } (c, n, "span", !0, {
                                    id: "_start",
                                    "data-mce-type": "bookmark"
                                });
                                return f(i),
                                void(n = p(!0))
                            }
                            n = Dv(c, n, "span", {
                                id: "_start",
                                "data-mce-type": "bookmark"
                            }), r = Dv(c, r, "span", {
                                id: "_end",
                                "data-mce-type": "bookmark"
                            }), f(n), f(r), n = p(!0), r = p()
                        } else n = r = f(n); t.startContainer = n.parentNode ? n.parentNode: n, t.startOffset = c.nodeIndex(n), t.endContainer = r.parentNode ? r.parentNode: r, t.endOffset = c.nodeIndex(r) + 1
                    }
                    uc.walk(c, t,
                    function(t) {
                        Nv(t,
                        function(t) {
                            m(t),
                            Eo.isElement(t) && "underline" === e.dom.getStyle(t, "text-decoration") && t.parentNode && "underline" === Xu.getTextDecoration(c, t.parentNode) && Bv(e, {
                                deep: !1,
                                exact: !0,
                                inline: "span",
                                styles: {
                                    textDecoration: "underline"
                                }
                            },
                            null, t)
                        })
                    })
                };
                if (r) r.nodeType ? ((a = c.createRng()).setStartBefore(r), a.setEndAfter(r), h(a)) : h(r);
                else if ("false" !== c.getContentEditable(d.getNode())) d.isCollapsed() && l.inline && !c.select("td[data-mce-selected],th[data-mce-selected]").length ?
                function(e, t, n, r) {
                    var o, i, a, s, l, u, c, d = e.dom,
                    f = e.selection,
                    m = [],
                    p = f.getRng();
                    for (o = p.startContainer, i = p.startOffset, l = o, 3 === o.nodeType && (i !== o.nodeValue.length && (s = !0), l = l.parentNode); l;) {
                        if (uv.matchNode(e, l, t, n, r)) {
                            u = l;
                            break
                        }
                        l.nextSibling && (s = !0),
                        m.push(l),
                        l = l.parentNode
                    }
                    if (u) if (s) {
                        a = f.getBookmark(),
                        p.collapse(!0);
                        var h = sc(e, p, e.formatter.get(t), !0);
                        h = dv.split(h),
                        e.formatter.remove(t, n, h),
                        f.moveToBookmark(a)
                    } else {
                        c = $s(e.getBody(), u);
                        var g = hv(!1).dom(),
                        v = wv(m, g);
                        bv(e, g, c || u),
                        gv(d, f, c, !1),
                        f.setCursorLocation(v, 1),
                        d.isEmpty(u) && d.remove(u)
                    }
                } (e, t, n, o) : (i = zs.getPersistentBookmark(e.selection, !0), h(d.getRng()), d.moveToBookmark(i), l.inline && uv.match(e, t, n, d.getStart()) && Xu.moveStart(c, d, d.getRng()), e.nodeChanged());
                else {
                    r = d.getNode();
                    for (var g = 0,
                    v = s.length; g < v && (!s[g].ceFalseOverride || !Bv(e, s[g], n, r, r)); g++);
                }
            }
        },
        Iv = Kt.each, Lv = function(e) {
            return e && 1 === e.nodeType && !$u.isBookmarkNode(e) && !Vs(e) && !Eo.isBogus(e)
        },
        Fv = function(e, t) {
            var n;
            for (n = e; n; n = n[t]) {
                if (3 === n.nodeType && 0 !== n.nodeValue.length) return e;
                if (1 === n.nodeType && !$u.isBookmarkNode(n)) return n
            }
            return e
        },
        Wv = function(e, t, n) {
            var r, o, i = new Nc(e);
            if (t && n && (t = Fv(t, "previousSibling"), n = Fv(n, "nextSibling"), i.compare(t, n))) {
                for (r = t.nextSibling; r && r !== n;) o = r,
                r = r.nextSibling,
                t.appendChild(o);
                return e.remove(n),
                Kt.each(Kt.grep(n.childNodes),
                function(e) {
                    t.appendChild(e)
                }),
                t
            }
            return n
        },
        Hv = function(e, t, n) {
            Iv(e.childNodes,
            function(e) {
                Lv(e) && (t(e) && n(e), e.hasChildNodes() && Hv(e, t, n))
            })
        },
        jv = function(e, t) {
            return b(function(t, n) {
                return ! (!n || !Xu.getStyle(e, n, t))
            },
            t)
        },
        Uv = function(e, t, n) {
            return b(function(t, n, r) {
                e.setStyle(r, t, n),
                "" === r.getAttribute("style") && r.removeAttribute("style"),
                zv(e, r)
            },
            t, n)
        },
        zv = function(e, t) {
            "SPAN" === t.nodeName && 0 === e.getAttribs(t).length && e.remove(t, !0)
        },
        Vv = function(e, t) {
            var n;
            1 === t.nodeType && t.parentNode && 1 === t.parentNode.nodeType && (n = Xu.getTextDecoration(e, t.parentNode), e.getStyle(t, "color") && n ? e.setStyle(t, "text-decoration", n) : e.getStyle(t, "text-decoration") === n && e.setStyle(t, "text-decoration", null))
        },
        $v = function(e, t, n, r) {
            Iv(t,
            function(t) {
                Iv(e.dom.select(t.inline, r),
                function(r) {
                    Lv(r) && Mv.removeFormat(e, t, n, r, t.exact ? r: null)
                }),
                function(e, t, n) {
                    if (t.clear_child_styles) {
                        var r = t.links ? "*:not(a)": "*";
                        Iv(e.select(r, n),
                        function(n) {
                            Lv(n) && Iv(t.styles,
                            function(t, r) {
                                e.setStyle(n, r, "")
                            })
                        })
                    }
                } (e.dom, t, r)
            })
        },
        qv = function(e, t, n, r) { (t.styles.color || t.styles.textDecoration) && (Kt.walk(r, b(Vv, e), "childNodes"), Vv(e, r))
        },
        Kv = function(e, t, n, r) {
            t.styles && t.styles.backgroundColor && Hv(r, jv(e, "fontSize"), Uv(e, "backgroundColor", Xu.replaceVars(t.styles.backgroundColor, n)))
        },
        Yv = function(e, t, n, r) {
            "sub" !== t.inline && "sup" !== t.inline || (Hv(r, jv(e, "fontSize"), Uv(e, "fontSize", "")), e.remove(e.select("sup" === t.inline ? "sub": "sup", r), !0))
        },
        Xv = function(e, t, n, r) {
            r && !1 !== t.merge_siblings && (r = Wv(e, Xu.getNonWhiteSpaceSibling(r), r), r = Wv(e, r, Xu.getNonWhiteSpaceSibling(r, !0)))
        },
        Gv = function(e, t, n, r, o) {
            uv.matchNode(e, o.parentNode, n, r) && Mv.removeFormat(e, t, r, o) || t.merge_with_parents && e.dom.getParent(o.parentNode,
            function(i) {
                if (uv.matchNode(e, i, n, r)) return Mv.removeFormat(e, t, r, o),
                !0
            })
        },
        Jv = Kt.each, Qv = function(e, t, n, r) {
            var o, i, a = e.formatter.get(t),
            s = a[0],
            l = !r && e.selection.isCollapsed(),
            u = e.dom,
            c = e.selection,
            d = function(e, t) {
                if (t = t || s, e) {
                    if (t.onformat && t.onformat(e, t, n, r), Jv(t.styles,
                    function(t, r) {
                        u.setStyle(e, r, Xu.replaceVars(t, n))
                    }), t.styles) {
                        var o = u.getAttrib(e, "style");
                        o && e.setAttribute("data-mce-style", o)
                    }
                    Jv(t.attributes,
                    function(t, r) {
                        u.setAttrib(e, r, Xu.replaceVars(t, n))
                    }),
                    Jv(t.classes,
                    function(t) {
                        t = Xu.replaceVars(t, n),
                        u.hasClass(e, t) || u.addClass(e, t)
                    })
                }
            },
            f = function(e, t) {
                var n = !1;
                return !! s.selector && (Jv(e,
                function(e) {
                    if (! ("collapsed" in e && e.collapsed !== l)) return u.is(t, e.selector) && !Vs(t) ? (d(t, e), n = !0, !1) : void 0
                }), n)
            },
            m = function(r, o, i, l) {
                var u, c, m = [],
                p = !0;
                u = s.inline || s.block,
                c = r.create(u),
                d(c),
                uc.walk(r, o,
                function(o) {
                    var i, h = function(o) {
                        var g, v, b, y;
                        if (y = p, g = o.nodeName.toLowerCase(), v = o.parentNode.nodeName.toLowerCase(), 1 === o.nodeType && r.getContentEditable(o) && (y = p, p = "true" === r.getContentEditable(o), b = !0), Xu.isEq(g, "br")) return i = 0,
                        void(s.block && r.remove(o));
                        if (s.wrapper && uv.matchNode(e, o, t, n)) i = 0;
                        else {
                            if (p && !b && s.block && !s.wrapper && Xu.isTextBlock(e, g) && Xu.isValid(e, v, u)) return o = r.rename(o, u),
                            d(o),
                            m.push(o),
                            void(i = 0);
                            if (s.selector) {
                                var w = f(a, o);
                                if (!s.inline || w) return void(i = 0)
                            } ! p || b || !Xu.isValid(e, u, g) || !Xu.isValid(e, v, u) || !l && 3 === o.nodeType && 1 === o.nodeValue.length && 65279 === o.nodeValue.charCodeAt(0) || Vs(o) || s.inline && r.isBlock(o) ? (i = 0, Jv(Kt.grep(o.childNodes), h), b && (p = y), i = 0) : (i || (i = r.clone(c, !1), o.parentNode.insertBefore(i, o), m.push(i)), i.appendChild(o))
                        }
                    };
                    Jv(o, h)
                }),
                !0 === s.links && Jv(m,
                function(e) {
                    var t = function(e) {
                        "A" === e.nodeName && d(e, s),
                        Jv(Kt.grep(e.childNodes), t)
                    };
                    t(e)
                }),
                Jv(m,
                function(o) {
                    var i, l = function(e) {
                        var t = !1;
                        return Jv(e.childNodes,
                        function(e) {
                            if (function(e) {
                                return e && 1 === e.nodeType && !$u.isBookmarkNode(e) && !Vs(e) && !Eo.isBogus(e)
                            } (e)) return t = e,
                            !1
                        }),
                        t
                    };
                    i = function(e) {
                        var t = 0;
                        return Jv(e.childNodes,
                        function(e) {
                            Xu.isWhiteSpaceNode(e) || $u.isBookmarkNode(e) || t++
                        }),
                        t
                    } (o),
                    !(m.length > 1) && r.isBlock(o) || 0 !== i ? (s.inline || s.wrapper) && (s.exact || 1 !== i || (o = function(e) {
                        var t, n;
                        return (t = l(e)) && !$u.isBookmarkNode(t) && uv.matchName(r, t, s) && (n = r.clone(t, !1), d(n), r.replace(n, e, !0), r.remove(t, 1)),
                        n || e
                    } (o)), $v(e, a, n, o), Gv(e, s, t, n, o), Kv(r, s, n, o), Yv(r, s, n, o), Xv(r, s, n, o)) : r.remove(o, 1)
                })
            };
            if ("false" !== u.getContentEditable(c.getNode())) {
                if (s) {
                    if (r) r.nodeType ? f(a, r) || ((i = u.createRng()).setStartBefore(r), i.setEndAfter(r), m(u, sc(e, i, a), 0, !0)) : m(u, r, 0, !0);
                    else if (l && s.inline && !u.select("td[data-mce-selected],th[data-mce-selected]").length) !
                    function(e, t, n) {
                        var r, o, i, a, s, l, u = e.selection;
                        a = (r = u.getRng(!0)).startOffset,
                        l = r.startContainer.nodeValue,
                        (o = $s(e.getBody(), u.getStart())) && (i = pv(o));
                        var c, d, f = /[^\s\u00a0\u00ad\u200b\ufeff]/;
                        l && a > 0 && a < l.length && f.test(l.charAt(a)) && f.test(l.charAt(a - 1)) ? (s = u.getBookmark(), r.collapse(!0), r = sc(e, r, e.formatter.get(t)), r = dv.split(r), e.formatter.apply(t, n, r), u.moveToBookmark(s)) : (o && i.nodeValue === fv ? e.formatter.apply(t, n, o) : (c = e.getDoc(), d = hv(!0).dom(), i = (o = c.importNode(d, !0)).firstChild, r.insertNode(o), a = 1, e.formatter.apply(t, n, o)), u.setCursorLocation(i, a))
                    } (e, t, n);
                    else {
                        var p = e.selection.getNode();
                        e.settings.forced_root_block || !a[0].defaultBlock || u.getParent(p, u.isBlock) || Qv(e, a[0].defaultBlock),
                        e.selection.setRng(Ic(e.selection.getRng())),
                        o = zs.getPersistentBookmark(e.selection, !0),
                        m(u, sc(e, c.getRng(), a)),
                        s.styles && qv(u, s, n, p),
                        c.moveToBookmark(o),
                        Xu.moveStart(u, c, c.getRng()),
                        e.nodeChanged()
                    }
                    Tv(t, e)
                }
            } else {
                r = c.getNode();
                for (var h = 0,
                g = a.length; h < g; h++) if (a[h].ceFalseOverride && u.is(r, a[h].selector)) return void d(r, a[h])
            }
        },
        Zv = {
            applyFormat: Qv
        },
        eb = Kt.each, tb = {
            formatChanged: function(e, t, n, r, o) {
                null === t.get() &&
                function(e, t) {
                    var n = {};
                    e.set({}),
                    t.on("NodeChange",
                    function(r) {
                        var o = Xu.getParents(t.dom, r.element),
                        i = {};
                        o = Kt.grep(o,
                        function(e) {
                            return 1 === e.nodeType && !e.getAttribute("data-mce-bogus")
                        }),
                        eb(e.get(),
                        function(e, r) {
                            eb(o,
                            function(a) {
                                return t.formatter.matchNode(a, r, {},
                                e.similar) ? (n[r] || (eb(e,
                                function(e) {
                                    e(!0, {
                                        node: a,
                                        format: r,
                                        parents: o
                                    })
                                }), n[r] = e), i[r] = e, !1) : !uv.matchesUnInheritedFormatSelector(t, a, r) && void 0
                            })
                        }),
                        eb(n,
                        function(e, t) {
                            i[t] || (delete n[t], eb(e,
                            function(e) {
                                e(!1, {
                                    node: r.element,
                                    format: t,
                                    parents: o
                                })
                            }))
                        })
                    })
                } (t, e),
                function(e, t, n, r) {
                    var o = e.get();
                    eb(t.split(","),
                    function(e) {
                        o[e] || (o[e] = [], o[e].similar = r),
                        o[e].push(n)
                    }),
                    e.set(o)
                } (t, n, r, o)
            }
        },
        nb = {
            get: function(e) {
                var t = {
                    valigntop: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "top"
                        }
                    }],
                    valignmiddle: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "middle"
                        }
                    }],
                    valignbottom: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "bottom"
                        }
                    }],
                    alignleft: [{
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-left",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    },
                    {
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "left"
                        },
                        inherit: !1,
                        preview: !1,
                        defaultBlock: "div"
                    },
                    {
                        selector: "img,table",
                        collapsed: !1,
                        styles: {
                            float: "left"
                        },
                        preview: "font-family font-size"
                    }],
                    aligncenter: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "center"
                        },
                        inherit: !1,
                        preview: "font-family font-size",
                        defaultBlock: "div"
                    },
                    {
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-center",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    },
                    {
                        selector: "img",
                        collapsed: !1,
                        styles: {
                            display: "block",
                            marginLeft: "auto",
                            marginRight: "auto"
                        },
                        preview: !1
                    },
                    {
                        selector: "table",
                        collapsed: !1,
                        styles: {
                            marginLeft: "auto",
                            marginRight: "auto"
                        },
                        preview: "font-family font-size"
                    }],
                    alignright: [{
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-right",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    },
                    {
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "right"
                        },
                        inherit: !1,
                        preview: "font-family font-size",
                        defaultBlock: "div"
                    },
                    {
                        selector: "img,table",
                        collapsed: !1,
                        styles: {
                            float: "right"
                        },
                        preview: "font-family font-size"
                    }],
                    alignjustify: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "justify"
                        },
                        inherit: !1,
                        defaultBlock: "div",
                        preview: "font-family font-size"
                    }],
                    bold: [{
                        inline: "strong",
                        remove: "all"
                    },
                    {
                        inline: "span",
                        styles: {
                            fontWeight: "bold"
                        }
                    },
                    {
                        inline: "b",
                        remove: "all"
                    }],
                    italic: [{
                        inline: "em",
                        remove: "all"
                    },
                    {
                        inline: "span",
                        styles: {
                            fontStyle: "italic"
                        }
                    },
                    {
                        inline: "i",
                        remove: "all"
                    }],
                    underline: [{
                        inline: "span",
                        styles: {
                            textDecoration: "underline"
                        },
                        exact: !0
                    },
                    {
                        inline: "u",
                        remove: "all"
                    }],
                    strikethrough: [{
                        inline: "span",
                        styles: {
                            textDecoration: "line-through"
                        },
                        exact: !0
                    },
                    {
                        inline: "strike",
                        remove: "all"
                    }],
                    forecolor: {
                        inline: "span",
                        styles: {
                            color: "%value"
                        },
                        links: !0,
                        remove_similar: !0,
                        clear_child_styles: !0
                    },
                    hilitecolor: {
                        inline: "span",
                        styles: {
                            backgroundColor: "%value"
                        },
                        links: !0,
                        remove_similar: !0,
                        clear_child_styles: !0
                    },
                    fontname: {
                        inline: "span",
                        toggle: !1,
                        styles: {
                            fontFamily: "%value"
                        },
                        clear_child_styles: !0
                    },
                    fontsize: {
                        inline: "span",
                        toggle: !1,
                        styles: {
                            fontSize: "%value"
                        },
                        clear_child_styles: !0
                    },
                    fontsize_class: {
                        inline: "span",
                        attributes: {
                            class: "%value"
                        }
                    },
                    blockquote: {
                        block: "blockquote",
                        wrapper: 1,
                        remove: "all"
                    },
                    subscript: {
                        inline: "sub"
                    },
                    superscript: {
                        inline: "sup"
                    },
                    code: {
                        inline: "code"
                    },
                    link: {
                        inline: "a",
                        selector: "a",
                        remove: "all",
                        split: !0,
                        deep: !0,
                        onmatch: function() {
                            return ! 0
                        },
                        onformat: function(t, n, r) {
                            Kt.each(r,
                            function(n, r) {
                                e.setAttrib(t, r, n)
                            })
                        }
                    },
                    removeformat: [{
                        selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",
                        remove: "all",
                        split: !0,
                        expand: !1,
                        block_expand: !0,
                        deep: !0
                    },
                    {
                        selector: "span",
                        attributes: ["style", "class"],
                        remove: "empty",
                        split: !0,
                        expand: !1,
                        deep: !0
                    },
                    {
                        selector: "*",
                        attributes: ["style", "class"],
                        split: !1,
                        expand: !1,
                        deep: !0
                    }]
                };
                return Kt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),
                function(e) {
                    t[e] = {
                        block: e,
                        remove: "all"
                    }
                }),
                t
            }
        },
        rb = Kt.each, ob = li.DOM, ib = function(e, t) {
            var n, r, o, i = t && t.schema || Go({}),
            a = function(e) {
                var t;
                return r = "string" == typeof e ? {
                    name: e,
                    classes: [],
                    attrs: {}
                }: e,
                function(e, t) {
                    t.classes.length && ob.addClass(e, t.classes.join(" ")),
                    ob.setAttribs(e, t.attrs)
                } (t = ob.create(r.name), r),
                t
            },
            s = function(e, t, n) {
                var r, o, l, u = t.length > 0 && t[0],
                c = u && u.name;
                if (l = function(e, t) {
                    var n = "string" != typeof e ? e.nodeName.toLowerCase() : e,
                    r = i.getElementRule(n),
                    o = r && r.parentsRequired;
                    return ! (!o || !o.length) && (t && -1 !== Kt.inArray(o, t) ? t: o[0])
                } (e, c)) c === l ? (o = t[0], t = t.slice(1)) : o = l;
                else if (u) o = t[0],
                t = t.slice(1);
                else if (!n) return e;
                return o && (r = a(o)).appendChild(e),
                n && (r || (r = ob.create("div")).appendChild(e), Kt.each(n,
                function(t) {
                    var n = a(t);
                    r.insertBefore(n, e)
                })),
                s(r, t, o && o.siblings)
            };
            return e && e.length ? (r = e[0], n = a(r), (o = ob.create("div")).appendChild(s(n, e.slice(1), r.siblings)), o) : ""
        },
        ab = function(e) {
            var t, n = {
                classes: [],
                attrs: {}
            };
            return "*" !== (e = n.selector = Kt.trim(e)) && (t = e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,
            function(e, t, r, o, i) {
                switch (t) {
                case "#":
                    n.attrs.id = r;
                    break;
                case ".":
                    n.classes.push(r);
                    break;
                case ":":
                    -1 !== Kt.inArray("checked disabled enabled read-only required".split(" "), r) && (n.attrs[r] = r)
                }
                if ("[" === o) {
                    var a = i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);
                    a && (n.attrs[a[1]] = a[2])
                }
                return ""
            })),
            n.name = t || "div",
            n
        },
        sb = function(e) {
            return e && "string" == typeof e ? (e = (e = e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1"), Kt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),
            function(e) {
                var t = Kt.map(e.split(/(?:~\+|~|\+)/), ab),
                n = t.pop();
                return t.length && (n.siblings = t),
                n
            }).reverse()) : []
        },
        lb = {
            getCssText: function(e, t) {
                var n, r, o, i, a, s, l = "";
                if (!1 === (s = e.settings.preview_styles)) return "";
                "string" != typeof s && (s = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");
                var u = function(e) {
                    return e.replace(/%(\w+)/g, "")
                };
                if ("string" == typeof t) {
                    if (! (t = e.formatter.get(t))) return;
                    t = t[0]
                }
                return "preview" in t && !1 === (s = t.preview) ? "": (n = t.block || t.inline || "span", (i = sb(t.selector)).length ? (i[0].name || (i[0].name = n), n = t.selector, r = ib(i, e)) : r = ib([n], e), o = ob.select(n, r)[0] || r.firstChild, rb(t.styles,
                function(e, t) { (e = u(e)) && ob.setStyle(o, t, e)
                }), rb(t.attributes,
                function(e, t) { (e = u(e)) && ob.setAttrib(o, t, e)
                }), rb(t.classes,
                function(e) {
                    e = u(e),
                    ob.hasClass(o, e) || ob.addClass(o, e)
                }), e.fire("PreviewFormats"), ob.setStyles(r, {
                    position: "absolute",
                    left: -65535
                }), e.getBody().appendChild(r), a = ob.getStyle(e.getBody(), "fontSize", !0), a = /px$/.test(a) ? parseInt(a, 10) : 0, rb(s.split(" "),
                function(t) {
                    var n = ob.getStyle(o, t, !0);
                    if (! ("background-color" === t && /transparent|rgba\s*\([^)]+,\s*0\)/.test(n) && (n = ob.getStyle(e.getBody(), t, !0), "#ffffff" === ob.toHex(n).toLowerCase()) || "color" === t && "#000000" === ob.toHex(n).toLowerCase())) {
                        if ("font-size" === t && /em|%$/.test(n)) {
                            if (0 === a) return;
                            n = parseFloat(n) / (/%$/.test(n) ? 100 : 1) * a + "px"
                        }
                        "border" === t && n && (l += "padding:0 2px;"),
                        l += t + ":" + n + ";"
                    }
                }), e.fire("AfterPreviewFormats"), ob.remove(r), l)
            },
            parseSelector: sb,
            selectorToHtml: function(e, t) {
                return ib(sb(e), t)
            }
        },
        ub = {
            toggle: function(e, t, n, r, o) {
                var i = t.get(n); ! uv.match(e, n, r, o) || "toggle" in i[0] && !i[0].toggle ? Zv.applyFormat(e, n, r, o) : Mv.remove(e, n, r, o)
            }
        },
        cb = {
            setup: function(e) {
                e.addShortcut("meta+b", "", "Bold"),
                e.addShortcut("meta+i", "", "Italic"),
                e.addShortcut("meta+u", "", "Underline");
                for (var t = 1; t <= 6; t++) e.addShortcut("access+" + t, "", ["FormatBlock", !1, "h" + t]);
                e.addShortcut("access+7", "", ["FormatBlock", !1, "p"]),
                e.addShortcut("access+8", "", ["FormatBlock", !1, "div"]),
                e.addShortcut("access+9", "", ["FormatBlock", !1, "address"])
            }
        };
        function db(e) {
            var t = function(e) {
                var t = {},
                n = function(e, r) {
                    e && ("string" != typeof e ? Kt.each(e,
                    function(e, t) {
                        n(t, e)
                    }) : (r = r.length ? r: [r], Kt.each(r,
                    function(e) {
                        void 0 === e.deep && (e.deep = !e.selector),
                        void 0 === e.split && (e.split = !e.selector || e.inline),
                        void 0 === e.remove && e.selector && !e.inline && (e.remove = "none"),
                        e.selector && e.inline && (e.mixed = !0, e.block_expand = !0),
                        "string" == typeof e.classes && (e.classes = e.classes.split(/\s+/))
                    }), t[e] = r))
                };
                return n(nb.get(e.dom)),
                n(e.settings.formats),
                {
                    get: function(e) {
                        return e ? t[e] : t
                    },
                    register: n,
                    unregister: function(e) {
                        return e && t[e] && delete t[e],
                        t
                    }
                }
            } (e),
            n = ki(null);
            return cb.setup(e),
            xv(e),
            {
                get: t.get,
                register: t.register,
                unregister: t.unregister,
                apply: b(Zv.applyFormat, e),
                remove: b(Mv.remove, e),
                toggle: b(ub.toggle, e, t),
                match: b(uv.match, e),
                matchAll: b(uv.matchAll, e),
                matchNode: b(uv.matchNode, e),
                canApply: b(uv.canApply, e),
                formatChanged: b(tb.formatChanged, e, n),
                getCssText: b(lb.getCssText, e)
            }
        }
        var fb, mb = Object.prototype.hasOwnProperty,
        pb = (fb = function(e, t) {
            return t
        },
        function() {
            for (var e = new Array(arguments.length), t = 0; t < e.length; t++) e[t] = arguments[t];
            if (0 === e.length) throw new Error("Can't merge zero objects");
            for (var n = {},
            r = 0; r < e.length; r++) {
                var o = e[r];
                for (var i in o) mb.call(o, i) && (n[i] = fb(n[i], o[i]))
            }
            return n
        }), hb = {
            register: function(e, t, n) {
                e.addAttributeFilter("data-mce-tabindex",
                function(e, t) {
                    for (var n, r = e.length; r--;)(n = e[r]).attr("tabindex", n.attributes.map["data-mce-tabindex"]),
                    n.attr(t, null)
                }),
                e.addAttributeFilter("src,href,style",
                function(e, r) {
                    for (var o, i, a = e.length,
                    s = "data-mce-" + r,
                    l = t.url_converter,
                    u = t.url_converter_scope; a--;) void 0 !== (i = (o = e[a]).attributes.map[s]) ? (o.attr(r, i.length > 0 ? i: null), o.attr(s, null)) : (i = o.attributes.map[r], "style" === r ? i = n.serializeStyle(n.parseStyle(i), o.name) : l && (i = l.call(u, i, r, o.name)), o.attr(r, i.length > 0 ? i: null))
                }),
                e.addAttributeFilter("class",
                function(e) {
                    for (var t, n, r = e.length; r--;)(n = (t = e[r]).attr("class")) && (n = t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), t.attr("class", n.length > 0 ? n: null))
                }),
                e.addAttributeFilter("data-mce-type",
                function(e, t, n) {
                    for (var r, o = e.length; o--;)"bookmark" !== (r = e[o]).attributes.map["data-mce-type"] || n.cleanup || r.remove()
                }),
                e.addNodeFilter("noscript",
                function(e) {
                    for (var t, n = e.length; n--;)(t = e[n].firstChild) && (t.value = Wo.decode(t.value))
                }),
                e.addNodeFilter("script,style",
                function(e, n) {
                    for (var r, o, i, a = e.length,
                    s = function(e) {
                        return e.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "")
                    }; a--;) o = (r = e[a]).firstChild ? r.firstChild.value: "",
                    "script" === n ? ((i = r.attr("type")) && r.attr("type", "mce-no/type" === i ? null: i.replace(/^mce\-/, "")), "xhtml" === t.element_format && o.length > 0 && (r.firstChild.value = "// <![CDATA[\n" + s(o) + "\n// ]]>")) : "xhtml" === t.element_format && o.length > 0 && (r.firstChild.value = "\x3c!--\n" + s(o) + "\n--\x3e")
                }),
                e.addNodeFilter("#comment",
                function(e) {
                    for (var t, n = e.length; n--;) 0 === (t = e[n]).value.indexOf("[CDATA[") ? (t.name = "#cdata", t.type = 4, t.value = t.value.replace(/^\[CDATA\[|\]\]$/g, "")) : 0 === t.value.indexOf("mce:protected ") && (t.name = "#text", t.type = 3, t.raw = !0, t.value = unescape(t.value).substr(14))
                }),
                e.addNodeFilter("xml:namespace,input",
                function(e, t) {
                    for (var n, r = e.length; r--;) 7 === (n = e[r]).type ? n.remove() : 1 === n.type && ("input" !== t || "type" in n.attributes.map || n.attr("type", "text"))
                }),
                e.addAttributeFilter("data-mce-type",
                function(t) {
                    W(t,
                    function(t) {
                        "format-caret" === t.attr("data-mce-type") && (t.isEmpty(e.schema.getNonEmptyElements()) ? t.remove() : t.unwrap())
                    })
                }),
                e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",
                function(e, t) {
                    for (var n = e.length; n--;) e[n].attr(t, null)
                })
            },
            trimTrailingBr: function(e) {
                var t, n, r = function(e) {
                    return e && "br" === e.name
                };
                r(t = e.lastChild) && r(n = t.prev) && (t.remove(), n.remove())
            }
        },
        gb = {
            process: function(e, t, n) {
                return function(e, t) {
                    return e && e.hasEventListeners("PreProcess") && !t.no_events
                } (e, n) ?
                function(e, t, n) {
                    var r, o, i, a = e.dom;
                    return t = t.cloneNode(!0),
                    (r = document.implementation).createHTMLDocument && (o = r.createHTMLDocument(""), Kt.each("BODY" === t.nodeName ? t.childNodes: [t],
                    function(e) {
                        o.body.appendChild(o.importNode(e, !0))
                    }), t = "BODY" !== t.nodeName ? o.body.firstChild: o.body, i = a.doc, a.doc = o),
                    Bp(e, pb(n, {
                        node: t
                    })),
                    i && (a.doc = i),
                    t
                } (e, t, n) : t
            }
        },
        vb = function(e, t, n) {
            e.addNodeFilter("font",
            function(e) {
                W(e,
                function(e) {
                    var r = t.parse(e.attr("style")),
                    o = e.attr("color"),
                    i = e.attr("face"),
                    a = e.attr("size");
                    o && (r.color = o),
                    i && (r["font-family"] = i),
                    a && (r["font-size"] = n[parseInt(e.attr("size"), 10) - 1]),
                    e.name = "span",
                    e.attr("style", t.serialize(r)),
                    function(e, t) {
                        W(t,
                        function(t) {
                            e.attr(t, null)
                        })
                    } (e, ["color", "face", "size"])
                })
            })
        },
        bb = function(e, t) {
            var n = Qo();
            t.convert_fonts_to_spans && vb(e, n, Kt.explode(t.font_size_legacy_values)),
            function(e, t) {
                e.addNodeFilter("strike",
                function(e) {
                    W(e,
                    function(e) {
                        var n = t.parse(e.attr("style"));
                        n["text-decoration"] = "line-through",
                        e.name = "span",
                        e.attr("style", t.serialize(n))
                    })
                })
            } (e, n)
        },
        yb = {
            register: function(e, t) {
                t.inline_styles && bb(e, t)
            }
        },
        wb = /^[ \t\r\n]*$/, xb = {
            "#text": 3,
            "#comment": 8,
            "#cdata": 4,
            "#pi": 7,
            "#doctype": 10,
            "#document-fragment": 11
        },
        Cb = function(e, t, n) {
            var r, o, i = n ? "lastChild": "firstChild",
            a = n ? "prev": "next";
            if (e[i]) return e[i];
            if (e !== t) {
                if (r = e[a]) return r;
                for (o = e.parent; o && o !== t; o = o.parent) if (r = o[a]) return r
            }
        },
        _b = function() {
            function e(e, t) {
                this.name = e,
                this.type = t,
                1 === t && (this.attributes = [], this.attributes.map = {})
            }
            return e.create = function(t, n) {
                var r, o;
                if (r = new e(t, xb[t] || 1), n) for (o in n) r.attr(o, n[o]);
                return r
            },
            e.prototype.replace = function(e) {
                return e.parent && e.remove(),
                this.insert(e, this),
                this.remove(),
                this
            },
            e.prototype.attr = function(e, t) {
                var n, r;
                if ("string" != typeof e) {
                    for (r in e) this.attr(r, e[r]);
                    return this
                }
                if (n = this.attributes) {
                    if (void 0 !== t) {
                        if (null === t) {
                            if (e in n.map) for (delete n.map[e], r = n.length; r--;) if (n[r].name === e) return n = n.splice(r, 1),
                            this;
                            return this
                        }
                        if (e in n.map) {
                            for (r = n.length; r--;) if (n[r].name === e) {
                                n[r].value = t;
                                break
                            }
                        } else n.push({
                            name: e,
                            value: t
                        });
                        return n.map[e] = t,
                        this
                    }
                    return n.map[e]
                }
            },
            e.prototype.clone = function() {
                var t, n, r, o, i, a = new e(this.name, this.type);
                if (r = this.attributes) {
                    for ((i = []).map = {},
                    t = 0, n = r.length; t < n; t++)"id" !== (o = r[t]).name && (i[i.length] = {
                        name: o.name,
                        value: o.value
                    },
                    i.map[o.name] = o.value);
                    a.attributes = i
                }
                return a.value = this.value,
                a.shortEnded = this.shortEnded,
                a
            },
            e.prototype.wrap = function(e) {
                return this.parent.insert(e, this),
                e.append(this),
                this
            },
            e.prototype.unwrap = function() {
                var e, t;
                for (e = this.firstChild; e;) t = e.next,
                this.insert(e, this, !0),
                e = t;
                this.remove()
            },
            e.prototype.remove = function() {
                var e = this.parent,
                t = this.next,
                n = this.prev;
                return e && (e.firstChild === this ? (e.firstChild = t, t && (t.prev = null)) : n.next = t, e.lastChild === this ? (e.lastChild = n, n && (n.next = null)) : t.prev = n, this.parent = this.next = this.prev = null),
                this
            },
            e.prototype.append = function(e) {
                var t;
                return e.parent && e.remove(),
                (t = this.lastChild) ? (t.next = e, e.prev = t, this.lastChild = e) : this.lastChild = this.firstChild = e,
                e.parent = this,
                e
            },
            e.prototype.insert = function(e, t, n) {
                var r;
                return e.parent && e.remove(),
                r = t.parent || this,
                n ? (t === r.firstChild ? r.firstChild = e: t.prev.next = e, e.prev = t.prev, e.next = t, t.prev = e) : (t === r.lastChild ? r.lastChild = e: t.next.prev = e, e.next = t.next, e.prev = t, t.next = e),
                e.parent = r,
                e
            },
            e.prototype.getAll = function(e) {
                var t, n = [];
                for (t = this.firstChild; t; t = Cb(t, this)) t.name === e && n.push(t);
                return n
            },
            e.prototype.empty = function() {
                var e, t, n;
                if (this.firstChild) {
                    for (e = [], n = this.firstChild; n; n = Cb(n, this)) e.push(n);
                    for (t = e.length; t--;)(n = e[t]).parent = n.firstChild = n.lastChild = n.next = n.prev = null
                }
                return this.firstChild = this.lastChild = null,
                this
            },
            e.prototype.isEmpty = function(e, t, n) {
                var r, o, i = this.firstChild;
                if (t = t || {},
                i) do {
                    if (1 === i.type) {
                        if (i.attributes.map["data-mce-bogus"]) continue;
                        if (e[i.name]) return ! 1;
                        for (r = i.attributes.length; r--;) if ("name" === (o = i.attributes[r].name) || 0 === o.indexOf("data-mce-bookmark")) return ! 1
                    }
                    if (8 === i.type) return ! 1;
                    if (3 === i.type && !wb.test(i.value)) return ! 1;
                    if (3 === i.type && i.parent && t[i.parent.name] && wb.test(i.value)) return ! 1;
                    if (n && n(i)) return ! 1
                } while ( i = Cb ( i , this ));
                return ! 0
            },
            e.prototype.walk = function(e) {
                return Cb(this, null, e)
            },
            e
        } (), kb = function(e, t, n, r) { (e.padd_empty_with_br || t.insert) && n[r.name] ? r.empty().append(new _b("br", 1)).shortEnded = !0 : r.empty().append(new _b("#text", 3)).value = " "
        },
        Eb = function(e) {
            return Tb(e, "#text") && " " === e.firstChild.value
        },
        Tb = function(e, t) {
            return e && e.firstChild && e.firstChild === e.lastChild && e.firstChild.name === t
        },
        Sb = function(e, t, n, r) {
            return r.isEmpty(t, n,
            function(t) {
                return function(e, t) {
                    var n = e.getElementRule(t.name);
                    return n && n.paddEmpty
                } (e, t)
            })
        },
        Nb = function(e, t) {
            return e && (t[e.name] || "br" === e.name)
        },
        Rb = function(e, t) {
            var n = e.schema;
            t.remove_trailing_brs && e.addNodeFilter("br",
            function(e, r, o) {
                var i, a, s, l, u, c, d, f, m = e.length,
                p = Kt.extend({},
                n.getBlockElements()),
                h = n.getNonEmptyElements(),
                g = n.getNonEmptyElements();
                for (p.body = 1, i = 0; i < m; i++) if (s = (a = e[i]).parent, p[a.parent.name] && a === s.lastChild) {
                    for (u = a.prev; u;) {
                        if ("span" !== (c = u.name) || "bookmark" !== u.attr("data-mce-type")) {
                            if ("br" !== c) break;
                            if ("br" === c) {
                                a = null;
                                break
                            }
                        }
                        u = u.prev
                    }
                    a && (a.remove(), Sb(n, h, g, s) && (d = n.getElementRule(s.name)) && (d.removeEmpty ? s.remove() : d.paddEmpty && kb(t, o, p, s)))
                } else {
                    for (l = a; s && s.firstChild === l && s.lastChild === l && (l = s, !p[s.name]);) s = s.parent;
                    l === s && !0 !== t.padd_empty_with_br && ((f = new _b("#text", 3)).value = " ", a.replace(f))
                }
            }),
            e.addAttributeFilter("href",
            function(e) {
                var n, r, o, i = e.length;
                if (!t.allow_unsafe_link_target) for (; i--;)"a" === (n = e[i]).name && "_blank" === n.attr("target") && n.attr("rel", (r = n.attr("rel"), o = void 0, o = r ? Kt.trim(r) : "", /\b(noopener)\b/g.test(o) ? o: function(e) {
                    return e.split(" ").filter(function(e) {
                        return e.length > 0
                    }).concat(["noopener"]).sort().join(" ")
                } (o)))
            }),
            t.allow_html_in_named_anchor || e.addAttributeFilter("id,name",
            function(e) {
                for (var t, n, r, o, i = e.length; i--;) if ("a" === (o = e[i]).name && o.firstChild && !o.attr("href")) {
                    r = o.parent,
                    t = o.lastChild;
                    do {
                        n = t.prev, r.insert(t, o), t = n
                    } while ( t )
                }
            }),
            t.fix_list_elements && e.addNodeFilter("ul,ol",
            function(e) {
                for (var t, n, r = e.length; r--;) if ("ul" === (n = (t = e[r]).parent).name || "ol" === n.name) if (t.prev && "li" === t.prev.name) t.prev.append(t);
                else {
                    var o = new _b("li", 1);
                    o.attr("style", "list-style-type: none"),
                    t.wrap(o)
                }
            }),
            t.validate && n.getValidClasses() && e.addAttributeFilter("class",
            function(e) {
                for (var t, r, o, i, a, s, l, u = e.length,
                c = n.getValidClasses(); u--;) {
                    for (r = (t = e[u]).attr("class").split(" "), a = "", o = 0; o < r.length; o++) i = r[o],
                    l = !1,
                    (s = c["*"]) && s[i] && (l = !0),
                    s = c[t.name],
                    !l && s && s[i] && (l = !0),
                    l && (a && (a += " "), a += i);
                    a.length || (a = null),
                    t.attr("class", a)
                }
            })
        },
        Ab = Kt.makeMap, Ob = Kt.each, Db = Kt.explode, Pb = Kt.extend;
        function Bb(e, t) {
            void 0 === t && (t = Go());
            var n = {},
            r = [],
            o = {},
            i = {}; (e = e || {}).validate = !("validate" in e) || e.validate,
            e.root_name = e.root_name || "body";
            var a = function(e) {
                var t, a, s;
                a in n && ((s = o[a]) ? s.push(e) : o[a] = [e]),
                t = r.length;
                for (; t--;)(a = r[t].name) in e.attributes.map && ((s = i[a]) ? s.push(e) : i[a] = [e]);
                return e
            },
            s = {
                schema: t,
                addAttributeFilter: function(e, t) {
                    Ob(Db(e),
                    function(e) {
                        var n;
                        for (n = 0; n < r.length; n++) if (r[n].name === e) return void r[n].callbacks.push(t);
                        r.push({
                            name: e,
                            callbacks: [t]
                        })
                    })
                },
                getAttributeFilters: function() {
                    return [].concat(r)
                },
                addNodeFilter: function(e, t) {
                    Ob(Db(e),
                    function(e) {
                        var r = n[e];
                        r || (n[e] = r = []),
                        r.push(t)
                    })
                },
                getNodeFilters: function() {
                    var e = [];
                    for (var t in n) n.hasOwnProperty(t) && e.push({
                        name: t,
                        callbacks: n[t]
                    });
                    return e
                },
                filterNode: a,
                parse: function(s, l) {
                    var u, c, d, f, m, p, h, g, v, b, y, w = [];
                    l = l || {},
                    o = {},
                    i = {},
                    v = Pb(Ab("script,style,head,html,body,title,meta,param"), t.getBlockElements());
                    var x = t.getNonEmptyElements(),
                    C = t.children,
                    _ = e.validate,
                    k = "forced_root_block" in l ? l.forced_root_block: e.forced_root_block,
                    E = t.getWhiteSpaceElements(),
                    T = /^[ \t\r\n]+/,
                    S = /[ \t\r\n]+$/,
                    N = /[ \t\r\n]+/g,
                    R = /^[ \t\r\n]+$/;
                    b = E.hasOwnProperty(l.context) || E.hasOwnProperty(e.root_name);
                    var A = function(e, t) {
                        var r, i = new _b(e, t);
                        return e in n && ((r = o[e]) ? r.push(i) : o[e] = [i]),
                        i
                    },
                    O = function(e) {
                        var n, r, o, i, a = t.getBlockElements();
                        for (n = e.prev; n && 3 === n.type;) {
                            if ((o = n.value.replace(S, "")).length > 0) return void(n.value = o);
                            if (r = n.next) {
                                if (3 === r.type && r.value.length) {
                                    n = n.prev;
                                    continue
                                }
                                if (!a[r.name] && "script" !== r.name && "style" !== r.name) {
                                    n = n.prev;
                                    continue
                                }
                            }
                            i = n.prev,
                            n.remove(),
                            n = i
                        }
                    };
                    u = Wg({
                        validate: _,
                        allow_script_urls: e.allow_script_urls,
                        allow_conditional_comments: e.allow_conditional_comments,
                        self_closing_elements: function(e) {
                            var t, n = {};
                            for (t in e)"li" !== t && "p" !== t && (n[t] = e[t]);
                            return n
                        } (t.getSelfClosingElements()),
                        cdata: function(e) {
                            y.append(A("#cdata", 4)).value = e
                        },
                        text: function(e, t) {
                            var n;
                            b || (e = e.replace(N, " "), Nb(y.lastChild, v) && (e = e.replace(T, ""))),
                            0 !== e.length && ((n = A("#text", 3)).raw = !!t, y.append(n).value = e)
                        },
                        comment: function(e) {
                            y.append(A("#comment", 8)).value = e
                        },
                        pi: function(e, t) {
                            y.append(A(e, 7)).value = t,
                            O(y)
                        },
                        doctype: function(e) {
                            y.append(A("#doctype", 10)).value = e,
                            O(y)
                        },
                        start: function(e, n, o) {
                            var a, s, l, u, c;
                            if (l = _ ? t.getElementRule(e) : {}) {
                                for ((a = A(l.outputName || e, 1)).attributes = n, a.shortEnded = o, y.append(a), (c = C[y.name]) && C[a.name] && !c[a.name] && w.push(a), s = r.length; s--;)(u = r[s].name) in n.map && ((h = i[u]) ? h.push(a) : i[u] = [a]);
                                v[e] && O(a),
                                o || (y = a),
                                !b && E[e] && (b = !0)
                            }
                        },
                        end: function(n) {
                            var r, o, i, a, s;
                            if (o = _ ? t.getElementRule(n) : {}) {
                                if (v[n] && !b) {
                                    if ((r = y.firstChild) && 3 === r.type) if ((i = r.value.replace(T, "")).length > 0) r.value = i,
                                    r = r.next;
                                    else for (a = r.next, r.remove(), r = a; r && 3 === r.type;) i = r.value,
                                    a = r.next,
                                    (0 === i.length || R.test(i)) && (r.remove(), r = a),
                                    r = a;
                                    if ((r = y.lastChild) && 3 === r.type) if ((i = r.value.replace(S, "")).length > 0) r.value = i,
                                    r = r.prev;
                                    else for (a = r.prev, r.remove(), r = a; r && 3 === r.type;) i = r.value,
                                    a = r.prev,
                                    (0 === i.length || R.test(i)) && (r.remove(), r = a),
                                    r = a
                                }
                                if (b && E[n] && (b = !1), o.removeEmpty && Sb(t, x, E, y) && !y.attributes.map.name && !y.attr("id")) return s = y.parent,
                                v[y.name] ? y.empty().remove() : y.unwrap(),
                                void(y = s);
                                o.paddEmpty && (Eb(y) || Sb(t, x, E, y)) && kb(e, l, v, y),
                                y = y.parent
                            }
                        }
                    },
                    t);
                    var D = y = new _b(l.context || e.root_name, 11);
                    if (u.parse(s), _ && w.length && (l.context ? l.invalid = !0 : function(e) {
                        var n, r, o, i, s, l, u, c, d, f, m, p, h, g, v, b;
                        for (p = Ab("tr,td,th,tbody,thead,tfoot,table"), f = t.getNonEmptyElements(), m = t.getWhiteSpaceElements(), h = t.getTextBlockElements(), g = t.getSpecialElements(), n = 0; n < e.length; n++) if ((r = e[n]).parent && !r.fixed) if (h[r.name] && "li" === r.parent.name) {
                            for (v = r.next; v && h[v.name];) v.name = "li",
                            v.fixed = !0,
                            r.parent.insert(v, r.parent),
                            v = v.next;
                            r.unwrap(r)
                        } else {
                            for (i = [r], o = r.parent; o && !t.isValidChild(o.name, r.name) && !p[o.name]; o = o.parent) i.push(o);
                            if (o && i.length > 1) {
                                for (i.reverse(), s = l = a(i[0].clone()), d = 0; d < i.length - 1; d++) {
                                    for (t.isValidChild(l.name, i[d].name) ? (u = a(i[d].clone()), l.append(u)) : u = l, c = i[d].firstChild; c && c !== i[d + 1];) b = c.next,
                                    u.append(c),
                                    c = b;
                                    l = u
                                }
                                Sb(t, f, m, s) ? o.insert(r, i[0], !0) : (o.insert(s, i[0], !0), o.insert(r, s)),
                                o = i[0],
                                (Sb(t, f, m, o) || Tb(o, "br")) && o.empty().remove()
                            } else if (r.parent) {
                                if ("li" === r.name) {
                                    if ((v = r.prev) && ("ul" === v.name || "ul" === v.name)) {
                                        v.append(r);
                                        continue
                                    }
                                    if ((v = r.next) && ("ul" === v.name || "ul" === v.name)) {
                                        v.insert(r, v.firstChild, !0);
                                        continue
                                    }
                                    r.wrap(a(new _b("ul", 1)));
                                    continue
                                }
                                t.isValidChild(r.parent.name, "div") && t.isValidChild("div", r.name) ? r.wrap(a(new _b("div", 1))) : g[r.name] ? r.empty().remove() : r.unwrap()
                            }
                        }
                    } (w)), k && ("body" === D.name || l.isRootContent) &&
                    function() {
                        var n, r, o = D.firstChild,
                        i = function(e) {
                            e && ((o = e.firstChild) && 3 === o.type && (o.value = o.value.replace(T, "")), (o = e.lastChild) && 3 === o.type && (o.value = o.value.replace(S, "")))
                        };
                        if (t.isValidChild(D.name, k.toLowerCase())) {
                            for (; o;) n = o.next,
                            3 === o.type || 1 === o.type && "p" !== o.name && !v[o.name] && !o.attr("data-mce-type") ? r ? r.append(o) : ((r = A(k, 1)).attr(e.forced_root_block_attrs), D.insert(r, o), r.append(o)) : (i(r), r = null),
                            o = n;
                            i(r)
                        }
                    } (), !l.invalid) {
                        for (g in o) {
                            for (h = n[g], m = (c = o[g]).length; m--;) c[m].parent || c.splice(m, 1);
                            for (d = 0, f = h.length; d < f; d++) h[d](c, g, l)
                        }
                        for (d = 0, f = r.length; d < f; d++) if ((h = r[d]).name in i) {
                            for (m = (c = i[h.name]).length; m--;) c[m].parent || c.splice(m, 1);
                            for (m = 0, p = h.callbacks.length; m < p; m++) h.callbacks[m](c, h.name, l)
                        }
                    }
                    return D
                }
            };
            return Rb(s, e),
            yb.register(s, e),
            s
        }
        var Mb = function(e, t, n) { - 1 === Kt.inArray(t, n) && (e.addAttributeFilter(n,
            function(e, t) {
                for (var n = e.length; n--;) e[n].attr(t, null)
            }), t.push(n))
        },
        Ib = function(e, t, n) {
            var r = ya(n.getInner ? t.innerHTML: e.getOuterHTML(t));
            return n.selection || po(qn.fromDom(t)) ? r: Kt.trim(r)
        },
        Lb = function(e, t, n) {
            var r = n.selection ? pb({
                forced_root_block: !1
            },
            n) : n,
            o = e.parse(t, r);
            return hb.trimTrailingBr(o),
            o
        },
        Fb = function(e, t, n, r, o) {
            return function(e, t, n) {
                return ! t.no_events && e ? Mp(e, pb(t, {
                    content: n
                })).content: n
            } (e, o,
            function(e, t, n) {
                return Bc(e, t).serialize(n)
            } (t, n, r))
        };
        function Wb(e, t) {
            var n = function(e, t) {
                var n, r, o, i = ["data-mce-selected"];
                return n = t && t.dom ? t.dom: li.DOM,
                r = t && t.schema ? t.schema: Go(e),
                e.entity_encoding = e.entity_encoding || "named",
                e.remove_trailing_brs = !("remove_trailing_brs" in e) || e.remove_trailing_brs,
                o = Bb(e, r),
                hb.register(o, e, n),
                {
                    schema: r,
                    addNodeFilter: o.addNodeFilter,
                    addAttributeFilter: o.addAttributeFilter,
                    serialize: function(i, a) {
                        var s = pb({
                            format: "html"
                        },
                        a || {}),
                        l = gb.process(t, i, s),
                        u = Ib(n, l, s),
                        c = Lb(o, u, s);
                        return "tree" === s.format ? c: Fb(t, e, r, c, s)
                    },
                    addRules: function(e) {
                        r.addValidElements(e)
                    },
                    setRules: function(e) {
                        r.setValidElements(e)
                    },
                    addTempAttr: b(Mb, o, i),
                    getTempAttrs: function() {
                        return i
                    }
                }
            } (e, t);
            return {
                schema: n.schema,
                addNodeFilter: n.addNodeFilter,
                addAttributeFilter: n.addAttributeFilter,
                serialize: n.serialize,
                addRules: n.addRules,
                setRules: n.setRules,
                addTempAttr: n.addTempAttr,
                getTempAttrs: n.getTempAttrs
            }
        }
        function Hb(e) {
            return {
                getBookmark: b($u.getBookmark, e),
                moveToBookmark: b($u.moveToBookmark, e)
            }
        } !
        function(e) {
            e.isBookmarkNode = $u.isBookmarkNode
        } (Hb || (Hb = {}));
        var jb = Hb,
        Ub = Eo.isContentEditableFalse,
        zb = Eo.isContentEditableTrue,
        Vb = function(e, t) {
            var n, r, o, i, a, s, l, u, c, d, f, m, p, h, g, v, b, y = t.dom,
            w = Kt.each,
            x = t.getDoc(),
            C = document,
            _ = Math.abs,
            k = Math.round,
            E = t.getBody();
            i = {
                nw: [0, 0, -1, -1],
                ne: [1, 0, 1, -1],
                se: [1, 1, 1, 1],
                sw: [0, 1, -1, 1]
            };
            var T = ".mce-content-body";
            t.contentStyles.push(T + " div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}" + T + " .mce-resizehandle:hover {background: #000}" + T + " img[data-mce-selected]," + T + " hr[data-mce-selected] {outline: 1px solid black;resize: none}" + T + " .mce-clonedresizable {position: absolute;" + (Se.gecko ? "": "outline: 1px dashed black;") + "opacity: .5;filter: alpha(opacity=50);z-index: 10000}" + T + " .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");
            var S = function(e) {
                return e && ("IMG" === e.nodeName || t.dom.is(e, "figure.image"))
            },
            N = function(e) {
                var n = e.target; (function(e, t) {
                    return S(e.target) && !Eg(e.clientX, e.clientY, t)
                })(e, t.selection.getRng()) && !e.isDefaultPrevented() && (e.preventDefault(), t.selection.select(n))
            },
            R = function(e) {
                return t.dom.is(e, "figure.image") ? e.querySelector("img") : e
            },
            A = function(e) {
                var n = t.settings.object_resizing;
                return ! 1 !== n && !Se.iOS && ("string" != typeof n && (n = "table,img,figure.image,div"), "false" !== e.getAttribute("data-mce-resize") && e !== t.getBody() && Nr.is(qn.fromDom(e), n))
            },
            O = function(e) {
                var i, w, x, C;
                i = e.screenX - s,
                w = e.screenY - l,
                h = i * a[2] + d,
                g = w * a[3] + f,
                h = h < 5 ? 5 : h,
                g = g < 5 ? 5 : g,
                (S(n) && !1 !== t.settings.resize_img_proportional ? !Sg.modifierPressed(e) : Sg.modifierPressed(e) || S(n) && a[2] * a[3] != 0) && (_(i) > _(w) ? (g = k(h * m), h = k(g / m)) : (h = k(g / m), g = k(h * m))),
                y.setStyles(R(r), {
                    width: h,
                    height: g
                }),
                x = (x = a.startPos.x + i) > 0 ? x: 0,
                C = (C = a.startPos.y + w) > 0 ? C: 0,
                y.setStyles(o, {
                    left: x,
                    top: C,
                    display: "block"
                }),
                o.innerHTML = h + " &times; " + g,
                a[2] < 0 && r.clientWidth <= h && y.setStyle(r, "left", u + (d - h)),
                a[3] < 0 && r.clientHeight <= g && y.setStyle(r, "top", c + (f - g)),
                (i = E.scrollWidth - v) + (w = E.scrollHeight - b) != 0 && y.setStyles(o, {
                    left: x - i,
                    top: C - w
                }),
                p || (Fp(t, n, d, f), p = !0)
            },
            D = function() {
                p = !1;
                var e = function(e, r) {
                    r && (n.style[e] || !t.schema.isValid(n.nodeName.toLowerCase(), e) ? y.setStyle(R(n), e, r) : y.setAttrib(R(n), e, r))
                };
                e("width", h),
                e("height", g),
                y.unbind(x, "mousemove", O),
                y.unbind(x, "mouseup", D),
                C !== x && (y.unbind(C, "mousemove", O), y.unbind(C, "mouseup", D)),
                y.remove(r),
                y.remove(o),
                P(n),
                Wp(t, n, h, g),
                y.setAttrib(n, "style", y.getAttrib(n, "style")),
                t.nodeChanged()
            },
            P = function(e) {
                var p, _, k, T, S;
                B(),
                L(),
                p = y.getPos(e, E),
                u = p.x,
                c = p.y,
                S = e.getBoundingClientRect(),
                _ = S.width || S.right - S.left,
                k = S.height || S.bottom - S.top,
                n !== e && (n = e, h = g = 0),
                T = t.fire("ObjectSelected", {
                    target: e
                }),
                A(e) && !T.isDefaultPrevented() ? w(i,
                function(e, t) {
                    var i; (i = y.get("mceResizeHandle" + t)) && y.remove(i),
                    i = y.add(E, "div", {
                        id: "mceResizeHandle" + t,
                        "data-mce-bogus": "all",
                        class: "mce-resizehandle",
                        unselectable: !0,
                        style: "cursor:" + t + "-resize; margin:0; padding:0"
                    }),
                    11 === Se.ie && (i.contentEditable = !1),
                    y.bind(i, "mousedown",
                    function(t) {
                        t.stopImmediatePropagation(),
                        t.preventDefault(),
                        function(t) {
                            s = t.screenX,
                            l = t.screenY,
                            d = R(n).clientWidth,
                            f = R(n).clientHeight,
                            m = f / d,
                            a = e,
                            e.startPos = {
                                x: _ * e[0] + u,
                                y: k * e[1] + c
                            },
                            v = E.scrollWidth,
                            b = E.scrollHeight,
                            r = n.cloneNode(!0),
                            y.addClass(r, "mce-clonedresizable"),
                            y.setAttrib(r, "data-mce-bogus", "all"),
                            r.contentEditable = !1,
                            r.unSelectabe = !0,
                            y.setStyles(r, {
                                left: u,
                                top: c,
                                margin: 0
                            }),
                            r.removeAttribute("data-mce-selected"),
                            E.appendChild(r),
                            y.bind(x, "mousemove", O),
                            y.bind(x, "mouseup", D),
                            C !== x && (y.bind(C, "mousemove", O), y.bind(C, "mouseup", D)),
                            o = y.add(E, "div", {
                                class: "mce-resize-helper",
                                "data-mce-bogus": "all"
                            },
                            d + " &times; " + f)
                        } (t)
                    }),
                    e.elm = i,
                    y.setStyles(i, {
                        left: _ * e[0] + u - i.offsetWidth / 2,
                        top: k * e[1] + c - i.offsetHeight / 2
                    })
                }) : B(),
                n.setAttribute("data-mce-selected", "1")
            },
            B = function() {
                var e, t;
                for (e in L(), n && n.removeAttribute("data-mce-selected"), i)(t = y.get("mceResizeHandle" + e)) && (y.unbind(t), y.remove(t))
            },
            M = function(n) {
                var r, o = function(e, t) {
                    if (e) do {
                        if (e === t) return ! 0
                    } while ( e = e . parentNode )
                };
                p || t.removed || (w(y.select("img[data-mce-selected],hr[data-mce-selected]"),
                function(e) {
                    e.removeAttribute("data-mce-selected")
                }), r = "mousedown" === n.type ? n.target: e.getNode(), o(r = y.$(r).closest("table,img,figure.image,hr")[0], E) && (F(), o(e.getStart(!0), r) && o(e.getEnd(!0), r)) ? P(r) : B())
            },
            I = function(e) {
                return Ub(function(e, t) {
                    for (; t && t !== e;) {
                        if (zb(t) || Ub(t)) return t;
                        t = t.parentNode
                    }
                    return null
                } (t.getBody(), e))
            },
            L = function() {
                for (var e in i) {
                    var t = i[e];
                    t.elm && (y.unbind(t.elm), delete t.elm)
                }
            },
            F = function() {
                try {
                    t.getDoc().execCommand("enableObjectResizing", !1, !1)
                } catch(e) {}
            };
            return t.on("init",
            function() {
                F(),
                Se.ie && Se.ie >= 11 && (t.on("mousedown click",
                function(e) {
                    var n = e.target,
                    r = n.nodeName;
                    p || !/^(TABLE|IMG|HR)$/.test(r) || I(n) || (2 !== e.button && t.selection.select(n, "TABLE" === r), "mousedown" === e.type && t.nodeChanged())
                }), t.dom.bind(E, "mscontrolselect",
                function(e) {
                    var n = function(e) {
                        De.setEditorTimeout(t,
                        function() {
                            t.selection.select(e)
                        })
                    };
                    if (I(e.target)) return e.preventDefault(),
                    void n(e.target);
                    /^(TABLE|IMG|HR)$/.test(e.target.nodeName) && (e.preventDefault(), "IMG" === e.target.tagName && n(e.target))
                }));
                var e = De.throttle(function(e) {
                    t.composing || M(e)
                });
                t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged", e),
                t.on("keyup compositionend",
                function(t) {
                    n && "TABLE" === n.nodeName && e(t)
                }),
                t.on("hide blur", B),
                t.on("contextmenu", N)
            }),
            t.on("remove", L),
            {
                isResizable: A,
                showResizeRect: P,
                hideResizeRect: B,
                updateResizeRect: M,
                destroy: function() {
                    n = r = null
                }
            }
        },
        $b = function(e) {
            return Eo.isContentEditableTrue(e) || Eo.isContentEditableFalse(e)
        },
        qb = {
            fromPoint: function(e, t, n) {
                var r, o, i = n;
                if (i.caretPositionFromPoint)(o = i.caretPositionFromPoint(e, t)) && ((r = n.createRange()).setStart(o.offsetNode, o.offset), r.collapse(!0));
                else if (n.caretRangeFromPoint) r = n.caretRangeFromPoint(e, t);
                else if (i.body.createTextRange) {
                    r = i.body.createTextRange();
                    try {
                        r.moveToPoint(e, t),
                        r.collapse(!0)
                    } catch(o) {
                        r = function(e, t, n) {
                            var r, o, i;
                            if (r = n.elementFromPoint(e, t), o = n.body.createTextRange(), r && "HTML" !== r.tagName || (r = n.body), o.moveToElementText(r), (i = (i = Kt.toArray(o.getClientRects())).sort(function(e, n) {
                                return (e = Math.abs(Math.max(e.top - t, e.bottom - t))) - Math.abs(Math.max(n.top - t, n.bottom - t))
                            })).length > 0) {
                                t = (i[0].bottom + i[0].top) / 2;
                                try {
                                    return o.moveToPoint(e, t),
                                    o.collapse(!0),
                                    o
                                } catch(e) {}
                            }
                            return null
                        } (e, t, n)
                    }
                    return function(e, t) {
                        var n = e && e.parentElement ? e.parentElement() : null;
                        return Eo.isContentEditableFalse(function(e, t, n) {
                            for (; e && e !== t;) {
                                if (n(e)) return e;
                                e = e.parentNode
                            }
                            return null
                        } (n, t, $b)) ? null: e
                    } (r, n.body)
                }
                return r
            }
        },
        Kb = function(e, t) {
            return F(t,
            function(t) {
                var n = e.fire("GetSelectionRange", {
                    range: t
                });
                return n.range !== t ? n.range: t
            })
        },
        Yb = function(e, t) {
            var n = (t || document).createDocumentFragment();
            return W(e,
            function(e) {
                n.appendChild(e.dom())
            }),
            qn.fromDom(n)
        },
        Xb = wr("element", "width", "rows"), Gb = wr("element", "cells"), Jb = wr("x", "y"), Qb = function(e, t) {
            var n = parseInt(ur.get(e, t), 10);
            return isNaN(n) ? 1 : n
        },
        Zb = function(e, t, n) {
            var r = e.rows();
            return !! (r[n] ? r[n].cells() : [])[t]
        },
        ey = function(e) {
            return U(e,
            function(e, t) {
                return t.cells().length > e ? t.cells().length: e
            },
            0)
        },
        ty = function(e, t) {
            for (var n = e.rows(), r = 0; r < n.length; r++) for (var o = n[r].cells(), i = 0; i < o.length; i++) if (Or.eq(o[i], t)) return T.some(Jb(i, r));
            return T.none()
        },
        ny = function(e, t, n, r, o) {
            for (var i = [], a = e.rows(), s = n; s <= o; s++) {
                var l = a[s].cells(),
                u = t < r ? l.slice(t, r + 1) : l.slice(r, t + 1);
                i.push(Gb(a[s].element(), u))
            }
            return i
        },
        ry = function(e) {
            var t = Xb(la(e), 0, []);
            return W(Wi(e, "tr"),
            function(e, n) {
                W(Wi(e, "td,th"),
                function(r, o) { !
                    function(e, t, n, r, o) {
                        for (var i = Qb(o, "rowspan"), a = Qb(o, "colspan"), s = e.rows(), l = n; l < n + i; l++) {
                            s[l] || (s[l] = Gb(ua(r), []));
                            for (var u = t; u < t + a; u++) s[l].cells()[u] = l === n && u === t ? o: la(o)
                        }
                    } (t,
                    function(e, t, n) {
                        for (; Zb(e, t, n);) t++;
                        return t
                    } (t, o, n), n, e, r)
                })
            }),
            Xb(t.element(), ey(t.rows()), t.rows())
        },
        oy = function(e) {
            return function(e, t) {
                var n = la(e.element()),
                r = qn.fromTag("tbody");
                return wi(r, t),
                bi.append(n, r),
                n
            } (e,
            function(e) {
                return F(e.rows(),
                function(e) {
                    var t = F(e.cells(),
                    function(e) {
                        var t = ua(e);
                        return ur.remove(t, "colspan"),
                        ur.remove(t, "rowspan"),
                        t
                    }),
                    n = la(e.element());
                    return wi(n, t),
                    n
                })
            } (e))
        },
        iy = function(e, t, n) {
            return ty(e, t).bind(function(t) {
                return ty(e, n).map(function(n) {
                    return function(e, t, n) {
                        var r = t.x(),
                        o = t.y(),
                        i = n.x(),
                        a = n.y(),
                        s = o < a ? ny(e, r, o, i, a) : ny(e, r, a, i, o);
                        return Xb(e.element(), ey(s), s)
                    } (e, t, n)
                })
            })
        },
        ay = function(e, t) {
            return z(e,
            function(e) {
                return "li" === er.name(e) &&
                function(e, t) {
                    return ns([Kh(t), Yh(t)],
                    function(t, n) {
                        var r = z(Xh(e), b(Or.eq, t)),
                        o = z(Gh(e), b(Or.eq, n));
                        return r.isSome() && o.isSome()
                    }).getOr(!1)
                } (e, t)
            }).fold(g([]),
            function(t) {
                return function(e) {
                    return z(e,
                    function(e) {
                        return "ul" === er.name(e) || "ol" === er.name(e)
                    })
                } (e).map(function(e) {
                    return [qn.fromTag("li"), qn.fromTag(er.name(e))]
                }).getOr([])
            })
        },
        sy = function(e, t) {
            var n = qn.fromDom(t.commonAncestorContainer),
            r = kd(n, e),
            o = j(r,
            function(e) {
                return io(e) || ro(e)
            }),
            i = ay(r, t),
            a = o.concat(i.length ? i: function(e) {
                return uo(e) ? Fr.parent(e).filter(lo).fold(g([]),
                function(t) {
                    return [e, t]
                }) : lo(e) ? [e] : []
            } (n));
            return F(a, la)
        },
        ly = function() {
            return Yb([])
        },
        uy = function(e, t) {
            return n = qn.fromDom(t.cloneContents()),
            r = sy(e, t),
            o = U(r,
            function(e, t) {
                return bi.append(t, e),
                t
            },
            n),
            r.length > 0 ? Yb([o]) : o;
            var n, r, o
        }, cy = function(e, t) {
            return (n = e, r = t[0], qi(r, "table", b(Or.eq, n))).bind(function(e) {
                var n = t[0],
                r = t[t.length - 1],
                o = ry(e);
                return iy(o, n, r).map(function(e) {
                    return Yb([oy(e)])
                })
            }).getOrThunk(ly);
            var n, r
        }, dy = function(e, t) {
            var n = gm(t, e);
            return n.length > 0 ? cy(e, n) : function(e, t) {
                return t.length > 0 && t[0].collapsed ? ly() : uy(e, t[0])
            } (e, t)
        },
        fy = function(e, t) {
            var n, r = e.selection.getRng(),
            o = e.dom.create("body"),
            i = e.selection.getSel(),
            a = Kb(e, cm(i));
            if ((t = t || {}).get = !0, t.format = t.format || "html", t.selection = !0, (t = e.fire("BeforeGetContent", t)).isDefaultPrevented()) return e.fire("GetContent", t),
            t.content;
            if ("text" === t.format) return e.selection.isCollapsed() ? "": ya(r.text || (i.toString ? i.toString() : ""));
            r.cloneContents ? (n = t.contextual ? dy(qn.fromDom(e.getBody()), a).dom() : r.cloneContents()) && o.appendChild(n) : void 0 !== r.item || void 0 !== r.htmlText ? (o.innerHTML = "<br>" + (r.item ? r.item(0).outerHTML: r.htmlText), o.removeChild(o.firstChild)) : o.innerHTML = r.toString(),
            t.getInner = !0;
            var s = e.selection.serializer.serialize(o, t);
            return "tree" === t.format ? s: (t.content = e.selection.isCollapsed() ? "": s, e.fire("GetContent", t), t.content)
        },
        my = function(e, t, n) {
            var r, o, i, a = e.selection.getRng(),
            s = e.getDoc();
            if ((n = n || {
                format: "html"
            }).set = !0, n.selection = !0, n.content = t, n.no_events || !(n = e.fire("BeforeSetContent", n)).isDefaultPrevented()) {
                if (t = n.content, a.insertNode) {
                    t += '<span id="__caret">_</span>',
                    a.startContainer === s && a.endContainer === s ? s.body.innerHTML = t: (a.deleteContents(), 0 === s.body.childNodes.length ? s.body.innerHTML = t: a.createContextualFragment ? a.insertNode(a.createContextualFragment(t)) : (o = s.createDocumentFragment(), i = s.createElement("div"), o.appendChild(i), i.outerHTML = t, a.insertNode(o))),
                    r = e.dom.get("__caret"),
                    (a = s.createRange()).setStartBefore(r),
                    a.setEndBefore(r),
                    e.selection.setRng(a),
                    e.dom.remove("__caret");
                    try {
                        e.selection.setRng(a)
                    } catch(e) {}
                } else a.item && (s.execCommand("Delete", !1, null), a = e.getRng()),
                /^\s+/.test(t) ? (a.pasteHTML('<span id="__mce_tmp">_</span>' + t), e.dom.remove("__mce_tmp")) : a.pasteHTML(t);
                n.no_events || e.fire("SetContent", n)
            } else e.fire("SetContent", n)
        },
        py = function(e, t, n, r, o) {
            var i = n ? t.startContainer: t.endContainer,
            a = n ? t.startOffset: t.endOffset;
            return T.from(i).map(qn.fromDom).map(function(e) {
                return r && t.collapsed ? e: Fr.child(e, o(e, a)).getOr(e)
            }).bind(function(e) {
                return er.isElement(e) ? T.some(e) : Fr.parent(e)
            }).map(function(e) {
                return e.dom()
            }).getOr(e)
        },
        hy = function(e, t, n) {
            return py(e, t, !0, n,
            function(e, t) {
                return Math.min(Fr.childNodesCount(e), t)
            })
        },
        gy = function(e, t, n) {
            return py(e, t, !1, n,
            function(e, t) {
                return t > 0 ? t - 1 : t
            })
        },
        vy = function(e, t) {
            for (var n = e; e && Eo.isText(e) && 0 === e.length;) e = t ? e.nextSibling: e.previousSibling;
            return e || n
        },
        by = Kt.each, yy = function(e) {
            return !! e.select
        },
        wy = function(e) {
            return ! (!e || !e.ownerDocument) && Or.contains(qn.fromDom(e.ownerDocument), qn.fromDom(e))
        },
        xy = function(e, t, n, r) {
            var o, i, a, s, l, u = function(e, t) {
                return my(r, e, t)
            },
            c = function(e) {
                var t = f();
                t.collapse( !! e),
                m(t)
            },
            d = function() {
                return t.getSelection ? t.getSelection() : t.document.selection
            },
            f = function() {
                var n, o, i, l, u = function(e, t, n) {
                    try {
                        return t.compareBoundaryPoints(e, n)
                    } catch(e) {
                        return - 1
                    }
                };
                if (!t) return null;
                if (null == (l = t.document)) return null;
                if (void 0 !== r.bookmark && !1 === ch(r)) {
                    var c = Cp.getRng(r);
                    if (c.isSome()) return c.map(function(e) {
                        return Kb(r, [e])[0]
                    }).getOr(l.createRange())
                }
                try { (n = d()) && (o = n.rangeCount > 0 ? n.getRangeAt(0) : n.createRange ? n.createRange() : l.createRange())
                } catch(e) {}
                return (o = Kb(r, [o])[0]) || (o = l.createRange ? l.createRange() : l.body.createTextRange()),
                o.setStart && 9 === o.startContainer.nodeType && o.collapsed && (i = e.getRoot(), o.setStart(i, 0), o.setEnd(i, 0)),
                a && s && (0 === u(o.START_TO_START, o, a) && 0 === u(o.END_TO_END, o, a) ? o = s: (a = null, s = null)),
                o
            },
            m = function(e, t) {
                var n, o;
                if (function(e) {
                    return !! e && ( !! yy(e) || wy(e.startContainer) && wy(e.endContainer))
                } (e)) {
                    var i = yy(e) ? e: null;
                    if (i) {
                        s = null;
                        try {
                            i.select()
                        } catch(e) {}
                    } else {
                        if (n = d(), e = r.fire("SetSelectionRange", {
                            range: e,
                            forward: t
                        }).range, n) {
                            s = e;
                            try {
                                n.removeAllRanges(),
                                n.addRange(e)
                            } catch(e) {} ! 1 === t && n.extend && (n.collapse(e.endContainer, e.endOffset), n.extend(e.startContainer, e.startOffset)),
                            a = n.rangeCount > 0 ? n.getRangeAt(0) : null
                        }
                        e.collapsed || e.startContainer !== e.endContainer || !n.setBaseAndExtent || Se.ie || e.endOffset - e.startOffset < 2 && e.startContainer.hasChildNodes() && (o = e.startContainer.childNodes[e.startOffset]) && "IMG" === o.tagName && (n.setBaseAndExtent(e.startContainer, e.startOffset, e.endContainer, e.endOffset), n.anchorNode === e.startContainer && n.focusNode === e.endContainer || n.setBaseAndExtent(o, 0, o, 1)),
                        r.fire("AfterSetSelectionRange", {
                            range: e,
                            forward: t
                        })
                    }
                }
            },
            p = function() {
                var t, n, r = d();
                return ! (r && r.anchorNode && r.focusNode) || ((t = e.createRng()).setStart(r.anchorNode, r.anchorOffset), t.collapse(!0), (n = e.createRng()).setStart(r.focusNode, r.focusOffset), n.collapse(!0), t.compareBoundaryPoints(t.START_TO_START, n) <= 0)
            },
            h = {
                bookmarkManager: null,
                controlSelection: null,
                dom: e,
                win: t,
                serializer: n,
                editor: r,
                collapse: c,
                setCursorLocation: function(t, n) {
                    var o = e.createRng();
                    t ? (o.setStart(t, n), o.setEnd(t, n), m(o), c(!1)) : (Jh(e, o, r.getBody(), !0), m(o))
                },
                getContent: function(e) {
                    return fy(r, e)
                },
                setContent: u,
                getBookmark: function(e, t) {
                    return o.getBookmark(e, t)
                },
                moveToBookmark: function(e) {
                    return o.moveToBookmark(e)
                },
                select: function(t, n) {
                    return function(e, t, n) {
                        return T.from(t).map(function(t) {
                            var r = e.nodeIndex(t),
                            o = e.createRng();
                            return o.setStart(t.parentNode, r),
                            o.setEnd(t.parentNode, r + 1),
                            n && (Jh(e, o, t, !0), Jh(e, o, t, !1)),
                            o
                        })
                    } (e, t, n).each(m),
                    t
                },
                isCollapsed: function() {
                    var e = f(),
                    t = d();
                    return ! (!e || e.item) && (e.compareEndPoints ? 0 === e.compareEndPoints("StartToEnd", e) : !t || e.collapsed)
                },
                isForward: p,
                setNode: function(t) {
                    return u(e.getOuterHTML(t)),
                    t
                },
                getNode: function() {
                    return e = r.getBody(),
                    (t = f()) ? (o = t.startContainer, i = t.endContainer, a = t.startOffset, s = t.endOffset, n = t.commonAncestorContainer, !t.collapsed && (o === i && s - a < 2 && o.hasChildNodes() && (n = o.childNodes[a]), 3 === o.nodeType && 3 === i.nodeType && (o = o.length === a ? vy(o.nextSibling, !0) : o.parentNode, i = 0 === s ? vy(i.previousSibling, !1) : i.parentNode, o && o === i)) ? o: n && 3 === n.nodeType ? n.parentNode: n) : e;
                    var e, t, n, o, i, a, s
                }, getSel: d,
                setRng: m,
                getRng: f,
                getStart: function(e) {
                    return hy(r.getBody(), f(), e)
                },
                getEnd: function(e) {
                    return gy(r.getBody(), f(), e)
                },
                getSelectedBlocks: function(t, n) {
                    return function(e, t, n, r) {
                        var o, i, a = [];
                        if (i = e.getRoot(), n = e.getParent(n || hy(i, t, t.collapsed), e.isBlock), r = e.getParent(r || gy(i, t, t.collapsed), e.isBlock), n && n !== i && a.push(n), n && r && n !== r) {
                            o = n;
                            for (var s = new Qr(n, i); (o = s.next()) && o !== r;) e.isBlock(o) && a.push(o)
                        }
                        return r && n !== r && r !== i && a.push(r),
                        a
                    } (e, f(), t, n)
                },
                normalize: function() {
                    var t = f(),
                    n = d();
                    if (!fm(n) && Qh(r)) {
                        var o = Ym.normalize(e, t);
                        return o.each(function(e) {
                            m(e, p())
                        }),
                        o.getOr(t)
                    }
                    return t
                },
                selectorChanged: function(t, n) {
                    var o;
                    return l || (l = {},
                    o = {},
                    r.on("NodeChange",
                    function(t) {
                        var n = t.element,
                        r = e.getParents(n, null, e.getRoot()),
                        i = {};
                        by(l,
                        function(t, n) {
                            by(r,
                            function(a) {
                                if (e.is(a, n)) return o[n] || (by(t,
                                function(e) {
                                    e(!0, {
                                        node: a,
                                        selector: n,
                                        parents: r
                                    })
                                }), o[n] = t),
                                i[n] = t,
                                !1
                            })
                        }),
                        by(o,
                        function(e, t) {
                            i[t] || (delete o[t], by(e,
                            function(e) {
                                e(!1, {
                                    node: n,
                                    selector: t,
                                    parents: r
                                })
                            }))
                        })
                    })),
                    l[t] || (l[t] = []),
                    l[t].push(n),
                    h
                },
                getScrollContainer: function() {
                    for (var t, n = e.getRoot(); n && "BODY" !== n.nodeName;) {
                        if (n.scrollHeight > n.clientHeight) {
                            t = n;
                            break
                        }
                        n = n.parentNode
                    }
                    return t
                },
                scrollIntoView: function(e, t) {
                    return Ll(r, e, t)
                },
                placeCaretAt: function(e, t) {
                    return m(qb.fromPoint(e, t, r.getDoc()))
                },
                getBoundingClientRect: function() {
                    var e = f();
                    return e.collapsed ? _s.fromRangeStart(e).getClientRects()[0] : e.getBoundingClientRect()
                },
                destroy: function() {
                    t = a = s = null,
                    i.destroy()
                }
            };
            return o = jb(h),
            i = Vb(h, r),
            h.bookmarkManager = o,
            h.controlSelection = i,
            h
        },
        Cy = Eo.isContentEditableFalse, _y = Qa, ky = Nu, Ey = Su, Ty = function(e, t) {
            for (; t = e(t);) if (t.isVisible()) return t;
            return t
        },
        Sy = function(e, t, n, r) {
            var o, i, a, s, l, u, c = e === Cs.Forwards,
            d = c ? Ey: ky;
            return ! r.collapsed && (o = _y(r), Cy(o)) ? ol(e, t, o, e === Cs.Backwards, !0) : (s = function(e) {
                return Ca(e.startContainer)
            } (r), d(i = Tu(e, t.getBody(), r)) ? il(t, i.getNode(!c)) : (i = n(i)) ? d(i) ? ol(e, t, i.getNode(!c), c, !0) : d(a = n(i)) && (!(u = hu(l = i, a)) && Eo.isBr(l.getNode()) || u) ? ol(e, t, a.getNode(!c), c, !0) : s ? sl(t, i.toRange(), !0) : null: s ? r: null)
        },
        Ny = function(e, t, n, r) {
            var o, i, a, s, l, u, c, d, f;
            if (f = _y(r), o = Tu(e, t.getBody(), r), i = n(t.getBody(), hg(1), o), a = Ut.filter(i, gg(1)), l = Ut.last(o.getClientRects()), (Ey(o) || Ru(o)) && (f = o.getNode()), (ky(o) || Au(o)) && (f = o.getNode(!0)), !l) return null;
            if (u = l.left, (s = Cg(a, u)) && Cy(s.node)) return c = Math.abs(u - s.left),
            d = Math.abs(u - s.right),
            ol(e, t, s.node, c < d, !0);
            if (f) {
                var m = function(e, t, n, r) {
                    var o, i, a, s, l, u, c = yl(t),
                    d = [],
                    f = 0,
                    m = function(e) {
                        return Ut.last(e.getClientRects())
                    };
                    1 === e ? (o = c.next, i = Xa, a = Ya, s = _s.after(r)) : (o = c.prev, i = Ya, a = Xa, s = _s.before(r)),
                    u = m(s);
                    do {
                        if (s.isVisible() && !a(l = m(s), u)) {
                            if (d.length > 0 && i(l, Ut.last(d)) && f++, (l = $a(l)).position = s, l.line = f, n(l)) return d;
                            d.push(l)
                        }
                    } while ( s = o ( s ));
                    return d
                } (e, t.getBody(), hg(1), f);
                if (s = Cg(Ut.filter(m, gg(1)), u)) return sl(t, s.position.toRange(), !0);
                if (s = Ut.last(Ut.filter(m, gg(0)))) return sl(t, s.position.toRange(), !0)
            }
        },
        Ry = function(e, t, n) {
            var r, o, i = yl(e.getBody()),
            a = ga.curry(Ty, i.next),
            s = ga.curry(Ty, i.prev);
            if (n.collapsed && e.settings.forced_root_block) {
                if (! (r = e.dom.getParent(n.startContainer, "PRE"))) return; (1 === t ? a(_s.fromRangeStart(n)) : s(_s.fromRangeStart(n))) || (o = function(e) {
                    var t = e.dom.create(e.settings.forced_root_block);
                    return (!Se.ie || Se.ie >= 11) && (t.innerHTML = '<br data-mce-bogus="1">'),
                    t
                } (e), 1 === t ? e.$(r).after(o) : e.$(r).before(o), e.selection.select(o, !0), e.selection.collapse())
            }
        },
        Ay = function(e, t) {
            return function() {
                var n = function(e, t) {
                    var n, r = yl(e.getBody()),
                    o = ga.curry(Ty, r.next),
                    i = ga.curry(Ty, r.prev),
                    a = t ? Cs.Forwards: Cs.Backwards,
                    s = t ? o: i,
                    l = e.selection.getRng();
                    return (n = Sy(a, e, s, l)) ? n: (n = Ry(e, a, l)) || null
                } (e, t);
                return !! n && (e.selection.setRng(n), !0)
            }
        },
        Oy = function(e, t) {
            return function() {
                var n = function(e, t) {
                    var n, r = t ? 1 : -1,
                    o = t ? pg: mg,
                    i = e.selection.getRng();
                    return (n = Ny(r, e, o, i)) ? n: (n = Ry(e, r, i)) || null
                } (e, t);
                return !! n && (e.selection.setRng(n), !0)
            }
        },
        Dy = function(e, t) {
            return K(function(e) {
                return F(e,
                function(e) {
                    return pb({
                        shiftKey: !1,
                        altKey: !1,
                        ctrlKey: !1,
                        metaKey: !1,
                        keyCode: 0,
                        action: p
                    },
                    e)
                })
            } (e),
            function(e) {
                return function(e, t) {
                    return t.keyCode === e.keyCode && t.shiftKey === e.shiftKey && t.altKey === e.altKey && t.ctrlKey === e.ctrlKey && t.metaKey === e.metaKey
                } (e, t) ? [e] : []
            })
        },
        Py = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            var r = Array.prototype.slice.call(arguments, 1);
            return function() {
                return e.apply(null, r)
            }
        },
        By = function(e, t) {
            return z(Dy(e, t),
            function(e) {
                return e.action()
            })
        },
        My = function(e, t) {
            e.on("keydown",
            function(n) { ! 1 === n.isDefaultPrevented() &&
                function(e, t, n) {
                    var r = Vn.detect().os;
                    By([{
                        keyCode: Sg.RIGHT,
                        action: Ay(e, !0)
                    },
                    {
                        keyCode: Sg.LEFT,
                        action: Ay(e, !1)
                    },
                    {
                        keyCode: Sg.UP,
                        action: Oy(e, !1)
                    },
                    {
                        keyCode: Sg.DOWN,
                        action: Oy(e, !0)
                    },
                    {
                        keyCode: Sg.RIGHT,
                        action: Jl(e, !0)
                    },
                    {
                        keyCode: Sg.LEFT,
                        action: Jl(e, !1)
                    },
                    {
                        keyCode: Sg.UP,
                        action: Ql(e, !1)
                    },
                    {
                        keyCode: Sg.DOWN,
                        action: Ql(e, !0)
                    },
                    {
                        keyCode: Sg.RIGHT,
                        action: Vf.move(e, t, !0)
                    },
                    {
                        keyCode: Sg.LEFT,
                        action: Vf.move(e, t, !1)
                    },
                    {
                        keyCode: Sg.RIGHT,
                        ctrlKey: !r.isOSX(),
                        altKey: r.isOSX(),
                        action: Vf.moveNextWord(e, t)
                    },
                    {
                        keyCode: Sg.LEFT,
                        ctrlKey: !r.isOSX(),
                        altKey: r.isOSX(),
                        action: Vf.movePrevWord(e, t)
                    }], n).each(function(e) {
                        n.preventDefault()
                    })
                } (e, t, n)
            })
        },
        Iy = function(e) {
            return 1 === Fr.children(e).length
        },
        Ly = function(e, t, n, r) {
            var o = b(Cv, t),
            i = F(j(r, o),
            function(e) {
                return e.dom()
            });
            if (0 === i.length) Qd(t, e, n);
            else {
                var a = function(e, t) {
                    var n = hv(!1),
                    r = wv(t, n.dom());
                    return bi.before(qn.fromDom(e), n),
                    Ci.remove(qn.fromDom(e)),
                    _s(r, 0)
                } (n.dom(), i);
                t.selection.setRng(a.toRange())
            }
        },
        Fy = function(e, t) {
            var n = qn.fromDom(e.getBody()),
            r = qn.fromDom(e.selection.getStart()),
            o = j(function(e, t) {
                var n = kd(t, e);
                return V(n, oo).fold(g(n),
                function(e) {
                    return n.slice(0, e)
                })
            } (n, r), Iy);
            return Q(o).map(function(n) {
                var r = _s.fromRangeStart(e.selection.getRng());
                return !! ld(t, r, n.dom()) && (Ly(t, e, n, o), !0)
            }).getOr(!1)
        },
        Wy = function(e, t) {
            return !! e.selection.isCollapsed() && Fy(e, t)
        },
        Hy = function(e, t) {
            e.on("keydown",
            function(n) { ! 1 === n.isDefaultPrevented() &&
                function(e, t, n) {
                    By([{
                        keyCode: Sg.BACKSPACE,
                        action: Py(tf, e, !1)
                    },
                    {
                        keyCode: Sg.DELETE,
                        action: Py(tf, e, !0)
                    },
                    {
                        keyCode: Sg.BACKSPACE,
                        action: Py(Yf, e, t, !1)
                    },
                    {
                        keyCode: Sg.DELETE,
                        action: Py(Yf, e, t, !0)
                    },
                    {
                        keyCode: Sg.BACKSPACE,
                        action: Py(Sm, e, !1)
                    },
                    {
                        keyCode: Sg.DELETE,
                        action: Py(Sm, e, !0)
                    },
                    {
                        keyCode: Sg.BACKSPACE,
                        action: Py(Ld, e, !1)
                    },
                    {
                        keyCode: Sg.DELETE,
                        action: Py(Ld, e, !0)
                    },
                    {
                        keyCode: Sg.BACKSPACE,
                        action: Py(Pd, e, !1)
                    },
                    {
                        keyCode: Sg.DELETE,
                        action: Py(Pd, e, !0)
                    },
                    {
                        keyCode: Sg.BACKSPACE,
                        action: Py(Wy, e, !1)
                    },
                    {
                        keyCode: Sg.DELETE,
                        action: Py(Wy, e, !0)
                    }], n).each(function(e) {
                        n.preventDefault()
                    })
                } (e, t, n)
            }),
            e.on("keyup",
            function(t) { ! 1 === t.isDefaultPrevented() &&
                function(e, t) {
                    By([{
                        keyCode: Sg.BACKSPACE,
                        action: Py(nf, e)
                    },
                    {
                        keyCode: Sg.DELETE,
                        action: Py(nf, e)
                    }], t)
                } (e, t)
            })
        },
        jy = function(e) {
            return T.from(e.dom.getParent(e.selection.getStart(!0), e.dom.isBlock))
        },
        Uy = function(e, t) {
            var n, r, o, i = t,
            a = e.dom,
            s = e.schema.getMoveCaretBeforeOnEnterElements();
            if (t) {
                if (/^(LI|DT|DD)$/.test(t.nodeName)) {
                    var l = function(e) {
                        for (; e;) {
                            if (1 === e.nodeType || 3 === e.nodeType && e.data && /[\r\n\s]/.test(e.data)) return e;
                            e = e.nextSibling
                        }
                    } (t.firstChild);
                    l && /^(UL|OL|DL)$/.test(l.nodeName) && t.insertBefore(a.doc.createTextNode(" "), t.firstChild)
                }
                if (o = a.createRng(), t.normalize(), t.hasChildNodes()) {
                    for (n = new Qr(t, t); r = n.current();) {
                        if (Eo.isText(r)) {
                            o.setStart(r, 0),
                            o.setEnd(r, 0);
                            break
                        }
                        if (s[r.nodeName.toLowerCase()]) {
                            o.setStartBefore(r),
                            o.setEndBefore(r);
                            break
                        }
                        i = r,
                        r = n.next()
                    }
                    r || (o.setStart(i, 0), o.setEnd(i, 0))
                } else Eo.isBr(t) ? t.nextSibling && a.isBlock(t.nextSibling) ? (o.setStartBefore(t), o.setEndBefore(t)) : (o.setStartAfter(t), o.setEndAfter(t)) : (o.setStart(t, 0), o.setEnd(t, 0));
                e.selection.setRng(o),
                a.remove(void 0),
                e.selection.scrollIntoView(t)
            }
        },
        zy = function(e, t) {
            var n, r, o = e.getRoot();
            for (n = t; n !== o && "false" !== e.getContentEditable(n);)"true" === e.getContentEditable(n) && (r = n),
            n = n.parentNode;
            return n !== o ? r: o
        },
        Vy = jy, $y = function(e) {
            return jy(e).fold(g(""),
            function(e) {
                return e.nodeName.toUpperCase()
            })
        },
        qy = function(e) {
            return jy(e).filter(function(e) {
                return uo(qn.fromDom(e))
            }).isSome()
        },
        Ky = function(e, t) {
            return e && e.parentNode && e.parentNode.nodeName === t
        },
        Yy = function(e) {
            return e && /^(OL|UL|LI)$/.test(e.nodeName)
        },
        Xy = function(e) {
            var t = e.parentNode;
            return /^(LI|DT|DD)$/.test(t.nodeName) ? t: e
        },
        Gy = function(e, t, n) {
            for (var r = e[n ? "firstChild": "lastChild"]; r && !Eo.isElement(r);) r = r[n ? "nextSibling": "previousSibling"];
            return r === t
        },
        Jy = function(e, t, n, r, o) {
            var i = e.dom,
            a = e.selection.getRng();
            if (n !== e.getBody()) {
                var s;
                Yy(s = n) && Yy(s.parentNode) && (o = "LI");
                var l = o ? t(o) : i.create("BR");
                if (Gy(n, r, !0) && Gy(n, r, !1)) Ky(n, "LI") ? i.insertAfter(l, Xy(n)) : i.replace(l, n);
                else if (Gy(n, r, !0)) Ky(n, "LI") ? (i.insertAfter(l, Xy(n)), l.appendChild(i.doc.createTextNode(" ")), l.appendChild(n)) : n.parentNode.insertBefore(l, n);
                else if (Gy(n, r, !1)) i.insertAfter(l, Xy(n));
                else {
                    n = Xy(n);
                    var u = a.cloneRange();
                    u.setStartAfter(r),
                    u.setEndAfter(n);
                    var c = u.extractContents();
                    "LI" === o &&
                    function(e, t) {
                        return e.firstChild && e.firstChild.nodeName === t
                    } (c, "LI") ? (l = c.firstChild, i.insertAfter(c, n)) : (i.insertAfter(c, n), i.insertAfter(l, n))
                }
                i.remove(r),
                Uy(e, l)
            }
        },
        Qy = function(e) {
            e.innerHTML = '<br data-mce-bogus="1">'
        },
        Zy = function(e, t) {
            return e.nodeName === t || e.previousSibling && e.previousSibling.nodeName === t
        },
        ew = function(e, t) {
            return t && e.isBlock(t) && !/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName) && !/^(fixed|absolute)/i.test(t.style.position) && "true" !== e.getContentEditable(t)
        },
        tw = function(e, t, n) {
            return ! 1 === Eo.isText(t) ? n: e ? 1 === n && t.data.charAt(n - 1) === ba ? 0 : n: n === t.data.length - 1 && t.data.charAt(n) === ba ? t.data.length: n
        },
        nw = function(e, t) {
            var n, r, o = e.getRoot();
            for (n = t; n !== o && "false" !== e.getContentEditable(n);)"true" === e.getContentEditable(n) && (r = n),
            n = n.parentNode;
            return n !== o ? r: o
        },
        rw = function(e, t) {
            var n = Hl.getForcedRootBlock(e);
            n && n.toLowerCase() === t.tagName.toLowerCase() && e.dom.setAttribs(t, Hl.getForcedRootBlockAttrs(e))
        },
        ow = function(e, t) {
            var n, r, o, i, a, s, l, u, c, d, f, m, p, h = e.dom,
            g = e.schema,
            v = g.getNonEmptyElements(),
            b = e.selection.getRng(),
            y = function(t) {
                var n, i, s, l = o,
                u = g.getTextInlineElements();
                if (t || "TABLE" === d || "HR" === d ? (n = h.create(t || m), rw(e, n)) : n = a.cloneNode(!1), s = n, !1 === Hl.shouldKeepStyles(e)) h.setAttrib(n, "style", null),
                h.setAttrib(n, "class", null);
                else do {
                    if (u[l.nodeName]) {
                        if (Vs(l)) continue;
                        i = l.cloneNode(!1),
                        h.setAttrib(i, "id", ""),
                        n.hasChildNodes() ? (i.appendChild(n.firstChild), n.appendChild(i)) : (s = i, n.appendChild(i))
                    }
                } while (( l = l . parentNode ) && l !== r);
                return Qy(s),
                n
            },
            w = function(e) {
                var t, n, r, s;
                if (s = tw(e, o, i), Eo.isText(o) && (e ? s > 0 : s < o.nodeValue.length)) return ! 1;
                if (o.parentNode === a && p && !e) return ! 0;
                if (e && Eo.isElement(o) && o === a.firstChild) return ! 0;
                if (Zy(o, "TABLE") || Zy(o, "HR")) return p && !e || !p && e;
                for (t = new Qr(o, a), Eo.isText(o) && (e && 0 === s ? t.prev() : e || s !== o.nodeValue.length || t.next()); n = t.current();) {
                    if (Eo.isElement(n)) {
                        if (!n.getAttribute("data-mce-bogus") && (r = n.nodeName.toLowerCase(), v[r] && "br" !== r)) return ! 1
                    } else if (Eo.isText(n) && !/^[ \t\r\n]*$/.test(n.nodeValue)) return ! 1;
                    e ? t.prev() : t.next()
                }
                return ! 0
            },
            x = function() {
                l = /^(H[1-6]|PRE|FIGURE)$/.test(d) && "HGROUP" !== f ? y(m) : y(),
                Hl.shouldEndContainerOnEmptyBlock(e) && ew(h, c) && h.isEmpty(a) ? l = h.split(c, a) : h.insertAfter(l, a),
                Uy(e, l)
            };
            Ym.normalize(h, b).each(function(e) {
                b.setStart(e.startContainer, e.startOffset),
                b.setEnd(e.endContainer, e.endOffset)
            }),
            o = b.startContainer,
            i = b.startOffset,
            m = Hl.getForcedRootBlock(e),
            s = t.shiftKey,
            Eo.isElement(o) && o.hasChildNodes() && (p = i > o.childNodes.length - 1, o = o.childNodes[Math.min(i, o.childNodes.length - 1)] || o, i = p && Eo.isText(o) ? o.nodeValue.length: 0),
            (r = nw(h, o)) && ((m && !s || !m && s) && (o = function(e, t, n, r, o) {
                var i, a, s, l, u, c, d = t || "P",
                f = e.dom,
                m = nw(f, r);
                if (! (a = f.getParent(r, f.isBlock)) || !ew(f, a)) {
                    if (c = (a = a || m) === e.getBody() ||
                    function(e) {
                        return e && /^(TD|TH|CAPTION)$/.test(e.nodeName)
                    } (a) ? a.nodeName.toLowerCase() : a.parentNode.nodeName.toLowerCase(), !a.hasChildNodes()) return i = f.create(d),
                    rw(e, i),
                    a.appendChild(i),
                    n.setStart(i, 0),
                    n.setEnd(i, 0),
                    i;
                    for (l = r; l.parentNode !== a;) l = l.parentNode;
                    for (; l && !f.isBlock(l);) s = l,
                    l = l.previousSibling;
                    if (s && e.schema.isValidChild(c, d.toLowerCase())) {
                        for (i = f.create(d), rw(e, i), s.parentNode.insertBefore(i, s), l = s; l && !f.isBlock(l);) u = l.nextSibling,
                        i.appendChild(l),
                        l = u;
                        n.setStart(r, o),
                        n.setEnd(r, o)
                    }
                }
                return r
            } (e, m, b, o, i)), a = h.getParent(o, h.isBlock), c = a ? h.getParent(a.parentNode, h.isBlock) : null, d = a ? a.nodeName.toUpperCase() : "", "LI" !== (f = c ? c.nodeName.toUpperCase() : "") || t.ctrlKey || (a = c, c = c.parentNode, d = f), /^(LI|DT|DD)$/.test(d) && h.isEmpty(a) ? Jy(e, y, c, a, m) : m && a === e.getBody() || (m = m || "P", Ca(a) ? (l = Oa(a), h.isEmpty(a) && Qy(a), Uy(e, l)) : w() ? x() : w(!0) ? (l = a.parentNode.insertBefore(y(), a), Uy(e, Zy(a, "HR") ? l: a)) : ((n = function(e) {
                var t = e.cloneRange();
                return t.setStart(e.startContainer, tw(!0, e.startContainer, e.startOffset)),
                t.setEnd(e.endContainer, tw(!1, e.endContainer, e.endOffset)),
                t
            } (b).cloneRange()).setEndAfter(a),
            function(e) {
                do {
                    Eo.isText(e) && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), e = e.firstChild
                } while ( e )
            } (u = n.extractContents()), l = u.firstChild, h.insertAfter(u, a),
            function(e, t, n) {
                var r, o = n,
                i = [];
                if (o) {
                    for (; o = o.firstChild;) {
                        if (e.isBlock(o)) return;
                        Eo.isElement(o) && !t[o.nodeName.toLowerCase()] && i.push(o)
                    }
                    for (r = i.length; r--;) ! (o = i[r]).hasChildNodes() || o.firstChild === o.lastChild && "" === o.firstChild.nodeValue ? e.remove(o) : (a = o) && "A" === a.nodeName && 0 === Kt.trim(ya(a.innerText || a.textContent)).length && e.remove(o);
                    var a
                }
            } (h, v, l),
            function(e, t) {
                var n;
                t.normalize(),
                (n = t.lastChild) && !/^(left|right)$/gi.test(e.getStyle(n, "float", !0)) || e.add(t, "br")
            } (h, a), h.isEmpty(a) && Qy(a), l.normalize(), h.isEmpty(l) ? (h.remove(l), x()) : Uy(e, l)), h.setAttrib(l, "id", ""), e.fire("NewBlock", {
                newBlock: l
            })))
        },
        iw = function(e, t) {
            return Vy(e).filter(function(e) {
                return t.length > 0 && Nr.is(qn.fromDom(e), t)
            }).isSome()
        },
        aw = function(e) {
            return iw(e, Hl.getBrNewLineSelector(e))
        },
        sw = function(e) {
            return iw(e, Hl.getNoNewLineSelector(e))
        },
        lw = Fd([{
            br: []
        },
        {
            block: []
        },
        {
            none: []
        }]), uw = function(e, t) {
            return sw(e)
        },
        cw = function(e) {
            return function(t, n) {
                return "" === Hl.getForcedRootBlock(t) === e
            }
        },
        dw = function(e) {
            return function(t, n) {
                return qy(t) === e
            }
        },
        fw = function(e, t) {
            return function(n, r) {
                return $y(n) === e.toUpperCase() === t
            }
        },
        mw = function(e) {
            return fw("pre", e)
        },
        pw = function(e) {
            return function(t, n) {
                return Hl.shouldPutBrInPre(t) === e
            }
        },
        hw = function(e, t) {
            return aw(e)
        },
        gw = function(e, t) {
            return t
        },
        vw = function(e) {
            var t = Hl.getForcedRootBlock(e),
            n = zy(e.dom, e.selection.getStart());
            return n && e.schema.isValidChild(n.nodeName, t || "P")
        },
        bw = function(e, t) {
            return function(n, r) {
                return U(e,
                function(e, t) {
                    return e && t(n, r)
                },
                !0) ? T.some(t) : T.none()
            }
        },
        yw = function(e, t) {
            return pf([bw([uw], lw.none()), bw([fw("summary", !0)], lw.br()), bw([mw(!0), pw(!1), gw], lw.br()), bw([mw(!0), pw(!1)], lw.block()), bw([mw(!0), pw(!0), gw], lw.block()), bw([mw(!0), pw(!0)], lw.br()), bw([dw(!0), gw], lw.br()), bw([dw(!0)], lw.block()), bw([cw(!0), gw, vw], lw.block()), bw([cw(!0)], lw.br()), bw([hw], lw.br()), bw([cw(!1), gw], lw.br()), bw([vw], lw.block())], [e, t.shiftKey]).getOr(lw.none())
        },
        ww = function(e, t) {
            yw(e, t).fold(function() {
                op.insert(e, t)
            },
            function() {
                ow(e, t)
            },
            p)
        },
        xw = function(e) {
            e.on("keydown",
            function(t) {
                t.keyCode === Sg.ENTER &&
                function(e, t) {
                    var n;
                    t.isDefaultPrevented() || (t.preventDefault(), (n = e.undoManager).typing && (n.typing = !1, n.add()), e.undoManager.transact(function() { ! 1 === e.selection.isCollapsed() && e.execCommand("Delete"),
                        ww(e, t)
                    }))
                } (e, t)
            })
        },
        Cw = function(e, t, n) {
            return !!
            function(e, t) {
                return _w(e) && Eo.isText(t.container())
            } (n, t) && (function(e, t) {
                var n = t.container(),
                r = t.offset();
                n.insertData(r, " "),
                e.selection.setCursorLocation(n, r + 1)
            } (e, t), !0)
        },
        _w = function(e) {
            return e.fold(g(!1), g(!0), g(!0), g(!1))
        },
        kw = function(e) {
            return !! e.selection.isCollapsed() &&
            function(e) {
                var t = b(id.isInlineTarget, e),
                n = _s.fromRangeStart(e.selection.getRng());
                return Df(t, e.getBody(), n).map(b(Cw, e, n)).getOr(!1)
            } (e)
        },
        Ew = function(e) {
            e.on("keydown",
            function(t) { ! 1 === t.isDefaultPrevented() &&
                function(e, t) {
                    By([{
                        keyCode: Sg.SPACEBAR,
                        action: Py(kw, e)
                    }], t).each(function(e) {
                        t.preventDefault()
                    })
                } (e, t)
            })
        },
        Tw = function(e, t) {
            t.hasAttribute("data-mce-caret") && (Oa(t),
            function(e) {
                e.selection.setRng(e.selection.getRng())
            } (e), e.selection.scrollIntoView(t))
        },
        Sw = function(e, t) {
            var n = function(e) {
                return Ki(qn.fromDom(e.getBody()), "*[data-mce-caret]").fold(g(null),
                function(e) {
                    return e.dom()
                })
            } (e);
            if (n) return "compositionstart" === t.type ? (t.preventDefault(), t.stopPropagation(), void Tw(e, n)) : void(Ea(n) && (Tw(e, n), e.undoManager.add()))
        },
        Nw = function(e) {
            e.on("keyup compositionstart", b(Sw, e))
        },
        Rw = function(e) {
            var t = Vf.setupSelectedState(e);
            Nw(e),
            My(e, t),
            Hy(e, t),
            xw(e),
            Ew(e)
        };
        function Aw(e) {
            var t, n, r, o = Kt.each,
            i = Sg.BACKSPACE,
            a = Sg.DELETE,
            s = e.dom,
            l = e.selection,
            u = e.settings,
            c = e.parser,
            d = Se.gecko,
            f = Se.ie,
            m = Se.webkit,
            p = f ? "Text": "URL",
            h = function(t, n) {
                try {
                    e.getDoc().execCommand(t, !1, n)
                } catch(e) {}
            },
            g = function(e) {
                return e.isDefaultPrevented()
            },
            v = function() {
                e.shortcuts.add("meta+a", null, "SelectAll")
            },
            b = function() {
                e.on("keydown",
                function(e) {
                    if (!g(e) && e.keyCode === i && l.isCollapsed() && 0 === l.getRng().startOffset) {
                        var t = l.getNode().previousSibling;
                        if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(),
                        !1
                    }
                })
            },
            y = function() {
                e.inline || (e.contentStyles.push("body {min-height: 150px}"), e.on("click",
                function(t) {
                    var n;
                    if ("HTML" === t.target.nodeName) {
                        if (Se.ie > 11) return void e.getBody().focus();
                        n = e.selection.getRng(),
                        e.getBody().focus(),
                        e.selection.setRng(n),
                        e.selection.normalize(),
                        e.nodeChanged()
                    }
                }))
            };
            return e.on("keydown",
            function(t) {
                var n, r, o, i, a;
                if (!g(t) && t.keyCode === Sg.BACKSPACE && (r = (n = l.getRng()).startContainer, o = n.startOffset, i = s.getRoot(), a = r, n.collapsed && 0 === o)) {
                    for (; a && a.parentNode && a.parentNode.firstChild === a && a.parentNode !== i;) a = a.parentNode;
                    "BLOCKQUOTE" === a.tagName && (e.formatter.toggle("blockquote", null, a), (n = s.createRng()).setStart(r, 0), n.setEnd(r, 0), l.setRng(n))
                }
            }),
            t = function(e) {
                var t = s.create("body"),
                n = e.cloneContents();
                return t.appendChild(n),
                l.serializer.serialize(t, {
                    format: "html"
                })
            },
            e.on("keydown",
            function(n) {
                var r, o, l, u, c, d = n.keyCode;
                if (!g(n) && (d === a || d === i)) {
                    if (r = e.selection.isCollapsed(), o = e.getBody(), r && !s.isEmpty(o)) return;
                    if (!r && (l = e.selection.getRng(), u = t(l), (c = s.createRng()).selectNode(e.getBody()), u !== t(c))) return;
                    n.preventDefault(),
                    e.setContent(""),
                    o.firstChild && s.isBlock(o.firstChild) ? e.selection.setCursorLocation(o.firstChild, 0) : e.selection.setCursorLocation(o, 0),
                    e.nodeChanged()
                }
            }),
            Se.windowsPhone || e.on("keyup focusin mouseup",
            function(e) {
                Sg.modifierPressed(e) || l.normalize()
            },
            !0),
            m && (e.settings.content_editable || s.bind(e.getDoc(), "mousedown mouseup",
            function(t) {
                var n;
                if (t.target === e.getDoc().documentElement) if (n = l.getRng(), e.getBody().focus(), "mousedown" === t.type) {
                    if (ka(n.startContainer)) return;
                    l.placeCaretAt(t.clientX, t.clientY)
                } else l.setRng(n)
            }), e.on("click",
            function(t) {
                var n = t.target;
                /^(IMG|HR)$/.test(n.nodeName) && "false" !== s.getContentEditableParent(n) && (t.preventDefault(), e.selection.select(n), e.nodeChanged()),
                "A" === n.nodeName && s.hasClass(n, "mce-item-anchor") && (t.preventDefault(), l.select(n))
            }), u.forced_root_block && e.on("init",
            function() {
                h("DefaultParagraphSeparator", u.forced_root_block)
            }), e.on("init",
            function() {
                e.dom.bind(e.getBody(), "submit",
                function(e) {
                    e.preventDefault()
                })
            }), b(), c.addNodeFilter("br",
            function(e) {
                for (var t = e.length; t--;)"Apple-interchange-newline" === e[t].attr("class") && e[t].remove()
            }), Se.iOS ? (e.inline || e.on("keydown",
            function() {
                document.activeElement === document.body && e.getWin().focus()
            }), y(), e.on("click",
            function(e) {
                var t = e.target;
                do {
                    if ("A" === t.tagName) return void e.preventDefault()
                } while ( t = t . parentNode )
            }), e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")) : v()),
            Se.ie >= 11 && (y(), b()),
            Se.ie && (v(), h("AutoUrlDetect", !1), e.on("dragstart",
            function(t) { !
                function(t) {
                    var n, r;
                    t.dataTransfer && (e.selection.isCollapsed() && "IMG" === t.target.tagName && l.select(t.target), (n = e.selection.getContent()).length > 0 && (r = "data:text/mce-internal," + escape(e.id) + "," + escape(n), t.dataTransfer.setData(p, r)))
                } (t)
            }), e.on("drop",
            function(t) {
                if (!g(t)) {
                    var n = function(e) {
                        var t;
                        return e.dataTransfer && (t = e.dataTransfer.getData(p)) && t.indexOf("data:text/mce-internal,") >= 0 ? (t = t.substr("data:text/mce-internal,".length).split(","), {
                            id: unescape(t[0]),
                            html: unescape(t[1])
                        }) : null
                    } (t);
                    if (n && n.id !== e.id) {
                        t.preventDefault();
                        var r = qb.fromPoint(t.x, t.y, e.getDoc());
                        l.setRng(r),
                        o = n.html,
                        i = !0,
                        e.queryCommandSupported("mceInsertClipboardContent") ? e.execCommand("mceInsertClipboardContent", !1, {
                            content: o,
                            internal: i
                        }) : e.execCommand("mceInsertContent", !1, o)
                    }
                }
                var o, i
            })), d && (e.on("keydown",
            function(t) {
                if (!g(t) && t.keyCode === i) {
                    if (!e.getBody().getElementsByTagName("hr").length) return;
                    if (l.isCollapsed() && 0 === l.getRng().startOffset) {
                        var n = l.getNode(),
                        r = n.previousSibling;
                        if ("HR" === n.nodeName) return s.remove(n),
                        void t.preventDefault();
                        r && r.nodeName && "hr" === r.nodeName.toLowerCase() && (s.remove(r), t.preventDefault())
                    }
                }
            }), Range.prototype.getClientRects || e.on("mousedown",
            function(t) {
                if (!g(t) && "HTML" === t.target.nodeName) {
                    var n = e.getBody();
                    n.blur(),
                    De.setEditorTimeout(e,
                    function() {
                        n.focus()
                    })
                }
            }), n = function() {
                var t = s.getAttribs(l.getStart().cloneNode(!1));
                return function() {
                    var n = l.getStart();
                    n !== e.getBody() && (s.setAttrib(n, "style", null), o(t,
                    function(e) {
                        n.setAttributeNode(e.cloneNode(!0))
                    }))
                }
            },
            r = function() {
                return ! l.isCollapsed() && s.getParent(l.getStart(), s.isBlock) !== s.getParent(l.getEnd(), s.isBlock)
            },
            e.on("keypress",
            function(t) {
                var o;
                if (!g(t) && (8 === t.keyCode || 46 === t.keyCode) && r()) return o = n(),
                e.getDoc().execCommand("delete", !1, null),
                o(),
                t.preventDefault(),
                !1
            }), s.bind(e.getDoc(), "cut",
            function(t) {
                var o; ! g(t) && r() && (o = n(), De.setEditorTimeout(e,
                function() {
                    o()
                }))
            }), u.readonly || e.on("BeforeExecCommand MouseDown",
            function() {
                h("StyleWithCSS", !1),
                h("enableInlineTableEditing", !1),
                u.object_resizing || h("enableObjectResizing", !1)
            }), e.on("SetContent ExecCommand",
            function(e) {
                "setcontent" !== e.type && "mceInsertLink" !== e.command || o(s.select("a"),
                function(e) {
                    var t = e.parentNode,
                    n = s.getRoot();
                    if (t.lastChild === e) {
                        for (; t && !s.isBlock(t);) {
                            if (t.parentNode.lastChild !== t || t === n) return;
                            t = t.parentNode
                        }
                        s.add(t, "br", {
                            "data-mce-bogus": 1
                        })
                    }
                })
            }), e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"), Se.mac && e.on("keydown",
            function(t) { ! Sg.metaKeyPressed(t) || t.shiftKey || 37 !== t.keyCode && 39 !== t.keyCode || (t.preventDefault(), e.selection.getSel().modify("move", 37 === t.keyCode ? "backward": "forward", "lineboundary"))
            }), b()),
            {
                refreshContentEditable: function() {},
                isHidden: function() {
                    var t;
                    return ! d || e.removed ? 0 : !(t = e.selection.getSel()) || !t.rangeCount || 0 === t.rangeCount
                }
            }
        }
        var Ow = function(e) {
            return Eo.isElement(e) && so(qn.fromDom(e))
        },
        Dw = function(e) {
            e.on("click",
            function(t) {
                t.detail >= 3 &&
                function(e) {
                    var t = e.selection.getRng(),
                    n = xs.fromRangeStart(t),
                    r = xs.fromRangeEnd(t);
                    if (xs.isElementPosition(n)) {
                        var o = n.container();
                        Ow(o) && Lu.firstPositionIn(o).each(function(e) {
                            return t.setStart(e.container(), e.offset())
                        })
                    }
                    xs.isElementPosition(r) && (o = n.container(), Ow(o) && Lu.lastPositionIn(o).each(function(e) {
                        return t.setEnd(e.container(), e.offset())
                    })),
                    e.selection.setRng(Ic(t))
                } (e)
            })
        },
        Pw = function(e) { !
            function(e) {
                e.on("click",
                function(t) {
                    e.dom.getParent(t.target, "details") && t.preventDefault()
                })
            } (e),
            function(e) {
                e.parser.addNodeFilter("details",
                function(e) {
                    W(e,
                    function(e) {
                        e.attr("data-mce-open", e.attr("open")),
                        e.attr("open", "open")
                    })
                }),
                e.serializer.addNodeFilter("details",
                function(e) {
                    W(e,
                    function(e) {
                        var t = e.attr("data-mce-open");
                        e.attr("open", N(t) ? t: null),
                        e.attr("data-mce-open", null)
                    })
                })
            } (e)
        },
        Bw = li.DOM, Mw = function(e) {
            e.bindPendingEventDelegates(),
            e.initialized = !0,
            e.fire("init"),
            e.focus(!0),
            e.nodeChanged({
                initial: !0
            }),
            e.execCallback("init_instance_callback", e),
            function(e) {
                e.settings.auto_focus && De.setEditorTimeout(e,
                function() {
                    var t; (t = !0 === e.settings.auto_focus ? e: e.editorManager.get(e.settings.auto_focus)).destroyed || t.focus()
                },
                100)
            } (e)
        },
        Iw = function(e, t) {
            var n, r, o = e.settings,
            i = e.getElement(),
            a = e.getDoc();
            o.inline || (e.getElement().style.visibility = e.orgVisibility),
            t || o.content_editable || (a.open(), a.write(e.iframeHTML), a.close()),
            o.content_editable && (e.on("remove",
            function() {
                var e = this.getBody();
                Bw.removeClass(e, "mce-content-body"),
                Bw.removeClass(e, "mce-edit-focus"),
                Bw.setAttrib(e, "contentEditable", null)
            }), Bw.addClass(i, "mce-content-body"), e.contentDocument = a = o.content_document || document, e.contentWindow = o.content_window || window, e.bodyElement = i, o.content_document = o.content_window = null, o.root_name = i.nodeName.toLowerCase()),
            (n = e.getBody()).disabled = !0,
            e.readonly = o.readonly,
            e.readonly || (e.inline && "static" === Bw.getStyle(n, "position", !0) && (n.style.position = "relative"), n.contentEditable = e.getParam("content_editable_state", !0)),
            n.disabled = !1,
            e.editorUpload = jh(e),
            e.schema = Go(o),
            e.dom = li(a, {
                keep_values: !0,
                url_converter: e.convertURL,
                url_converter_scope: e,
                hex_colors: o.force_hex_style_colors,
                class_filter: o.class_filter,
                update_styles: !0,
                root_element: e.inline ? e.getBody() : null,
                collect: o.content_editable,
                schema: e.schema,
                onSetAttrib: function(t) {
                    e.fire("SetAttrib", t)
                }
            }),
            e.parser = function(e) {
                var t = Bb(e.settings, e.schema);
                return t.addAttributeFilter("src,href,style,tabindex",
                function(t, n) {
                    for (var r, o, i, a = t.length,
                    s = e.dom; a--;) if (o = (r = t[a]).attr(n), i = "data-mce-" + n, !r.attributes.map[i]) {
                        if (0 === o.indexOf("data:") || 0 === o.indexOf("blob:")) continue;
                        "style" === n ? ((o = s.serializeStyle(s.parseStyle(o), r.name)).length || (o = null), r.attr(i, o), r.attr(n, o)) : "tabindex" === n ? (r.attr(i, o), r.attr(n, null)) : r.attr(i, e.convertURL(o, n, r.name))
                    }
                }),
                t.addNodeFilter("script",
                function(e) {
                    for (var t, n, r = e.length; r--;) 0 !== (n = (t = e[r]).attr("type") || "no/type").indexOf("mce-") && t.attr("type", "mce-" + n)
                }),
                t.addNodeFilter("#cdata",
                function(e) {
                    for (var t, n = e.length; n--;)(t = e[n]).type = 8,
                    t.name = "#comment",
                    t.value = "[CDATA[" + t.value + "]]"
                }),
                t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",
                function(t) {
                    for (var n, r = t.length,
                    o = e.schema.getNonEmptyElements(); r--;)(n = t[r]).isEmpty(o) && 0 === n.getAll("br").length && (n.append(new _b("br", 1)).shortEnded = !0)
                }),
                t
            } (e),
            e.serializer = Wb(o, e),
            e.selection = xy(e.dom, e.getWin(), e.serializer, e),
            e.annotator = vc(e),
            e.formatter = db(e),
            e.undoManager = nv(e),
            e._nodeChangeDispatcher = new Zh(e),
            e._selectionOverrides = Pg(e),
            Pw(e),
            Dw(e),
            Rw(e),
            qh(e),
            e.fire("PreInit"),
            o.browser_spellcheck || o.gecko_spellcheck || (a.body.spellcheck = !1, Bw.setAttrib(n, "spellcheck", "false")),
            e.quirks = Aw(e),
            e.fire("PostRender"),
            o.directionality && (n.dir = o.directionality),
            o.nowrap && (n.style.whiteSpace = "nowrap"),
            o.protect && e.on("BeforeSetContent",
            function(e) {
                Kt.each(o.protect,
                function(t) {
                    e.content = e.content.replace(t,
                    function(e) {
                        return "\x3c!--mce:protected " + escape(e) + "--\x3e"
                    })
                })
            }),
            e.on("SetContent",
            function() {
                e.addVisual(e.getBody())
            }),
            e.load({
                initial: !0,
                format: "html"
            }),
            e.startContent = e.getContent({
                format: "raw"
            }),
            e.on("compositionstart compositionend",
            function(t) {
                e.composing = "compositionstart" === t.type
            }),
            e.contentStyles.length > 0 && (r = "", Kt.each(e.contentStyles,
            function(e) {
                r += e + "\r\n"
            }), e.dom.addStyle(r)),
            function(e) {
                return e.inline ? Bw.styleSheetLoader: e.dom.styleSheetLoader
            } (e).loadAll(e.contentCSS,
            function(t) {
                Mw(e)
            },
            function(t) {
                Mw(e)
            }),
            o.content_style &&
            function(e, t) {
                var n = qn.fromDom(e.getDoc().head),
                r = qn.fromTag("style");
                ur.set(r, "type", "text/css"),
                bi.append(r, qn.fromText(t)),
                bi.append(n, r)
            } (e, o.content_style)
        },
        Lw = li.DOM, Fw = function(e) {
            var t = "number" == typeof e ? e + "px": e;
            return t || ""
        },
        Ww = function(e, t) {
            var n = e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),
            r = function(e, t, n, r) {
                var o = qn.fromTag("iframe");
                return ur.setAll(o, r),
                ur.setAll(o, {
                    id: e + "_ifr",
                    frameBorder: "0",
                    allowTransparency: "true",
                    title: t
                }),
                vr(o, {
                    width: "100%",
                    height: Fw(n),
                    display: "block"
                }),
                o
            } (e.id, n, t.height, Hl.getIframeAttrs(e)).dom();
            r.onload = function() {
                r.onload = null,
                e.fire("load")
            };
            var o = function(e, t) {
                if (document.domain !== window.location.hostname && Se.ie && Se.ie < 12) {
                    var n = Hh.uuid("mce");
                    e[n] = function() {
                        Iw(e)
                    };
                    var r = 'javascript:(function(){document.open();document.domain="' + document.domain + '";var ed = window.parent.tinymce.get("' + e.id + '");document.write(ed.iframeHTML);document.close();ed.' + n + "(true);})()";
                    return Lw.setAttrib(t, "src", r),
                    !0
                }
                return ! 1
            } (e, r);
            return e.contentAreaContainer = t.iframeContainer,
            e.iframeElement = r,
            e.iframeHTML = function(e) {
                var t, n, r;
                return r = Hl.getDocType(e) + "<html><head>",
                Hl.getDocumentBaseUrl(e) !== e.documentBaseUrl && (r += '<base href="' + e.documentBaseURI.getURI() + '" />'),
                r += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',
                t = Hl.getBodyId(e),
                n = Hl.getBodyClass(e),
                Hl.getContentSecurityPolicy(e) && (r += '<meta http-equiv="Content-Security-Policy" content="' + Hl.getContentSecurityPolicy(e) + '" />'),
                r + '</head><body id="' + t + '" class="mce-content-body ' + n + '" data-id="' + e.id + '"><br></body></html>'
            } (e),
            Lw.add(t.iframeContainer, r),
            o
        },
        Hw = function(e, t) {
            var n = Ww(e, t);
            t.editorContainer && (Lw.get(t.editorContainer).style.display = e.orgDisplay, e.hidden = Lw.isHidden(t.editorContainer)),
            e.getElement().style.display = "none",
            Lw.setAttrib(e.id, "aria-hidden", "true"),
            n || Iw(e)
        },
        jw = li.DOM, Uw = function(e, t, n) {
            var r, o, i = Eh.get(n);
            if (r = Eh.urls[n] || e.documentBaseUrl.replace(/\/$/, ""), n = Kt.trim(n), i && -1 === Kt.inArray(t, n)) {
                if (Kt.each(Eh.dependencies(n),
                function(n) {
                    Uw(e, t, n)
                }), e.plugins[n]) return;
                o = new i(e, r, e.$),
                e.plugins[n] = o,
                o.init && (o.init(e, r), t.push(n))
            }
        },
        zw = function(e) {
            return e.replace(/^\-/, "")
        },
        Vw = function(e) {
            return {
                editorContainer: e,
                iframeContainer: e
            }
        },
        $w = function(e) {
            var t = e.getElement();
            return e.inline ? Vw(null) : function(e) {
                var t = jw.create("div");
                return jw.insertAfter(t, e),
                Vw(t)
            } (t)
        },
        qw = function(e) {
            var t = e.settings,
            n = e.getElement();
            return e.orgDisplay = n.style.display,
            N(t.theme) ?
            function(e) {
                var t, n, r, o, i, a = e.settings,
                s = e.getElement();
                return t = a.width || jw.getStyle(s, "width") || "100%",
                n = a.height || jw.getStyle(s, "height") || s.offsetHeight,
                r = a.min_height || 100,
                (o = /^[0-9\.]+(|px)$/i).test("" + t) && (t = Math.max(parseInt(t, 10), 100)),
                o.test("" + n) && (n = Math.max(parseInt(n, 10), r)),
                i = e.theme.renderUI({
                    targetNode: s,
                    width: t,
                    height: n,
                    deltaWidth: a.delta_width,
                    deltaHeight: a.delta_height
                }),
                a.content_editable || (n = (i.iframeHeight || n) + ("number" == typeof n ? i.deltaHeight || 0 : "")) < r && (n = r),
                i.height = n,
                i
            } (e) : P(t.theme) ?
            function(e) {
                var t, n = e.getElement();
                return (t = e.settings.theme(e, n)).editorContainer.nodeType && (t.editorContainer.id = t.editorContainer.id || e.id + "_parent"),
                t.iframeContainer && t.iframeContainer.nodeType && (t.iframeContainer.id = t.iframeContainer.id || e.id + "_iframecontainer"),
                t.height = t.iframeHeight ? t.iframeHeight: n.offsetHeight,
                t
            } (e) : $w(e)
        },
        Kw = function(e) {
            var t, n = e.settings,
            r = e.getElement();
            return e.rtl = n.rtl_ui || e.editorManager.i18n.rtl,
            e.editorManager.i18n.setCode(n.language),
            n.aria_label = n.aria_label || jw.getAttrib(r, "aria-label", e.getLang("aria.rich_text_area")),
            e.fire("ScriptsLoaded"),
            function(e) {
                var t, n = e.settings.theme;
                N(n) ? (e.settings.theme = zw(n), t = Th.get(n), e.theme = new t(e, Th.urls[n]), e.theme.init && e.theme.init(e, Th.urls[n] || e.documentBaseUrl.replace(/\/$/, ""), e.$)) : e.theme = {}
            } (e),
            function(e) {
                var t = [];
                Kt.each(e.settings.plugins.split(/[ ,]/),
                function(n) {
                    Uw(e, t, zw(n))
                })
            } (e),
            t = qw(e),
            e.editorContainer = t.editorContainer ? t.editorContainer: null,
            n.content_css && Kt.each(Kt.explode(n.content_css),
            function(t) {
                e.contentCSS.push(e.documentBaseURI.toAbsolute(t))
            }),
            n.content_editable ? Iw(e) : Hw(e, t)
        },
        Yw = li.DOM, Xw = function(e) {
            return "-" === e.charAt(0)
        },
        Gw = function(e, t) {
            var n = mi.ScriptLoader; !
            function(e, t, n, r) {
                var o = t.settings,
                i = o.theme;
                if (N(i)) {
                    if (!Xw(i) && !Th.urls.hasOwnProperty(i)) {
                        var a = o.theme_url;
                        a ? Th.load(i, t.documentBaseURI.toAbsolute(a)) : Th.load(i, "themes/" + i + "/theme" + n + ".js")
                    }
                    e.loadQueue(function() {
                        Th.waitFor(i, r)
                    })
                } else r()
            } (n, e, t,
            function() { !
                function(e, t) {
                    var n = t.settings;
                    n.language && "en" !== n.language && !n.language_url && (n.language_url = t.editorManager.baseURL + "/langs/" + n.language + ".js"),
                    n.language_url && !t.editorManager.i18n.data[n.language] && e.add(n.language_url)
                } (n, e),
                function(e, t) {
                    Kt.isArray(e.plugins) && (e.plugins = e.plugins.join(" ")),
                    Kt.each(e.external_plugins,
                    function(t, n) {
                        Eh.load(n, t),
                        e.plugins += " " + n
                    }),
                    Kt.each(e.plugins.split(/[ ,]/),
                    function(e) {
                        if ((e = Kt.trim(e)) && !Eh.urls[e]) if (Xw(e)) {
                            e = e.substr(1, e.length);
                            var n = Eh.dependencies(e);
                            Kt.each(n,
                            function(e) {
                                var n = {
                                    prefix: "plugins/",
                                    resource: e,
                                    suffix: "/plugin" + t + ".js"
                                };
                                e = Eh.createUrl(n, e),
                                Eh.load(e.resource, e)
                            })
                        } else Eh.load(e, {
                            prefix: "plugins/",
                            resource: e,
                            suffix: "/plugin" + t + ".js"
                        })
                    })
                } (e.settings, t),
                n.loadQueue(function() {
                    e.removed || Kw(e)
                },
                e,
                function(t) {
                    kh.pluginLoadError(e, t[0]),
                    e.removed || Kw(e)
                })
            })
        },
        Jw = function(e) {
            var t = e.settings,
            n = e.id,
            r = function() {
                Yw.unbind(window, "ready", r),
                e.render()
            };
            if (je.Event.domLoaded) {
                if (e.getElement() && Se.contentEditable) {
                    t.inline ? e.inline = !0 : (e.orgVisibility = e.getElement().style.visibility, e.getElement().style.visibility = "hidden");
                    var o = e.getElement().form || Yw.getParent(n, "form");
                    o && (e.formElement = o, t.hidden_input && !/TEXTAREA|INPUT/i.test(e.getElement().nodeName) && (Yw.insertAfter(Yw.create("input", {
                        type: "hidden",
                        name: n
                    }), n), e.hasHiddenInput = !0), e.formEventDelegate = function(t) {
                        e.fire(t.type, t)
                    },
                    Yw.bind(o, "submit reset", e.formEventDelegate), e.on("reset",
                    function() {
                        e.setContent(e.startContent, {
                            format: "raw"
                        })
                    }), !t.submit_patch || o.submit.nodeType || o.submit.length || o._mceOldSubmit || (o._mceOldSubmit = o.submit, o.submit = function() {
                        return e.editorManager.triggerSave(),
                        e.setDirty(!1),
                        o._mceOldSubmit(o)
                    })),
                    e.windowManager = yh(e),
                    e.notificationManager = bh(e),
                    "xml" === t.encoding && e.on("GetContent",
                    function(e) {
                        e.save && (e.content = Yw.encode(e.content))
                    }),
                    t.add_form_submit_trigger && e.on("submit",
                    function() {
                        e.initialized && e.save()
                    }),
                    t.add_unload_trigger && (e._beforeUnload = function() { ! e.initialized || e.destroyed || e.isHidden() || e.save({
                            format: "raw",
                            no_events: !0,
                            set_dirty: !1
                        })
                    },
                    e.editorManager.on("BeforeUnload", e._beforeUnload)),
                    e.editorManager.add(e),
                    Gw(e, e.suffix)
                }
            } else Yw.bind(window, "ready", r)
        },
        Qw = function(e, t, n) {
            var r = e.sidebars ? e.sidebars: [];
            r.push({
                name: t,
                settings: n
            }),
            e.sidebars = r
        },
        Zw = Kt.each, ex = Kt.trim, tx = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "), nx = {
            ftp: 21,
            http: 80,
            https: 443,
            mailto: 25
        },
        rx = function(e, t) {
            var n, r, o = this;
            if (e = ex(e), n = (t = o.settings = t || {}).base_uri, /^([\w\-]+):([^\/]{2})/i.test(e) || /^\s*#/.test(e)) o.source = e;
            else {
                var i = 0 === e.indexOf("//");
                0 !== e.indexOf("/") || i || (e = (n && n.protocol || "http") + "://mce_host" + e),
                /^[\w\-]*:?\/\//.test(e) || (r = t.base_uri ? t.base_uri.path: new rx(document.location.href).directory, "" == t.base_uri.protocol ? e = "//mce_host" + o.toAbsPath(r, e) : (e = /([^#?]*)([#?]?.*)/.exec(e), e = (n && n.protocol || "http") + "://mce_host" + o.toAbsPath(r, e[1]) + e[2])),
                e = e.replace(/@@/g, "(mce_at)"),
                e = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),
                Zw(tx,
                function(t, n) {
                    var r = e[n];
                    r && (r = r.replace(/\(mce_at\)/g, "@@")),
                    o[t] = r
                }),
                n && (o.protocol || (o.protocol = n.protocol), o.userInfo || (o.userInfo = n.userInfo), o.port || "mce_host" !== o.host || (o.port = n.port), o.host && "mce_host" !== o.host || (o.host = n.host), o.source = ""),
                i && (o.protocol = "")
            }
        }; rx.prototype = {
            setPath: function(e) {
                e = /^(.*?)\/?(\w+)?$/.exec(e),
                this.path = e[0],
                this.directory = e[1],
                this.file = e[2],
                this.source = "",
                this.getURI()
            },
            toRelative: function(e) {
                var t;
                if ("./" === e) return e;
                if ("mce_host" !== (e = new rx(e, {
                    base_uri: this
                })).host && this.host !== e.host && e.host || this.port !== e.port || this.protocol !== e.protocol && "" !== e.protocol) return e.getURI();
                var n = this.getURI(),
                r = e.getURI();
                return n === r || "/" === n.charAt(n.length - 1) && n.substr(0, n.length - 1) === r ? n: (t = this.toRelPath(this.path, e.path), e.query && (t += "?" + e.query), e.anchor && (t += "#" + e.anchor), t)
            },
            toAbsolute: function(e, t) {
                return (e = new rx(e, {
                    base_uri: this
                })).getURI(t && this.isSameOrigin(e))
            },
            isSameOrigin: function(e) {
                if (this.host == e.host && this.protocol == e.protocol) {
                    if (this.port == e.port) return ! 0;
                    var t = nx[this.protocol];
                    if (t && (this.port || t) == (e.port || t)) return ! 0
                }
                return ! 1
            },
            toRelPath: function(e, t) {
                var n, r, o, i = 0,
                a = "";
                if (e = (e = e.substring(0, e.lastIndexOf("/"))).split("/"), n = t.split("/"), e.length >= n.length) for (r = 0, o = e.length; r < o; r++) if (r >= n.length || e[r] !== n[r]) {
                    i = r + 1;
                    break
                }
                if (e.length < n.length) for (r = 0, o = n.length; r < o; r++) if (r >= e.length || e[r] !== n[r]) {
                    i = r + 1;
                    break
                }
                if (1 === i) return t;
                for (r = 0, o = e.length - (i - 1); r < o; r++) a += "../";
                for (r = i - 1, o = n.length; r < o; r++) a += r !== i - 1 ? "/" + n[r] : n[r];
                return a
            },
            toAbsPath: function(e, t) {
                var n, r, o, i = 0,
                a = [];
                for (r = /\/$/.test(t) ? "/": "", e = e.split("/"), t = t.split("/"), Zw(e,
                function(e) {
                    e && a.push(e)
                }), e = a, n = t.length - 1, a = []; n >= 0; n--) 0 !== t[n].length && "." !== t[n] && (".." !== t[n] ? i > 0 ? i--:a.push(t[n]) : i++);
                return 0 !== (o = (n = e.length - i) <= 0 ? a.reverse().join("/") : e.slice(0, n).join("/") + "/" + a.reverse().join("/")).indexOf("/") && (o = "/" + o),
                r && o.lastIndexOf("/") !== o.length - 1 && (o += r),
                o
            },
            getURI: function(e) {
                var t;
                return this.source && !e || (t = "", e || (this.protocol ? t += this.protocol + "://": t += "//", this.userInfo && (t += this.userInfo + "@"), this.host && (t += this.host), this.port && (t += ":" + this.port)), this.path && (t += this.path), this.query && (t += "?" + this.query), this.anchor && (t += "#" + this.anchor), this.source = t),
                this.source
            }
        },
        rx.parseDataUri = function(e) {
            var t, n;
            return e = decodeURIComponent(e).split(","),
            (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]),
            {
                type: t,
                data: e[1]
            }
        },
        rx.getDocumentBaseUrl = function(e) {
            var t;
            return t = 0 !== e.protocol.indexOf("http") && "file:" !== e.protocol ? e.href: e.protocol + "//" + e.host + e.pathname,
            /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")),
            t
        };
        var ox = function(e, t, n) {
            var r;
            if (t.format = t.format ? t.format: "html", t.get = !0, t.getInner = !0, t.no_events || e.fire("BeforeGetContent", t), "raw" === t.format) r = Kt.trim(jg.trimExternal(e.serializer, n.innerHTML));
            else if ("text" === t.format) r = ya(n.innerText || n.textContent);
            else {
                if ("tree" === t.format) return e.serializer.serialize(n, t);
                r = function(e, t) {
                    var n = Hl.getForcedRootBlock(e),
                    r = new RegExp("^(<" + n + "[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/" + n + ">[\r\n]*|<br \\/>[\r\n]*)$");
                    return t.replace(r, "")
                } (e, e.serializer.serialize(n, t))
            }
            return "text" === t.format || po(qn.fromDom(n)) ? t.content = r: t.content = Kt.trim(r),
            t.no_events || e.fire("GetContent", t),
            t.content
        },
        ix = function(e, t) {
            t(e),
            e.firstChild && ix(e.firstChild, t),
            e.next && ix(e.next, t)
        },
        ax = function(e, t, n) {
            var r = function(e, t, n) {
                var r = {},
                o = {},
                i = [];
                for (var a in n.firstChild && ix(n.firstChild,
                function(n) {
                    W(e,
                    function(e) {
                        e.name === n.name && (r[e.name] ? r[e.name].nodes.push(n) : r[e.name] = {
                            filter: e,
                            nodes: [n]
                        })
                    }),
                    W(t,
                    function(e) {
                        "string" == typeof n.attr(e.name) && (o[e.name] ? o[e.name].nodes.push(n) : o[e.name] = {
                            filter: e,
                            nodes: [n]
                        })
                    })
                }), r) r.hasOwnProperty(a) && i.push(r[a]);
                for (var a in o) o.hasOwnProperty(a) && i.push(o[a]);
                return i
            } (e, t, n);
            W(r,
            function(e) {
                W(e.filter.callbacks,
                function(t) {
                    t(e.nodes, e.filter.name, {})
                })
            })
        },
        sx = function(e) {
            return e instanceof _b
        },
        lx = function(e, t) {
            e.dom.setHTML(e.getBody(), t),
            function(e) {
                ch(e) && Lu.firstPositionIn(e.getBody()).each(function(t) {
                    var n = t.getNode(),
                    r = Eo.isTable(n) ? Lu.firstPositionIn(n).getOr(t) : t;
                    e.selection.setRng(r.toRange())
                })
            } (e)
        },
        ux = function(e, t, n) {
            return void 0 === n && (n = {}),
            n.format = n.format ? n.format: "html",
            n.set = !0,
            n.content = sx(t) ? "": t,
            sx(t) || n.no_events || (e.fire("BeforeSetContent", n), t = n.content),
            T.from(e.getBody()).fold(g(t),
            function(r) {
                return sx(t) ?
                function(e, t, n, r) {
                    ax(e.parser.getNodeFilters(), e.parser.getAttributeFilters(), n);
                    var o = Bc({
                        validate: e.validate
                    },
                    e.schema).serialize(n);
                    return r.content = po(qn.fromDom(t)) ? o: Kt.trim(o),
                    lx(e, r.content),
                    r.no_events || e.fire("SetContent", r),
                    n
                } (e, r, t, n) : function(e, t, n, r) {
                    var o, i;
                    return 0 === n.length || /^\s+$/.test(n) ? (i = '<br data-mce-bogus="1">', "TABLE" === t.nodeName ? n = "<tr><td>" + i + "</td></tr>": /^(UL|OL)$/.test(t.nodeName) && (n = "<li>" + i + "</li>"), (o = Hl.getForcedRootBlock(e)) && e.schema.isValidChild(t.nodeName.toLowerCase(), o.toLowerCase()) ? (n = i, n = e.dom.createHTML(o, e.settings.forced_root_block_attrs, n)) : n || (n = '<br data-mce-bogus="1">'), lx(e, n), e.fire("SetContent", r)) : ("raw" !== r.format && (n = Bc({
                        validate: e.validate
                    },
                    e.schema).serialize(e.parser.parse(n, {
                        isRootContent: !0,
                        insert: !0
                    }))), r.content = po(qn.fromDom(t)) ? n: Kt.trim(n), lx(e, r.content), r.no_events || e.fire("SetContent", r)),
                    r.content
                } (e, r, t, n)
            })
        },
        cx = li.DOM, dx = function(e) {
            return T.from(e).each(function(e) {
                return e.destroy()
            })
        },
        fx = function(e) {
            if (!e.removed) {
                var t = e._selectionOverrides,
                n = e.editorUpload,
                r = e.getBody(),
                o = e.getElement();
                r && e.save({
                    is_removing: !0
                }),
                e.removed = !0,
                e.unbindAllNativeEvents(),
                e.hasHiddenInput && o && cx.remove(o.nextSibling),
                !e.inline && r &&
                function(e) {
                    cx.setStyle(e.id, "display", e.orgDisplay)
                } (e),
                Ip(e),
                e.editorManager.remove(e),
                cx.remove(e.getContainer()),
                dx(t),
                dx(n),
                e.destroy()
            }
        },
        mx = function(e, t) {
            var n = e.selection,
            r = e.dom;
            e.destroyed || (t || e.removed ? (t || (e.editorManager.off("beforeunload", e._beforeUnload), e.theme && e.theme.destroy && e.theme.destroy(), dx(n), dx(r)),
            function(e) {
                var t = e.formElement;
                t && (t._mceOldSubmit && (t.submit = t._mceOldSubmit, t._mceOldSubmit = null), cx.unbind(t, "submit reset", e.formEventDelegate))
            } (e),
            function(e) {
                e.contentAreaContainer = e.formElement = e.container = e.editorContainer = null,
                e.bodyElement = e.contentDocument = e.contentWindow = null,
                e.iframeElement = e.targetElm = null,
                e.selection && (e.selection = e.selection.win = e.selection.dom = e.selection.dom.doc = null)
            } (e), e.destroyed = !0) : e.remove())
        },
        px = li.DOM, hx = Kt.extend, gx = Kt.each, vx = Kt.resolve, bx = Se.ie, yx = function(e, t, n) {
            var r = this,
            o = r.documentBaseUrl = n.documentBaseURL,
            i = n.baseURI;
            t = function(e, t, n, r, o) {
                var i = function(e, t, n) {
                    return {
                        id: e,
                        theme: "modern",
                        delta_width: 0,
                        delta_height: 0,
                        popup_css: "",
                        plugins: "",
                        document_base_url: t,
                        add_form_submit_trigger: !0,
                        submit_patch: !0,
                        add_unload_trigger: !0,
                        convert_urls: !0,
                        relative_urls: !0,
                        remove_script_host: !0,
                        object_resizing: !0,
                        doctype: "<!DOCTYPE html>",
                        visual: !0,
                        font_size_style_values: "xx-small,x-small,small,medium,large,x-large,xx-large",
                        font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
                        forced_root_block: "p",
                        hidden_input: !0,
                        render_ui: !0,
                        indentation: "30px",
                        inline_styles: !0,
                        convert_fonts_to_spans: !0,
                        indent: "simple",
                        indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                        indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                        entity_encoding: "named",
                        url_converter: n.convertURL,
                        url_converter_scope: n,
                        ie7_compat: !0
                    }
                } (t, n, e);
                return Jc(zc, i, r, o)
            } (r, e, o, n.defaultSettings, t),
            r.settings = t,
            hi.language = t.language || "en",
            hi.languageLoad = t.language_load,
            hi.baseURL = n.baseURL,
            r.id = e,
            r.setDirty(!1),
            r.plugins = {},
            r.documentBaseURI = new rx(t.document_base_url, {
                base_uri: i
            }),
            r.baseURI = i,
            r.contentCSS = [],
            r.contentStyles = [],
            r.shortcuts = new Zp(r),
            r.loadedCSS = {},
            r.editorCommands = new Np(r),
            r.suffix = n.suffix,
            r.editorManager = n,
            r.inline = t.inline,
            r.buttons = {},
            r.menuItems = {},
            t.cache_suffix && (Se.cacheSuffix = t.cache_suffix.replace(/^[\?\&]+/, "")),
            !1 === t.override_viewport && (Se.overrideViewPort = !1),
            n.fire("SetupEditor", {
                editor: r
            }),
            r.execCallback("setup", r),
            r.$ = mn.overrideDefaults(function() {
                return {
                    context: r.inline ? r.getBody() : r.getDoc(),
                    element: r.getBody()
                }
            })
        }; yx.prototype = {
            render: function() {
                Jw(this)
            },
            focus: function(e) {
                uh(this, e)
            },
            hasFocus: function() {
                return ch(this)
            },
            execCallback: function(e) {
                for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                var r, o = this.settings[e];
                if (o) return this.callbackLookup && (r = this.callbackLookup[e]) && (o = r.func, r = r.scope),
                "string" == typeof o && (r = (r = o.replace(/\.\w+$/, "")) ? vx(r) : 0, o = vx(o), this.callbackLookup = this.callbackLookup || {},
                this.callbackLookup[e] = {
                    func: o,
                    scope: r
                }),
                o.apply(r || this, Array.prototype.slice.call(arguments, 1))
            },
            translate: function(e) {
                if (e && Kt.is(e, "string")) {
                    var t = this.settings.language || "en",
                    n = this.editorManager.i18n;
                    e = n.data[t + "." + e] || e.replace(/\{\#([^\}]+)\}/g,
                    function(e, r) {
                        return n.data[t + "." + r] || "{#" + r + "}"
                    })
                }
                return this.editorManager.translate(e)
            },
            getLang: function(e, t) {
                return this.editorManager.i18n.data[(this.settings.language || "en") + "." + e] || (void 0 !== t ? t: "{#" + e + "}")
            },
            getParam: function(e, t, n) {
                return ed(this, e, t, n)
            },
            nodeChanged: function(e) {
                this._nodeChangeDispatcher.nodeChanged(e)
            },
            addButton: function(e, t) {
                var n = this;
                t.cmd && (t.onclick = function() {
                    n.execCommand(t.cmd)
                }),
                t.stateSelector && void 0 === t.active && (t.active = !1),
                t.text || t.icon || (t.icon = e),
                t.tooltip = t.tooltip || t.title,
                n.buttons[e] = t
            },
            addSidebar: function(e, t) {
                return Qw(this, e, t)
            },
            addMenuItem: function(e, t) {
                var n = this;
                t.cmd && (t.onclick = function() {
                    n.execCommand(t.cmd)
                }),
                n.menuItems[e] = t
            },
            addContextToolbar: function(e, t) {
                var n, r = this;
                r.contextToolbars = r.contextToolbars || [],
                "string" == typeof e && (n = e, e = function(e) {
                    return r.dom.is(e, n)
                }),
                r.contextToolbars.push({
                    id: Hh.uuid("mcet"),
                    predicate: e,
                    items: t
                })
            },
            addCommand: function(e, t, n) {
                this.editorCommands.addCommand(e, t, n)
            },
            addQueryStateHandler: function(e, t, n) {
                this.editorCommands.addQueryStateHandler(e, t, n)
            },
            addQueryValueHandler: function(e, t, n) {
                this.editorCommands.addQueryValueHandler(e, t, n)
            },
            addShortcut: function(e, t, n, r) {
                this.shortcuts.add(e, t, n, r)
            },
            execCommand: function(e, t, n, r) {
                return this.editorCommands.execCommand(e, t, n, r)
            },
            queryCommandState: function(e) {
                return this.editorCommands.queryCommandState(e)
            },
            queryCommandValue: function(e) {
                return this.editorCommands.queryCommandValue(e)
            },
            queryCommandSupported: function(e) {
                return this.editorCommands.queryCommandSupported(e)
            },
            show: function() {
                this.hidden && (this.hidden = !1, this.inline ? this.getBody().contentEditable = !0 : (px.show(this.getContainer()), px.hide(this.id)), this.load(), this.fire("show"))
            },
            hide: function() {
                var e = this.getDoc();
                this.hidden || (bx && e && !this.inline && e.execCommand("SelectAll"), this.save(), this.inline ? (this.getBody().contentEditable = !1, this === this.editorManager.focusedEditor && (this.editorManager.focusedEditor = null)) : (px.hide(this.getContainer()), px.setStyle(this.id, "display", this.orgDisplay)), this.hidden = !0, this.fire("hide"))
            },
            isHidden: function() {
                return !! this.hidden
            },
            setProgressState: function(e, t) {
                this.fire("ProgressState", {
                    state: e,
                    time: t
                })
            },
            load: function(e) {
                var t, n = this.getElement();
                return this.removed ? "": n ? ((e = e || {}).load = !0, t = this.setContent(void 0 !== n.value ? n.value: n.innerHTML, e), e.element = n, e.no_events || this.fire("LoadContent", e), e.element = n = null, t) : void 0
            },
            save: function(e) {
                var t, n, r = this,
                o = r.getElement();
                if (o && r.initialized && !r.removed) return (e = e || {}).save = !0,
                e.element = o,
                e.content = r.getContent(e),
                e.no_events || r.fire("SaveContent", e),
                "raw" === e.format && r.fire("RawSaveContent", e),
                t = e.content,
                /TEXTAREA|INPUT/i.test(o.nodeName) ? o.value = t: (!e.is_removing && r.inline || (o.innerHTML = t), (n = px.getParent(r.id, "form")) && gx(n.elements,
                function(e) {
                    if (e.name === r.id) return e.value = t,
                    !1
                })),
                e.element = o = null,
                !1 !== e.set_dirty && r.setDirty(!1),
                t
            },
            setContent: function(e, t) {
                return ux(this, e, t)
            },
            getContent: function(e) {
                return function(e, t) {
                    return void 0 === t && (t = {}),
                    T.from(e.getBody()).fold(g("tree" === t.format ? new _b("body", 11) : ""),
                    function(n) {
                        return ox(e, t, n)
                    })
                } (this, e)
            },
            insertContent: function(e, t) {
                t && (e = hx({
                    content: e
                },
                t)),
                this.execCommand("mceInsertContent", !1, e)
            },
            isDirty: function() {
                return ! this.isNotDirty
            },
            setDirty: function(e) {
                var t = !this.isNotDirty;
                this.isNotDirty = !e,
                e && e !== t && this.fire("dirty")
            },
            setMode: function(e) { !
                function(e, t) {
                    t !== Up(e) && (e.initialized ? jp(e, "readonly" === t) : e.on("init",
                    function() {
                        jp(e, "readonly" === t)
                    }), Lp(e, t))
                } (this, e)
            },
            getContainer: function() {
                return this.container || (this.container = px.get(this.editorContainer || this.id + "_parent")),
                this.container
            },
            getContentAreaContainer: function() {
                return this.contentAreaContainer
            },
            getElement: function() {
                return this.targetElm || (this.targetElm = px.get(this.id)),
                this.targetElm
            },
            getWin: function() {
                var e;
                return this.contentWindow || (e = this.iframeElement) && (this.contentWindow = e.contentWindow),
                this.contentWindow
            },
            getDoc: function() {
                var e;
                return this.contentDocument || (e = this.getWin()) && (this.contentDocument = e.document),
                this.contentDocument
            },
            getBody: function() {
                var e = this.getDoc();
                return this.bodyElement || (e ? e.body: null)
            },
            convertURL: function(e, t, n) {
                var r = this.settings;
                return r.urlconverter_callback ? this.execCallback("urlconverter_callback", e, n, !0, t) : !r.convert_urls || n && "LINK" === n.nodeName || 0 === e.indexOf("file:") || 0 === e.length ? e: r.relative_urls ? this.documentBaseURI.toRelative(e) : e = this.documentBaseURI.toAbsolute(e, r.remove_script_host)
            },
            addVisual: function(e) {
                var t, n = this,
                r = n.settings,
                o = n.dom;
                e = e || n.getBody(),
                void 0 === n.hasVisual && (n.hasVisual = r.visual),
                gx(o.select("table,a", e),
                function(e) {
                    var i;
                    switch (e.nodeName) {
                    case "TABLE":
                        return t = r.visual_table_class || "mce-item-table",
                        void((i = o.getAttrib(e, "border")) && "0" !== i || !n.hasVisual ? o.removeClass(e, t) : o.addClass(e, t));
                    case "A":
                        return void(o.getAttrib(e, "href") || (i = o.getAttrib(e, "name") || e.id, t = r.visual_anchor_class || "mce-item-anchor", i && n.hasVisual ? o.addClass(e, t) : o.removeClass(e, t)))
                    }
                }),
                n.fire("VisualAid", {
                    element: e,
                    hasVisual: n.hasVisual
                })
            },
            remove: function() {
                fx(this)
            },
            destroy: function(e) {
                mx(this, e)
            },
            uploadImages: function(e) {
                return this.editorUpload.uploadImages(e)
            },
            _scanForImages: function() {
                return this.editorUpload.scanForImages()
            }
        },
        hx(yx.prototype, Yp);
        var wx, xx, Cx, _x = {
            isEditorUIElement: function(e) {
                return - 1 !== e.className.toString().indexOf("mce-")
            }
        },
        kx = function(e, t) {
            Vn.detect().browser.isIE() ?
            function(e) {
                e.on("focusout",
                function() {
                    Cp.store(e)
                })
            } (e) : function(e, t) {
                e.on("mouseup touchend",
                function(e) {
                    t.throttle()
                })
            } (e, t),
            e.on("keyup nodechange",
            function(t) { (function(e) {
                    return "nodechange" === e.type && e.selectionChange
                })(t) || Cp.store(e)
            })
        },
        Ex = function(e) {
            var t = _i(function() {
                Cp.store(e)
            },
            0);
            e.inline &&
            function(e, t) {
                var n = function() {
                    t.throttle()
                };
                li.DOM.bind(document, "mouseup", n),
                e.on("remove",
                function() {
                    li.DOM.unbind(document, "mouseup", n)
                })
            } (e, t),
            e.on("init",
            function() {
                kx(e, t)
            }),
            e.on("remove",
            function() {
                t.cancel()
            })
        },
        Tx = li.DOM, Sx = function(e) {
            return _x.isEditorUIElement(e)
        },
        Nx = function(e, t) {
            var n = e ? e.settings.custom_ui_selector: "";
            return null !== Tx.getParent(t,
            function(t) {
                return Sx(t) || !!n && e.dom.is(t, n)
            })
        },
        Rx = function(e, t) {
            var n = t.editor;
            Ex(n),
            n.on("focusin",
            function() {
                var t = e.focusedEditor;
                t !== this && (t && t.fire("blur", {
                    focusedEditor: this
                }), e.setActive(this), e.focusedEditor = this, this.fire("focus", {
                    blurredEditor: t
                }), this.focus(!0))
            }),
            n.on("focusout",
            function() {
                var t = this;
                De.setEditorTimeout(t,
                function() {
                    var n = e.focusedEditor;
                    Nx(t,
                    function() {
                        try {
                            return document.activeElement
                        } catch(e) {
                            return document.body
                        }
                    } ()) || n !== t || (t.fire("blur", {
                        focusedEditor: null
                    }), e.focusedEditor = null)
                })
            }),
            wx || (wx = function(t) {
                var n, r = e.activeEditor;
                n = t.target,
                r && n.ownerDocument === document && (n === document.body || Nx(r, n) || e.focusedEditor !== r || (r.fire("blur", {
                    focusedEditor: null
                }), e.focusedEditor = null))
            },
            Tx.bind(document, "focusin", wx))
        },
        Ax = function(e, t) {
            e.focusedEditor === t.editor && (e.focusedEditor = null),
            e.activeEditor || (Tx.unbind(document, "focusin", wx), wx = null)
        },
        Ox = function(e) {
            e.on("AddEditor", b(Rx, e)),
            e.on("RemoveEditor", b(Ax, e))
        },
        Dx = {},
        Px = "en", Bx = {
            setCode: function(e) {
                e && (Px = e, this.rtl = !!this.data[e] && "rtl" === this.data[e]._dir)
            },
            getCode: function() {
                return Px
            },
            rtl: !1,
            add: function(e, t) {
                var n = Dx[e];
                for (var r in n || (Dx[e] = n = {}), t) n[r] = t[r];
                this.setCode(e)
            },
            translate: function(e) {
                var t = Dx[Px] || {},
                n = function(e) {
                    return Kt.is(e, "function") ? Object.prototype.toString.call(e) : r(e) ? "": "" + e
                },
                r = function(e) {
                    return "" === e || null === e || Kt.is(e, "undefined")
                },
                o = function(e) {
                    return e = n(e),
                    Kt.hasOwn(t, e) ? n(t[e]) : e
                };
                if (r(e)) return "";
                if (Kt.is(e, "object") && Kt.hasOwn(e, "raw")) return n(e.raw);
                if (Kt.is(e, "array")) {
                    var i = e.slice(1);
                    e = o(e[0]).replace(/\{([0-9]+)\}/g,
                    function(e, t) {
                        return Kt.hasOwn(i, t) ? n(i[t]) : e
                    })
                }
                return o(e).replace(/{context:\w+}$/, "")
            },
            data: Dx
        },
        Mx = li.DOM, Ix = Kt.explode, Lx = Kt.each, Fx = Kt.extend, Wx = 0, Hx = !1, jx = [], Ux = [], zx = function(e) {
            Lx(Cx.get(),
            function(t) {
                "scroll" === e.type ? t.fire("ScrollWindow", e) : t.fire("ResizeWindow", e)
            })
        },
        Vx = function(e) {
            e !== Hx && (e ? mn(window).on("resize scroll", zx) : mn(window).off("resize scroll", zx), Hx = e)
        },
        $x = function(e) {
            var t = Ux;
            delete jx[e.id];
            for (var n = 0; n < jx.length; n++) if (jx[n] === e) {
                jx.splice(n, 1);
                break
            }
            return Ux = j(Ux,
            function(t) {
                return e !== t
            }),
            Cx.activeEditor === e && (Cx.activeEditor = Ux.length > 0 ? Ux[0] : null),
            Cx.focusedEditor === e && (Cx.focusedEditor = null),
            t.length !== Ux.length
        }; Cx = {
            defaultSettings: {},
            $: mn,
            majorVersion: "4",
            minorVersion: "8.4",
            releaseDate: "2018-10-23",
            editors: jx,
            i18n: Bx,
            activeEditor: null,
            settings: {},
            setup: function() {
                var e, t, n, r, o = "";
                if (t = rx.getDocumentBaseUrl(document.location), /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), n = window.tinymce || window.tinyMCEPreInit) e = n.base || n.baseURL,
                o = n.suffix;
                else {
                    for (var i = document.getElementsByTagName("script"), a = 0; a < i.length; a++) {
                        var s = (r = i[a].src).substring(r.lastIndexOf("/"));
                        if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)) { - 1 !== s.indexOf(".min") && (o = ".min"),
                            e = r.substring(0, r.lastIndexOf("/"));
                            break
                        }
                    } ! e && document.currentScript && ( - 1 !== (r = document.currentScript.src).indexOf(".min") && (o = ".min"), e = r.substring(0, r.lastIndexOf("/")))
                }
                this.baseURL = new rx(t).toAbsolute(e),
                this.documentBaseURL = t,
                this.baseURI = new rx(this.baseURL),
                this.suffix = o,
                Ox(this)
            },
            overrideDefaults: function(e) {
                var t, n; (t = e.base_url) && (this.baseURL = new rx(this.documentBaseURL).toAbsolute(t.replace(/\/+$/, "")), this.baseURI = new rx(this.baseURL)),
                n = e.suffix,
                e.suffix && (this.suffix = n),
                this.defaultSettings = e;
                var r = e.plugin_base_urls;
                for (var o in r) hi.PluginManager.urls[o] = r[o]
            },
            init: function(e) {
                var t, n, r = this;
                n = Kt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu", " ");
                var o = function(e) {
                    var t = e.id;
                    return t || (t = (t = e.name) && !Mx.get(t) ? e.name: Mx.uniqueId(), e.setAttribute("id", t)),
                    t
                },
                i = function(e, t) {
                    return t.constructor === RegExp ? t.test(e.className) : Mx.hasClass(e, t)
                },
                a = function(e) {
                    t = e
                },
                s = function() {
                    var t, l = 0,
                    u = [],
                    c = function(e, n, o) {
                        var i = new yx(e, n, r);
                        u.push(i),
                        i.on("init",
                        function() {++l === t.length && a(u)
                        }),
                        i.targetElm = i.targetElm || o,
                        i.render()
                    };
                    Mx.unbind(window, "ready", s),
                    function(t) {
                        var n = e[t];
                        n && n.apply(r, Array.prototype.slice.call(arguments, 2))
                    } ("onpageload"),
                    t = mn.unique(function(e) {
                        var t, n = [];
                        if (Se.ie && Se.ie < 11) return kh.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),
                        [];
                        if (e.types) return Lx(e.types,
                        function(e) {
                            n = n.concat(Mx.select(e.selector))
                        }),
                        n;
                        if (e.selector) return Mx.select(e.selector);
                        if (e.target) return [e.target];
                        switch (e.mode) {
                        case "exact":
                            (t = e.elements || "").length > 0 && Lx(Ix(t),
                            function(e) {
                                var t; (t = Mx.get(e)) ? n.push(t) : Lx(document.forms,
                                function(t) {
                                    Lx(t.elements,
                                    function(t) {
                                        t.name === e && (e = "mce_editor_" + Wx++, Mx.setAttrib(t, "id", e), n.push(t))
                                    })
                                })
                            });
                            break;
                        case "textareas":
                        case "specific_textareas":
                            Lx(Mx.select("textarea"),
                            function(t) {
                                e.editor_deselector && i(t, e.editor_deselector) || e.editor_selector && !i(t, e.editor_selector) || n.push(t)
                            })
                        }
                        return n
                    } (e)),
                    e.types ? Lx(e.types,
                    function(n) {
                        Kt.each(t,
                        function(t) {
                            return ! Mx.is(t, n.selector) || (c(o(t), Fx({},
                            e, n), t), !1)
                        })
                    }) : (Kt.each(t,
                    function(e) {
                        var t; (t = r.get(e.id)) && t.initialized && !(t.getContainer() || t.getBody()).parentNode && ($x(t), t.unbindAllNativeEvents(), t.destroy(!0), t.removed = !0, t = null)
                    }), 0 === (t = Kt.grep(t,
                    function(e) {
                        return ! r.get(e.id)
                    })).length ? a([]) : Lx(t,
                    function(t) { !
                        function(e, t) {
                            return e.inline && t.tagName.toLowerCase() in n
                        } (e, t) ? c(o(t), e, t) : kh.initError("Could not initialize inline editor on invalid inline target element", t)
                    }))
                };
                return r.settings = e,
                Mx.bind(window, "ready", s),
                new Ne(function(e) {
                    t ? e(t) : a = function(t) {
                        e(t)
                    }
                })
            },
            get: function(e) {
                return 0 === arguments.length ? Ux.slice(0) : N(e) ? z(Ux,
                function(t) {
                    return t.id === e
                }).getOr(null) : B(e) && Ux[e] ? Ux[e] : null
            },
            add: function(e) {
                var t = this;
                return jx[e.id] === e ? e: (null === t.get(e.id) && ("length" !== e.id && (jx[e.id] = e), jx.push(e), Ux.push(e)), Vx(!0), t.activeEditor = e, t.fire("AddEditor", {
                    editor: e
                }), xx || (xx = function() {
                    t.fire("BeforeUnload")
                },
                Mx.bind(window, "beforeunload", xx)), e)
            },
            createEditor: function(e, t) {
                return this.add(new yx(e, t, this))
            },
            remove: function(e) {
                var t, n, r = this;
                if (e) {
                    if (!N(e)) return n = e,
                    O(r.get(n.id)) ? null: ($x(n) && r.fire("RemoveEditor", {
                        editor: n
                    }), 0 === Ux.length && Mx.unbind(window, "beforeunload", xx), n.remove(), Vx(Ux.length > 0), n);
                    Lx(Mx.select(e),
                    function(e) { (n = r.get(e.id)) && r.remove(n)
                    })
                } else for (t = Ux.length - 1; t >= 0; t--) r.remove(Ux[t])
            },
            execCommand: function(e, t, n) {
                var r = this.get(n);
                switch (e) {
                case "mceAddEditor":
                    return this.get(n) || new yx(n, this.settings, this).render(),
                    !0;
                case "mceRemoveEditor":
                    return r && r.remove(),
                    !0;
                case "mceToggleEditor":
                    return r ? (r.isHidden() ? r.show() : r.hide(), !0) : (this.execCommand("mceAddEditor", 0, n), !0)
                }
                return !! this.activeEditor && this.activeEditor.execCommand(e, t, n)
            },
            triggerSave: function() {
                Lx(Ux,
                function(e) {
                    e.save()
                })
            },
            addI18n: function(e, t) {
                Bx.add(e, t)
            },
            translate: function(e) {
                return Bx.translate(e)
            },
            setActive: function(e) {
                var t = this.activeEditor;
                this.activeEditor !== e && (t && t.fire("deactivate", {
                    relatedTarget: e
                }), e.fire("activate", {
                    relatedTarget: t
                })),
                this.activeEditor = e
            }
        },
        Fx(Cx, Pp), Cx.setup();
        var qx = Cx;
        function Kx(e) {
            return {
                walk: function(t, n) {
                    return uc.walk(e, t, n)
                },
                split: dv.split,
                normalize: function(t) {
                    return Ym.normalize(e, t).fold(g(!1),
                    function(e) {
                        return t.setStart(e.startContainer, e.startOffset),
                        t.setEnd(e.endContainer, e.endOffset),
                        !0
                    })
                }
            }
        } !
        function(e) {
            e.compareRanges = Wm.isEq,
            e.getCaretRangeFromPoint = qb.fromPoint,
            e.getSelectedNode = Qa,
            e.getNode = Za
        } (Kx || (Kx = {}));
        var Yx, Xx, Gx = Kx,
        Jx = Math.min,
        Qx = Math.max,
        Zx = Math.round,
        eC = function(e, t, n) {
            var r, o, i, a, s, l;
            return r = t.x,
            o = t.y,
            i = e.w,
            a = e.h,
            s = t.w,
            l = t.h,
            "b" === (n = (n || "").split(""))[0] && (o += l),
            "r" === n[1] && (r += s),
            "c" === n[0] && (o += Zx(l / 2)),
            "c" === n[1] && (r += Zx(s / 2)),
            "b" === n[3] && (o -= a),
            "r" === n[4] && (r -= i),
            "c" === n[3] && (o -= Zx(a / 2)),
            "c" === n[4] && (r -= Zx(i / 2)),
            tC(r, o, i, a)
        },
        tC = function(e, t, n, r) {
            return {
                x: e,
                y: t,
                w: n,
                h: r
            }
        },
        nC = {
            inflate: function(e, t, n) {
                return tC(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n)
            },
            relativePosition: eC,
            findBestRelativePosition: function(e, t, n, r) {
                var o, i;
                for (i = 0; i < r.length; i++) if ((o = eC(e, t, r[i])).x >= n.x && o.x + o.w <= n.w + n.x && o.y >= n.y && o.y + o.h <= n.h + n.y) return r[i];
                return null
            },
            intersect: function(e, t) {
                var n, r, o, i;
                return n = Qx(e.x, t.x),
                r = Qx(e.y, t.y),
                o = Jx(e.x + e.w, t.x + t.w),
                i = Jx(e.y + e.h, t.y + t.h),
                o - n < 0 || i - r < 0 ? null: tC(n, r, o - n, i - r)
            },
            clamp: function(e, t, n) {
                var r, o, i, a, s, l, u, c, d, f;
                return s = e.x,
                l = e.y,
                u = e.x + e.w,
                c = e.y + e.h,
                d = t.x + t.w,
                f = t.y + t.h,
                r = Qx(0, t.x - s),
                o = Qx(0, t.y - l),
                i = Qx(0, u - d),
                a = Qx(0, c - f),
                s += r,
                l += o,
                n && (u += r, c += o, s -= i, l -= a),
                tC(s, l, (u -= i) - s, (c -= a) - l)
            },
            create: tC,
            fromClientRect: function(e) {
                return tC(e.left, e.top, e.width, e.height)
            }
        },
        rC = {},
        oC = {
            add: function(e, t) {
                rC[e.toLowerCase()] = t
            },
            has: function(e) {
                return !! rC[e.toLowerCase()]
            },
            get: function(e) {
                var t = e.toLowerCase(),
                n = rC.hasOwnProperty(t) ? rC[t] : null;
                if (null === n) throw new Error("Could not find module for type: " + e);
                return n
            },
            create: function(e, t) {
                var n;
                if ("string" == typeof e ? (t = t || {}).type = e: e = (t = e).type, e = e.toLowerCase(), !(n = rC[e])) throw new Error("Could not find control by type: " + e);
                return (n = new n(t)).type = e,
                n
            }
        },
        iC = Kt.each, aC = Kt.extend, sC = function() {}; sC.extend = Yx = function(e) {
            var t, n, r, o = this.prototype,
            i = function() {
                var e, t, n;
                if (!Xx && (this.init && this.init.apply(this, arguments), t = this.Mixins)) for (e = t.length; e--;)(n = t[e]).init && n.init.apply(this, arguments)
            },
            a = function() {
                return this
            },
            s = function(e, t) {
                return function() {
                    var n, r = this._super;
                    return this._super = o[e],
                    n = t.apply(this, arguments),
                    this._super = r,
                    n
                }
            };
            for (n in Xx = !0, t = new this, Xx = !1, e.Mixins && (iC(e.Mixins,
            function(t) {
                for (var n in t)"init" !== n && (e[n] = t[n])
            }), o.Mixins && (e.Mixins = o.Mixins.concat(e.Mixins))), e.Methods && iC(e.Methods.split(","),
            function(t) {
                e[t] = a
            }), e.Properties && iC(e.Properties.split(","),
            function(t) {
                var n = "_" + t;
                e[t] = function(e) {
                    return void 0 !== e ? (this[n] = e, this) : this[n]
                }
            }), e.Statics && iC(e.Statics,
            function(e, t) {
                i[t] = e
            }), e.Defaults && o.Defaults && (e.Defaults = aC({},
            o.Defaults, e.Defaults)), e)"function" == typeof(r = e[n]) && o[n] ? t[n] = s(n, r) : t[n] = r;
            return i.prototype = t,
            i.constructor = i,
            i.extend = Yx,
            i
        };
        var lC = Math.min,
        uC = Math.max,
        cC = Math.round,
        dC = function(e, t) {
            var n, r, o, i;
            if (t = t || '"', null === e) return "null";
            if ("string" == (o = typeof e)) return r = "\bb\tt\nn\ff\rr\"\"''\\\\",
            t + e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,
            function(e, o) {
                return '"' === t && "'" === e ? e: (n = r.indexOf(o)) + 1 ? "\\" + r.charAt(n + 1) : (e = o.charCodeAt().toString(16), "\\u" + "0000".substring(e.length) + e)
            }) + t;
            if ("object" === o) {
                if (e.hasOwnProperty && "[object Array]" === Object.prototype.toString.call(e)) {
                    for (n = 0, r = "["; n < e.length; n++) r += (n > 0 ? ",": "") + dC(e[n], t);
                    return r + "]"
                }
                for (i in r = "{", e) e.hasOwnProperty(i) && (r += "function" != typeof e[i] ? (r.length > 1 ? "," + t: t) + i + t + ":" + dC(e[i], t) : "");
                return r + "}"
            }
            return "" + e
        },
        fC = {
            serialize: dC,
            parse: function(e) {
                try {
                    return JSON.parse(e)
                } catch(e) {}
            }
        },
        mC = {
            callbacks: {},
            count: 0,
            send: function(e) {
                var t = this,
                n = li.DOM,
                r = void 0 !== e.count ? e.count: t.count,
                o = "tinymce_jsonp_" + r;
                t.callbacks[r] = function(i) {
                    n.remove(o),
                    delete t.callbacks[r],
                    e.callback(i)
                },
                n.add(n.doc.body, "script", {
                    id: o,
                    src: e.url,
                    type: "text/javascript"
                }),
                t.count++
            }
        },
        pC = {
            send: function(e) {
                var t, n = 0,
                r = function() { ! e.async || 4 === t.readyState || n++>1e4 ? (e.success && n < 1e4 && 200 === t.status ? e.success.call(e.success_scope, "" + t.responseText, t, e) : e.error && e.error.call(e.error_scope, n > 1e4 ? "TIMED_OUT": "GENERAL", t, e), t = null) : setTimeout(r, 10)
                };
                if (e.scope = e.scope || this, e.success_scope = e.success_scope || e.scope, e.error_scope = e.error_scope || e.scope, e.async = !1 !== e.async, e.data = e.data || "", pC.fire("beforeInitialize", {
                    settings: e
                }), t = Sh()) {
                    if (t.overrideMimeType && t.overrideMimeType(e.content_type), t.open(e.type || (e.data ? "POST": "GET"), e.url, e.async), e.crossDomain && (t.withCredentials = !0), e.content_type && t.setRequestHeader("Content-Type", e.content_type), e.requestheaders && Kt.each(e.requestheaders,
                    function(e) {
                        t.setRequestHeader(e.key, e.value)
                    }), t.setRequestHeader("X-Requested-With", "XMLHttpRequest"), (t = pC.fire("beforeSend", {
                        xhr: t,
                        settings: e
                    }).xhr).send(e.data), !e.async) return r();
                    setTimeout(r, 10)
                }
            }
        }; Kt.extend(pC, Pp);
        var hC, gC = Kt.extend,
        vC = function(e) {
            this.settings = gC({},
            e),
            this.count = 0
        }; vC.sendRPC = function(e) {
            return (new vC).send(e)
        },
        vC.prototype = {
            send: function(e) {
                var t = e.error,
                n = e.success; (e = gC(this.settings, e)).success = function(r, o) {
                    void 0 === (r = fC.parse(r)) && (r = {
                        error: "JSON Parse error."
                    }),
                    r.error ? t.call(e.error_scope || e.scope, r.error, o) : n.call(e.success_scope || e.scope, r.result)
                },
                e.error = function(n, r) {
                    t && t.call(e.error_scope || e.scope, n, r)
                },
                e.data = fC.serialize({
                    id: e.id || "c" + this.count++,
                    method: e.method,
                    params: e.params
                }),
                e.content_type = "application/json",
                pC.send(e)
            }
        };
        try {
            hC = window.localStorage
        } catch(e) {
            hC = function() {
                return e = {},
                t = [],
                n = {
                    getItem: function(t) {
                        var n = e[t];
                        return n || null
                    },
                    setItem: function(n, r) {
                        t.push(n),
                        e[n] = String(r)
                    },
                    key: function(e) {
                        return t[e]
                    },
                    removeItem: function(n) {
                        t = t.filter(function(e) {
                            return e === n
                        }),
                        delete e[n]
                    },
                    clear: function() {
                        t = [],
                        e = {}
                    },
                    length: 0
                },
                Object.defineProperty(n, "length", {
                    get: function() {
                        return t.length
                    },
                    configurable: !1,
                    enumerable: !1
                }),
                n;
                var e, t, n
            } ()
        }
        var bC = qx,
        yC = {
            geom: {
                Rect: nC
            },
            util: {
                Promise: Ne,
                Delay: De,
                Tools: Kt,
                VK: Sg,
                URI: rx,
                Class: sC,
                EventDispatcher: Ap,
                Observable: Pp,
                I18n: Bx,
                XHR: pC,
                JSON: fC,
                JSONRequest: vC,
                JSONP: mC,
                LocalStorage: hC,
                Color: function(e) {
                    var t = {},
                    n = 0,
                    r = 0,
                    o = 0,
                    i = function(e) {
                        var i;
                        return "object" == typeof e ? "r" in e ? (n = e.r, r = e.g, o = e.b) : "v" in e &&
                        function(e, t, i) {
                            var a, s, l, u;
                            if (e = (parseInt(e, 10) || 0) % 360, t = parseInt(t, 10) / 100, i = parseInt(i, 10) / 100, t = uC(0, lC(t, 1)), i = uC(0, lC(i, 1)), 0 !== t) {
                                switch (a = e / 60, l = (s = i * t) * (1 - Math.abs(a % 2 - 1)), u = i - s, Math.floor(a)) {
                                case 0:
                                    n = s,
                                    r = l,
                                    o = 0;
                                    break;
                                case 1:
                                    n = l,
                                    r = s,
                                    o = 0;
                                    break;
                                case 2:
                                    n = 0,
                                    r = s,
                                    o = l;
                                    break;
                                case 3:
                                    n = 0,
                                    r = l,
                                    o = s;
                                    break;
                                case 4:
                                    n = l,
                                    r = 0,
                                    o = s;
                                    break;
                                case 5:
                                    n = s,
                                    r = 0,
                                    o = l;
                                    break;
                                default:
                                    n = r = o = 0
                                }
                                n = cC(255 * (n + u)),
                                r = cC(255 * (r + u)),
                                o = cC(255 * (o + u))
                            } else n = r = o = cC(255 * i)
                        } (e.h, e.s, e.v) : (i = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)) ? (n = parseInt(i[1], 10), r = parseInt(i[2], 10), o = parseInt(i[3], 10)) : (i = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)) ? (n = parseInt(i[1], 16), r = parseInt(i[2], 16), o = parseInt(i[3], 16)) : (i = /#([0-F])([0-F])([0-F])/gi.exec(e)) && (n = parseInt(i[1] + i[1], 16), r = parseInt(i[2] + i[2], 16), o = parseInt(i[3] + i[3], 16)),
                        n = n < 0 ? 0 : n > 255 ? 255 : n,
                        r = r < 0 ? 0 : r > 255 ? 255 : r,
                        o = o < 0 ? 0 : o > 255 ? 255 : o,
                        t
                    };
                    return e && i(e),
                    t.toRgb = function() {
                        return {
                            r: n,
                            g: r,
                            b: o
                        }
                    },
                    t.toHsv = function() {
                        return function(e, t, n) {
                            var r, o, i, a;
                            return o = 0,
                            (i = lC(e /= 255, lC(t /= 255, n /= 255))) === (a = uC(e, uC(t, n))) ? {
                                h: 0,
                                s: 0,
                                v: 100 * (o = i)
                            }: (r = (a - i) / a, o = a, {
                                h: cC(60 * ((e === i ? 3 : n === i ? 1 : 5) - (e === i ? t - n: n === i ? e - t: n - e) / (a - i))),
                                s: cC(100 * r),
                                v: cC(100 * o)
                            })
                        } (n, r, o)
                    },
                    t.toHex = function() {
                        var e = function(e) {
                            return (e = parseInt(e, 10).toString(16)).length > 1 ? e: "0" + e
                        };
                        return "#" + e(n) + e(r) + e(o)
                    },
                    t.parse = i,
                    t
                }
            },
            dom: {
                EventUtils: je,
                Sizzle: kt,
                DomQuery: mn,
                TreeWalker: Qr,
                DOMUtils: li,
                ScriptLoader: mi,
                RangeUtils: Gx,
                Serializer: Wb,
                ControlSelection: Vb,
                BookmarkManager: jb,
                Selection: xy,
                Event: je.Event
            },
            html: {
                Styles: Qo,
                Entities: Wo,
                Node: _b,
                Schema: Go,
                SaxParser: Wg,
                DomParser: Bb,
                Writer: Pc,
                Serializer: Bc
            },
            ui: {
                Factory: oC
            },
            Env: Se,
            AddOnManager: hi,
            Annotator: vc,
            Formatter: db,
            UndoManager: nv,
            EditorCommands: Np,
            WindowManager: yh,
            NotificationManager: bh,
            EditorObservable: Yp,
            Shortcuts: Zp,
            Editor: yx,
            FocusManager: _x,
            EditorManager: qx,
            DOM: li.DOM,
            ScriptLoader: mi.ScriptLoader,
            PluginManager: hi.PluginManager,
            ThemeManager: hi.ThemeManager,
            trim: Kt.trim,
            isArray: Kt.isArray,
            is: Kt.is,
            toArray: Kt.toArray,
            makeMap: Kt.makeMap,
            each: Kt.each,
            map: Kt.map,
            grep: Kt.grep,
            inArray: Kt.inArray,
            extend: Kt.extend,
            create: Kt.create,
            walk: Kt.walk,
            createNS: Kt.createNS,
            resolve: Kt.resolve,
            explode: Kt.explode,
            _addCacheSuffix: Kt._addCacheSuffix,
            isOpera: Se.opera,
            isWebKit: Se.webkit,
            isIE: Se.ie,
            isGecko: Se.gecko,
            isMac: Se.mac
        },
        wC = bC = Kt.extend(bC, yC); !
        function(e) {
            window.tinymce = e,
            window.tinyMCE = e
        } (wC),
        function(t) {
            try {
                e.exports = t
            } catch(e) {}
        } (wC)
    } ()
},
"5c0b": function(e, t, n) {
    "use strict";
    var r = n("5e27");
    n.n(r).a
},
"5e27": function(e, t, n) {},
"5ecf": function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = function(e, t) {
            var n;
            return e.dom.getParents(e.selection.getStart(),
            function(e) {
                var r; (r = e.style["forecolor" === t ? "color": "background-color"]) && (n = n || r)
            }),
            n
        },
        n = function(e) {
            var t, n = [];
            for (t = 0; t < e.length; t += 2) n.push({
                text: e[t + 1],
                color: "#" + e[t]
            });
            return n
        },
        r = function(e, t, n) {
            e.undoManager.transact(function() {
                e.focus(),
                e.formatter.apply(t, {
                    value: n
                }),
                e.nodeChanged()
            })
        },
        o = function(e, t) {
            e.undoManager.transact(function() {
                e.focus(),
                e.formatter.remove(t, {
                    value: null
                },
                null, !0),
                e.nodeChanged()
            })
        },
        i = function(e) {
            e.addCommand("mceApplyTextcolor",
            function(t, n) {
                r(e, t, n)
            }),
            e.addCommand("mceRemoveTextcolor",
            function(t) {
                o(e, t)
            })
        },
        a = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
        s = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        l = ["000000", "Black", "993300", "Burnt orange", "333300", "Dark olive", "003300", "Dark green", "003366", "Dark azure", "000080", "Navy Blue", "333399", "Indigo", "333333", "Very dark gray", "800000", "Maroon", "FF6600", "Orange", "808000", "Olive", "008000", "Green", "008080", "Teal", "0000FF", "Blue", "666699", "Grayish blue", "808080", "Gray", "FF0000", "Red", "FF9900", "Amber", "99CC00", "Yellow green", "339966", "Sea green", "33CCCC", "Turquoise", "3366FF", "Royal blue", "800080", "Purple", "999999", "Medium gray", "FF00FF", "Magenta", "FFCC00", "Gold", "FFFF00", "Yellow", "00FF00", "Lime", "00FFFF", "Aqua", "00CCFF", "Sky blue", "993366", "Red violet", "FFFFFF", "White", "FF99CC", "Pink", "FFCC99", "Peach", "FFFF99", "Light yellow", "CCFFCC", "Pale green", "CCFFFF", "Pale cyan", "99CCFF", "Light sky blue", "CC99FF", "Plum"],
        u = function(e) {
            return e.getParam("textcolor_map", l)
        },
        c = function(e) {
            return e.getParam("textcolor_rows", 5)
        },
        d = function(e) {
            return e.getParam("textcolor_cols", 8)
        },
        f = function(e) {
            return e.getParam("color_picker_callback", null)
        },
        m = function(e) {
            return e.getParam("forecolor_map", u(e))
        },
        p = function(e) {
            return e.getParam("backcolor_map", u(e))
        },
        h = function(e) {
            return e.getParam("forecolor_rows", c(e))
        },
        g = function(e) {
            return e.getParam("backcolor_rows", c(e))
        },
        v = function(e) {
            return e.getParam("forecolor_cols", d(e))
        },
        b = function(e) {
            return e.getParam("backcolor_cols", d(e))
        },
        y = f,
        w = function(e) {
            return "function" == typeof f(e)
        },
        x = tinymce.util.Tools.resolve("tinymce.util.I18n"),
        C = function(e, t, r, o) {
            var i, s, l, u, c, d, f, m = 0,
            p = a.DOM.uniqueId("mcearia"),
            h = function(e, t) {
                var n = "transparent" === e;
                return '<td class="mce-grid-cell' + (n ? " mce-colorbtn-trans": "") + '"><div id="' + p + "-" + m+++'" data-mce-color="' + (e || "") + '" role="option" tabIndex="-1" style="' + (e ? "background-color: " + e: "") + '" title="' + x.translate(t) + '">' + (n ? "&#215;": "") + "</div></td>"
            };
            for ((i = n(r)).push({
                text: x.translate("No color"),
                color: "transparent"
            }), l = '<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>', u = i.length - 1, d = 0; d < t; d++) {
                for (l += "<tr>", c = 0; c < e; c++) l += (f = d * e + c) > u ? "<td></td>": h((s = i[f]).color, s.text);
                l += "</tr>"
            }
            if (o) {
                for (l += '<tr><td colspan="' + e + '" class="mce-custom-color-btn"><div id="' + p + '-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="' + p + '-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">' + x.translate("Custom...") + "</button></div></td></tr>", l += "<tr>", c = 0; c < e; c++) l += h("", "Custom color");
                l += "</tr>"
            }
            return l + "</tbody></table>"
        },
        _ = function(e, t) {
            e.style.background = t,
            e.setAttribute("data-mce-color", t)
        },
        k = function(e) {
            return function(t) {
                var n = t.control;
                n._color ? e.execCommand("mceApplyTextcolor", n.settings.format, n._color) : e.execCommand("mceRemoveTextcolor", n.settings.format)
            }
        },
        E = function(e, n) {
            return function(r) {
                var o, i = this.parent(),
                l = t(e, i.settings.format),
                u = function(t) {
                    e.execCommand("mceApplyTextcolor", i.settings.format, t),
                    i.hidePanel(),
                    i.color(t)
                };
                a.DOM.getParent(r.target, ".mce-custom-color-btn") && (i.hidePanel(), y(e).call(e,
                function(e) {
                    var t, r, o, a = i.panel.getEl().getElementsByTagName("table")[0];
                    for (t = s.map(a.rows[a.rows.length - 1].childNodes,
                    function(e) {
                        return e.firstChild
                    }), o = 0; o < t.length && (r = t[o]).getAttribute("data-mce-color"); o++);
                    if (o === n) for (o = 0; o < n - 1; o++) _(t[o], t[o + 1].getAttribute("data-mce-color"));
                    _(r, e),
                    u(e)
                },
                l)),
                (o = r.target.getAttribute("data-mce-color")) ? (this.lastId && a.DOM.get(this.lastId).setAttribute("aria-selected", "false"), r.target.setAttribute("aria-selected", !0), this.lastId = r.target.id, "transparent" === o ? (e.execCommand("mceRemoveTextcolor", i.settings.format), i.hidePanel(), i.resetColor()) : u(o)) : null !== o && i.hidePanel()
            }
        },
        T = function(e, t) {
            return function() {
                var n = t ? v(e) : b(e),
                r = t ? h(e) : g(e),
                o = t ? m(e) : p(e),
                i = w(e);
                return C(n, r, o, i)
            }
        },
        S = function(e) {
            e.addButton("forecolor", {
                type: "colorbutton",
                tooltip: "Text color",
                format: "forecolor",
                panel: {
                    role: "application",
                    ariaRemember: !0,
                    html: T(e, !0),
                    onclick: E(e, v(e))
                },
                onclick: k(e)
            }),
            e.addButton("backcolor", {
                type: "colorbutton",
                tooltip: "Background color",
                format: "hilitecolor",
                panel: {
                    role: "application",
                    ariaRemember: !0,
                    html: T(e, !1),
                    onclick: E(e, b(e))
                },
                onclick: k(e)
            })
        };
        e.add("textcolor",
        function(e) {
            i(e),
            S(e)
        })
    } ()
},
"65ff": function(e, t, n) {},
"6cba": function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = function(e, t) {
            return e.fire("insertCustomChar", {
                chr: t
            })
        },
        n = function(e, n) {
            var r = t(e, n).chr;
            e.execCommand("mceInsertContent", !1, r)
        },
        r = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        o = function(e) {
            return e.settings.charmap
        },
        i = function(e) {
            return e.settings.charmap_append
        },
        a = r.isArray,
        s = function(e) {
            return a(e) ? [].concat((t = e, r.grep(t,
            function(e) {
                return a(e) && 2 === e.length
            }))) : "function" == typeof e ? e() : [];
            var t
        }, l = function(e) {
            return function(e, t) {
                var n = o(e);
                n && (t = s(n));
                var r = i(e);
                return r ? [].concat(t).concat(s(r)) : t
            } (e, [["160", "no-break space"], ["173", "soft hyphen"], ["34", "quotation mark"], ["162", "cent sign"], ["8364", "euro sign"], ["163", "pound sign"], ["165", "yen sign"], ["169", "copyright sign"], ["174", "registered sign"], ["8482", "trade mark sign"], ["8240", "per mille sign"], ["181", "micro sign"], ["183", "middle dot"], ["8226", "bullet"], ["8230", "three dot leader"], ["8242", "minutes / feet"], ["8243", "seconds / inches"], ["167", "section sign"], ["182", "paragraph sign"], ["223", "sharp s / ess-zed"], ["8249", "single left-pointing angle quotation mark"], ["8250", "single right-pointing angle quotation mark"], ["171", "left pointing guillemet"], ["187", "right pointing guillemet"], ["8216", "left single quotation mark"], ["8217", "right single quotation mark"], ["8220", "left double quotation mark"], ["8221", "right double quotation mark"], ["8218", "single low-9 quotation mark"], ["8222", "double low-9 quotation mark"], ["60", "less-than sign"], ["62", "greater-than sign"], ["8804", "less-than or equal to"], ["8805", "greater-than or equal to"], ["8211", "en dash"], ["8212", "em dash"], ["175", "macron"], ["8254", "overline"], ["164", "currency sign"], ["166", "broken bar"], ["168", "diaeresis"], ["161", "inverted exclamation mark"], ["191", "turned question mark"], ["710", "circumflex accent"], ["732", "small tilde"], ["176", "degree sign"], ["8722", "minus sign"], ["177", "plus-minus sign"], ["247", "division sign"], ["8260", "fraction slash"], ["215", "multiplication sign"], ["185", "superscript one"], ["178", "superscript two"], ["179", "superscript three"], ["188", "fraction one quarter"], ["189", "fraction one half"], ["190", "fraction three quarters"], ["402", "function / florin"], ["8747", "integral"], ["8721", "n-ary sumation"], ["8734", "infinity"], ["8730", "square root"], ["8764", "similar to"], ["8773", "approximately equal to"], ["8776", "almost equal to"], ["8800", "not equal to"], ["8801", "identical to"], ["8712", "element of"], ["8713", "not an element of"], ["8715", "contains as member"], ["8719", "n-ary product"], ["8743", "logical and"], ["8744", "logical or"], ["172", "not sign"], ["8745", "intersection"], ["8746", "union"], ["8706", "partial differential"], ["8704", "for all"], ["8707", "there exists"], ["8709", "diameter"], ["8711", "backward difference"], ["8727", "asterisk operator"], ["8733", "proportional to"], ["8736", "angle"], ["180", "acute accent"], ["184", "cedilla"], ["170", "feminine ordinal indicator"], ["186", "masculine ordinal indicator"], ["8224", "dagger"], ["8225", "double dagger"], ["192", "A - grave"], ["193", "A - acute"], ["194", "A - circumflex"], ["195", "A - tilde"], ["196", "A - diaeresis"], ["197", "A - ring above"], ["256", "A - macron"], ["198", "ligature AE"], ["199", "C - cedilla"], ["200", "E - grave"], ["201", "E - acute"], ["202", "E - circumflex"], ["203", "E - diaeresis"], ["274", "E - macron"], ["204", "I - grave"], ["205", "I - acute"], ["206", "I - circumflex"], ["207", "I - diaeresis"], ["298", "I - macron"], ["208", "ETH"], ["209", "N - tilde"], ["210", "O - grave"], ["211", "O - acute"], ["212", "O - circumflex"], ["213", "O - tilde"], ["214", "O - diaeresis"], ["216", "O - slash"], ["332", "O - macron"], ["338", "ligature OE"], ["352", "S - caron"], ["217", "U - grave"], ["218", "U - acute"], ["219", "U - circumflex"], ["220", "U - diaeresis"], ["362", "U - macron"], ["221", "Y - acute"], ["376", "Y - diaeresis"], ["562", "Y - macron"], ["222", "THORN"], ["224", "a - grave"], ["225", "a - acute"], ["226", "a - circumflex"], ["227", "a - tilde"], ["228", "a - diaeresis"], ["229", "a - ring above"], ["257", "a - macron"], ["230", "ligature ae"], ["231", "c - cedilla"], ["232", "e - grave"], ["233", "e - acute"], ["234", "e - circumflex"], ["235", "e - diaeresis"], ["275", "e - macron"], ["236", "i - grave"], ["237", "i - acute"], ["238", "i - circumflex"], ["239", "i - diaeresis"], ["299", "i - macron"], ["240", "eth"], ["241", "n - tilde"], ["242", "o - grave"], ["243", "o - acute"], ["244", "o - circumflex"], ["245", "o - tilde"], ["246", "o - diaeresis"], ["248", "o slash"], ["333", "o macron"], ["339", "ligature oe"], ["353", "s - caron"], ["249", "u - grave"], ["250", "u - acute"], ["251", "u - circumflex"], ["252", "u - diaeresis"], ["363", "u - macron"], ["253", "y - acute"], ["254", "thorn"], ["255", "y - diaeresis"], ["563", "y - macron"], ["913", "Alpha"], ["914", "Beta"], ["915", "Gamma"], ["916", "Delta"], ["917", "Epsilon"], ["918", "Zeta"], ["919", "Eta"], ["920", "Theta"], ["921", "Iota"], ["922", "Kappa"], ["923", "Lambda"], ["924", "Mu"], ["925", "Nu"], ["926", "Xi"], ["927", "Omicron"], ["928", "Pi"], ["929", "Rho"], ["931", "Sigma"], ["932", "Tau"], ["933", "Upsilon"], ["934", "Phi"], ["935", "Chi"], ["936", "Psi"], ["937", "Omega"], ["945", "alpha"], ["946", "beta"], ["947", "gamma"], ["948", "delta"], ["949", "epsilon"], ["950", "zeta"], ["951", "eta"], ["952", "theta"], ["953", "iota"], ["954", "kappa"], ["955", "lambda"], ["956", "mu"], ["957", "nu"], ["958", "xi"], ["959", "omicron"], ["960", "pi"], ["961", "rho"], ["962", "final sigma"], ["963", "sigma"], ["964", "tau"], ["965", "upsilon"], ["966", "phi"], ["967", "chi"], ["968", "psi"], ["969", "omega"], ["8501", "alef symbol"], ["982", "pi symbol"], ["8476", "real part symbol"], ["978", "upsilon - hook symbol"], ["8472", "Weierstrass p"], ["8465", "imaginary part"], ["8592", "leftwards arrow"], ["8593", "upwards arrow"], ["8594", "rightwards arrow"], ["8595", "downwards arrow"], ["8596", "left right arrow"], ["8629", "carriage return"], ["8656", "leftwards double arrow"], ["8657", "upwards double arrow"], ["8658", "rightwards double arrow"], ["8659", "downwards double arrow"], ["8660", "left right double arrow"], ["8756", "therefore"], ["8834", "subset of"], ["8835", "superset of"], ["8836", "not a subset of"], ["8838", "subset of or equal to"], ["8839", "superset of or equal to"], ["8853", "circled plus"], ["8855", "circled times"], ["8869", "perpendicular"], ["8901", "dot operator"], ["8968", "left ceiling"], ["8969", "right ceiling"], ["8970", "left floor"], ["8971", "right floor"], ["9001", "left-pointing angle bracket"], ["9002", "right-pointing angle bracket"], ["9674", "lozenge"], ["9824", "black spade suit"], ["9827", "black club suit"], ["9829", "black heart suit"], ["9830", "black diamond suit"], ["8194", "en space"], ["8195", "em space"], ["8201", "thin space"], ["8204", "zero width non-joiner"], ["8205", "zero width joiner"], ["8206", "left-to-right mark"], ["8207", "right-to-left mark"]])
        },
        u = function(e) {
            return {
                getCharMap: function() {
                    return l(e)
                },
                insertChar: function(t) {
                    n(e, t)
                }
            }
        },
        c = function(e) {
            var t, n, r, o = Math.min(e.length, 25),
            i = Math.ceil(e.length / o);
            for (t = '<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>', r = 0; r < i; r++) {
                for (t += "<tr>", n = 0; n < o; n++) {
                    var a = r * o + n;
                    if (a < e.length) {
                        var s = e[a],
                        l = parseInt(s[0], 10),
                        u = s ? String.fromCharCode(l) : "&nbsp;";
                        t += '<td title="' + s[1] + '"><div tabindex="-1" title="' + s[1] + '" role="button" data-chr="' + l + '">' + u + "</div></td>"
                    } else t += "<td />"
                }
                t += "</tr>"
            }
            return t + "</tbody></table>"
        },
        d = function(e) {
            for (; e;) {
                if ("TD" === e.nodeName) return e;
                e = e.parentNode
            }
        },
        f = function(e) {
            var t, r = {
                type: "container",
                html: c(l(e)),
                onclick: function(r) {
                    var o = r.target;
                    if (/^(TD|DIV)$/.test(o.nodeName)) {
                        var i = d(o).firstChild;
                        if (i && i.hasAttribute("data-chr")) {
                            var a = i.getAttribute("data-chr"),
                            s = parseInt(a, 10);
                            isNaN(s) || n(e, String.fromCharCode(s)),
                            r.ctrlKey || t.close()
                        }
                    }
                },
                onmouseover: function(e) {
                    var n = d(e.target);
                    n && n.firstChild ? (t.find("#preview").text(n.firstChild.firstChild.data), t.find("#previewTitle").text(n.title)) : (t.find("#preview").text(" "), t.find("#previewTitle").text(" "))
                }
            };
            t = e.windowManager.open({
                title: "Special character",
                spacing: 10,
                padding: 10,
                items: [r, {
                    type: "container",
                    layout: "flex",
                    direction: "column",
                    align: "center",
                    spacing: 5,
                    minWidth: 160,
                    minHeight: 160,
                    items: [{
                        type: "label",
                        name: "preview",
                        text: " ",
                        style: "font-size: 40px; text-align: center",
                        border: 1,
                        minWidth: 140,
                        minHeight: 80
                    },
                    {
                        type: "spacer",
                        minHeight: 20
                    },
                    {
                        type: "label",
                        name: "previewTitle",
                        text: " ",
                        style: "white-space: pre-wrap;",
                        border: 1,
                        minWidth: 140
                    }]
                }],
                buttons: [{
                    text: "Close",
                    onclick: function() {
                        t.close()
                    }
                }]
            })
        },
        m = function(e) {
            e.addCommand("mceShowCharmap",
            function() {
                f(e)
            })
        },
        p = function(e) {
            e.addButton("charmap", {
                icon: "charmap",
                tooltip: "Special character",
                cmd: "mceShowCharmap"
            }),
            e.addMenuItem("charmap", {
                icon: "charmap",
                text: "Special character",
                cmd: "mceShowCharmap",
                context: "insert"
            })
        };
        e.add("charmap",
        function(e) {
            return m(e),
            p(e),
            u(e)
        })
    } ()
},
"6e27": function(e, t, n) {},
7389 : function(e, t, n) {
    n("f9d5")
},
7526 : function(e, t, n) {
    n("29c5")
},
"7a01": function(e, t) { !
    function() {
        "use strict";
        var e = function(t) {
            var n = t,
            r = function() {
                return n
            };
            return {
                get: r,
                set: function(e) {
                    n = e
                },
                clone: function() {
                    return e(r())
                }
            }
        },
        t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        n = tinymce.util.Tools.resolve("tinymce.util.Tools");
        function r(e) {
            return e && 1 === e.nodeType && "false" === e.contentEditable
        }
        var o = {
            findAndReplaceDOMText: function(e, t, n, o, i) {
                var a, s, l, u, c, d, f = [],
                m = 0;
                function p(e, t) {
                    if (t = t || 0, !e[0]) throw new Error("findAndReplaceDOMText cannot handle zero-length matches");
                    var n = e.index;
                    if (t > 0) {
                        var r = e[t];
                        if (!r) throw new Error("Invalid capture group");
                        n += e[0].indexOf(r),
                        e[0] = r
                    }
                    return [n, n + e[0].length, [e[0]]]
                }
                if (l = t.ownerDocument, u = i.getBlockElements(), c = i.getWhiteSpaceElements(), d = i.getShortEndedElements(), s = function e(t) {
                    var n;
                    if (3 === t.nodeType) return t.data;
                    if (c[t.nodeName] && !u[t.nodeName]) return "";
                    if (n = "", r(t)) return "\n";
                    if ((u[t.nodeName] || d[t.nodeName]) && (n += "\n"), t = t.firstChild) do {
                        n += e(t)
                    } while ( t = t . nextSibling );
                    return n
                } (t)) {
                    if (e.global) for (; a = e.exec(s);) f.push(p(a, o));
                    else a = s.match(e),
                    f.push(p(a, o));
                    return f.length && (m = f.length,
                    function(e, t, n) {
                        var o, i, a, s, l = [],
                        f = 0,
                        m = e,
                        p = t.shift(),
                        h = 0;
                        e: for (;;) {
                            if ((u[m.nodeName] || d[m.nodeName] || r(m)) && f++, 3 === m.nodeType && (!i && m.length + f >= p[1] ? (i = m, s = p[1] - f) : o && l.push(m), !o && m.length + f > p[0] && (o = m, a = p[0] - f), f += m.length), o && i) {
                                if (m = n({
                                    startNode: o,
                                    startNodeIndex: a,
                                    endNode: i,
                                    endNodeIndex: s,
                                    innerNodes: l,
                                    match: p[2],
                                    matchIndex: h
                                }), f -= i.length - s, o = null, i = null, l = [], h++, !(p = t.shift())) break
                            } else if (c[m.nodeName] && !u[m.nodeName] || !m.firstChild) {
                                if (m.nextSibling) {
                                    m = m.nextSibling;
                                    continue
                                }
                            } else if (!r(m)) {
                                m = m.firstChild;
                                continue
                            }
                            for (;;) {
                                if (m.nextSibling) {
                                    m = m.nextSibling;
                                    break
                                }
                                if (m.parentNode === e) break e;
                                m = m.parentNode
                            }
                        }
                    } (t, f,
                    function(e) {
                        var t;
                        if ("function" != typeof e) {
                            var n = e.nodeType ? e: l.createElement(e);
                            t = function(e, t) {
                                var r = n.cloneNode(!1);
                                return r.setAttribute("data-mce-index", t),
                                e && r.appendChild(l.createTextNode(e)),
                                r
                            }
                        } else t = e;
                        return function(e) {
                            var n, r, o, i = e.startNode,
                            a = e.endNode,
                            s = e.matchIndex;
                            if (i === a) {
                                var u = i;
                                o = u.parentNode,
                                e.startNodeIndex > 0 && (n = l.createTextNode(u.data.substring(0, e.startNodeIndex)), o.insertBefore(n, u));
                                var c = t(e.match[0], s);
                                return o.insertBefore(c, u),
                                e.endNodeIndex < u.length && (r = l.createTextNode(u.data.substring(e.endNodeIndex)), o.insertBefore(r, u)),
                                u.parentNode.removeChild(u),
                                c
                            }
                            n = l.createTextNode(i.data.substring(0, e.startNodeIndex)),
                            r = l.createTextNode(a.data.substring(e.endNodeIndex));
                            for (var d = t(i.data.substring(e.startNodeIndex), s), f = [], m = 0, p = e.innerNodes.length; m < p; ++m) {
                                var h = e.innerNodes[m],
                                g = t(h.data, s);
                                h.parentNode.replaceChild(g, h),
                                f.push(g)
                            }
                            var v = t(a.data.substring(0, e.endNodeIndex), s);
                            return (o = i.parentNode).insertBefore(n, i),
                            o.insertBefore(d, i),
                            o.removeChild(i),
                            (o = a.parentNode).insertBefore(v, a),
                            o.insertBefore(r, a),
                            o.removeChild(a),
                            v
                        }
                    } (n))),
                    m
                }
            }
        },
        i = function(e) {
            var t = e.getAttribute("data-mce-index");
            return "number" == typeof t ? "" + t: t
        },
        a = function(e) {
            var t = e.parentNode;
            e.firstChild && t.insertBefore(e.firstChild, e),
            e.parentNode.removeChild(e)
        },
        s = function(e, t) {
            var r, o = [];
            if ((r = n.toArray(e.getBody().getElementsByTagName("span"))).length) for (var a = 0; a < r.length; a++) {
                var s = i(r[a]);
                null !== s && s.length && s === t.toString() && o.push(r[a])
            }
            return o
        },
        l = function(e, t, n) {
            var r = t.get(),
            o = e.dom; (n = !1 !== n) ? r++:r--,
            o.removeClass(s(e, t.get()), "mce-match-marker-selected");
            var i = s(e, r);
            return i.length ? (o.addClass(s(e, r), "mce-match-marker-selected"), e.selection.scrollIntoView(i[0]), r) : -1
        },
        u = function(e, t) {
            var n = t.parentNode;
            e.remove(t),
            e.isEmpty(n) && e.remove(n)
        },
        c = function(e, t) {
            var n = l(e, t, !0); - 1 !== n && t.set(n)
        },
        d = function(e, t) {
            var n = l(e, t, !1); - 1 !== n && t.set(n)
        },
        f = function(e) {
            var t = i(e);
            return null !== t && t.length > 0
        },
        m = function(e, t, r) {
            var o, s, l, u;
            for (s = n.toArray(e.getBody().getElementsByTagName("span")), o = 0; o < s.length; o++) {
                var c = i(s[o]);
                null !== c && c.length && (c === t.get().toString() && (l || (l = s[o].firstChild), u = s[o].firstChild), a(s[o]))
            }
            if (l && u) {
                var d = e.dom.createRng();
                return d.setStart(l, 0),
                d.setEnd(u, u.data.length),
                !1 !== r && e.selection.setRng(d),
                d
            }
        },
        p = function(e, t) {
            return s(e, t.get() + 1).length > 0
        },
        h = function(e, t) {
            return s(e, t.get() - 1).length > 0
        },
        g = {
            done: m,
            find: function(e, t, n, r, i) {
                n = (n = n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")).replace(/\s/g, "[^\\S\\r\\n]"),
                n = i ? "\\b" + n + "\\b": n;
                var a = function(e, t, n) {
                    var r, i;
                    return (i = e.dom.create("span", {
                        "data-mce-bogus": 1
                    })).className = "mce-match-marker",
                    r = e.getBody(),
                    m(e, t, !1),
                    o.findAndReplaceDOMText(n, r, i, !1, e.schema)
                } (e, t, new RegExp(n, r ? "g": "gi"));
                return a && (t.set( - 1), t.set(l(e, t, !0))),
                a
            },
            next: c,
            prev: d,
            replace: function(e, t, r, o, s) {
                var l, m, g, v, b, y, w = t.get();
                for (o = !1 !== o, g = e.getBody(), m = n.grep(n.toArray(g.getElementsByTagName("span")), f), l = 0; l < m.length; l++) {
                    var x = i(m[l]);
                    if (v = b = parseInt(x, 10), s || v === t.get()) {
                        for (r.length ? (m[l].firstChild.nodeValue = r, a(m[l])) : u(e.dom, m[l]); m[++l];) {
                            if ((v = parseInt(i(m[l]), 10)) !== b) {
                                l--;
                                break
                            }
                            u(e.dom, m[l])
                        }
                        o && w--
                    } else b > t.get() && m[l].setAttribute("data-mce-index", b - 1)
                }
                return t.set(w),
                o ? (y = p(e, t), c(e, t)) : (y = h(e, t), d(e, t)),
                !s && y
            },
            hasNext: p,
            hasPrev: h
        },
        v = function(e, t) {
            return {
                done: function(n) {
                    return g.done(e, t, n)
                },
                find: function(n, r, o) {
                    return g.find(e, t, n, r, o)
                },
                next: function() {
                    return g.next(e, t)
                },
                prev: function() {
                    return g.prev(e, t)
                },
                replace: function(n, r, o) {
                    return g.replace(e, t, n, r, o)
                }
            }
        },
        b = function(e, t) {
            var r, o = {};
            function i() {
                s.statusbar.find("#next").disabled(!1 === g.hasNext(e, t)),
                s.statusbar.find("#prev").disabled(!1 === g.hasPrev(e, t))
            }
            function a() {
                e.windowManager.alert("Could not find the specified string.",
                function() {
                    s.find("#find")[0].focus()
                })
            }
            e.undoManager.add(),
            r = n.trim(e.selection.getContent({
                format: "text"
            }));
            var s = e.windowManager.open({
                layout: "flex",
                pack: "center",
                align: "center",
                onClose: function() {
                    e.focus(),
                    g.done(e, t),
                    e.undoManager.add()
                },
                onSubmit: function(n) {
                    var r, l, u, c;
                    return n.preventDefault(),
                    l = s.find("#case").checked(),
                    c = s.find("#words").checked(),
                    (u = s.find("#find").value()).length ? o.text === u && o.caseState === l && o.wholeWord === c ? g.hasNext(e, t) ? (g.next(e, t), void i()) : void a() : ((r = g.find(e, t, u, l, c)) || a(), s.statusbar.items().slice(1).disabled(0 === r), i(), void(o = {
                        text: u,
                        caseState: l,
                        wholeWord: c
                    })) : (g.done(e, t, !1), void s.statusbar.items().slice(1).disabled(!0))
                },
                buttons: [{
                    text: "Find",
                    subtype: "primary",
                    onclick: function() {
                        s.submit()
                    }
                },
                {
                    text: "Replace",
                    disabled: !0,
                    onclick: function() {
                        g.replace(e, t, s.find("#replace").value()) || (s.statusbar.items().slice(1).disabled(!0), t.set( - 1), o = {})
                    }
                },
                {
                    text: "Replace all",
                    disabled: !0,
                    onclick: function() {
                        g.replace(e, t, s.find("#replace").value(), !0, !0),
                        s.statusbar.items().slice(1).disabled(!0),
                        o = {}
                    }
                },
                {
                    type: "spacer",
                    flex: 1
                },
                {
                    text: "Prev",
                    name: "prev",
                    disabled: !0,
                    onclick: function() {
                        g.prev(e, t),
                        i()
                    }
                },
                {
                    text: "Next",
                    name: "next",
                    disabled: !0,
                    onclick: function() {
                        g.next(e, t),
                        i()
                    }
                }],
                title: "Find and replace",
                items: {
                    type: "form",
                    padding: 20,
                    labelGap: 30,
                    spacing: 10,
                    items: [{
                        type: "textbox",
                        name: "find",
                        size: 40,
                        label: "Find",
                        value: r
                    },
                    {
                        type: "textbox",
                        name: "replace",
                        size: 40,
                        label: "Replace with"
                    },
                    {
                        type: "checkbox",
                        name: "case",
                        text: "Match case",
                        label: " "
                    },
                    {
                        type: "checkbox",
                        name: "words",
                        text: "Whole words",
                        label: " "
                    }]
                }
            })
        },
        y = function(e, t) {
            e.addCommand("SearchReplace",
            function() {
                b(e, t)
            })
        },
        w = function(e, t) {
            return function() {
                b(e, t)
            }
        },
        x = function(e, t) {
            e.addMenuItem("searchreplace", {
                text: "Find and replace",
                shortcut: "Meta+F",
                onclick: w(e, t),
                separator: "before",
                context: "edit"
            }),
            e.addButton("searchreplace", {
                tooltip: "Find and replace",
                onclick: w(e, t)
            }),
            e.shortcuts.add("Meta+F", "", w(e, t))
        };
        t.add("searchreplace",
        function(t) {
            var n = e( - 1);
            return y(t, n),
            x(t, n),
            v(t, n)
        })
    } ()
},
"7a8b": function(e, t, n) {
    e.exports = n.p + "fonts/tinymce.f8d29256.ttf"
},
"7ec3": function(e, t) { !
    function() {
        "use strict";
        var e, t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        n = {
            hasDimensions: function(e) {
                return ! 1 !== e.settings.image_dimensions
            },
            hasAdvTab: function(e) {
                return ! 0 === e.settings.image_advtab
            },
            getPrependUrl: function(e) {
                return e.getParam("image_prepend_url", "")
            },
            getClassList: function(e) {
                return e.getParam("image_class_list")
            },
            hasDescription: function(e) {
                return ! 1 !== e.settings.image_description
            },
            hasImageTitle: function(e) {
                return ! 0 === e.settings.image_title
            },
            hasImageCaption: function(e) {
                return ! 0 === e.settings.image_caption
            },
            getImageList: function(e) {
                return e.getParam("image_list", !1)
            },
            hasUploadUrl: function(e) {
                return e.getParam("images_upload_url", !1)
            },
            hasUploadHandler: function(e) {
                return e.getParam("images_upload_handler", !1)
            },
            getUploadUrl: function(e) {
                return e.getParam("images_upload_url")
            },
            getUploadHandler: function(e) {
                return e.getParam("images_upload_handler")
            },
            getUploadBasePath: function(e) {
                return e.getParam("images_upload_base_path")
            },
            getUploadCredentials: function(e) {
                return e.getParam("images_upload_credentials")
            }
        },
        r = "undefined" != typeof window ? window: Function("return this;")(),
        o = function(e, t) {
            return function(e, t) {
                for (var n = null != t ? t: r, o = 0; o < e.length && null != n; ++o) n = n[e[o]];
                return n
            } (e.split("."), t)
        },
        i = {
            getOrDie: function(e, t) {
                var n = function(e, t) {
                    return o(e, t)
                } (e, t);
                if (null == n) throw e + " not available on this browser";
                return n
            }
        },
        a = tinymce.util.Tools.resolve("tinymce.util.Promise"),
        s = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        l = tinymce.util.Tools.resolve("tinymce.util.XHR"),
        u = function(e, t) {
            return Math.max(parseInt(e, 10), parseInt(t, 10))
        },
        c = {
            getImageSize: function(e, t) {
                var n = document.createElement("img");
                function r(e, r) {
                    n.parentNode && n.parentNode.removeChild(n),
                    t({
                        width: e,
                        height: r
                    })
                }
                n.onload = function() {
                    r(u(n.width, n.clientWidth), u(n.height, n.clientHeight))
                },
                n.onerror = function() {
                    r(0, 0)
                };
                var o = n.style;
                o.visibility = "hidden",
                o.position = "fixed",
                o.bottom = o.left = "0px",
                o.width = o.height = "auto",
                document.body.appendChild(n),
                n.src = e
            },
            buildListItems: function(e, t, n) {
                return function e(n, r) {
                    return r = r || [],
                    s.each(n,
                    function(n) {
                        var o = {
                            text: n.text || n.title
                        };
                        n.menu ? o.menu = e(n.menu) : (o.value = n.value, t(o)),
                        r.push(o)
                    }),
                    r
                } (e, n || [])
            },
            removePixelSuffix: function(e) {
                return e && (e = e.replace(/px$/, "")),
                e
            },
            addPixelSuffix: function(e) {
                return e.length > 0 && /^[0-9]+$/.test(e) && (e += "px"),
                e
            },
            mergeMargins: function(e) {
                if (e.margin) {
                    var t = e.margin.split(" ");
                    switch (t.length) {
                    case 1:
                        e["margin-top"] = e["margin-top"] || t[0],
                        e["margin-right"] = e["margin-right"] || t[0],
                        e["margin-bottom"] = e["margin-bottom"] || t[0],
                        e["margin-left"] = e["margin-left"] || t[0];
                        break;
                    case 2:
                        e["margin-top"] = e["margin-top"] || t[0],
                        e["margin-right"] = e["margin-right"] || t[1],
                        e["margin-bottom"] = e["margin-bottom"] || t[0],
                        e["margin-left"] = e["margin-left"] || t[1];
                        break;
                    case 3:
                        e["margin-top"] = e["margin-top"] || t[0],
                        e["margin-right"] = e["margin-right"] || t[1],
                        e["margin-bottom"] = e["margin-bottom"] || t[2],
                        e["margin-left"] = e["margin-left"] || t[1];
                        break;
                    case 4:
                        e["margin-top"] = e["margin-top"] || t[0],
                        e["margin-right"] = e["margin-right"] || t[1],
                        e["margin-bottom"] = e["margin-bottom"] || t[2],
                        e["margin-left"] = e["margin-left"] || t[3]
                    }
                    delete e.margin
                }
                return e
            },
            createImageList: function(e, t) {
                var r = n.getImageList(e);
                "string" == typeof r ? l.send({
                    url: r,
                    success: function(e) {
                        t(JSON.parse(e))
                    }
                }) : "function" == typeof r ? r(t) : t(r)
            },
            waitLoadImage: function(e, t, r) {
                function o() {
                    r.onload = r.onerror = null,
                    e.selection && (e.selection.select(r), e.nodeChanged())
                }
                r.onload = function() {
                    t.width || t.height || !n.hasDimensions(e) || e.dom.setAttribs(r, {
                        width: r.clientWidth,
                        height: r.clientHeight
                    }),
                    o()
                },
                r.onerror = o
            },
            blobToDataUri: function(e) {
                return new a(function(t, n) {
                    var r = new(i.getOrDie("FileReader"));
                    r.onload = function() {
                        t(r.result)
                    },
                    r.onerror = function() {
                        n(r.error.message)
                    },
                    r.readAsDataURL(e)
                })
            }
        },
        d = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
        f = Object.prototype.hasOwnProperty,
        m = (e = function(e, t) {
            return t
        },
        function() {
            for (var t = new Array(arguments.length), n = 0; n < t.length; n++) t[n] = arguments[n];
            if (0 === t.length) throw new Error("Can't merge zero objects");
            for (var r = {},
            o = 0; o < t.length; o++) {
                var i = t[o];
                for (var a in i) f.call(i, a) && (r[a] = e(r[a], i[a]))
            }
            return r
        }),
        p = d.DOM,
        h = function(e) {
            return e.style.marginLeft && e.style.marginRight && e.style.marginLeft === e.style.marginRight ? c.removePixelSuffix(e.style.marginLeft) : ""
        },
        g = function(e) {
            return e.style.marginTop && e.style.marginBottom && e.style.marginTop === e.style.marginBottom ? c.removePixelSuffix(e.style.marginTop) : ""
        },
        v = function(e) {
            return e.style.borderWidth ? c.removePixelSuffix(e.style.borderWidth) : ""
        },
        b = function(e, t) {
            return e.hasAttribute(t) ? e.getAttribute(t) : ""
        },
        y = function(e, t) {
            return e.style[t] ? e.style[t] : ""
        },
        w = function(e) {
            return null !== e.parentNode && "FIGURE" === e.parentNode.nodeName
        },
        x = function(e, t, n) {
            e.setAttribute(t, n)
        },
        C = function(e) {
            w(e) ?
            function(e) {
                var t = e.parentNode;
                p.insertAfter(e, t),
                p.remove(t)
            } (e) : function(e) {
                var t = p.create("figure", {
                    class: "image"
                });
                p.insertAfter(t, e),
                t.appendChild(e),
                t.appendChild(p.create("figcaption", {
                    contentEditable: !0
                },
                "Caption")),
                t.contentEditable = "false"
            } (e)
        },
        _ = function(e, t) {
            var n = e.getAttribute("style"),
            r = t(null !== n ? n: "");
            r.length > 0 ? (e.setAttribute("style", r), e.setAttribute("data-mce-style", r)) : e.removeAttribute("style")
        },
        k = function(e, t) {
            return function(e, n, r) {
                e.style[n] ? (e.style[n] = c.addPixelSuffix(r), _(e, t)) : x(e, n, r)
            }
        },
        E = function(e, t) {
            return e.style[t] ? c.removePixelSuffix(e.style[t]) : b(e, t)
        },
        T = function(e, t) {
            var n = c.addPixelSuffix(t);
            e.style.marginLeft = n,
            e.style.marginRight = n
        },
        S = function(e, t) {
            var n = c.addPixelSuffix(t);
            e.style.marginTop = n,
            e.style.marginBottom = n
        },
        N = function(e, t) {
            var n = c.addPixelSuffix(t);
            e.style.borderWidth = n
        },
        R = function(e, t) {
            e.style.borderStyle = t
        },
        A = function(e) {
            return "FIGURE" === e.nodeName
        },
        O = function(e, t) {
            var n = document.createElement("img");
            return x(n, "style", t.style),
            (h(n) || "" !== t.hspace) && T(n, t.hspace),
            (g(n) || "" !== t.vspace) && S(n, t.vspace),
            (v(n) || "" !== t.border) && N(n, t.border),
            (function(e) {
                return y(e, "borderStyle")
            } (n) || "" !== t.borderStyle) && R(n, t.borderStyle),
            e(n.getAttribute("style"))
        },
        D = function(e, t) {
            return {
                src: b(t, "src"),
                alt: b(t, "alt"),
                title: b(t, "title"),
                width: E(t, "width"),
                height: E(t, "height"),
                class: b(t, "class"),
                style: e(b(t, "style")),
                caption: w(t),
                hspace: h(t),
                vspace: g(t),
                border: v(t),
                borderStyle: y(t, "borderStyle")
            }
        },
        P = function(e, t, n, r, o) {
            n[r] !== t[r] && o(e, r, n[r])
        },
        B = function(e, t) {
            return function(n, r, o) {
                e(n, o),
                _(n, t)
            }
        },
        M = function(e, t, n) {
            var r = D(e, n);
            P(n, r, t, "caption",
            function(e, t, n) {
                return C(e)
            }),
            P(n, r, t, "src", x),
            P(n, r, t, "alt", x),
            P(n, r, t, "title", x),
            P(n, r, t, "width", k(0, e)),
            P(n, r, t, "height", k(0, e)),
            P(n, r, t, "class", x),
            P(n, r, t, "style", B(function(e, t) {
                return x(e, "style", t)
            },
            e)),
            P(n, r, t, "hspace", B(T, e)),
            P(n, r, t, "vspace", B(S, e)),
            P(n, r, t, "border", B(N, e)),
            P(n, r, t, "borderStyle", B(R, e))
        },
        I = function(e, t) {
            var n = e.dom.styles.parse(t),
            r = c.mergeMargins(n),
            o = e.dom.styles.parse(e.dom.styles.serialize(r));
            return e.dom.styles.serialize(o)
        },
        L = function(e) {
            var t = e.selection.getNode(),
            n = e.dom.getParent(t, "figure.image");
            return n ? e.dom.select("img", n)[0] : t && ("IMG" !== t.nodeName || t.getAttribute("data-mce-object") || t.getAttribute("data-mce-placeholder")) ? null: t
        },
        F = function(e, t) {
            var n = e.dom,
            r = n.getParent(t.parentNode,
            function(t) {
                return e.schema.getTextBlockElements()[t.nodeName]
            });
            return r ? n.split(r, t) : t
        },
        W = function(e) {
            var t = L(e);
            return t ? D(function(t) {
                return I(e, t)
            },
            t) : {
                src: "",
                alt: "",
                title: "",
                width: "",
                height: "",
                class: "",
                style: "",
                caption: !1,
                hspace: "",
                vspace: "",
                border: "",
                borderStyle: ""
            }
        },
        H = function(e, t) {
            var n = function(e, t) {
                var n = document.createElement("img");
                if (M(e, m(t, {
                    caption: !1
                }), n), x(n, "alt", t.alt), t.caption) {
                    var r = p.create("figure", {
                        class: "image"
                    });
                    return r.appendChild(n),
                    r.appendChild(p.create("figcaption", {
                        contentEditable: !0
                    },
                    "Caption")),
                    r.contentEditable = "false",
                    r
                }
                return n
            } (function(t) {
                return I(e, t)
            },
            t);
            e.dom.setAttrib(n, "data-mce-id", "__mcenew"),
            e.focus(),
            e.selection.setContent(n.outerHTML);
            var r = e.dom.select('*[data-mce-id="__mcenew"]')[0];
            if (e.dom.setAttrib(r, "data-mce-id", null), A(r)) {
                var o = F(e, r);
                e.selection.select(o)
            } else e.selection.select(r)
        },
        j = function(e, t) {
            var n = L(e);
            n ? t.src ?
            function(e, t) {
                var n = L(e);
                if (M(function(t) {
                    return I(e, t)
                },
                t, n),
                function(e, t) {
                    e.dom.setAttrib(t, "src", t.getAttribute("src"))
                } (e, n), A(n.parentNode)) {
                    var r = n.parentNode;
                    F(e, r),
                    e.selection.select(n.parentNode)
                } else e.selection.select(n),
                c.waitLoadImage(e, t, n)
            } (e, t) : function(e, t) {
                if (t) {
                    var n = e.dom.is(t.parentNode, "figure.image") ? t.parentNode: t;
                    e.dom.remove(n),
                    e.focus(),
                    e.nodeChanged(),
                    e.dom.isEmpty(e.getBody()) && (e.setContent(""), e.selection.setCursorLocation())
                }
            } (e, n) : t.src && H(e, t)
        },
        U = function(e) {
            return function(t) {
                var r = e.dom,
                o = t.control.rootControl;
                if (n.hasAdvTab(e)) {
                    var i = o.toJSON(),
                    a = r.parseStyle(i.style);
                    o.find("#vspace").value(""),
                    o.find("#hspace").value(""),
                    ((a = c.mergeMargins(a))["margin-top"] && a["margin-bottom"] || a["margin-right"] && a["margin-left"]) && (a["margin-top"] === a["margin-bottom"] ? o.find("#vspace").value(c.removePixelSuffix(a["margin-top"])) : o.find("#vspace").value(""), a["margin-right"] === a["margin-left"] ? o.find("#hspace").value(c.removePixelSuffix(a["margin-right"])) : o.find("#hspace").value("")),
                    a["border-width"] ? o.find("#border").value(c.removePixelSuffix(a["border-width"])) : o.find("#border").value(""),
                    a["border-style"] ? o.find("#borderStyle").value(a["border-style"]) : o.find("#borderStyle").value(""),
                    o.find("#style").value(r.serializeStyle(r.parseStyle(r.serializeStyle(a))))
                }
            }
        },
        z = function(e, t) {
            t.find("#style").each(function(n) {
                var r = O(function(t) {
                    return I(e, t)
                },
                m({
                    src: "",
                    alt: "",
                    title: "",
                    width: "",
                    height: "",
                    class: "",
                    style: "",
                    caption: !1,
                    hspace: "",
                    vspace: "",
                    border: "",
                    borderStyle: ""
                },
                t.toJSON()));
                n.value(r)
            })
        },
        V = {
            makeTab: function(e) {
                return {
                    title: "Advanced",
                    type: "form",
                    pack: "start",
                    items: [{
                        label: "Style",
                        name: "style",
                        type: "textbox",
                        onchange: U(e)
                    },
                    {
                        type: "form",
                        layout: "grid",
                        packV: "start",
                        columns: 2,
                        padding: 0,
                        defaults: {
                            type: "textbox",
                            maxWidth: 50,
                            onchange: function(t) {
                                z(e, t.control.rootControl)
                            }
                        },
                        items: [{
                            label: "Vertical space",
                            name: "vspace"
                        },
                        {
                            label: "Border width",
                            name: "border"
                        },
                        {
                            label: "Horizontal space",
                            name: "hspace"
                        },
                        {
                            label: "Border style",
                            type: "listbox",
                            name: "borderStyle",
                            width: 90,
                            maxWidth: 90,
                            onselect: function(t) {
                                z(e, t.control.rootControl)
                            },
                            values: [{
                                text: "Select...",
                                value: ""
                            },
                            {
                                text: "Solid",
                                value: "solid"
                            },
                            {
                                text: "Dotted",
                                value: "dotted"
                            },
                            {
                                text: "Dashed",
                                value: "dashed"
                            },
                            {
                                text: "Double",
                                value: "double"
                            },
                            {
                                text: "Groove",
                                value: "groove"
                            },
                            {
                                text: "Ridge",
                                value: "ridge"
                            },
                            {
                                text: "Inset",
                                value: "inset"
                            },
                            {
                                text: "Outset",
                                value: "outset"
                            },
                            {
                                text: "None",
                                value: "none"
                            },
                            {
                                text: "Hidden",
                                value: "hidden"
                            }]
                        }]
                    }]
                }
            }
        },
        $ = function(e, t) {
            e.state.set("oldVal", e.value()),
            t.state.set("oldVal", t.value())
        },
        q = function(e, t) {
            var n = e.find("#width")[0],
            r = e.find("#height")[0],
            o = e.find("#constrain")[0];
            n && r && o && t(n, r, o.checked())
        },
        K = function(e, t, n) {
            var r = e.state.get("oldVal"),
            o = t.state.get("oldVal"),
            i = e.value(),
            a = t.value();
            n && r && o && i && a && (i !== r ? (a = Math.round(i / r * a), isNaN(a) || t.value(a)) : (i = Math.round(a / o * i), isNaN(i) || e.value(i))),
            $(e, t)
        },
        Y = function(e) {
            q(e, K)
        },
        X = {
            createUi: function() {
                var e = function(e) {
                    Y(e.control.rootControl)
                };
                return {
                    type: "container",
                    label: "Dimensions",
                    layout: "flex",
                    align: "center",
                    spacing: 5,
                    items: [{
                        name: "width",
                        type: "textbox",
                        maxLength: 5,
                        size: 5,
                        onchange: e,
                        ariaLabel: "Width"
                    },
                    {
                        type: "label",
                        text: "x"
                    },
                    {
                        name: "height",
                        type: "textbox",
                        maxLength: 5,
                        size: 5,
                        onchange: e,
                        ariaLabel: "Height"
                    },
                    {
                        name: "constrain",
                        type: "checkbox",
                        checked: !0,
                        text: "Constrain proportions"
                    }]
                }
            },
            syncSize: function(e) {
                q(e, $)
            },
            updateSize: Y
        },
        G = function(e) {
            e.meta = e.control.rootControl.toJSON()
        },
        J = function(e, t) {
            var r = [{
                name: "src",
                type: "filepicker",
                filetype: "image",
                label: "Source",
                autofocus: !0,
                onchange: function(t) { !
                    function(e, t) {
                        var r, o, i, a = e.meta || {},
                        l = e.control,
                        u = l.rootControl,
                        d = u.find("#image-list")[0];
                        d && d.value(t.convertURL(l.value(), "src")),
                        s.each(a,
                        function(e, t) {
                            u.find("#" + t).value(e)
                        }),
                        a.width || a.height || (r = t.convertURL(l.value(), "src"), o = n.getPrependUrl(t), i = new RegExp("^(?:[a-z]+:)?//", "i"), o && !i.test(r) && r.substring(0, o.length) !== o && (r = o + r), l.value(r), c.getImageSize(t.documentBaseURI.toAbsolute(l.value()),
                        function(e) {
                            e.width && e.height && n.hasDimensions(t) && (u.find("#width").value(e.width), u.find("#height").value(e.height), X.syncSize(u))
                        }))
                    } (t, e)
                },
                onbeforecall: G
            },
            t];
            return n.hasDescription(e) && r.push({
                name: "alt",
                type: "textbox",
                label: "Image description"
            }),
            n.hasImageTitle(e) && r.push({
                name: "title",
                type: "textbox",
                label: "Image Title"
            }),
            n.hasDimensions(e) && r.push(X.createUi()),
            n.getClassList(e) && r.push({
                name: "class",
                type: "listbox",
                label: "Class",
                values: c.buildListItems(n.getClassList(e),
                function(t) {
                    t.value && (t.textStyle = function() {
                        return e.formatter.getCssText({
                            inline: "img",
                            classes: [t.value]
                        })
                    })
                })
            }),
            n.hasImageCaption(e) && r.push({
                name: "caption",
                type: "checkbox",
                label: "Caption"
            }),
            r
        },
        Q = {
            makeTab: function(e, t) {
                return {
                    title: "General",
                    type: "form",
                    items: J(e, t)
                }
            },
            getGeneralItems: J
        },
        Z = function() {
            return i.getOrDie("URL")
        },
        ee = function(e) {
            return Z().createObjectURL(e)
        },
        te = function(e) {
            Z().revokeObjectURL(e)
        },
        ne = tinymce.util.Tools.resolve("tinymce.ui.Factory"),
        re = function() {},
        oe = function(e, t) {
            return e ? e.replace(/\/$/, "") + "/" + t.replace(/^\//, "") : t
        };
        function ie(e) {
            var t = function(t, n, r, o) {
                var a, s; (a = new(i.getOrDie("XMLHttpRequest"))).open("POST", e.url),
                a.withCredentials = e.credentials,
                a.upload.onprogress = function(e) {
                    o(e.loaded / e.total * 100)
                },
                a.onerror = function() {
                    r("Image upload failed due to a XHR Transport error. Code: " + a.status)
                },
                a.onload = function() {
                    var t;
                    a.status < 200 || a.status >= 300 ? r("HTTP Error: " + a.status) : (t = JSON.parse(a.responseText)) && "string" == typeof t.location ? n(oe(e.basePath, t.location)) : r("Invalid JSON: " + a.responseText)
                },
                (s = new FormData).append("file", t.blob(), t.filename()),
                a.send(s)
            };
            return e = s.extend({
                credentials: !1,
                handler: t
            },
            e),
            {
                upload: function(n) {
                    return e.url || e.handler !== t ?
                    function(e, t) {
                        return new a(function(n, r) {
                            try {
                                t(e, n, r, re)
                            } catch(e) {
                                r(e.message)
                            }
                        })
                    } (n, e.handler) : a.reject("Upload url missing from the settings.")
                }
            }
        }
        var ae = function(e) {
            return function(t) {
                var r = ne.get("Throbber"),
                o = t.control.rootControl,
                i = new r(o.getEl()),
                a = t.control.value(),
                s = ee(a),
                l = ie({
                    url: n.getUploadUrl(e),
                    basePath: n.getUploadBasePath(e),
                    credentials: n.getUploadCredentials(e),
                    handler: n.getUploadHandler(e)
                }),
                u = function() {
                    i.hide(),
                    te(s)
                };
                return i.show(),
                c.blobToDataUri(a).then(function(t) {
                    var n = e.editorUpload.blobCache.create({
                        blob: a,
                        blobUri: s,
                        name: a.name ? a.name.replace(/\.[^\.]+$/, "") : null,
                        base64: t.split(",")[1]
                    });
                    return l.upload(n).then(function(e) {
                        var t = o.find("#src");
                        return t.value(e),
                        o.find("tabpanel")[0].activateTab(0),
                        t.fire("change"),
                        u(),
                        e
                    })
                }).
                catch(function(t) {
                    e.windowManager.alert(t),
                    u()
                })
            }
        },
        se = {
            makeTab: function(e) {
                return {
                    title: "Upload",
                    type: "form",
                    layout: "flex",
                    direction: "column",
                    align: "stretch",
                    padding: "20 20 20 20",
                    items: [{
                        type: "container",
                        layout: "flex",
                        direction: "column",
                        align: "center",
                        spacing: 10,
                        items: [{
                            text: "Browse for an image",
                            type: "browsebutton",
                            accept: ".jpg,.jpeg,.png,.gif",
                            onchange: ae(e)
                        },
                        {
                            text: "OR",
                            type: "label"
                        }]
                    },
                    {
                        text: "Drop an image here",
                        type: "dropzone",
                        accept: ".jpg,.jpeg,.png,.gif",
                        height: 100,
                        onchange: ae(e)
                    }]
                }
            }
        },
        le = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            for (var r = new Array(arguments.length - 1), o = 1; o < arguments.length; o++) r[o - 1] = arguments[o];
            return function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                for (var o = new Array(arguments.length), i = 0; i < o.length; i++) o[i] = arguments[i];
                var a = r.concat(o);
                return e.apply(null, a)
            }
        },
        ue = function(e, t) {
            var n = t.control.getRoot();
            X.updateSize(n),
            e.undoManager.transact(function() {
                var t = m(W(e), n.toJSON());
                j(e, t)
            }),
            e.editorUpload.uploadImagesAuto()
        };
        function ce(e) {
            function t(t) {
                var r, o, i = W(e);
                if (t && (o = {
                    type: "listbox",
                    label: "Image list",
                    name: "image-list",
                    values: c.buildListItems(t,
                    function(t) {
                        t.value = e.convertURL(t.value || t.url, "src")
                    },
                    [{
                        text: "None",
                        value: ""
                    }]),
                    value: i.src && e.convertURL(i.src, "src"),
                    onselect: function(e) {
                        var t = r.find("#alt"); (!t.value() || e.lastControl && t.value() === e.lastControl.text()) && t.value(e.control.text()),
                        r.find("#src").value(e.control.value()).fire("change")
                    },
                    onPostRender: function() {
                        o = this
                    }
                }), n.hasAdvTab(e) || n.hasUploadUrl(e) || n.hasUploadHandler(e)) {
                    var a = [Q.makeTab(e, o)];
                    n.hasAdvTab(e) && a.push(V.makeTab(e)),
                    (n.hasUploadUrl(e) || n.hasUploadHandler(e)) && a.push(se.makeTab(e)),
                    r = e.windowManager.open({
                        title: "Insert/edit image",
                        data: i,
                        bodyType: "tabpanel",
                        body: a,
                        onSubmit: le(ue, e)
                    })
                } else r = e.windowManager.open({
                    title: "Insert/edit image",
                    data: i,
                    body: Q.getGeneralItems(e, o),
                    onSubmit: le(ue, e)
                });
                X.syncSize(r)
            }
            return {
                open: function() {
                    c.createImageList(e, t)
                }
            }
        }
        var de = function(e) {
            e.addCommand("mceImage", ce(e).open)
        },
        fe = function(e) {
            var t = e.attr("class");
            return t && /\bimage\b/.test(t)
        },
        me = function(e) {
            return function(t) {
                for (var n, r = t.length,
                o = function(t) {
                    t.attr("contenteditable", e ? "true": null)
                }; r--;) n = t[r],
                fe(n) && (n.attr("contenteditable", e ? "false": null), s.each(n.getAll("figcaption"), o))
            }
        },
        pe = function(e) {
            e.on("preInit",
            function() {
                e.parser.addNodeFilter("figure", me(!0)),
                e.serializer.addNodeFilter("figure", me(!1))
            })
        },
        he = function(e) {
            e.addButton("image", {
                icon: "image",
                tooltip: "Insert/edit image",
                onclick: ce(e).open,
                stateSelector: "img:not([data-mce-object],[data-mce-placeholder]),figure.image"
            }),
            e.addMenuItem("image", {
                icon: "image",
                text: "Image",
                onclick: ce(e).open,
                context: "insert",
                prependToContext: !0
            })
        };
        t.add("image",
        function(e) {
            pe(e),
            he(e),
            de(e)
        })
    } ()
},
"84f5": function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
        n = function(e) {
            return e.getParam("code_dialog_width", 600)
        },
        r = function(e) {
            return e.getParam("code_dialog_height", Math.min(t.DOM.getViewPort().h - 200, 500))
        },
        o = function(e, t) {
            e.focus(),
            e.undoManager.transact(function() {
                e.setContent(t)
            }),
            e.selection.setCursorLocation(),
            e.nodeChanged()
        },
        i = function(e) {
            return e.getContent({
                source_view: !0
            })
        },
        a = function(e) {
            var t = n(e),
            a = r(e);
            e.windowManager.open({
                title: "Source code",
                body: {
                    type: "textbox",
                    name: "code",
                    multiline: !0,
                    minWidth: t,
                    minHeight: a,
                    spellcheck: !1,
                    style: "direction: ltr; text-align: left"
                },
                onSubmit: function(t) {
                    o(e, t.data.code)
                }
            }).find("#code").value(i(e))
        },
        s = function(e) {
            e.addCommand("mceCodeEditor",
            function() {
                a(e)
            })
        },
        l = function(e) {
            e.addButton("code", {
                icon: "code",
                tooltip: "Source code",
                onclick: function() {
                    a(e)
                }
            }),
            e.addMenuItem("code", {
                icon: "code",
                text: "Source code",
                onclick: function() {
                    a(e)
                }
            })
        };
        e.add("code",
        function(e) {
            return s(e),
            l(e),
            {}
        })
    } ()
},
8800 : function(e, t, n) {
    n("ac3a")
},
"8c6f": function(e, t, n) {
    n("f381")
},
"8d38": function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        n = function(e, t, n) {
            var r = "UL" === t ? "InsertUnorderedList": "InsertOrderedList";
            e.execCommand(r, !1, !1 === n ? null: {
                "list-style-type": n
            })
        },
        r = function(e) {
            e.addCommand("ApplyUnorderedListStyle",
            function(t, r) {
                n(e, "UL", r["list-style-type"])
            }),
            e.addCommand("ApplyOrderedListStyle",
            function(t, r) {
                n(e, "OL", r["list-style-type"])
            })
        },
        o = function(e) {
            var t = e.getParam("advlist_number_styles", "default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");
            return t ? t.split(/[ ,]/) : []
        },
        i = function(e) {
            var t = e.getParam("advlist_bullet_styles", "default,circle,disc,square");
            return t ? t.split(/[ ,]/) : []
        },
        a = function(e) {
            return e && /^(TH|TD)$/.test(e.nodeName)
        },
        s = function(e) {
            return function(t) {
                return t && /^(OL|UL|DL)$/.test(t.nodeName) &&
                function(e, t) {
                    return e.$.contains(e.getBody(), t)
                } (e, t)
            }
        },
        l = function(e) {
            var t = e.dom.getParent(e.selection.getNode(), "ol,ul");
            return e.dom.getStyle(t, "listStyleType") || ""
        },
        u = function(e) {
            return t.map(e,
            function(e) {
                return {
                    text: function(e) {
                        return e.replace(/\-/g, " ").replace(/\b\w/g,
                        function(e) {
                            return e.toUpperCase()
                        })
                    } (e),
                    data: "default" === e ? "": e
                }
            })
        },
        c = function(e, n) {
            return function(r) {
                var o = r.control;
                e.on("NodeChange",
                function(r) {
                    var i = function(e, t) {
                        for (var n = 0; n < e.length; n++) if (t(e[n])) return n;
                        return - 1
                    } (r.parents, a),
                    l = -1 !== i ? r.parents.slice(0, i) : r.parents,
                    u = t.grep(l, s(e));
                    o.active(u.length > 0 && u[0].nodeName === n)
                })
            }
        },
        d = function(e) {
            return function(t) {
                var n = l(e);
                t.control.items().each(function(e) {
                    e.active(e.settings.data === n)
                })
            }
        },
        f = function(e, t, r, o, i, a) {
            a.length > 0 ?
            function(e, t, r, o, i, a) {
                e.addButton(t, {
                    active: !1,
                    type: "splitbutton",
                    tooltip: r,
                    menu: u(a),
                    onPostRender: c(e, i),
                    onshow: d(e),
                    onselect: function(t) {
                        n(e, i, t.control.settings.data)
                    },
                    onclick: function() {
                        e.execCommand(o)
                    }
                })
            } (e, t, r, o, i, a) : function(e, t, n, r, o, i) {
                e.addButton(t, {
                    active: !1,
                    type: "button",
                    tooltip: n,
                    onPostRender: c(e, o),
                    onclick: function() {
                        e.execCommand(r)
                    }
                })
            } (e, t, r, o, i)
        },
        m = function(e) {
            f(e, "numlist", "Numbered list", "InsertOrderedList", "OL", o(e)),
            f(e, "bullist", "Bullet list", "InsertUnorderedList", "UL", i(e))
        };
        e.add("advlist",
        function(e) { (function(e, n) {
                var r = e.settings.plugins ? e.settings.plugins: "";
                return - 1 !== t.inArray(r.split(/[ ,]/), n)
            })(e, "lists") && (m(e), r(e))
        })
    } ()
},
9336 : function(e, t, n) {
    "use strict";
    var r = n("4260"),
    o = n("5ac5"),
    i = n.n(o),
    a = (n("4a03"), n("c3d2"), n("6e27"), n("7a8b"), n("1fe0"), n("036c"), n("fa4f"), n("3062"), n("8800"), n("f3bd"), n("ce3a"), n("8c6f"), n("006a"), n("d6ef"), n("c307"), n("e71e"), n("cc8a"), n("0fa2"), n("a570"), n("7389"), n("d2e4"), n("d015"), n("99d0"), n("e3b9"), n("4497"), n("b621"), n("7526"), {
        props: {
            value: {
                type: String,
            default:
                ""
            },
            height: {
                type: String,
            default:
                "200px"
            },
            width: {
                type: String
            }
        },
        data: function() {
            return {
                id: "editor-" + Object(r.a)(),
                content: this.value
            }
        },
        mounted: function() {
            var e = this;
            i.a.init({
                selector: "#" + e.id,
                language_url: "http://tools.xiaoyaoji.cn/form/lib/tinymce/zh_CN.js",
                language: "zh_CN",
                height: this.height,
                menubar: !1,
                init_instance_callback: function(t) {
                    t.on("input change undo redo",
                    function() {
                        e.$emit("input", t.getContent())
                    })
                },
                setup: function(t) {
                    t.on("input change undo redo",
                    function() {
                        e.$emit("input", t.getContent())
                    })
                },
                plugins: ["advlist autolink lists link image charmap print preview anchor textcolor colorpicker", "searchreplace visualblocks code fullscreen", "insertdatetime table media  contextmenu paste code help wordcount"],
                toolbar: "insert table | undo redo |  formatselect | bold italic strikethrough forecolor backcolor  | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | code "
            })
        },
        methods: {
            setHtml: function(e) {
                this.content = e,
                i.a.activeEditor.setContent(e),
                this.$emit("input", e)
            }
        },
        beforeDestroy: function() {
            i.a.get(this.id).destroy()
        },
        watch: {
            value: function(e) {
                this.content = e
            }
        }
    }),
    s = (n("e769"), n("2877")),
    l = Object(s.a)(a,
    function() {
        var e = this.$createElement,
        t = this._self._c || e;
        return t("div", {
            staticClass: "fm-editor-container",
            style: {
                width: this.width
            }
        },
        [t("textarea", {
            attrs: {
                id: this.id
            },
            domProps: {
                value: this.content
            }
        })])
    },
    [], !1, null, null, null);
    t.a = l.exports
},
"945b": function(e, t, n) {
    "use strict";
    var r = n("f4c6");
    n.n(r).a
},
"959a": function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),
        n = tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),
        r = tinymce.util.Tools.resolve("tinymce.util.VK"),
        o = tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),
        i = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        a = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
        s = function(e) {
            return e && "BR" === e.nodeName
        },
        l = function(e) {
            return e && 3 === e.nodeType
        },
        u = function(e) {
            return e && /^(OL|UL|DL)$/.test(e.nodeName)
        },
        c = function(e) {
            return e && /^(LI|DT|DD)$/.test(e.nodeName)
        },
        d = function(e) {
            return e && /^(TH|TD)$/.test(e.nodeName)
        },
        f = s,
        m = function(e) {
            return e.parentNode.firstChild === e
        },
        p = function(e) {
            return e.parentNode.lastChild === e
        },
        h = function(e, t) {
            return t && !!e.schema.getTextBlockElements()[t.nodeName]
        },
        g = function(e, t) {
            return e && e.nodeName in t
        },
        v = function(e, t) {
            return !! s(t) && !(!e.isBlock(t.nextSibling) || s(t.previousSibling))
        },
        b = function(e, t, n) {
            var r = e.isEmpty(t);
            return ! (n && e.select("span[data-mce-type=bookmark]", t).length > 0) && r
        },
        y = function(e, t) {
            return e.isChildOf(t, e.getRoot())
        },
        w = function(e, n) {
            var r = t.getNode(e, n);
            return c(e) && l(r) ? {
                container: r,
                offset: n >= e.childNodes.length ? r.data.length: 0
            }: {
                container: e,
                offset: n
            }
        },
        x = function(e) {
            var t = e.cloneRange(),
            n = w(e.startContainer, e.startOffset);
            t.setStart(n.container, n.offset);
            var r = w(e.endContainer, e.endOffset);
            return t.setEnd(r.container, r.offset),
            t
        },
        C = a.DOM,
        _ = function(e) {
            var t = {},
            n = function(n) {
                var r, o, i;
                o = e[n ? "startContainer": "endContainer"],
                i = e[n ? "startOffset": "endOffset"],
                1 === o.nodeType && (r = C.create("span", {
                    "data-mce-type": "bookmark"
                }), o.hasChildNodes() ? (i = Math.min(i, o.childNodes.length - 1), n ? o.insertBefore(r, o.childNodes[i]) : C.insertAfter(r, o.childNodes[i])) : o.appendChild(r), o = r, i = 0),
                t[n ? "startContainer": "endContainer"] = o,
                t[n ? "startOffset": "endOffset"] = i
            };
            return n(!0),
            e.collapsed || n(),
            t
        },
        k = function(e) {
            function t(t) {
                var n, r, o;
                n = o = e[t ? "startContainer": "endContainer"],
                r = e[t ? "startOffset": "endOffset"],
                n && (1 === n.nodeType && (r = function(e) {
                    for (var t = e.parentNode.firstChild,
                    n = 0; t;) {
                        if (t === e) return n;
                        1 === t.nodeType && "bookmark" === t.getAttribute("data-mce-type") || n++,
                        t = t.nextSibling
                    }
                    return - 1
                } (n), n = n.parentNode, C.remove(o), !n.hasChildNodes() && C.isBlock(n) && n.appendChild(C.create("br"))), e[t ? "startContainer": "endContainer"] = n, e[t ? "startOffset": "endOffset"] = r)
            }
            t(!0),
            t();
            var n = C.createRng();
            return n.setStart(e.startContainer, e.startOffset),
            e.endContainer && n.setEnd(e.endContainer, e.endOffset),
            x(n)
        },
        E = a.DOM,
        T = function(e, t) {
            var n, r = t.parentNode;
            "LI" === r.nodeName && r.firstChild === t && ((n = r.previousSibling) && "LI" === n.nodeName ? (n.appendChild(t), b(e, r) && E.remove(r)) : E.setStyle(r, "listStyleType", "none")),
            u(r) && (n = r.previousSibling) && "LI" === n.nodeName && n.appendChild(t)
        },
        S = function(e, t) {
            i.each(i.grep(e.select("ol,ul", t)),
            function(t) {
                T(e, t)
            })
        },
        N = tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),
        R = function(e) {
            var t = e.selection.getStart(!0);
            return e.dom.getParent(t, "OL,UL,DL", A(e, t))
        },
        A = function(e, t) {
            var n = e.dom.getParents(t, "TD,TH");
            return n.length > 0 ? n[0] : e.getBody()
        },
        O = {
            getParentList: R,
            getSelectedSubLists: function(e) {
                var t = R(e),
                n = e.selection.getSelectedBlocks();
                return function(e, t) {
                    return e && 1 === t.length && t[0] === e
                } (t, n) ?
                function(e) {
                    return i.grep(e.querySelectorAll("ol,ul,dl"),
                    function(e) {
                        return u(e)
                    })
                } (t) : i.grep(n,
                function(e) {
                    return u(e) && t !== e
                })
            },
            getSelectedListItems: function(e) {
                var t = e.selection.getSelectedBlocks();
                return i.grep(function(e, t) {
                    var n = i.map(t,
                    function(t) {
                        var n = e.dom.getParent(t, "li,dd,dt", A(e, t));
                        return n || t
                    });
                    return N.unique(n)
                } (e, t),
                function(e) {
                    return c(e)
                })
            },
            getClosestListRootElm: A
        },
        D = tinymce.util.Tools.resolve("tinymce.Env"),
        P = a.DOM,
        B = function(e, t, n) {
            var r, o, i, a = P.createFragment(),
            s = e.schema.getBlockElements();
            if (e.settings.forced_root_block && (n = n || e.settings.forced_root_block), n && ((o = P.create(n)).tagName === e.settings.forced_root_block && P.setAttribs(o, e.settings.forced_root_block_attrs), g(t.firstChild, s) || a.appendChild(o)), t) for (; r = t.firstChild;) {
                var l = r.nodeName;
                i || "SPAN" === l && "bookmark" === r.getAttribute("data-mce-type") || (i = !0),
                g(r, s) ? (a.appendChild(r), o = null) : n ? (o || (o = P.create(n), a.appendChild(o)), o.appendChild(r)) : a.appendChild(r)
            }
            return e.settings.forced_root_block ? i || D.ie && !(D.ie > 10) || o.appendChild(P.create("br", {
                "data-mce-bogus": "1"
            })) : a.appendChild(P.create("br")),
            a
        },
        M = a.DOM,
        I = function(e, t, n, r) {
            var o, a, s, l, u;
            for (s = M.select('span[data-mce-type="bookmark"]', t), r = r || B(e, n), (o = M.createRng()).setStartAfter(n), o.setEndAfter(t), l = (a = o.extractContents()).firstChild; l; l = l.firstChild) if ("LI" === l.nodeName && e.dom.isEmpty(l)) {
                M.remove(l);
                break
            }
            e.dom.isEmpty(a) || M.insertAfter(a, t),
            M.insertAfter(r, t),
            b(e.dom, n.parentNode) && (u = n.parentNode, i.each(s,
            function(e) {
                u.parentNode.insertBefore(e, n.parentNode)
            }), M.remove(u)),
            M.remove(n),
            b(e.dom, t) && M.remove(t)
        },
        L = a.DOM,
        F = function(e, t) {
            b(e, t) && L.remove(t)
        },
        W = function(e, t) {
            var n, r, o = t.parentNode;
            return o ? (n = o.parentNode, !(o !== e.getBody() && ("DD" === t.nodeName ? (L.rename(t, "DT"), 0) : m(t) && p(t) ? ("LI" === n.nodeName ? (L.insertAfter(t, n), F(e.dom, n), L.remove(o)) : u(n) ? L.remove(o, !0) : (n.insertBefore(B(e, t), o), L.remove(o)), 0) : m(t) ? ("LI" === n.nodeName ? (L.insertAfter(t, n), t.appendChild(o), F(e.dom, n)) : u(n) ? n.insertBefore(t, o) : (n.insertBefore(B(e, t), o), L.remove(t)), 0) : p(t) ? ("LI" === n.nodeName ? L.insertAfter(t, n) : u(n) ? L.insertAfter(t, o) : (L.insertAfter(B(e, t), o), L.remove(t)), 0) : ("LI" === n.nodeName ? (o = n, r = B(e, t, "LI")) : r = u(n) ? B(e, t, "LI") : B(e, t), I(e, o, t, r), S(e.dom, o.parentNode), 0)))) : (F(e.dom, t), !0)
        },
        H = W,
        j = function(e) {
            var t = O.getSelectedListItems(e);
            if (t.length) {
                var n = _(e.selection.getRng()),
                r = void 0,
                o = void 0,
                i = O.getClosestListRootElm(e, e.selection.getStart(!0));
                for (r = t.length; r--;) for (var a = t[r].parentNode; a && a !== i;) {
                    for (o = t.length; o--;) if (t[o] === a) {
                        t.splice(r, 1);
                        break
                    }
                    a = a.parentNode
                }
                for (r = 0; r < t.length && (W(e, t[r]) || 0 !== r); r++);
                return e.selection.setRng(k(n)),
                e.nodeChanged(),
                !0
            }
        },
        U = function(e, t) {
            i.each(t,
            function(t, n) {
                e.setAttribute(n, t)
            })
        },
        z = function(e, t, n) { !
            function(e, t, n) {
                var r = n["list-style-type"] ? n["list-style-type"] : null;
                e.setStyle(t, "list-style-type", r)
            } (e, t, n),
            function(e, t, n) {
                U(t, n["list-attributes"]),
                i.each(e.select("li", t),
                function(e) {
                    U(e, n["list-item-attributes"])
                })
            } (e, t, n)
        },
        V = function(e, t, n, r) {
            var o, i;
            for (o = t[n ? "startContainer": "endContainer"], i = t[n ? "startOffset": "endOffset"], 1 === o.nodeType && (o = o.childNodes[Math.min(i, o.childNodes.length - 1)] || o), !n && f(o.nextSibling) && (o = o.nextSibling); o.parentNode !== r;) {
                if (h(e, o)) return o;
                if (/^(TD|TH)$/.test(o.parentNode.nodeName)) return o;
                o = o.parentNode
            }
            return o
        },
        $ = function(e, t, n) {
            void 0 === n && (n = {});
            var r, a = e.selection.getRng(!0),
            s = "LI",
            l = O.getClosestListRootElm(e, e.selection.getStart(!0)),
            c = e.dom;
            "false" !== c.getContentEditable(e.selection.getNode()) && ("DL" === (t = t.toUpperCase()) && (s = "DT"), r = _(a), i.each(function(e, t, n) {
                for (var r, a = [], s = e.dom, l = V(e, t, !0, n), u = V(e, t, !1, n), c = [], d = l; d && (c.push(d), d !== u); d = d.nextSibling);
                return i.each(c,
                function(t) {
                    if (h(e, t)) return a.push(t),
                    void(r = null);
                    if (s.isBlock(t) || f(t)) return f(t) && s.remove(t),
                    void(r = null);
                    var i = t.nextSibling;
                    o.isBookmarkNode(t) && (h(e, i) || !i && t.parentNode === n) ? r = null: (r || (r = s.create("p"), t.parentNode.insertBefore(r, t), a.push(r)), r.appendChild(t))
                }),
                a
            } (e, a, l),
            function(r) {
                var o, a; (a = r.previousSibling) && u(a) && a.nodeName === t &&
                function(e, t, n) {
                    var r = e.getStyle(t, "list-style-type"),
                    o = n ? n["list-style-type"] : "";
                    return r === (null === o ? "": o)
                } (c, a, n) ? (o = a, r = c.rename(r, s), a.appendChild(r)) : (o = c.create(t), r.parentNode.insertBefore(o, r), o.appendChild(r), r = c.rename(r, s)),
                function(e, t, n) {
                    i.each(n,
                    function(n) {
                        var r;
                        return e.setStyle(t, ((r = {})[n] = "", r))
                    })
                } (c, r, ["margin", "margin-right", "margin-bottom", "margin-left", "margin-top", "padding", "padding-right", "padding-bottom", "padding-left", "padding-top"]),
                z(c, o, n),
                Y(e.dom, o)
            }), e.selection.setRng(k(r)))
        },
        q = function(e) {
            var t = _(e.selection.getRng(!0)),
            n = O.getClosestListRootElm(e, e.selection.getStart(!0)),
            r = O.getSelectedListItems(e),
            o = i.grep(r,
            function(t) {
                return e.dom.isEmpty(t)
            });
            r = i.grep(r,
            function(t) {
                return ! e.dom.isEmpty(t)
            }),
            i.each(o,
            function(t) {
                b(e.dom, t) && H(e, t)
            }),
            i.each(r,
            function(t) {
                var r, o;
                if (t.parentNode !== e.getBody()) {
                    for (r = t; r && r !== n; r = r.parentNode) u(r) && (o = r);
                    I(e, o, t),
                    S(e.dom, o.parentNode)
                }
            }),
            e.selection.setRng(k(t))
        },
        K = function(e, t, n) {
            return function(e, t) {
                return e && t && u(e) && e.nodeName === t.nodeName
            } (t, n) &&
            function(e, t, n) {
                return e.getStyle(t, "list-style-type", !0) === e.getStyle(n, "list-style-type", !0)
            } (e, t, n) && (r = n, t.className === r.className);
            var r
        }, Y = function(e, t) {
            var n, r;
            if (n = t.nextSibling, K(e, t, n)) {
                for (; r = n.firstChild;) t.appendChild(r);
                e.remove(n)
            }
            if (n = t.previousSibling, K(e, t, n)) {
                for (; r = n.lastChild;) t.insertBefore(r, t.firstChild);
                e.remove(n)
            }
        },
        X = function(e, t, n, r, o) {
            if (t.nodeName !== r || G(o)) {
                var a = _(e.selection.getRng(!0));
                i.each([t].concat(n),
                function(t) { !
                    function(e, t, n, r) {
                        if (t.nodeName !== n) {
                            var o = e.rename(t, n);
                            z(e, o, r)
                        } else z(e, t, r)
                    } (e.dom, t, r, o)
                }),
                e.selection.setRng(k(a))
            } else q(e)
        },
        G = function(e) {
            return "list-style-type" in e
        },
        J = {
            toggleList: function(e, t, n) {
                var r = O.getParentList(e),
                o = O.getSelectedSubLists(e);
                n = n || {},
                r && o.length > 0 ? X(e, r, o, t, n) : function(e, t, n, r) {
                    if (t !== e.getBody()) if (t) if (t.nodeName !== n || G(r)) {
                        var o = _(e.selection.getRng(!0));
                        z(e.dom, t, r),
                        Y(e.dom, e.dom.rename(t, n)),
                        e.selection.setRng(k(o))
                    } else q(e);
                    else $(e, n, r)
                } (e, r, t, n)
            },
            removeList: q,
            mergeWithAdjacentLists: Y
        },
        Q = function(e, r, o, i) {
            var a, s, l = r.startContainer,
            u = r.startOffset;
            if (3 === l.nodeType && (o ? u < l.data.length: u > 0)) return l;
            for (a = e.schema.getNonEmptyElements(), 1 === l.nodeType && (l = t.getNode(l, u)), s = new n(l, i), o && v(e.dom, l) && s.next(); l = s[o ? "next": "prev2"]();) {
                if ("LI" === l.nodeName && !l.hasChildNodes()) return l;
                if (a[l.nodeName]) return l;
                if (3 === l.nodeType && l.data.length > 0) return l
            }
        },
        Z = function(e, t) {
            var n = t.childNodes;
            return 1 === n.length && !u(n[0]) && e.isBlock(n[0])
        },
        ee = function(e, t, n) {
            var r, o;
            if (o = Z(e, n) ? n.firstChild: n,
            function(e, t) {
                Z(e, t) && e.remove(t.firstChild, !0)
            } (e, t), !b(e, t, !0)) for (; r = t.firstChild;) o.appendChild(r)
        },
        te = function(e, t, n) {
            var r, o, i = t.parentNode;
            y(e, t) && y(e, n) && (u(n.lastChild) && (o = n.lastChild), i === n.lastChild && f(i.previousSibling) && e.remove(i.previousSibling), (r = n.lastChild) && f(r) && t.hasChildNodes() && e.remove(r), b(e, n, !0) && e.$(n).empty(), ee(e, t, n), o && n.appendChild(o), e.remove(t), b(e, i) && i !== e.getRoot() && e.remove(i))
        },
        ne = function(e, t, n, r) {
            var o = e.dom;
            if (o.isEmpty(r)) !
            function(e, t, n) {
                e.dom.$(n).empty(),
                te(e.dom, t, n),
                e.selection.setCursorLocation(n)
            } (e, n, r);
            else {
                var i = _(t);
                te(o, n, r),
                e.selection.setRng(k(i))
            }
        },
        re = function(e, t) {
            var n, r, o, i = e.dom,
            a = e.selection,
            s = a.getStart(),
            l = O.getClosestListRootElm(e, s),
            u = i.getParent(a.getStart(), "LI", l);
            if (u) {
                if ((n = u.parentNode) === e.getBody() && b(i, n)) return ! 0;
                if (r = x(a.getRng(!0)), (o = i.getParent(Q(e, r, t, l), "LI", l)) && o !== u) return t ? ne(e, r, o, u) : function(e, t, n, r) {
                    var o = _(t);
                    te(e.dom, n, r);
                    var i = k(o);
                    e.selection.setRng(i)
                } (e, r, u, o),
                !0;
                if (!o && !t) return J.removeList(e),
                !0
            }
            return ! 1
        },
        oe = function(e, t) {
            return re(e, t) ||
            function(e, t) {
                var n = e.dom,
                r = e.selection.getStart(),
                o = O.getClosestListRootElm(e, r),
                i = n.getParent(r, n.isBlock, o);
                if (i && n.isEmpty(i)) {
                    var a = x(e.selection.getRng(!0)),
                    s = n.getParent(Q(e, a, t, o), "LI", o);
                    if (s) return e.undoManager.transact(function() { !
                        function(e, t, n) {
                            var r = e.getParent(t.parentNode, e.isBlock, n);
                            e.remove(t),
                            r && e.isEmpty(r) && e.remove(r)
                        } (n, i, o),
                        J.mergeWithAdjacentLists(n, s.parentNode),
                        e.selection.select(s, !0),
                        e.selection.collapse(t)
                    }),
                    !0
                }
                return ! 1
            } (e, t)
        },
        ie = function(e, t) {
            return e.selection.isCollapsed() ? oe(e, t) : function(e) {
                var t = e.selection.getStart(),
                n = O.getClosestListRootElm(e, t);
                return !! (e.dom.getParent(t, "LI,DT,DD", n) || O.getSelectedListItems(e).length > 0) && (e.undoManager.transact(function() {
                    e.execCommand("Delete"),
                    S(e.dom, e.getBody())
                }), !0)
            } (e)
        },
        ae = function(e) {
            e.on("keydown",
            function(t) {
                t.keyCode === r.BACKSPACE ? ie(e, !1) && t.preventDefault() : t.keyCode === r.DELETE && ie(e, !0) && t.preventDefault()
            })
        },
        se = ie,
        le = function(e) {
            return {
                backspaceDelete: function(t) {
                    se(e, t)
                }
            }
        },
        ue = a.DOM,
        ce = function(e, t) {
            var n;
            if (u(e)) {
                for (; n = e.firstChild;) t.appendChild(n);
                ue.remove(e)
            }
        },
        de = function(e) {
            var t, n, r, o, i = O.getSelectedListItems(e);
            if (i.length) {
                for (var a = _(e.selection.getRng(!0)), s = 0; s < i.length && (t = i[s], n = void 0, r = void 0, o = void 0, ("DT" === t.nodeName ? (ue.rename(t, "DD"), 1) : (n = t.previousSibling) && u(n) ? (n.appendChild(t), 1) : n && "LI" === n.nodeName && u(n.lastChild) ? (n.lastChild.appendChild(t), ce(t.lastChild, n.lastChild), 1) : (n = t.nextSibling) && u(n) ? (n.insertBefore(t, n.firstChild), 1) : (n = t.previousSibling) && "LI" === n.nodeName && (r = ue.create(t.parentNode.nodeName), (o = ue.getStyle(t.parentNode, "listStyleType")) && ue.setStyle(r, "listStyleType", o), n.appendChild(r), r.appendChild(t), ce(t.lastChild, r), 1)) || 0 !== s); s++);
                return e.selection.setRng(k(a)),
                e.nodeChanged(),
                !0
            }
        },
        fe = function(e, t) {
            return function() {
                var n = e.dom.getParent(e.selection.getStart(), "UL,OL,DL");
                return n && n.nodeName === t
            }
        },
        me = function(e) {
            e.on("BeforeExecCommand",
            function(t) {
                var n, r = t.command.toLowerCase();
                if ("indent" === r ? de(e) && (n = !0) : "outdent" === r && j(e) && (n = !0), n) return e.fire("ExecCommand", {
                    command: t.command
                }),
                t.preventDefault(),
                !0
            }),
            e.addCommand("InsertUnorderedList",
            function(t, n) {
                J.toggleList(e, "UL", n)
            }),
            e.addCommand("InsertOrderedList",
            function(t, n) {
                J.toggleList(e, "OL", n)
            }),
            e.addCommand("InsertDefinitionList",
            function(t, n) {
                J.toggleList(e, "DL", n)
            }),
            e.addQueryStateHandler("InsertUnorderedList", fe(e, "UL")),
            e.addQueryStateHandler("InsertOrderedList", fe(e, "OL")),
            e.addQueryStateHandler("InsertDefinitionList", fe(e, "DL"))
        },
        pe = function(e) {
            return e.getParam("lists_indent_on_tab", !0)
        },
        he = function(e) {
            pe(e) &&
            function(e) {
                e.on("keydown",
                function(t) {
                    t.keyCode !== r.TAB || r.metaKeyPressed(t) || e.dom.getParent(e.selection.getStart(), "LI,DT,DD") && (t.preventDefault(), t.shiftKey ? j(e) : de(e))
                })
            } (e),
            ae(e)
        },
        ge = function(e, t) {
            return function(n) {
                var r = n.control;
                e.on("NodeChange",
                function(e) {
                    var n = function(e, t) {
                        for (var n = 0; n < e.length; n++) if (t(e[n])) return n;
                        return - 1
                    } (e.parents, d),
                    o = -1 !== n ? e.parents.slice(0, n) : e.parents,
                    a = i.grep(o, u);
                    r.active(a.length > 0 && a[0].nodeName === t)
                })
            }
        },
        ve = function(e) {
            return function(t) {
                var n = t.control;
                e.on("nodechange",
                function() {
                    var t = O.getSelectedListItems(e),
                    r = t.length > 0 && m(t[0]);
                    n.disabled(r)
                })
            }
        },
        be = function(e) { (function(e, t) {
                var n = e.settings.plugins ? e.settings.plugins: "";
                return - 1 !== i.inArray(n.split(/[ ,]/), t)
            })(e, "advlist") || (e.addButton("numlist", {
                active: !1,
                title: "Numbered list",
                cmd: "InsertOrderedList",
                onPostRender: ge(e, "OL")
            }), e.addButton("bullist", {
                active: !1,
                title: "Bullet list",
                cmd: "InsertUnorderedList",
                onPostRender: ge(e, "UL")
            })),
            e.addButton("indent", {
                icon: "indent",
                title: "Increase indent",
                cmd: "Indent",
                onPostRender: ve(e)
            })
        };
        e.add("lists",
        function(e) {
            return he(e),
            be(e),
            me(e),
            le(e)
        })
    } ()
},
"967a": function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = tinymce.util.Tools.resolve("tinymce.Env"),
        n = function(e) {
            return parseInt(e.getParam("plugin_preview_width", "650"), 10)
        },
        r = function(e) {
            return parseInt(e.getParam("plugin_preview_height", "500"), 10)
        },
        o = function(e) {
            return e.getParam("content_style", "")
        },
        i = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        a = function(e) {
            var t = "",
            n = e.dom.encode,
            r = o(e);
            t += '<base href="' + n(e.documentBaseURI.getURI()) + '">',
            r && (t += '<style type="text/css">' + r + "</style>"),
            i.each(e.contentCSS,
            function(r) {
                t += '<link type="text/css" rel="stylesheet" href="' + n(e.documentBaseURI.toAbsolute(r)) + '">'
            });
            var a = e.settings.body_id || "tinymce"; - 1 !== a.indexOf("=") && (a = (a = e.getParam("body_id", "", "hash"))[e.id] || a);
            var s = e.settings.body_class || ""; - 1 !== s.indexOf("=") && (s = (s = e.getParam("body_class", "", "hash"))[e.id] || "");
            var l = e.settings.directionality ? ' dir="' + e.settings.directionality + '"': "";
            return "<!DOCTYPE html><html><head>" + t + '</head><body id="' + n(a) + '" class="mce-content-body ' + n(s) + '"' + n(l) + ">" + e.getContent() + '<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A") {e.preventDefault();}}}, false);<\/script> </body></html>'
        },
        s = function(e, t, n) {
            var r = a(e);
            if (n) t.src = "data:text/html;charset=utf-8," + encodeURIComponent(r);
            else {
                var o = t.contentWindow.document;
                o.open(),
                o.write(r),
                o.close()
            }
        },
        l = function(e) {
            var o = !t.ie,
            i = '<iframe src="" frameborder="0"' + (o ? ' sandbox="allow-scripts"': "") + "></iframe>",
            a = n(e),
            l = r(e);
            e.windowManager.open({
                title: "Preview",
                width: a,
                height: l,
                html: i,
                buttons: {
                    text: "Close",
                    onclick: function(e) {
                        e.control.parent().parent().close()
                    }
                },
                onPostRender: function(t) {
                    var n = t.control.getEl("body").firstChild;
                    s(e, n, o)
                }
            })
        },
        u = function(e) {
            e.addCommand("mcePreview",
            function() {
                l(e)
            })
        },
        c = function(e) {
            e.addButton("preview", {
                title: "Preview",
                cmd: "mcePreview"
            }),
            e.addMenuItem("preview", {
                text: "Preview",
                cmd: "mcePreview",
                context: "view"
            })
        };
        e.add("preview",
        function(e) {
            u(e),
            c(e)
        })
    } ()
},
"98a5": function(e, t, n) {
    "use strict";
    var r = n("ffdb");
    n.n(r).a
},
"99d0": function(e, t, n) {
    n("1d39")
},
a39d: function(e, t) { !
    function() {
        "use strict";
        var e = function(t) {
            var n = t,
            r = function() {
                return n
            };
            return {
                get: r,
                set: function(e) {
                    n = e
                },
                clone: function() {
                    return e(r())
                }
            }
        },
        t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        n = function(e) {
            return ! (!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins) || !t.get("powerpaste") || (void 0 !== window.console && window.console.log && window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."), 0))
        },
        r = function(e, t) {
            return {
                clipboard: e,
                quirks: t
            }
        },
        o = function(e, t, n, r) {
            return e.fire("PastePreProcess", {
                content: t,
                internal: n,
                wordContent: r
            })
        },
        i = function(e, t, n, r) {
            return e.fire("PastePostProcess", {
                node: t,
                internal: n,
                wordContent: r
            })
        },
        a = function(e, t) {
            return e.fire("PastePlainTextToggle", {
                state: t
            })
        },
        s = function(e, t) {
            return e.fire("paste", {
                ieFake: t
            })
        },
        l = {
            shouldPlainTextInform: function(e) {
                return e.getParam("paste_plaintext_inform", !0)
            },
            shouldBlockDrop: function(e) {
                return e.getParam("paste_block_drop", !1)
            },
            shouldPasteDataImages: function(e) {
                return e.getParam("paste_data_images", !1)
            },
            shouldFilterDrop: function(e) {
                return e.getParam("paste_filter_drop", !0)
            },
            getPreProcess: function(e) {
                return e.getParam("paste_preprocess")
            },
            getPostProcess: function(e) {
                return e.getParam("paste_postprocess")
            },
            getWebkitStyles: function(e) {
                return e.getParam("paste_webkit_styles")
            },
            shouldRemoveWebKitStyles: function(e) {
                return e.getParam("paste_remove_styles_if_webkit", !0)
            },
            shouldMergeFormats: function(e) {
                return e.getParam("paste_merge_formats", !0)
            },
            isSmartPasteEnabled: function(e) {
                return e.getParam("smart_paste", !0)
            },
            isPasteAsTextEnabled: function(e) {
                return e.getParam("paste_as_text", !1)
            },
            getRetainStyleProps: function(e) {
                return e.getParam("paste_retain_style_properties")
            },
            getWordValidElements: function(e) {
                return e.getParam("paste_word_valid_elements", "-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")
            },
            shouldConvertWordFakeLists: function(e) {
                return e.getParam("paste_convert_word_fake_lists", !0)
            },
            shouldUseDefaultFilters: function(e) {
                return e.getParam("paste_enable_default_filters", !0)
            }
        },
        u = function(e, t, n) {
            "text" === t.pasteFormat.get() ? (t.pasteFormat.set("html"), a(e, !1)) : (t.pasteFormat.set("text"), a(e, !0),
            function(e, t) {
                return ! 1 === t.get() && l.shouldPlainTextInform(e)
            } (e, n) && (function(e, t) {
                e.notificationManager.open({
                    text: e.translate(t),
                    type: "info"
                })
            } (e, "Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."), n.set(!0))),
            e.focus()
        },
        c = function(e, t, n) {
            e.addCommand("mceTogglePlainTextPaste",
            function() {
                u(e, t, n)
            }),
            e.addCommand("mceInsertClipboardContent",
            function(e, n) {
                n.content && t.pasteHtml(n.content, n.internal),
                n.text && t.pasteText(n.text)
            })
        },
        d = tinymce.util.Tools.resolve("tinymce.Env"),
        f = tinymce.util.Tools.resolve("tinymce.util.Delay"),
        m = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        p = tinymce.util.Tools.resolve("tinymce.util.VK"),
        h = "\x3c!-- x-tinymce/html --\x3e",
        g = {
            mark: function(e) {
                return h + e
            },
            unmark: function(e) {
                return e.replace(h, "")
            },
            isMarked: function(e) {
                return - 1 !== e.indexOf(h)
            },
            internalHtmlMime: function() {
                return "x-tinymce/html"
            }
        },
        v = tinymce.util.Tools.resolve("tinymce.html.Entities"),
        b = function(e) {
            return e.replace(/\r?\n/g, "<br>")
        },
        y = function(e, t, n) {
            var r = e.split(/\n\n/),
            o = function(e, t) {
                var n, r = [],
                o = "<" + e;
                if ("object" == typeof t) {
                    for (n in t) t.hasOwnProperty(n) && r.push(n + '="' + v.encodeAllRaw(t[n]) + '"');
                    r.length && (o += " " + r.join(" "))
                }
                return o + ">"
            } (t, n),
            i = "</" + t + ">",
            a = m.map(r,
            function(e) {
                return e.split(/\n/).join("<br />")
            });
            return 1 === a.length ? a[0] : m.map(a,
            function(e) {
                return o + e + i
            }).join("")
        },
        w = {
            isPlainText: function(e) {
                return ! /<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)
            },
            convert: function(e, t, n) {
                return t ? y(e, t, n) : b(e)
            },
            toBRs: b,
            toBlockElements: y
        },
        x = tinymce.util.Tools.resolve("tinymce.html.DomParser"),
        C = tinymce.util.Tools.resolve("tinymce.html.Node"),
        _ = tinymce.util.Tools.resolve("tinymce.html.Schema"),
        k = tinymce.util.Tools.resolve("tinymce.html.Serializer");
        function E(e, t) {
            return m.each(t,
            function(t) {
                e = t.constructor === RegExp ? e.replace(t, "") : e.replace(t[0], t[1])
            }),
            e
        }
        var T = {
            filter: E,
            innerText: function(e) {
                var t = _(),
                n = x({},
                t),
                r = "",
                o = t.getShortEndedElements(),
                i = m.makeMap("script noscript style textarea video audio iframe object", " "),
                a = t.getBlockElements();
                return e = E(e, [/<!\[[^\]]+\]>/g]),
                function e(t) {
                    var n = t.name,
                    s = t;
                    if ("br" !== n) {
                        if ("wbr" !== n) if (o[n] && (r += " "), i[n]) r += " ";
                        else {
                            if (3 === t.type && (r += t.value), !t.shortEnded && (t = t.firstChild)) do {
                                e(t)
                            } while ( t = t . next );
                            a[n] && s.next && (r += "\n", "p" === n && (r += "\n"))
                        }
                    } else r += "\n"
                } (n.parse(e)),
                r
            },
            trimHtml: function(e) {
                return E(e, [/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi, /<!--StartFragment-->|<!--EndFragment-->/g, [/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,
                function(e, t, n) {
                    return t || n ? " ": " "
                }], /<br class="Apple-interchange-newline">/g, /<br>$/i])
            },
            createIdGenerator: function(e) {
                var t = 0;
                return function() {
                    return e + t++
                }
            },
            isMsEdge: function() {
                return - 1 !== navigator.userAgent.indexOf(" Edge/")
            }
        };
        function S(e) {
            var t, n;
            return n = [/^[IVXLMCD]{1,2}\.[ \u00a0]/, /^[ivxlmcd]{1,2}\.[ \u00a0]/, /^[a-z]{1,2}[\.\)][ \u00a0]/, /^[A-Z]{1,2}[\.\)][ \u00a0]/, /^[0-9]+\.[ \u00a0]/, /^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/, /^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],
            e = e.replace(/^[\u00a0 ]+/, ""),
            m.each(n,
            function(n) {
                if (n.test(e)) return t = !0,
                !1
            }),
            t
        }
        function N(e) {
            var t, n, r = 1;
            function o(e) {
                var t = "";
                if (3 === e.type) return e.value;
                if (e = e.firstChild) do {
                    t += o(e)
                } while ( e = e . next );
                return t
            }
            function i(e, t) {
                if (3 === e.type && t.test(e.value)) return e.value = e.value.replace(t, ""),
                !1;
                if (e = e.firstChild) do {
                    if (!i(e, t)) return ! 1
                } while ( e = e . next );
                return ! 0
            }
            function a(e, o, a) {
                var s = e._listLevel || r;
                s !== r && (s < r ? t && (t = t.parent.parent) : (n = t, t = null)),
                t && t.name === o ? t.append(e) : (n = n || t, t = new C(o, 1), a > 1 && t.attr("start", "" + a), e.wrap(t)),
                e.name = "li",
                s > r && n && n.lastChild.append(t),
                r = s,
                function e(t) {
                    if (t._listIgnore) t.remove();
                    else if (t = t.firstChild) do {
                        e(t)
                    } while ( t = t . next )
                } (e),
                i(e, /^\u00a0+/),
                i(e, /^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),
                i(e, /^\u00a0+/)
            }
            for (var s = [], l = e.firstChild; null != l;) if (s.push(l), null !== (l = l.walk())) for (; void 0 !== l && l.parent !== e;) l = l.walk();
            for (var u = 0; u < s.length; u++) if ("p" === (e = s[u]).name && e.firstChild) {
                var c = o(e);
                if (/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(c)) {
                    a(e, "ul");
                    continue
                }
                if (S(c)) {
                    var d = /([0-9]+)\./.exec(c),
                    f = 1;
                    d && (f = parseInt(d[1], 10)),
                    a(e, "ol", f);
                    continue
                }
                if (e._listLevel) {
                    a(e, "ul", 1);
                    continue
                }
                t = null
            } else n = t,
            t = null
        }
        function R(e, t, n, r) {
            var o, i = {},
            a = e.dom.parseStyle(r);
            return m.each(a,
            function(a, s) {
                switch (s) {
                case "mso-list":
                    (o = /\w+ \w+([0-9]+)/i.exec(r)) && (n._listLevel = parseInt(o[1], 10)),
                    /Ignore/i.test(a) && n.firstChild && (n._listIgnore = !0, n.firstChild._listIgnore = !0);
                    break;
                case "horiz-align":
                    s = "text-align";
                    break;
                case "vert-align":
                    s = "vertical-align";
                    break;
                case "font-color":
                case "mso-foreground":
                    s = "color";
                    break;
                case "mso-background":
                case "mso-highlight":
                    s = "background";
                    break;
                case "font-weight":
                case "font-style":
                    return void("normal" !== a && (i[s] = a));
                case "mso-element":
                    if (/^(comment|comment-list)$/i.test(a)) return void n.remove()
                }
                0 !== s.indexOf("mso-comment") ? 0 !== s.indexOf("mso-") && ("all" === l.getRetainStyleProps(e) || t && t[s]) && (i[s] = a) : n.remove()
            }),
            /(bold)/i.test(i["font-weight"]) && (delete i["font-weight"], n.wrap(new C("b", 1))),
            /(italic)/i.test(i["font-style"]) && (delete i["font-style"], n.wrap(new C("i", 1))),
            (i = e.dom.serializeStyle(i, n.name)) || null
        }
        var A = {
            preProcess: function(e, t) {
                return l.shouldUseDefaultFilters(e) ?
                function(e, t) {
                    var n, r; (n = l.getRetainStyleProps(e)) && (r = m.makeMap(n.split(/[, ]/))),
                    t = T.filter(t, [/<br class="?Apple-interchange-newline"?>/gi, /<b[^>]+id="?docs-internal-[^>]*>/gi, /<!--[\s\S]+?-->/gi, /<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi, [/<(\/?)s>/gi, "<$1strike>"], [/&nbsp;/gi, " "], [/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,
                    function(e, t) {
                        return t.length > 0 ? t.replace(/./, " ").slice(Math.floor(t.length / 2)).split("").join(" ") : ""
                    }]]);
                    var o = l.getWordValidElements(e),
                    i = _({
                        valid_elements: o,
                        valid_children: "-li[p]"
                    });
                    m.each(i.elements,
                    function(e) {
                        e.attributes.class || (e.attributes.class = {},
                        e.attributesOrder.push("class")),
                        e.attributes.style || (e.attributes.style = {},
                        e.attributesOrder.push("style"))
                    });
                    var a = x({},
                    i);
                    a.addAttributeFilter("style",
                    function(t) {
                        for (var n, o = t.length; o--;)(n = t[o]).attr("style", R(e, r, n, n.attr("style"))),
                        "span" === n.name && n.parent && !n.attributes.length && n.unwrap()
                    }),
                    a.addAttributeFilter("class",
                    function(e) {
                        for (var t, n, r = e.length; r--;) n = (t = e[r]).attr("class"),
                        /^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n) && t.remove(),
                        t.attr("class", null)
                    }),
                    a.addNodeFilter("del",
                    function(e) {
                        for (var t = e.length; t--;) e[t].remove()
                    }),
                    a.addNodeFilter("a",
                    function(e) {
                        for (var t, n, r, o = e.length; o--;) if (n = (t = e[o]).attr("href"), r = t.attr("name"), n && -1 !== n.indexOf("#_msocom_")) t.remove();
                        else if (n && 0 === n.indexOf("file://") && (n = n.split("#")[1]) && (n = "#" + n), n || r) {
                            if (r && !/^_?(?:toc|edn|ftn)/i.test(r)) {
                                t.unwrap();
                                continue
                            }
                            t.attr({
                                href: n,
                                name: r
                            })
                        } else t.unwrap()
                    });
                    var s = a.parse(t);
                    return l.shouldConvertWordFakeLists(e) && N(s),
                    k({
                        validate: e.settings.validate
                    },
                    i).serialize(s)
                } (e, t) : t
            },
            isWordContent: function(e) {
                return /<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e) || /class="OutlineElement/.test(e) || /id="?docs\-internal\-guid\-/.test(e)
            }
        },
        O = function(e, t) {
            return {
                content: e,
                cancelled: t
            }
        },
        D = function(e, t, n, r) {
            var a = o(e, t, n, r);
            return e.hasEventListeners("PastePostProcess") && !a.isDefaultPrevented() ?
            function(e, t, n, r) {
                var o = e.dom.create("div", {
                    style: "display:none"
                },
                t),
                a = i(e, o, n, r);
                return O(a.node.innerHTML, a.isDefaultPrevented())
            } (e, a.content, n, r) : O(a.content, a.isDefaultPrevented())
        },
        P = function(e, t, n) {
            var r = A.isWordContent(t),
            o = r ? A.preProcess(e, t) : t;
            return D(e, o, n, r)
        },
        B = function(e, t) {
            return e.insertContent(function(e, t) {
                var n = e.dom.create("body", {},
                t);
                return m.each(n.querySelectorAll("meta"),
                function(e) {
                    return e.parentNode.removeChild(e)
                }),
                n.innerHTML
            } (e, t), {
                merge: l.shouldMergeFormats(e),
                paste: !0
            }),
            !0
        },
        M = function(e) {
            return /^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)
        },
        I = function(e) {
            return M(e) && /.(gif|jpe?g|png)$/.test(e)
        },
        L = function(e, t, n) {
            return ! (!1 !== e.selection.isCollapsed() || !M(t)) &&
            function(e, t, n) {
                return e.undoManager.extra(function() {
                    n(e, t)
                },
                function() {
                    e.execCommand("mceInsertLink", !1, t)
                }),
                !0
            } (e, t, n)
        },
        F = function(e, t, n) {
            return !! I(t) &&
            function(e, t, n) {
                return e.undoManager.extra(function() {
                    n(e, t)
                },
                function() {
                    e.insertContent('<img src="' + t + '">')
                }),
                !0
            } (e, t, n)
        },
        W = function(e, t) { ! 1 === l.isSmartPasteEnabled(e) ? B(e, t) : function(e, t) {
                m.each([L, F, B],
                function(n) {
                    return ! 0 !== n(e, t, B)
                })
            } (e, t)
        },
        H = function(e, t, n) {
            var r = n || g.isMarked(t),
            o = P(e, g.unmark(t), r); ! 1 === o.cancelled && W(e, o.content)
        },
        j = function(e, t) {
            t = e.dom.encode(t).replace(/\r\n/g, "\n"),
            t = w.convert(t, e.settings.forced_root_block, e.settings.forced_root_block_attrs),
            H(e, t, !1)
        },
        U = function(e) {
            var t = {};
            if (e) {
                if (e.getData) {
                    var n = e.getData("Text");
                    n && n.length > 0 && -1 === n.indexOf("data:text/mce-internal,") && (t["text/plain"] = n)
                }
                if (e.types) for (var r = 0; r < e.types.length; r++) {
                    var o = e.types[r];
                    try {
                        t[o] = e.getData(o)
                    } catch(e) {
                        t[o] = ""
                    }
                }
            }
            return t
        },
        z = function(e, t) {
            return t in e && e[t].length > 0
        },
        V = function(e) {
            return z(e, "text/html") || z(e, "text/plain")
        },
        $ = T.createIdGenerator("mceclip"),
        q = function(e, t, n, r) {
            t && (e.selection.setRng(t), t = null);
            var o, i, a, s, l = n.result,
            u = -1 !== (i = (o = l).indexOf(",")) ? o.substr(i + 1) : null,
            c = $(),
            d = e.settings.images_reuse_filename && r.name ?
            function(e, t) {
                var n = t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);
                return n ? e.dom.encode(n[1]) : null
            } (e, r.name) : c,
            f = new Image;
            if (f.src = l, a = e.settings, s = f, !a.images_dataimg_filter || a.images_dataimg_filter(s)) {
                var m, p = e.editorUpload.blobCache,
                h = void 0; (m = p.findFirst(function(e) {
                    return e.base64() === u
                })) ? h = m: (h = p.create(c, r, u, d), p.add(h)),
                H(e, '<img src="' + h.blobUri() + '">', !1)
            } else H(e, '<img src="' + l + '">', !1)
        },
        K = function(e, t, n) {
            var r = "paste" === t.type ? t.clipboardData: t.dataTransfer;
            function o(r) {
                var o, i, a, s = !1;
                if (r) for (o = 0; o < r.length; o++) if (i = r[o], /^image\/(jpeg|png|gif|bmp)$/.test(i.type)) {
                    var l = i.getAsFile ? i.getAsFile() : i; (a = new window.FileReader).onload = q.bind(null, e, n, a, l),
                    a.readAsDataURL(l),
                    t.preventDefault(),
                    s = !0
                }
                return s
            }
            if (e.settings.paste_data_images && r) return o(r.items) || o(r.files)
        },
        Y = function(e) {
            return p.metaKeyPressed(e) && 86 === e.keyCode || e.shiftKey && 45 === e.keyCode
        },
        X = function(e, t, n) {
            var r, o = 0;
            function i(n, r, o, i) {
                var a, s;
                z(n, "text/html") ? a = n["text/html"] : (a = t.getHtml(), i = i || g.isMarked(a), t.isDefaultContent(a) && (o = !0)),
                a = T.trimHtml(a),
                t.remove(),
                s = !1 === i && w.isPlainText(a),
                a.length && !s || (o = !0),
                o && (a = z(n, "text/plain") && s ? n["text/plain"] : T.innerText(a)),
                t.isDefaultContent(a) ? r || e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.") : o ? j(e, a) : H(e, a, i)
            }
            e.on("keydown",
            function(n) {
                function i(e) {
                    Y(e) && !e.isDefaultPrevented() && t.remove()
                }
                if (Y(n) && !n.isDefaultPrevented()) {
                    if ((r = n.shiftKey && 86 === n.keyCode) && d.webkit && -1 !== navigator.userAgent.indexOf("Version/")) return;
                    if (n.stopImmediatePropagation(), o = (new Date).getTime(), d.ie && r) return n.preventDefault(),
                    void s(e, !0);
                    t.remove(),
                    t.create(),
                    e.once("keyup", i),
                    e.once("paste",
                    function() {
                        e.off("keyup", i)
                    })
                }
            }),
            e.on("paste",
            function(a) {
                var s = (new Date).getTime(),
                l = function(e, t) {
                    var n = U(t.clipboardData || e.getDoc().dataTransfer);
                    return T.isMsEdge() ? m.extend(n, {
                        "text/html": ""
                    }) : n
                } (e, a),
                u = (new Date).getTime() - s,
                c = (new Date).getTime() - o - u < 1e3,
                p = "text" === n.get() || r,
                h = z(l, g.internalHtmlMime());
                r = !1,
                a.isDefaultPrevented() ||
                function(e) {
                    var t = e.clipboardData;
                    return - 1 !== navigator.userAgent.indexOf("Android") && t && t.items && 0 === t.items.length
                } (a) ? t.remove() : V(l) || !K(e, a, t.getLastRng() || e.selection.getRng()) ? (c || a.preventDefault(), !d.ie || c && !a.ieFake || z(l, "text/html") || (t.create(), e.dom.bind(t.getEl(), "paste",
                function(e) {
                    e.stopPropagation()
                }), e.getDoc().execCommand("Paste", !1, null), l["text/html"] = t.getHtml()), z(l, "text/html") ? (a.preventDefault(), h || (h = g.isMarked(l["text/html"])), i(l, c, p, h)) : f.setEditorTimeout(e,
                function() {
                    i(l, c, p, h)
                },
                0)) : t.remove()
            })
        },
        G = function(e) {
            return d.ie && e.inline ? document.body: e.getBody()
        },
        J = function(e, t, n) { (function(e) {
                return G(e) !== e.getBody()
            })(e) && e.dom.bind(t, "paste keyup",
            function(t) {
                ee(e, n) || e.fire("paste")
            })
        },
        Q = function(e) {
            return e.dom.get("mcepastebin")
        },
        Z = function(e, t) {
            return t === e
        },
        ee = function(e, t) {
            var n, r = Q(e);
            return (n = r) && "mcepastebin" === n.id && Z(t, r.innerHTML)
        },
        te = function(t) {
            var n = e(null);
            return {
                create: function() {
                    return function(e, t, n) {
                        var r, o = e.dom,
                        i = e.getBody();
                        t.set(e.selection.getRng()),
                        r = e.dom.add(G(e), "div", {
                            id: "mcepastebin",
                            class: "mce-pastebin",
                            contentEditable: !0,
                            "data-mce-bogus": "all",
                            style: "position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"
                        },
                        n),
                        (d.ie || d.gecko) && o.setStyle(r, "left", "rtl" === o.getStyle(i, "direction", !0) ? 65535 : -65535),
                        o.bind(r, "beforedeactivate focusin focusout",
                        function(e) {
                            e.stopPropagation()
                        }),
                        J(e, r, n),
                        r.focus(),
                        e.selection.select(r, !0)
                    } (t, n, "%MCEPASTEBIN%")
                },
                remove: function() {
                    return function(e, t) {
                        if (Q(e)) {
                            for (var n = void 0,
                            r = t.get(); n = e.dom.get("mcepastebin");) e.dom.remove(n),
                            e.dom.unbind(n);
                            r && e.selection.setRng(r)
                        }
                        t.set(null)
                    } (t, n)
                },
                getEl: function() {
                    return Q(t)
                },
                getHtml: function() {
                    return function(e) {
                        var t, n, r, o, i, a = function(t, n) {
                            t.appendChild(n),
                            e.dom.remove(n, !0)
                        };
                        for (n = m.grep(G(e).childNodes,
                        function(e) {
                            return "mcepastebin" === e.id
                        }), t = n.shift(), m.each(n,
                        function(e) {
                            a(t, e)
                        }), r = (o = e.dom.select("div[id=mcepastebin]", t)).length - 1; r >= 0; r--) i = e.dom.create("div"),
                        t.insertBefore(i, o[r]),
                        a(i, o[r]);
                        return t ? t.innerHTML: ""
                    } (t)
                },
                getLastRng: function() {
                    return function(e) {
                        return e.get()
                    } (n)
                },
                isDefault: function() {
                    return ee(t, "%MCEPASTEBIN%")
                },
                isDefaultContent: function(e) {
                    return Z("%MCEPASTEBIN%", e)
                }
            }
        },
        ne = function(e, t) {
            var n = te(e);
            return e.on("preInit",
            function() {
                return function(e, t, n) {
                    var r;
                    X(e, t, n),
                    e.parser.addNodeFilter("img",
                    function(t, n, o) {
                        var i = function(e) {
                            e.attr("data-mce-object") || r === d.transparentSrc || e.remove()
                        },
                        a = function(e) {
                            return 0 === e.indexOf("webkit-fake-url")
                        },
                        s = function(e) {
                            return 0 === e.indexOf("data:")
                        };
                        if (!e.settings.paste_data_images &&
                        function(e) {
                            return e.data && !0 === e.data.paste
                        } (o)) for (var l = t.length; l--;)(r = t[l].attributes.map.src) && (a(r) ? i(t[l]) : !e.settings.allow_html_data_urls && s(r) && i(t[l]))
                    })
                } (e, n, t)
            }),
            {
                pasteFormat: t,
                pasteHtml: function(t, n) {
                    return H(e, t, n)
                },
                pasteText: function(t) {
                    return j(e, t)
                },
                pasteImageData: function(t, n) {
                    return K(e, t, n)
                },
                getDataTransferItems: U,
                hasHtmlOrText: V,
                hasContentType: z
            }
        },
        re = function() {},
        oe = function(e, t, n) {
            if (!
            function(e) {
                return ! 1 === d.iOS && void 0 !== e && "function" == typeof e.setData && !0 !== T.isMsEdge()
            } (e)) return ! 1;
            try {
                return e.clearData(),
                e.setData("text/html", t),
                e.setData("text/plain", n),
                e.setData(g.internalHtmlMime(), t),
                !0
            } catch(e) {
                return ! 1
            }
        },
        ie = function(e, t, n, r) {
            oe(e.clipboardData, t.html, t.text) ? (e.preventDefault(), r()) : n(t.html, r)
        },
        ae = function(e) {
            return function(t, n) {
                var r = g.mark(t),
                o = e.dom.create("div", {
                    contenteditable: "false",
                    "data-mce-bogus": "all"
                }),
                i = e.dom.create("div", {
                    contenteditable: "true"
                },
                r);
                e.dom.setStyles(o, {
                    position: "fixed",
                    top: "0",
                    left: "-3000px",
                    width: "1000px",
                    overflow: "hidden"
                }),
                o.appendChild(i),
                e.dom.add(e.getBody(), o);
                var a = e.selection.getRng();
                i.focus();
                var s = e.dom.createRng();
                s.selectNodeContents(i),
                e.selection.setRng(s),
                setTimeout(function() {
                    e.selection.setRng(a),
                    o.parentNode.removeChild(o),
                    n()
                },
                0)
            }
        },
        se = function(e) {
            return {
                html: e.selection.getContent({
                    contextual: !0
                }),
                text: e.selection.getContent({
                    format: "text"
                })
            }
        },
        le = function(e) {
            e.on("cut",
            function(e) {
                return function(t) { ! 1 === e.selection.isCollapsed() && ie(t, se(e), ae(e),
                    function() {
                        setTimeout(function() {
                            e.execCommand("Delete")
                        },
                        0)
                    })
                }
            } (e)),
            e.on("copy",
            function(e) {
                return function(t) { ! 1 === e.selection.isCollapsed() && ie(t, se(e), ae(e), re)
                }
            } (e))
        },
        ue = tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),
        ce = function(e, t) {
            return ue.getCaretRangeFromPoint(t.clientX, t.clientY, e.getDoc())
        },
        de = function(e, t) {
            e.focus(),
            e.selection.setRng(t)
        },
        fe = function(e, t, n) {
            l.shouldBlockDrop(e) && e.on("dragend dragover draggesture dragdrop drop drag",
            function(e) {
                e.preventDefault(),
                e.stopPropagation()
            }),
            l.shouldPasteDataImages(e) || e.on("drop",
            function(e) {
                var t = e.dataTransfer;
                t && t.files && t.files.length > 0 && e.preventDefault()
            }),
            e.on("drop",
            function(r) {
                var o, i;
                if (i = ce(e, r), !r.isDefaultPrevented() && !n.get()) {
                    o = t.getDataTransferItems(r.dataTransfer);
                    var a, s = t.hasContentType(o, g.internalHtmlMime());
                    if ((t.hasHtmlOrText(o) && (!(a = o["text/plain"]) || 0 !== a.indexOf("file://")) || !t.pasteImageData(r, i)) && i && l.shouldFilterDrop(e)) {
                        var u = o["mce-internal"] || o["text/html"] || o["text/plain"];
                        u && (r.preventDefault(), f.setEditorTimeout(e,
                        function() {
                            e.undoManager.transact(function() {
                                o["mce-internal"] && e.execCommand("Delete"),
                                de(e, i),
                                u = T.trimHtml(u),
                                o["text/html"] ? t.pasteHtml(u, s) : t.pasteText(u)
                            })
                        }))
                    }
                }
            }),
            e.on("dragstart",
            function(e) {
                n.set(!0)
            }),
            e.on("dragover dragend",
            function(t) {
                l.shouldPasteDataImages(e) && !1 === n.get() && (t.preventDefault(), de(e, ce(e, t))),
                "dragend" === t.type && n.set(!1)
            })
        },
        me = function(e) {
            var t = e.plugins.paste,
            n = l.getPreProcess(e);
            n && e.on("PastePreProcess",
            function(e) {
                n.call(t, t, e)
            });
            var r = l.getPostProcess(e);
            r && e.on("PastePostProcess",
            function(e) {
                r.call(t, t, e)
            })
        };
        function pe(e, t) {
            e.on("PastePreProcess",
            function(n) {
                n.content = t(e, n.content, n.internal, n.wordContent)
            })
        }
        function he(e, t) {
            if (!A.isWordContent(t)) return t;
            var n = [];
            m.each(e.schema.getBlockElements(),
            function(e, t) {
                n.push(t)
            });
            var r = new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?(" + n.join("|") + ")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*", "g");
            return t = T.filter(t, [[r, "$1"]]),
            T.filter(t, [[/<br><br>/g, "<BR><BR>"], [/<br>/g, " "], [/<BR><BR>/g, "<br>"]])
        }
        function ge(e, t, n, r) {
            if (r || n) return t;
            var o, i = l.getWebkitStyles(e);
            if (!1 === l.shouldRemoveWebKitStyles(e) || "all" === i) return t;
            if (i && (o = i.split(/[, ]/)), o) {
                var a = e.dom,
                s = e.selection.getNode();
                t = t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,
                function(e, t, n, r) {
                    var i = a.parseStyle(a.decode(n)),
                    l = {};
                    if ("none" === o) return t + r;
                    for (var u = 0; u < o.length; u++) {
                        var c = i[o[u]],
                        d = a.getStyle(s, o[u], !0);
                        /color/.test(o[u]) && (c = a.toHex(c), d = a.toHex(d)),
                        d !== c && (l[o[u]] = c)
                    }
                    return (l = a.serializeStyle(l, "span")) ? t + ' style="' + l + '"' + r: t + r
                })
            } else t = t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, "$1$3");
            return t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,
            function(e, t, n, r) {
                return t + ' style="' + n + '"' + r
            })
        }
        function ve(e, t) {
            e.$("a", t).find("font,u").each(function(t, n) {
                e.dom.remove(n, !0)
            })
        }
        var be = function(e) {
            d.webkit && pe(e, ge),
            d.ie && (pe(e, he),
            function(e, t) {
                e.on("PastePostProcess",
                function(n) {
                    t(e, n.node)
                })
            } (e, ve))
        },
        ye = function(e, t, n) {
            var r = n.control;
            r.active("text" === t.pasteFormat.get()),
            e.on("PastePlainTextToggle",
            function(e) {
                r.active(e.state)
            })
        },
        we = function(e, t) {
            var n = function(e) {
                for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                for (var r = new Array(arguments.length - 1), o = 1; o < arguments.length; o++) r[o - 1] = arguments[o];
                return function() {
                    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    for (var o = new Array(arguments.length), i = 0; i < o.length; i++) o[i] = arguments[i];
                    var a = r.concat(o);
                    return e.apply(null, a)
                }
            } (ye, e, t);
            e.addButton("pastetext", {
                active: !1,
                icon: "pastetext",
                tooltip: "Paste as text",
                cmd: "mceTogglePlainTextPaste",
                onPostRender: n
            }),
            e.addMenuItem("pastetext", {
                text: "Paste as text",
                selectable: !0,
                active: t.pasteFormat,
                cmd: "mceTogglePlainTextPaste",
                onPostRender: n
            })
        };
        t.add("paste",
        function(t) {
            if (!1 === n(t)) {
                var o = e(!1),
                i = e(!1),
                a = e(l.isPasteAsTextEnabled(t) ? "text": "html"),
                s = ne(t, a),
                u = be(t);
                return we(t, s),
                c(t, s, o),
                me(t),
                le(t),
                fe(t, s, i),
                r(s, u)
            }
        })
    } ()
},
a570: function(e, t, n) {
    n("adef")
},
aa1c: function(e, t, n) {},
ac3a: function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = tinymce.util.Tools.resolve("tinymce.util.VK"),
        n = function(e) {
            return e.target_list
        },
        r = function(e) {
            return e.rel_list
        },
        o = function(e) {
            return e.link_class_list
        },
        i = function(e) {
            return "boolean" == typeof e.link_assume_external_targets && e.link_assume_external_targets
        },
        a = function(e) {
            return "boolean" == typeof e.link_context_toolbar && e.link_context_toolbar
        },
        s = function(e) {
            return e.link_list
        },
        l = function(e) {
            return "string" == typeof e.default_link_target
        },
        u = function(e) {
            return e.default_link_target
        },
        c = n,
        d = function(e, t) {
            e.settings.target_list = t
        },
        f = function(e) {
            return ! 1 !== n(e)
        },
        m = r,
        p = function(e) {
            return void 0 !== r(e)
        },
        h = o,
        g = function(e) {
            return void 0 !== o(e)
        },
        v = function(e) {
            return ! 1 !== e.link_title
        },
        b = function(e) {
            return "boolean" == typeof e.allow_unsafe_link_target && e.allow_unsafe_link_target
        },
        y = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
        w = tinymce.util.Tools.resolve("tinymce.Env"),
        x = function(e) {
            if (!w.ie || w.ie > 10) {
                var t = document.createElement("a");
                t.target = "_blank",
                t.href = e,
                t.rel = "noreferrer noopener";
                var n = document.createEvent("MouseEvents");
                n.initMouseEvent("click", !0, !0, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null),
                function(e, t) {
                    document.body.appendChild(e),
                    e.dispatchEvent(t),
                    document.body.removeChild(e)
                } (t, n)
            } else {
                var r = window.open("", "_blank");
                if (r) {
                    r.opener = null;
                    var o = r.document;
                    o.open(),
                    o.write('<meta http-equiv="refresh" content="0; url=' + y.DOM.encode(e) + '">'),
                    o.close()
                }
            }
        },
        C = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        _ = function(e, t) {
            var n = ["noopener"],
            r = e ? e.split(/\s+/) : [],
            o = function(e) {
                return e.filter(function(e) {
                    return - 1 === C.inArray(n, e)
                })
            };
            return (r = t ?
            function(e) {
                return (e = o(e)).length ? e.concat(n) : n
            } (r) : o(r)).length ?
            function(e) {
                return C.trim(e.sort().join(" "))
            } (r) : null
        },
        k = function(e, t) {
            return t = t || e.selection.getNode(),
            T(t) ? e.dom.select("a[href]", t)[0] : e.dom.getParent(t, "a[href]")
        },
        E = function(e) {
            return e && "A" === e.nodeName && e.href
        },
        T = function(e) {
            return e && "FIGURE" === e.nodeName && /\bimage\b/i.test(e.className)
        },
        S = function(e, t) {
            var n, r; (r = e.dom.select("img", t)[0]) && (n = e.dom.getParents(r, "a[href]", t)[0]) && (n.parentNode.insertBefore(r, n), e.dom.remove(n))
        },
        N = function(e, t, n) {
            var r, o; (o = e.dom.select("img", t)[0]) && (r = e.dom.create("a", n), o.parentNode.insertBefore(r, o), r.appendChild(o))
        },
        R = function(e, t) {
            return function(n) {
                e.undoManager.transact(function() {
                    var r = e.selection.getNode(),
                    o = k(e, r),
                    i = {
                        href: n.href,
                        target: n.target ? n.target: null,
                        rel: n.rel ? n.rel: null,
                        class: n.class ? n.class: null,
                        title: n.title ? n.title: null
                    };
                    p(e.settings) || !1 !== b(e.settings) || (i.rel = _(i.rel, "_blank" === i.target)),
                    n.href === t.href && (t.attach(), t = {}),
                    o ? (e.focus(), n.hasOwnProperty("text") && ("innerText" in o ? o.innerText = n.text: o.textContent = n.text), e.dom.setAttribs(o, i), e.selection.select(o), e.undoManager.add()) : T(r) ? N(e, r, i) : n.hasOwnProperty("text") ? e.insertContent(e.dom.createHTML("a", i, e.dom.encode(n.text))) : e.execCommand("mceInsertLink", !1, i)
                })
            }
        },
        A = function(e) {
            return function() {
                e.undoManager.transact(function() {
                    var t = e.selection.getNode();
                    T(t) ? S(e, t) : e.execCommand("unlink")
                })
            }
        },
        O = E,
        D = function(e) {
            return C.grep(e, E).length > 0
        },
        P = function(e) {
            return ! (/</.test(e) && (!/^<a [^>]+>[^<]+<\/a>$/.test(e) || -1 === e.indexOf("href=")))
        },
        B = k,
        M = function(e, t) {
            return function(e) {
                return e.replace(/\uFEFF/g, "")
            } (t ? t.innerText || t.textContent: e.getContent({
                format: "text"
            }))
        },
        I = _,
        L = tinymce.util.Tools.resolve("tinymce.util.Delay"),
        F = tinymce.util.Tools.resolve("tinymce.util.XHR"),
        W = {},
        H = function(e, t, n) {
            var r = function(e, n) {
                return n = n || [],
                C.each(e,
                function(e) {
                    var o = {
                        text: e.text || e.title
                    };
                    e.menu ? o.menu = r(e.menu) : (o.value = e.value, t && t(o)),
                    n.push(o)
                }),
                n
            };
            return r(e, n || [])
        },
        j = function(e, t, n) {
            var r = e.selection.getRng();
            L.setEditorTimeout(e,
            function() {
                e.windowManager.confirm(t,
                function(t) {
                    e.selection.setRng(r),
                    n(t)
                })
            })
        },
        U = function(e, t) {
            var n, r, o, a, s, y, w, x, _, k, E, T = {},
            S = e.selection,
            N = e.dom,
            O = function(e) {
                var t = o.find("#text"); (!t.value() || e.lastControl && t.value() === e.lastControl.text()) && t.value(e.control.text()),
                o.find("#href").value(e.control.value())
            },
            D = function() {
                r || !a || T.text || this.parent().parent().find("#text")[0].value(this.value())
            };
            a = P(S.getContent()),
            n = B(e),
            T.text = r = M(e.selection, n),
            T.href = n ? N.getAttrib(n, "href") : "",
            n ? T.target = N.getAttrib(n, "target") : l(e.settings) && (T.target = u(e.settings)),
            (E = N.getAttrib(n, "rel")) && (T.rel = E),
            (E = N.getAttrib(n, "class")) && (T.class = E),
            (E = N.getAttrib(n, "title")) && (T.title = E),
            a && (s = {
                name: "text",
                type: "textbox",
                size: 40,
                label: "Text to display",
                onchange: function() {
                    T.text = this.value()
                }
            }),
            t && (y = {
                type: "listbox",
                label: "Link list",
                values: H(t,
                function(t) {
                    t.value = e.convertURL(t.value || t.url, "href")
                },
                [{
                    text: "None",
                    value: ""
                }]),
                onselect: O,
                value: e.convertURL(T.href, "href"),
                onPostRender: function() {
                    y = this
                }
            }),
            f(e.settings) && (void 0 === c(e.settings) && d(e, [{
                text: "None",
                value: ""
            },
            {
                text: "New window",
                value: "_blank"
            }]), x = {
                name: "target",
                type: "listbox",
                label: "Target",
                values: H(c(e.settings))
            }),
            p(e.settings) && (w = {
                name: "rel",
                type: "listbox",
                label: "Rel",
                values: H(m(e.settings),
                function(t) { ! 1 === b(e.settings) && (t.value = I(t.value, "_blank" === T.target))
                })
            }),
            g(e.settings) && (_ = {
                name: "class",
                type: "listbox",
                label: "Class",
                values: H(h(e.settings),
                function(t) {
                    t.value && (t.textStyle = function() {
                        return e.formatter.getCssText({
                            inline: "a",
                            classes: [t.value]
                        })
                    })
                })
            }),
            v(e.settings) && (k = {
                name: "title",
                type: "textbox",
                label: "Title",
                value: T.title
            }),
            o = e.windowManager.open({
                title: "Insert link",
                data: T,
                body: [{
                    name: "href",
                    type: "filepicker",
                    filetype: "file",
                    size: 40,
                    autofocus: !0,
                    label: "Url",
                    onchange: function(t) {
                        var n = t.meta || {};
                        y && y.value(e.convertURL(this.value(), "href")),
                        C.each(t.meta,
                        function(e, t) {
                            var n = o.find("#" + t);
                            "text" === t ? 0 === r.length && (n.value(e), T.text = e) : n.value(e)
                        }),
                        n.attach && (W = {
                            href: this.value(),
                            attach: n.attach
                        }),
                        n.text || D.call(this)
                    },
                    onkeyup: D,
                    onpaste: D,
                    onbeforecall: function(e) {
                        e.meta = o.toJSON()
                    }
                },
                s, k,
                function(t) {
                    var n = [];
                    if (C.each(e.dom.select("a:not([href])"),
                    function(e) {
                        var r = e.name || e.id;
                        r && n.push({
                            text: r,
                            value: "#" + r,
                            selected: -1 !== t.indexOf("#" + r)
                        })
                    }), n.length) return n.unshift({
                        text: "None",
                        value: ""
                    }),
                    {
                        name: "anchor",
                        type: "listbox",
                        label: "Anchors",
                        values: n,
                        onselect: O
                    }
                } (T.href), y, w, x, _],
                onSubmit: function(t) {
                    var n = i(e.settings),
                    o = R(e, W),
                    s = A(e),
                    l = C.extend({},
                    T, t.data),
                    u = l.href;
                    u ? (a && l.text !== r || delete l.text, u.indexOf("@") > 0 && -1 === u.indexOf("//") && -1 === u.indexOf("mailto:") ? j(e, "The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",
                    function(e) {
                        e && (l.href = "mailto:" + u),
                        o(l)
                    }) : !0 === n && !/^\w+:/i.test(u) || !1 === n && /^\s*www[\.|\d\.]/i.test(u) ? j(e, "The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",
                    function(e) {
                        e && (l.href = "http://" + u),
                        o(l)
                    }) : o(l)) : s()
                }
            })
        },
        z = function(e) { !
            function(e, t) {
                var n = s(e.settings);
                "string" == typeof n ? F.send({
                    url: n,
                    success: function(n) {
                        t(e, JSON.parse(n))
                    }
                }) : "function" == typeof n ? n(function(n) {
                    t(e, n)
                }) : t(e, n)
            } (e, U)
        },
        V = function(e, t) {
            return e.dom.getParent(t, "a[href]")
        },
        $ = function(e) {
            return V(e, e.selection.getStart())
        },
        q = function(e, t) {
            if (t) {
                var n = function(e) {
                    var t = e.getAttribute("data-mce-href");
                    return t || e.getAttribute("href")
                } (t);
                if (/^#/.test(n)) {
                    var r = e.$(n);
                    r.length && e.selection.scrollIntoView(r[0], !0)
                } else x(t.href)
            }
        },
        K = function(e) {
            return function() {
                z(e)
            }
        },
        Y = function(e) {
            return function() {
                q(e, $(e))
            }
        },
        X = function(e) {
            return function(t) {
                var n, r, o;
                return !! (a(e.settings) && !
                function(e) {
                    var t = e.plugins.contextmenu;
                    return !! t && t.isContextMenuVisible()
                } (e) && O(t) && 3 === (o = (r = (n = e.selection).getRng()).startContainer).nodeType && n.isCollapsed() && r.startOffset > 0 && r.startOffset < o.data.length)
            }
        },
        G = function(e) {
            e.on("click",
            function(n) {
                var r = V(e, n.target);
                r && t.metaKeyPressed(n) && (n.preventDefault(), q(e, r))
            }),
            e.on("keydown",
            function(t) {
                var n = $(e);
                n && 13 === t.keyCode &&
                function(e) {
                    return ! 0 === e.altKey && !1 === e.shiftKey && !1 === e.ctrlKey && !1 === e.metaKey
                } (t) && (t.preventDefault(), q(e, n))
            })
        },
        J = function(e) {
            return function() {
                var t = this;
                e.on("nodechange",
                function(n) {
                    t.active(!e.readonly && !!B(e, n.element))
                })
            }
        },
        Q = function(e) {
            return function() {
                var t = this,
                n = function(e) {
                    D(e.parents) ? t.show() : t.hide()
                };
                D(e.dom.getParents(e.selection.getStart())) || t.hide(),
                e.on("nodechange", n),
                t.on("remove",
                function() {
                    e.off("nodechange", n)
                })
            }
        },
        Z = function(e) {
            e.addCommand("mceLink", K(e))
        },
        ee = function(e) {
            e.addShortcut("Meta+K", "", K(e))
        },
        te = function(e) {
            e.addButton("link", {
                active: !1,
                icon: "link",
                tooltip: "Insert/edit link",
                onclick: K(e),
                onpostrender: J(e)
            }),
            e.addButton("unlink", {
                active: !1,
                icon: "unlink",
                tooltip: "Remove link",
                onclick: A(e),
                onpostrender: J(e)
            }),
            e.addContextToolbar && e.addButton("openlink", {
                icon: "newtab",
                tooltip: "Open link",
                onclick: Y(e)
            })
        },
        ne = function(e) {
            e.addMenuItem("openlink", {
                text: "Open link",
                icon: "newtab",
                onclick: Y(e),
                onPostRender: Q(e),
                prependToContext: !0
            }),
            e.addMenuItem("link", {
                icon: "link",
                text: "Link",
                shortcut: "Meta+K",
                onclick: K(e),
                stateSelector: "a[href]",
                context: "insert",
                prependToContext: !0
            }),
            e.addMenuItem("unlink", {
                icon: "unlink",
                text: "Remove link",
                onclick: A(e),
                stateSelector: "a[href]"
            })
        },
        re = function(e) {
            e.addContextToolbar && e.addContextToolbar(X(e), "openlink | link unlink")
        };
        e.add("link",
        function(e) {
            te(e),
            ne(e),
            re(e),
            G(e),
            Z(e),
            ee(e)
        })
    } ()
},
adef: function(e, t) { !
    function() {
        "use strict";
        var e = function(t) {
            var n = t,
            r = function() {
                return n
            };
            return {
                get: r,
                set: function(e) {
                    n = e
                },
                clone: function() {
                    return e(r())
                }
            }
        },
        t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        n = function(e) {
            return {
                isFullscreen: function() {
                    return null !== e.get()
                }
            }
        },
        r = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
        o = function(e, t) {
            e.fire("FullscreenStateChanged", {
                state: t
            })
        },
        i = r.DOM,
        a = function(e, t) {
            var n, r, a, s, l, u, c = document.body,
            d = document.documentElement,
            f = t.get(),
            m = function() {
                var e, t, n, o;
                i.setStyle(a, "height", (n = window, o = document.body, o.offsetWidth && (e = o.offsetWidth, t = o.offsetHeight), n.innerWidth && n.innerHeight && (e = n.innerWidth, t = n.innerHeight), {
                    w: e,
                    h: t
                }).h - (r.clientHeight - a.clientHeight))
            },
            p = function() {
                i.unbind(window, "resize", m)
            };
            if (n = (r = e.getContainer()).style, s = (a = e.getContentAreaContainer().firstChild).style, f) s.width = f.iframeWidth,
            s.height = f.iframeHeight,
            f.containerWidth && (n.width = f.containerWidth),
            f.containerHeight && (n.height = f.containerHeight),
            i.removeClass(c, "mce-fullscreen"),
            i.removeClass(d, "mce-fullscreen"),
            i.removeClass(r, "mce-fullscreen"),
            l = f.scrollPos,
            window.scrollTo(l.x, l.y),
            i.unbind(window, "resize", f.resizeHandler),
            e.off("remove", f.removeHandler),
            t.set(null),
            o(e, !1);
            else {
                var h = {
                    scrollPos: (u = i.getViewPort(), {
                        x: u.x,
                        y: u.y
                    }),
                    containerWidth: n.width,
                    containerHeight: n.height,
                    iframeWidth: s.width,
                    iframeHeight: s.height,
                    resizeHandler: m,
                    removeHandler: p
                };
                s.width = s.height = "100%",
                n.width = n.height = "",
                i.addClass(c, "mce-fullscreen"),
                i.addClass(d, "mce-fullscreen"),
                i.addClass(r, "mce-fullscreen"),
                i.bind(window, "resize", m),
                e.on("remove", p),
                m(),
                t.set(h),
                o(e, !0)
            }
        },
        s = function(e, t) {
            e.addCommand("mceFullScreen",
            function() {
                a(e, t)
            })
        },
        l = function(e) {
            return function(t) {
                var n = t.control;
                e.on("FullscreenStateChanged",
                function(e) {
                    n.active(e.state)
                })
            }
        },
        u = function(e) {
            e.addMenuItem("fullscreen", {
                text: "Fullscreen",
                shortcut: "Ctrl+Shift+F",
                selectable: !0,
                cmd: "mceFullScreen",
                onPostRender: l(e),
                context: "view"
            }),
            e.addButton("fullscreen", {
                active: !1,
                tooltip: "Fullscreen",
                cmd: "mceFullScreen",
                onPostRender: l(e)
            })
        };
        t.add("fullscreen",
        function(t) {
            var r = e(null);
            return t.settings.inline ? n(r) : (s(t, r), u(t), t.addShortcut("Ctrl+Shift+F", "", "mceFullScreen"), n(r))
        })
    } ()
},
b20f: function(e, t, n) {},
b439: function(e, t) { !
    function() {
        "use strict";
        var e, t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        n = function() {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
        },
        r = function(e, t) {
            return function() {
                for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                return e(t.apply(null, arguments))
            }
        },
        o = function(e) {
            return function() {
                return e
            }
        },
        i = function(e) {
            return e
        },
        a = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            for (var r = new Array(arguments.length - 1), o = 1; o < arguments.length; o++) r[o - 1] = arguments[o];
            return function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                for (var o = new Array(arguments.length), i = 0; i < o.length; i++) o[i] = arguments[i];
                var a = r.concat(o);
                return e.apply(null, a)
            }
        },
        s = function(e) {
            return function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                return ! e.apply(null, arguments)
            }
        },
        l = function(e) {
            return e()
        },
        u = o(!1),
        c = o(!0),
        d = u,
        f = c,
        m = function() {
            return p
        },
        p = function() {
            var e = function(e) {
                return e.isNone()
            },
            t = function(e) {
                return e()
            },
            n = function(e) {
                return e
            },
            r = {
                fold: function(e, t) {
                    return e()
                },
                is: d,
                isSome: d,
                isNone: f,
                getOr: n,
                getOrThunk: t,
                getOrDie: function(e) {
                    throw new Error(e || "error: getOrDie called on none.")
                },
                getOrNull: function() {
                    return null
                },
                getOrUndefined: function() {},
                or: n,
                orThunk: t,
                map: m,
                ap: m,
                each: function() {},
                bind: m,
                flatten: m,
                exists: d,
                forall: f,
                filter: m,
                equals: e,
                equals_: e,
                toArray: function() {
                    return []
                },
                toString: o("none()")
            };
            return Object.freeze && Object.freeze(r),
            r
        } (),
        h = function(e) {
            var t = function() {
                return e
            },
            n = function() {
                return o
            },
            r = function(t) {
                return t(e)
            },
            o = {
                fold: function(t, n) {
                    return n(e)
                },
                is: function(t) {
                    return e === t
                },
                isSome: f,
                isNone: d,
                getOr: t,
                getOrThunk: t,
                getOrDie: t,
                getOrNull: t,
                getOrUndefined: t,
                or: n,
                orThunk: n,
                map: function(t) {
                    return h(t(e))
                },
                ap: function(t) {
                    return t.fold(m,
                    function(t) {
                        return h(t(e))
                    })
                },
                each: function(t) {
                    t(e)
                },
                bind: r,
                flatten: t,
                exists: r,
                forall: r,
                filter: function(t) {
                    return t(e) ? o: p
                },
                equals: function(t) {
                    return t.is(e)
                },
                equals_: function(t, n) {
                    return t.fold(d,
                    function(t) {
                        return n(e, t)
                    })
                },
                toArray: function() {
                    return [e]
                },
                toString: function() {
                    return "some(" + e + ")"
                }
            };
            return o
        },
        g = {
            some: h,
            none: m,
            from: function(e) {
                return null == e ? p: h(e)
            }
        },
        v = function(e) {
            return function(t) {
                return function(e) {
                    if (null === e) return "null";
                    var t = typeof e;
                    return "object" === t && Array.prototype.isPrototypeOf(e) ? "array": "object" === t && String.prototype.isPrototypeOf(e) ? "string": t
                } (t) === e
            }
        },
        b = v("string"),
        y = v("array"),
        w = v("boolean"),
        x = v("function"),
        C = v("number"),
        _ = void 0 === (e = Array.prototype.indexOf) ?
        function(e, t) {
            return P(e, t)
        }: function(t, n) {
            return e.call(t, n)
        },
        k = function(e, t) {
            return _(e, t) > -1
        },
        E = function(e, t) {
            return D(e, t).isSome()
        },
        T = function(e, t) {
            for (var n = e.length,
            r = new Array(n), o = 0; o < n; o++) {
                var i = e[o];
                r[o] = t(i, o, e)
            }
            return r
        },
        S = function(e, t) {
            for (var n = 0,
            r = e.length; n < r; n++) t(e[n], n, e)
        },
        N = function(e, t) {
            for (var n = [], r = 0, o = e.length; r < o; r++) {
                var i = e[r];
                t(i, r, e) && n.push(i)
            }
            return n
        },
        R = function(e, t, n) {
            return function(e, t) {
                for (var n = e.length - 1; n >= 0; n--) t(e[n], n, e)
            } (e,
            function(e) {
                n = t(n, e)
            }),
            n
        },
        A = function(e, t, n) {
            return S(e,
            function(e) {
                n = t(n, e)
            }),
            n
        },
        O = function(e, t) {
            for (var n = 0,
            r = e.length; n < r; n++) {
                var o = e[n];
                if (t(o, n, e)) return g.some(o)
            }
            return g.none()
        },
        D = function(e, t) {
            for (var n = 0,
            r = e.length; n < r; n++) if (t(e[n], n, e)) return g.some(n);
            return g.none()
        },
        P = function(e, t) {
            for (var n = 0,
            r = e.length; n < r; ++n) if (e[n] === t) return n;
            return - 1
        },
        B = Array.prototype.push,
        M = function(e) {
            for (var t = [], n = 0, r = e.length; n < r; ++n) {
                if (!Array.prototype.isPrototypeOf(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
                B.apply(t, e[n])
            }
            return t
        },
        I = function(e, t) {
            var n = T(e, t);
            return M(n)
        },
        L = function(e, t) {
            for (var n = 0,
            r = e.length; n < r; ++n) if (!0 !== t(e[n], n, e)) return ! 1;
            return ! 0
        },
        F = Array.prototype.slice,
        W = function(e) {
            var t = F.call(e, 0);
            return t.reverse(),
            t
        },
        H = (x(Array.from) && Array.from, Object.keys),
        j = function(e, t) {
            for (var n = H(e), r = 0, o = n.length; r < o; r++) {
                var i = n[r];
                t(e[i], i, e)
            }
        },
        U = function(e, t) {
            return z(e,
            function(e, n, r) {
                return {
                    k: n,
                    v: t(e, n, r)
                }
            })
        },
        z = function(e, t) {
            var n = {};
            return j(e,
            function(r, o) {
                var i = t(r, o, e);
                n[i.k] = i.v
            }),
            n
        },
        V = function() {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            return function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                if (e.length !== t.length) throw new Error('Wrong number of arguments to struct. Expected "[' + e.length + ']", got ' + t.length + " arguments");
                var r = {};
                return S(e,
                function(e, n) {
                    r[e] = o(t[n])
                }),
                r
            }
        },
        $ = function(e) {
            return e.slice(0).sort()
        },
        q = function(e, t) {
            throw new Error("All required keys (" + $(e).join(", ") + ") were not specified. Specified keys were: " + $(t).join(", ") + ".")
        },
        K = function(e) {
            throw new Error("Unsupported keys for object: " + $(e).join(", "))
        },
        Y = function(e, t) {
            if (!y(t)) throw new Error("The " + e + " fields must be an array. Was: " + t + ".");
            S(t,
            function(t) {
                if (!b(t)) throw new Error("The value " + t + " in the " + e + " fields was not a string.")
            })
        },
        X = function(e) {
            var t = $(e);
            O(t,
            function(e, n) {
                return n < t.length - 1 && e === t[n + 1]
            }).each(function(e) {
                throw new Error("The field: " + e + " occurs more than once in the combined fields: [" + t.join(", ") + "].")
            })
        },
        G = function(e, t) {
            var n = e.concat(t);
            if (0 === n.length) throw new Error("You must specify at least one required or optional field.");
            return Y("required", e),
            Y("optional", t),
            X(n),
            function(r) {
                var i = H(r);
                L(e,
                function(e) {
                    return k(i, e)
                }) || q(e, i);
                var a = N(i,
                function(e) {
                    return ! k(n, e)
                });
                a.length > 0 && K(a);
                var s = {};
                return S(e,
                function(e) {
                    s[e] = o(r[e])
                }),
                S(t,
                function(e) {
                    s[e] = o(Object.prototype.hasOwnProperty.call(r, e) ? g.some(r[e]) : g.none())
                }),
                s
            }
        },
        J = V("width", "height"),
        Q = V("rows", "columns"),
        Z = V("row", "column"),
        ee = V("x", "y"),
        te = V("element", "rowspan", "colspan"),
        ne = V("element", "rowspan", "colspan", "isNew"),
        re = {
            dimensions: J,
            grid: Q,
            address: Z,
            coords: ee,
            extended: V("element", "rowspan", "colspan", "row", "column"),
            detail: te,
            detailnew: ne,
            rowdata: V("element", "cells", "section"),
            elementnew: V("element", "isNew"),
            rowdatanew: V("element", "cells", "section", "isNew"),
            rowcells: V("cells", "section"),
            rowdetails: V("details", "section"),
            bounds: V("startRow", "startCol", "finishRow", "finishCol")
        },
        oe = function(e) {
            if (null == e) throw new Error("Node cannot be null or undefined");
            return {
                dom: o(e)
            }
        },
        ie = {
            fromHtml: function(e, t) {
                var n = (t || document).createElement("div");
                if (n.innerHTML = e, !n.hasChildNodes() || n.childNodes.length > 1) throw "HTML must have a single root node";
                return oe(n.childNodes[0])
            },
            fromTag: function(e, t) {
                var n = (t || document).createElement(e);
                return oe(n)
            },
            fromText: function(e, t) {
                var n = (t || document).createTextNode(e);
                return oe(n)
            },
            fromDom: oe,
            fromPoint: function(e, t, n) {
                var r = e.dom();
                return g.from(r.elementFromPoint(t, n)).map(oe)
            }
        },
        ae = {
            ATTRIBUTE: Node.ATTRIBUTE_NODE,
            CDATA_SECTION: Node.CDATA_SECTION_NODE,
            COMMENT: Node.COMMENT_NODE,
            DOCUMENT: Node.DOCUMENT_NODE,
            DOCUMENT_TYPE: Node.DOCUMENT_TYPE_NODE,
            DOCUMENT_FRAGMENT: Node.DOCUMENT_FRAGMENT_NODE,
            ELEMENT: Node.ELEMENT_NODE,
            TEXT: Node.TEXT_NODE,
            PROCESSING_INSTRUCTION: Node.PROCESSING_INSTRUCTION_NODE,
            ENTITY_REFERENCE: Node.ENTITY_REFERENCE_NODE,
            ENTITY: Node.ENTITY_NODE,
            NOTATION: Node.NOTATION_NODE
        },
        se = ae.ELEMENT,
        le = ae.DOCUMENT,
        ue = function(e) {
            return e.nodeType !== se && e.nodeType !== le || 0 === e.childElementCount
        },
        ce = {
            all: function(e, t) {
                var n = void 0 === t ? document: t.dom();
                return ue(n) ? [] : T(n.querySelectorAll(e), ie.fromDom)
            },
            is: function(e, t) {
                var n = e.dom();
                if (n.nodeType !== se) return ! 1;
                if (void 0 !== n.matches) return n.matches(t);
                if (void 0 !== n.msMatchesSelector) return n.msMatchesSelector(t);
                if (void 0 !== n.webkitMatchesSelector) return n.webkitMatchesSelector(t);
                if (void 0 !== n.mozMatchesSelector) return n.mozMatchesSelector(t);
                throw new Error("Browser lacks native selectors")
            },
            one: function(e, t) {
                var n = void 0 === t ? document: t.dom();
                return ue(n) ? g.none() : g.from(n.querySelector(e)).map(ie.fromDom)
            }
        },
        de = function(e, t) {
            var n = [],
            r = function(e) {
                return n.push(e),
                t(e)
            },
            o = t(e);
            do {
                o = o.bind(r)
            } while ( o . isSome ());
            return n
        },
        fe = "undefined" != typeof window ? window: Function("return this;")(),
        me = function(e, t) {
            return function(e, t) {
                for (var n = null != t ? t: fe, r = 0; r < e.length && null != n; ++r) n = n[e[r]];
                return n
            } (e.split("."), t)
        },
        pe = function(e, t) {
            var n = function(e, t) {
                return me(e, t)
            } (e, t);
            if (null == n) throw e + " not available on this browser";
            return n
        },
        he = function() {
            return pe("Node")
        },
        ge = function(e, t, n) {
            return 0 != (e.compareDocumentPosition(t) & n)
        },
        ve = function(e, t) {
            return ge(e, t, he().DOCUMENT_POSITION_CONTAINED_BY)
        },
        be = function(e) {
            var t, n = !1;
            return function() {
                for (var r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
                return n || (n = !0, t = e.apply(null, r)),
                t
            }
        },
        ye = function() {
            return we(0, 0)
        },
        we = function(e, t) {
            return {
                major: e,
                minor: t
            }
        },
        xe = {
            nu: we,
            detect: function(e, t) {
                var n = String(t).toLowerCase();
                return 0 === e.length ? ye() : function(e, t) {
                    var n = function(e, t) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            if (r.test(t)) return r
                        }
                    } (e, t);
                    if (!n) return {
                        major: 0,
                        minor: 0
                    };
                    var r = function(e) {
                        return Number(t.replace(n, "$" + e))
                    };
                    return we(r(1), r(2))
                } (e, n)
            },
            unknown: ye
        },
        Ce = function(e, t) {
            return function() {
                return t === e
            }
        },
        _e = function(e) {
            var t = e.current;
            return {
                current: t,
                version: e.version,
                isEdge: Ce("Edge", t),
                isChrome: Ce("Chrome", t),
                isIE: Ce("IE", t),
                isOpera: Ce("Opera", t),
                isFirefox: Ce("Firefox", t),
                isSafari: Ce("Safari", t)
            }
        },
        ke = {
            unknown: function() {
                return _e({
                    current: void 0,
                    version: xe.unknown()
                })
            },
            nu: _e,
            edge: o("Edge"),
            chrome: o("Chrome"),
            ie: o("IE"),
            opera: o("Opera"),
            firefox: o("Firefox"),
            safari: o("Safari")
        },
        Ee = function(e, t) {
            return function() {
                return t === e
            }
        },
        Te = function(e) {
            var t = e.current;
            return {
                current: t,
                version: e.version,
                isWindows: Ee("Windows", t),
                isiOS: Ee("iOS", t),
                isAndroid: Ee("Android", t),
                isOSX: Ee("OSX", t),
                isLinux: Ee("Linux", t),
                isSolaris: Ee("Solaris", t),
                isFreeBSD: Ee("FreeBSD", t)
            }
        },
        Se = {
            unknown: function() {
                return Te({
                    current: void 0,
                    version: xe.unknown()
                })
            },
            nu: Te,
            windows: o("Windows"),
            ios: o("iOS"),
            android: o("Android"),
            linux: o("Linux"),
            osx: o("OSX"),
            solaris: o("Solaris"),
            freebsd: o("FreeBSD")
        },
        Ne = function(e, t) {
            var n = String(t).toLowerCase();
            return O(e,
            function(e) {
                return e.search(n)
            })
        },
        Re = function(e, t) {
            return Ne(e, t).map(function(e) {
                var n = xe.detect(e.versionRegexes, t);
                return {
                    current: e.name,
                    version: n
                }
            })
        },
        Ae = function(e, t) {
            return Ne(e, t).map(function(e) {
                var n = xe.detect(e.versionRegexes, t);
                return {
                    current: e.name,
                    version: n
                }
            })
        },
        Oe = function(e, t) {
            return - 1 !== e.indexOf(t)
        },
        De = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
        Pe = function(e) {
            return function(t) {
                return Oe(t, e)
            }
        },
        Be = [{
            name: "Edge",
            versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
            search: function(e) {
                return Oe(e, "edge/") && Oe(e, "chrome") && Oe(e, "safari") && Oe(e, "applewebkit")
            }
        },
        {
            name: "Chrome",
            versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, De],
            search: function(e) {
                return Oe(e, "chrome") && !Oe(e, "chromeframe")
            }
        },
        {
            name: "IE",
            versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
            search: function(e) {
                return Oe(e, "msie") || Oe(e, "trident")
            }
        },
        {
            name: "Opera",
            versionRegexes: [De, /.*?opera\/([0-9]+)\.([0-9]+).*/],
            search: Pe("opera")
        },
        {
            name: "Firefox",
            versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
            search: Pe("firefox")
        },
        {
            name: "Safari",
            versionRegexes: [De, /.*?cpu os ([0-9]+)_([0-9]+).*/],
            search: function(e) {
                return (Oe(e, "safari") || Oe(e, "mobile/")) && Oe(e, "applewebkit")
            }
        }],
        Me = [{
            name: "Windows",
            search: Pe("win"),
            versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
        },
        {
            name: "iOS",
            search: function(e) {
                return Oe(e, "iphone") || Oe(e, "ipad")
            },
            versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
        },
        {
            name: "Android",
            search: Pe("android"),
            versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
        },
        {
            name: "OSX",
            search: Pe("os x"),
            versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
        },
        {
            name: "Linux",
            search: Pe("linux"),
            versionRegexes: []
        },
        {
            name: "Solaris",
            search: Pe("sunos"),
            versionRegexes: []
        },
        {
            name: "FreeBSD",
            search: Pe("freebsd"),
            versionRegexes: []
        }],
        Ie = {
            browsers: o(Be),
            oses: o(Me)
        },
        Le = function(e) {
            var t = Ie.browsers(),
            n = Ie.oses(),
            r = Re(t, e).fold(ke.unknown, ke.nu),
            i = Ae(n, e).fold(Se.unknown, Se.nu),
            a = function(e, t, n) {
                var r = e.isiOS() && !0 === /ipad/i.test(n),
                i = e.isiOS() && !r,
                a = e.isAndroid() && 3 === e.version.major,
                s = e.isAndroid() && 4 === e.version.major,
                l = r || a || s && !0 === /mobile/i.test(n),
                u = e.isiOS() || e.isAndroid(),
                c = u && !l,
                d = t.isSafari() && e.isiOS() && !1 === /safari/i.test(n);
                return {
                    isiPad: o(r),
                    isiPhone: o(i),
                    isTablet: o(l),
                    isPhone: o(c),
                    isTouch: o(u),
                    isAndroid: e.isAndroid,
                    isiOS: e.isiOS,
                    isWebView: o(d)
                }
            } (i, r, e);
            return {
                browser: r,
                os: i,
                deviceType: a
            }
        },
        Fe = {
            detect: be(function() {
                var e = navigator.userAgent;
                return Le(e)
            })
        },
        We = function(e, t) {
            return e.dom() === t.dom()
        },
        He = Fe.detect().browser.isIE() ?
        function(e, t) {
            return ve(e.dom(), t.dom())
        }: function(e, t) {
            var n = e.dom(),
            r = t.dom();
            return n !== r && n.contains(r)
        },
        je = {
            eq: We,
            isEqualNode: function(e, t) {
                return e.dom().isEqualNode(t.dom())
            },
            member: function(e, t) {
                return E(t, a(We, e))
            },
            contains: He,
            is: ce.is
        },
        Ue = function(e) {
            var t = e.dom();
            return g.from(t.parentNode).map(ie.fromDom)
        },
        ze = function(e) {
            var t = e.dom();
            return g.from(t.previousSibling).map(ie.fromDom)
        },
        Ve = function(e) {
            var t = e.dom();
            return g.from(t.nextSibling).map(ie.fromDom)
        },
        $e = function(e) {
            var t = e.dom();
            return T(t.childNodes, ie.fromDom)
        },
        qe = function(e, t) {
            var n = e.dom().childNodes;
            return g.from(n[t]).map(ie.fromDom)
        },
        Ke = V("element", "offset"),
        Ye = {
            owner: function(e) {
                return ie.fromDom(e.dom().ownerDocument)
            },
            defaultView: function(e) {
                var t = e.dom().ownerDocument.defaultView;
                return ie.fromDom(t)
            },
            documentElement: function(e) {
                return ie.fromDom(e.dom().ownerDocument.documentElement)
            },
            parent: Ue,
            findIndex: function(e) {
                return Ue(e).bind(function(t) {
                    var n = $e(t);
                    return D(n,
                    function(t) {
                        return je.eq(e, t)
                    })
                })
            },
            parents: function(e, t) {
                for (var n = x(t) ? t: o(!1), r = e.dom(), i = []; null !== r.parentNode && void 0 !== r.parentNode;) {
                    var a = r.parentNode,
                    s = ie.fromDom(a);
                    if (i.push(s), !0 === n(s)) break;
                    r = a
                }
                return i
            },
            siblings: function(e) {
                return Ue(e).map($e).map(function(t) {
                    return N(t,
                    function(t) {
                        return ! je.eq(e, t)
                    })
                }).getOr([])
            },
            prevSibling: ze,
            offsetParent: function(e) {
                var t = e.dom();
                return g.from(t.offsetParent).map(ie.fromDom)
            },
            prevSiblings: function(e) {
                return W(de(e, ze))
            },
            nextSibling: Ve,
            nextSiblings: function(e) {
                return de(e, Ve)
            },
            children: $e,
            child: qe,
            firstChild: function(e) {
                return qe(e, 0)
            },
            lastChild: function(e) {
                return qe(e, e.dom().childNodes.length - 1)
            },
            childNodesCount: function(e) {
                return e.dom().childNodes.length
            },
            hasChildNodes: function(e) {
                return e.dom().hasChildNodes()
            },
            leaf: function(e, t) {
                var n = $e(e);
                return n.length > 0 && t < n.length ? Ke(n[t], 0) : Ke(e, t)
            }
        },
        Xe = function(e, t, n) {
            return I(Ye.children(e),
            function(e) {
                return ce.is(e, t) ? n(e) ? [e] : [] : Xe(e, t, n)
            })
        },
        Ge = {
            firstLayer: function(e, t) {
                return Xe(e, t, o(!0))
            },
            filterFirstLayer: Xe
        },
        Je = function(e) {
            return e.dom().nodeName.toLowerCase()
        },
        Qe = function(e) {
            return e.dom().nodeType
        },
        Ze = function(e) {
            return function(t) {
                return Qe(t) === e
            }
        },
        et = Ze(ae.ELEMENT),
        tt = Ze(ae.TEXT),
        nt = Ze(ae.DOCUMENT),
        rt = {
            name: Je,
            type: Qe,
            value: function(e) {
                return e.dom().nodeValue
            },
            isElement: et,
            isText: tt,
            isDocument: nt,
            isComment: function(e) {
                return Qe(e) === ae.COMMENT || "#comment" === Je(e)
            }
        },
        ot = function(e, t, n) {
            if (! (b(n) || w(n) || C(n))) throw new Error("Attribute value was not simple");
            e.setAttribute(t, n + "")
        },
        it = function(e, t, n) {
            ot(e.dom(), t, n)
        },
        at = function(e, t) {
            var n = e.dom().getAttribute(t);
            return null === n ? void 0 : n
        },
        st = function(e, t) {
            var n = e.dom();
            return ! (!n || !n.hasAttribute) && n.hasAttribute(t)
        },
        lt = {
            clone: function(e) {
                return A(e.dom().attributes,
                function(e, t) {
                    return e[t.name] = t.value,
                    e
                },
                {})
            },
            set: it,
            setAll: function(e, t) {
                var n = e.dom();
                j(t,
                function(e, t) {
                    ot(n, t, e)
                })
            },
            get: at,
            has: st,
            remove: function(e, t) {
                e.dom().removeAttribute(t)
            },
            hasNone: function(e) {
                var t = e.dom().attributes;
                return null == t || 0 === t.length
            },
            transfer: function(e, t, n) {
                rt.isElement(e) && rt.isElement(t) && S(n,
                function(n) { !
                    function(e, t, n) {
                        st(e, n) && !st(t, n) && it(t, n, at(e, n))
                    } (e, t, n)
                })
            }
        },
        ut = be(function() {
            return ct(ie.fromDom(document))
        }),
        ct = function(e) {
            var t = e.dom().body;
            if (null == t) throw "Body is not available yet";
            return ie.fromDom(t)
        },
        dt = {
            body: ut,
            getBody: ct,
            inBody: function(e) {
                var t = rt.isText(e) ? e.dom().parentNode: e.dom();
                return null != t && t.ownerDocument.body.contains(t)
            }
        },
        ft = function(e, t) {
            var n = [];
            return S(Ye.children(e),
            function(e) {
                t(e) && (n = n.concat([e])),
                n = n.concat(ft(e, t))
            }),
            n
        },
        mt = {
            all: function(e) {
                return ft(dt.body(), e)
            },
            ancestors: function(e, t, n) {
                return N(Ye.parents(e, n), t)
            },
            siblings: function(e, t) {
                return N(Ye.siblings(e), t)
            },
            children: function(e, t) {
                return N(Ye.children(e), t)
            },
            descendants: ft
        },
        pt = {
            all: function(e) {
                return ce.all(e)
            },
            ancestors: function(e, t, n) {
                return mt.ancestors(e,
                function(e) {
                    return ce.is(e, t)
                },
                n)
            },
            siblings: function(e, t) {
                return mt.siblings(e,
                function(e) {
                    return ce.is(e, t)
                })
            },
            children: function(e, t) {
                return mt.children(e,
                function(e) {
                    return ce.is(e, t)
                })
            },
            descendants: function(e, t) {
                return ce.all(t, e)
            }
        };
        function ht(e, t, n, r, o) {
            return e(n, r) ? g.some(n) : x(o) && o(n) ? g.none() : t(n, r, o)
        }
        var gt = function(e, t, n) {
            for (var r = e.dom(), i = x(n) ? n: o(!1); r.parentNode;) {
                r = r.parentNode;
                var a = ie.fromDom(r);
                if (t(a)) return g.some(a);
                if (i(a)) break
            }
            return g.none()
        },
        vt = function(e, t) {
            return O(e.dom().childNodes, r(t, ie.fromDom)).map(ie.fromDom)
        },
        bt = function(e, t) {
            var n = function(e) {
                for (var r = 0; r < e.childNodes.length; r++) {
                    if (t(ie.fromDom(e.childNodes[r]))) return g.some(ie.fromDom(e.childNodes[r]));
                    var o = n(e.childNodes[r]);
                    if (o.isSome()) return o
                }
                return g.none()
            };
            return n(e.dom())
        },
        yt = {
            first: function(e) {
                return bt(dt.body(), e)
            },
            ancestor: gt,
            closest: function(e, t, n) {
                return ht(function(e) {
                    return t(e)
                },
                gt, e, t, n)
            },
            sibling: function(e, t) {
                var n = e.dom();
                return n.parentNode ? vt(ie.fromDom(n.parentNode),
                function(n) {
                    return ! je.eq(e, n) && t(n)
                }) : g.none()
            },
            child: vt,
            descendant: bt
        },
        wt = function(e, t, n) {
            return yt.ancestor(e,
            function(e) {
                return ce.is(e, t)
            },
            n)
        },
        xt = {
            first: function(e) {
                return ce.one(e)
            },
            ancestor: wt,
            sibling: function(e, t) {
                return yt.sibling(e,
                function(e) {
                    return ce.is(e, t)
                })
            },
            child: function(e, t) {
                return yt.child(e,
                function(e) {
                    return ce.is(e, t)
                })
            },
            descendant: function(e, t) {
                return ce.one(t, e)
            },
            closest: function(e, t, n) {
                return ht(ce.is, wt, e, t, n)
            }
        },
        Ct = function(e, t, n) {
            var r = void 0 !== n ? n: o(!1);
            return r(t) ? g.none() : k(e, rt.name(t)) ? g.some(t) : xt.ancestor(t, e.join(","),
            function(e) {
                return ce.is(e, "table") || r(e)
            })
        },
        _t = function(e, t) {
            return Ye.parent(t).map(function(t) {
                return pt.children(t, e)
            })
        },
        kt = a(_t, "th,td"),
        Et = a(_t, "tr"),
        Tt = function(e, t) {
            return parseInt(lt.get(e, t), 10)
        },
        St = {
            cell: function(e, t) {
                return Ct(["td", "th"], e, t)
            },
            firstCell: function(e) {
                return xt.descendant(e, "th,td")
            },
            cells: function(e) {
                return Ge.firstLayer(e, "th,td")
            },
            neighbourCells: kt,
            table: function(e, t) {
                return xt.closest(e, "table", t)
            },
            row: function(e, t) {
                return Ct(["tr"], e, t)
            },
            rows: function(e) {
                return Ge.firstLayer(e, "tr")
            },
            notCell: function(e, t) {
                return Ct(["caption", "tr", "tbody", "tfoot", "thead"], e, t)
            },
            neighbourRows: Et,
            attr: Tt,
            grid: function(e, t, n) {
                var r = Tt(e, t),
                o = Tt(e, n);
                return re.grid(r, o)
            }
        },
        Nt = function(e) {
            var t = St.rows(e);
            return T(t,
            function(e) {
                var t = e,
                n = Ye.parent(t).map(function(e) {
                    var t = rt.name(e);
                    return "tfoot" === t || "thead" === t || "tbody" === t ? t: "tbody"
                }).getOr("tbody"),
                r = T(St.cells(e),
                function(e) {
                    var t = lt.has(e, "rowspan") ? parseInt(lt.get(e, "rowspan"), 10) : 1,
                    n = lt.has(e, "colspan") ? parseInt(lt.get(e, "colspan"), 10) : 1;
                    return re.detail(e, t, n)
                });
                return re.rowdata(t, r, n)
            })
        },
        Rt = function(e, t) {
            return T(e,
            function(e) {
                var n = T(St.cells(e),
                function(e) {
                    var t = lt.has(e, "rowspan") ? parseInt(lt.get(e, "rowspan"), 10) : 1,
                    n = lt.has(e, "colspan") ? parseInt(lt.get(e, "colspan"), 10) : 1;
                    return re.detail(e, t, n)
                });
                return re.rowdata(e, n, t.section())
            })
        },
        At = function(e, t) {
            return e + "," + t
        },
        Ot = function(e, t) {
            var n = I(e.all(),
            function(e) {
                return e.cells()
            });
            return N(n, t)
        },
        Dt = {
            generate: function(e) {
                var t = {},
                n = [],
                r = e.length,
                i = 0;
                S(e,
                function(e, r) {
                    var o = [];
                    S(e.cells(),
                    function(e, n) {
                        for (var a = 0; void 0 !== t[At(r, a)];) a++;
                        for (var s = re.extended(e.element(), e.rowspan(), e.colspan(), r, a), l = 0; l < e.colspan(); l++) for (var u = 0; u < e.rowspan(); u++) {
                            var c = a + l,
                            d = At(r + u, c);
                            t[d] = s,
                            i = Math.max(i, c + 1)
                        }
                        o.push(s)
                    }),
                    n.push(re.rowdata(e.element(), o, e.section()))
                });
                var a = re.grid(r, i);
                return {
                    grid: o(a),
                    access: o(t),
                    all: o(n)
                }
            },
            getAt: function(e, t, n) {
                var r = e.access()[At(t, n)];
                return void 0 !== r ? g.some(r) : g.none()
            },
            findItem: function(e, t, n) {
                var r = Ot(e,
                function(e) {
                    return n(t, e.element())
                });
                return r.length > 0 ? g.some(r[0]) : g.none()
            },
            filterItems: Ot,
            justCells: function(e) {
                var t = T(e.all(),
                function(e) {
                    return e.cells()
                });
                return M(t)
            }
        },
        Pt = {
            isSupported: function(e) {
                return void 0 !== e.style
            }
        },
        Bt = function(e, t, n) {
            if (!b(n)) throw new Error("CSS value must be a string: " + n);
            Pt.isSupported(e) && e.style.setProperty(t, n)
        },
        Mt = function(e, t) {
            Pt.isSupported(e) && e.style.removeProperty(t)
        },
        It = function(e, t, n) {
            var r = e.dom();
            Bt(r, t, n)
        },
        Lt = function(e, t) {
            return Pt.isSupported(e) ? e.style.getPropertyValue(t) : ""
        },
        Ft = function(e, t) {
            var n = e.dom(),
            r = Lt(n, t);
            return g.from(r).filter(function(e) {
                return e.length > 0
            })
        },
        Wt = {
            copy: function(e, t) {
                var n = e.dom(),
                r = t.dom();
                Pt.isSupported(n) && Pt.isSupported(r) && (r.style.cssText = n.style.cssText)
            },
            set: It,
            preserve: function(e, t) {
                var n = lt.get(e, "style"),
                r = t(e);
                return (void 0 === n ? lt.remove: lt.set)(e, "style", n),
                r
            },
            setAll: function(e, t) {
                var n = e.dom();
                j(t,
                function(e, t) {
                    Bt(n, t, e)
                })
            },
            setOptions: function(e, t) {
                var n = e.dom();
                j(t,
                function(e, t) {
                    e.fold(function() {
                        Mt(n, t)
                    },
                    function(e) {
                        Bt(n, t, e)
                    })
                })
            },
            remove: function(e, t) {
                var n = e.dom();
                Mt(n, t),
                lt.has(e, "style") && "" === lt.get(e, "style").replace(/^\s+|\s+$/g, "") && lt.remove(e, "style")
            },
            get: function(e, t) {
                var n = e.dom(),
                r = window.getComputedStyle(n).getPropertyValue(t),
                o = "" !== r || dt.inBody(e) ? r: Lt(n, t);
                return null === o ? void 0 : o
            },
            getRaw: Ft,
            getAllRaw: function(e) {
                var t = {},
                n = e.dom();
                if (Pt.isSupported(n)) for (var r = 0; r < n.style.length; r++) {
                    var o = n.style.item(r);
                    t[o] = n.style[o]
                }
                return t
            },
            isValidValue: function(e, t, n) {
                var r = ie.fromTag(e);
                return It(r, t, n),
                Ft(r, t).isSome()
            },
            reflow: function(e) {
                return e.dom().offsetWidth
            },
            transfer: function(e, t, n) {
                rt.isElement(e) && rt.isElement(t) && S(n,
                function(n) { !
                    function(e, t, n) {
                        Ft(e, n).each(function(e) {
                            Ft(t, n).isNone() && It(t, n, e)
                        })
                    } (e, t, n)
                })
            }
        },
        Ht = function(e, t) {
            Ye.parent(e).each(function(n) {
                n.dom().insertBefore(t.dom(), e.dom())
            })
        },
        jt = function(e, t) {
            e.dom().appendChild(t.dom())
        },
        Ut = {
            before: Ht,
            after: function(e, t) {
                Ye.nextSibling(e).fold(function() {
                    Ye.parent(e).each(function(e) {
                        jt(e, t)
                    })
                },
                function(e) {
                    Ht(e, t)
                })
            },
            prepend: function(e, t) {
                Ye.firstChild(e).fold(function() {
                    jt(e, t)
                },
                function(n) {
                    e.dom().insertBefore(t.dom(), n.dom())
                })
            },
            append: jt,
            appendAt: function(e, t, n) {
                Ye.child(e, n).fold(function() {
                    jt(e, t)
                },
                function(e) {
                    Ht(e, t)
                })
            },
            wrap: function(e, t) {
                Ht(e, t),
                jt(t, e)
            }
        },
        zt = {
            before: function(e, t) {
                S(t,
                function(t) {
                    Ut.before(e, t)
                })
            },
            after: function(e, t) {
                S(t,
                function(n, r) {
                    var o = 0 === r ? e: t[r - 1];
                    Ut.after(o, n)
                })
            },
            prepend: function(e, t) {
                S(t.slice().reverse(),
                function(t) {
                    Ut.prepend(e, t)
                })
            },
            append: function(e, t) {
                S(t,
                function(t) {
                    Ut.append(e, t)
                })
            }
        },
        Vt = function(e) {
            var t = e.dom();
            null !== t.parentNode && t.parentNode.removeChild(t)
        },
        $t = {
            empty: function(e) {
                e.dom().textContent = "",
                S(Ye.children(e),
                function(e) {
                    Vt(e)
                })
            },
            remove: Vt,
            unwrap: function(e) {
                var t = Ye.children(e);
                t.length > 0 && zt.before(e, t),
                Vt(e)
            }
        },
        qt = V("minRow", "minCol", "maxRow", "maxCol"),
        Kt = function(e, t) {
            var n = e.grid().columns(),
            r = e.grid().rows(),
            o = n,
            i = 0,
            a = 0;
            return j(e.access(),
            function(e) {
                if (t(e)) {
                    var n = e.row(),
                    s = n + e.rowspan() - 1,
                    l = e.column(),
                    u = l + e.colspan() - 1;
                    n < r ? r = n: s > i && (i = s),
                    l < o ? o = l: u > a && (a = u)
                }
            }),
            qt(r, o, i, a)
        },
        Yt = function(e, t, n) {
            var r = e[n].element(),
            o = ie.fromTag("td");
            Ut.append(o, ie.fromTag("br")),
            (t ? Ut.append: Ut.prepend)(r, o)
        },
        Xt = function(e, t) {
            var n = function(e) {
                return ce.is(e.element(), t)
            },
            r = Nt(e),
            o = Dt.generate(r),
            i = Kt(o, n),
            a = "th:not(" + t + "),td:not(" + t + ")",
            s = Ge.filterFirstLayer(e, "th,td",
            function(e) {
                return ce.is(e, a)
            });
            return S(s, $t.remove),
            function(e, t, n, r) {
                for (var o = t.grid().columns(), i = t.grid().rows(), a = 0; a < i; a++) for (var s = !1,
                l = 0; l < o; l++) a < n.minRow() || a > n.maxRow() || l < n.minCol() || l > n.maxCol() || (Dt.getAt(t, a, l).filter(r).isNone() ? Yt(e, s, a) : s = !0)
            } (r, o, i, n),
            function(e, t) {
                var n = N(Ge.firstLayer(e, "tr"),
                function(e) {
                    return 0 === e.dom().childElementCount
                });
                S(n, $t.remove),
                t.minCol() !== t.maxCol() && t.minRow() !== t.maxRow() || S(Ge.firstLayer(e, "th,td"),
                function(e) {
                    lt.remove(e, "rowspan"),
                    lt.remove(e, "colspan")
                }),
                lt.remove(e, "width"),
                lt.remove(e, "height"),
                Wt.remove(e, "width"),
                Wt.remove(e, "height")
            } (e, i),
            e
        },
        Gt = function(e, t) {
            return ie.fromDom(e.dom().cloneNode(t))
        },
        Jt = function(e) {
            return Gt(e, !0)
        },
        Qt = function(e, t) {
            var n = ie.fromTag(t),
            r = lt.clone(e);
            return lt.setAll(n, r),
            n
        },
        Zt = function(e) {
            return Gt(e, !1)
        },
        en = Jt,
        tn = function(e, t) {
            var n = Qt(e, t),
            r = Ye.children(Jt(e));
            return zt.append(n, r),
            n
        },
        nn = function(e, t) {
            var n = function(t) {
                return e(t) ? g.from(t.dom().nodeValue) : g.none()
            },
            r = Fe.detect().browser,
            o = r.isIE() && 10 === r.version.major ?
            function(e) {
                try {
                    return n(e)
                } catch(e) {
                    return g.none()
                }
            }: n;
            return {
                get: function(n) {
                    if (!e(n)) throw new Error("Can only get " + t + " value of a " + t + " node");
                    return o(n).getOr("")
                },
                getOption: o,
                set: function(n, r) {
                    if (!e(n)) throw new Error("Can only set raw " + t + " value of a " + t + " node");
                    n.dom().nodeValue = r
                }
            }
        } (rt.isText, "text"),
        rn = {
            get: function(e) {
                return nn.get(e)
            },
            getOption: function(e) {
                return nn.getOption(e)
            },
            set: function(e, t) {
                nn.set(e, t)
            }
        },
        on = function(e) {
            return "img" === rt.name(e) ? 1 : rn.getOption(e).fold(function() {
                return Ye.children(e).length
            },
            function(e) {
                return e.length
            })
        },
        an = ["img", "br"],
        sn = on,
        ln = function(e) {
            var t;
            return t = e,
            rn.getOption(t).filter(function(e) {
                return 0 !== e.trim().length || e.indexOf(" ") > -1
            }).isSome() || k(an, rt.name(e))
        },
        un = function(e, t) {
            var n = function(e) {
                for (var r = Ye.children(e), o = r.length - 1; o >= 0; o--) {
                    var i = r[o];
                    if (t(i)) return g.some(i);
                    var a = n(i);
                    if (a.isSome()) return a
                }
                return g.none()
            };
            return n(e)
        },
        cn = {
            first: function(e) {
                return yt.descendant(e, ln)
            },
            last: function(e) {
                return un(e, ln)
            }
        },
        dn = function() {
            var e = ie.fromTag("td");
            return Ut.append(e, ie.fromTag("br")),
            e
        },
        fn = function(e, t, n) {
            var r = tn(e, t);
            return j(n,
            function(e, t) {
                null === e ? lt.remove(r, t) : lt.set(r, t, e)
            }),
            r
        },
        mn = function(e) {
            return e
        },
        pn = function(e) {
            return function() {
                return ie.fromTag("tr", e.dom())
            }
        },
        hn = function(e, t, n) {
            return {
                row: pn(t),
                cell: function(t) {
                    var r = Ye.owner(t.element()),
                    o = ie.fromTag(rt.name(t.element()), r.dom()),
                    i = n.getOr(["strong", "em", "b", "i", "span", "font", "h1", "h2", "h3", "h4", "h5", "h6", "p", "div"]),
                    a = i.length > 0 ?
                    function(e, t, n) {
                        return cn.first(e).map(function(r) {
                            var o = n.join(","),
                            i = pt.ancestors(r, o,
                            function(t) {
                                return je.eq(t, e)
                            });
                            return R(i,
                            function(e, t) {
                                var n = Zt(t);
                                return lt.remove(n, "contenteditable"),
                                Ut.append(e, n),
                                n
                            },
                            t)
                        }).getOr(t)
                    } (t.element(), o, i) : o;
                    return Ut.append(a, ie.fromTag("br")),
                    Wt.copy(t.element(), o),
                    Wt.remove(o, "height"),
                    1 !== t.colspan() && Wt.remove(t.element(), "width"),
                    e(t.element(), o),
                    o
                },
                replace: fn,
                gap: dn
            }
        },
        gn = function(e) {
            return {
                row: pn(e),
                cell: dn,
                replace: mn,
                gap: dn
            }
        },
        vn = function(e, t) {
            var n = (t || document).createElement("div");
            return n.innerHTML = e,
            Ye.children(ie.fromDom(n))
        },
        bn = ["body", "p", "div", "article", "aside", "figcaption", "figure", "footer", "header", "nav", "section", "ol", "ul", "li", "table", "thead", "tbody", "tfoot", "caption", "tr", "td", "th", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "pre", "address"];
        function yn() {
            return {
                up: o({
                    selector: xt.ancestor,
                    closest: xt.closest,
                    predicate: yt.ancestor,
                    all: Ye.parents
                }),
                down: o({
                    selector: pt.descendants,
                    predicate: mt.descendants
                }),
                styles: o({
                    get: Wt.get,
                    getRaw: Wt.getRaw,
                    set: Wt.set,
                    remove: Wt.remove
                }),
                attrs: o({
                    get: lt.get,
                    set: lt.set,
                    remove: lt.remove,
                    copyTo: function(e, t) {
                        var n = lt.clone(e);
                        lt.setAll(t, n)
                    }
                }),
                insert: o({
                    before: Ut.before,
                    after: Ut.after,
                    afterAll: zt.after,
                    append: Ut.append,
                    appendAll: zt.append,
                    prepend: Ut.prepend,
                    wrap: Ut.wrap
                }),
                remove: o({
                    unwrap: $t.unwrap,
                    remove: $t.remove
                }),
                create: o({
                    nu: ie.fromTag,
                    clone: function(e) {
                        return ie.fromDom(e.dom().cloneNode(!1))
                    },
                    text: ie.fromText
                }),
                query: o({
                    comparePosition: function(e, t) {
                        return e.dom().compareDocumentPosition(t.dom())
                    },
                    prevSibling: Ye.prevSibling,
                    nextSibling: Ye.nextSibling
                }),
                property: o({
                    children: Ye.children,
                    name: rt.name,
                    parent: Ye.parent,
                    isText: rt.isText,
                    isComment: rt.isComment,
                    isElement: rt.isElement,
                    getText: rn.get,
                    setText: rn.set,
                    isBoundary: function(e) {
                        return !! rt.isElement(e) && ("body" === rt.name(e) || k(bn, rt.name(e)))
                    },
                    isEmptyTag: function(e) {
                        return !! rt.isElement(e) && k(["br", "img", "hr", "input"], rt.name(e))
                    }
                }),
                eq: je.eq,
                is: je.is
            }
        }
        var wn = V("left", "right"),
        xn = function(e, t, n) {
            var r = e.property().children(t);
            return D(r, a(e.eq, n)).map(function(e) {
                return {
                    before: o(r.slice(0, e)),
                    after: o(r.slice(e + 1))
                }
            })
        },
        Cn = function(e, t, n) {
            return xn(e, t, n).map(function(r) {
                var o = e.create().clone(t);
                return e.insert().appendAll(o, r.before().concat([n])),
                e.insert().appendAll(t, r.after()),
                e.insert().before(t, o),
                wn(o, t)
            })
        },
        _n = function(e, t, n) {
            return xn(e, t, n).map(function(n) {
                var r = e.create().clone(t);
                return e.insert().appendAll(r, n.after()),
                e.insert().after(t, r),
                wn(t, r)
            })
        },
        kn = function(e, t, n, r) {
            var o = V("first", "second", "splits"),
            i = function(t, a, s) {
                var l = o(t, g.none(), s);
                return n(t) ? o(t, a, s) : e.property().parent(t).bind(function(o) {
                    return r(e, o, t).map(function(e) {
                        var t = [{
                            first: e.left,
                            second: e.right
                        }],
                        r = n(o) ? o: e.left();
                        return i(r, g.some(e.right()), s.concat(t))
                    }).getOr(l)
                })
            };
            return i(t, g.none(), [])
        },
        En = function(e, t, n, r) {
            var o = t(e, n);
            return R(r,
            function(n, r) {
                var o = t(e, r);
                return Tn(e, n, o)
            },
            o)
        },
        Tn = function(e, t, n) {
            return t.bind(function(t) {
                return n.filter(a(e.eq, t))
            })
        },
        Sn = function(e, t, n) {
            return n.length > 0 ?
            function(e, t, n, r) {
                return r(e, t, n[0], n.slice(1))
            } (e, t, n, En) : g.none()
        },
        Nn = function(e, t) {
            return a(e.eq, t)
        },
        Rn = function(e, t, n, r) {
            var i = void 0 !== r ? r: o(!1),
            a = [t].concat(e.up().all(t)),
            s = [n].concat(e.up().all(n)),
            l = function(e) {
                return D(e, i).fold(function() {
                    return e
                },
                function(t) {
                    return e.slice(0, t + 1)
                })
            },
            u = l(a),
            c = l(s),
            d = O(u,
            function(t) {
                return E(c, Nn(e, t))
            });
            return {
                firstpath: o(u),
                secondpath: o(c),
                shared: o(d)
            }
        },
        An = function(e, t, n) {
            var r = Rn(e, t, n);
            return r.shared().bind(function(t) {
                return function(e, t, n, r) {
                    var o = e.property().children(t);
                    if (e.eq(t, n[0])) return g.some([n[0]]);
                    if (e.eq(t, r[0])) return g.some([r[0]]);
                    var i = function(n) {
                        var r = W(n),
                        i = D(r, Nn(e, t)).getOr( - 1),
                        a = i < r.length - 1 ? r[i + 1] : r[i];
                        return D(o, Nn(e, a))
                    },
                    a = i(n),
                    s = i(r);
                    return a.bind(function(e) {
                        return s.map(function(t) {
                            var n = Math.min(e, t),
                            r = Math.max(e, t);
                            return o.slice(n, r + 1)
                        })
                    })
                } (e, t, r.firstpath(), r.secondpath())
            })
        },
        On = Rn,
        Dn = function(e, t, n) {
            return Sn(e, t, n)
        },
        Pn = function(e, t, n) {
            return An(e, t, n)
        },
        Bn = function(e, t, n, r) {
            return On(e, t, n, r)
        },
        Mn = function(e, t, n) {
            return Cn(e, t, n)
        },
        In = function(e, t, n) {
            return _n(e, t, n)
        },
        Ln = function(e, t, n, r) {
            return kn(e, t, n, r)
        },
        Fn = yn(),
        Wn = {
            sharedOne: function(e, t) {
                return Dn(Fn,
                function(t, n) {
                    return e(n)
                },
                t)
            },
            subset: function(e, t) {
                return Pn(Fn, e, t)
            },
            ancestors: function(e, t, n) {
                return Bn(Fn, e, t, n)
            },
            breakToLeft: function(e, t) {
                return Mn(Fn, e, t)
            },
            breakToRight: function(e, t) {
                return In(Fn, e, t)
            },
            breakPath: function(e, t, n) {
                return Ln(Fn, e, t,
                function(e, t, r) {
                    return n(t, r)
                })
            }
        },
        Hn = function(e, t) {
            return t.column() >= e.startCol() && t.column() + t.colspan() - 1 <= e.finishCol() && t.row() >= e.startRow() && t.row() + t.rowspan() - 1 <= e.finishRow()
        },
        jn = function(e, t) {
            var n = t.column(),
            r = t.column() + t.colspan() - 1,
            o = t.row(),
            i = t.row() + t.rowspan() - 1;
            return n <= e.finishCol() && r >= e.startCol() && o <= e.finishRow() && i >= e.startRow()
        },
        Un = function(e, t) {
            for (var n = !0,
            r = a(Hn, t), o = t.startRow(); o <= t.finishRow(); o++) for (var i = t.startCol(); i <= t.finishCol(); i++) n = n && Dt.getAt(e, o, i).exists(r);
            return n ? g.some(t) : g.none()
        },
        zn = function(e, t, n) {
            var r = Dt.findItem(e, t, je.eq),
            o = Dt.findItem(e, n, je.eq);
            return r.bind(function(e) {
                return o.map(function(t) {
                    return n = e,
                    r = t,
                    re.bounds(Math.min(n.row(), r.row()), Math.min(n.column(), r.column()), Math.max(n.row() + n.rowspan() - 1, r.row() + r.rowspan() - 1), Math.max(n.column() + n.colspan() - 1, r.column() + r.colspan() - 1));
                    var n, r
                })
            })
        }, Vn = zn,
        $n = function(e, t, n) {
            return zn(e, t, n).bind(function(t) {
                return Un(e, t)
            })
        },
        qn = function(e, t, n, r) {
            return Dt.findItem(e, t, je.eq).bind(function(t) {
                var o = n > 0 ? t.row() + t.rowspan() - 1 : t.row(),
                i = r > 0 ? t.column() + t.colspan() - 1 : t.column();
                return Dt.getAt(e, o + n, i + r).map(function(e) {
                    return e.element()
                })
            })
        },
        Kn = function(e, t, n) {
            return Vn(e, t, n).map(function(t) {
                var n = Dt.filterItems(e, a(jn, t));
                return T(n,
                function(e) {
                    return e.element()
                })
            })
        },
        Yn = function(e, t) {
            return Dt.findItem(e, t,
            function(e, t) {
                return je.contains(t, e)
            }).bind(function(e) {
                return e.element()
            })
        },
        Xn = function(e) {
            var t = Nt(e);
            return Dt.generate(t)
        },
        Gn = function(e, t, n) {
            return St.table(e).bind(function(r) {
                var o = Xn(r);
                return qn(o, e, t, n)
            })
        },
        Jn = function(e, t, n) {
            var r = Xn(e);
            return Kn(r, t, n)
        },
        Qn = function(e, t, n, r, o) {
            var i = Xn(e),
            a = je.eq(e, n) ? t: Yn(i, t),
            s = je.eq(e, o) ? r: Yn(i, r);
            return Kn(i, a, s)
        },
        Zn = function(e, t, n) {
            var r = Xn(e);
            return $n(r, t, n)
        },
        er = function(e, t) {
            return xt.ancestor(e, "table")
        },
        tr = G(["boxes", "start", "finish"], []),
        nr = function(e, t, n) {
            var r = function(e) {
                return function(t) {
                    return n(t) || je.eq(t, e)
                }
            };
            return je.eq(e, t) ? g.some(tr({
                boxes: g.some([e]),
                start: e,
                finish: t
            })) : er(e).bind(function(o) {
                return er(t).bind(function(i) {
                    if (je.eq(o, i)) return g.some(tr({
                        boxes: Jn(o, e, t),
                        start: e,
                        finish: t
                    }));
                    if (je.contains(o, i)) {
                        var a = (s = pt.ancestors(t, "td,th", r(o))).length > 0 ? s[s.length - 1] : t;
                        return g.some(tr({
                            boxes: Qn(o, e, o, t, i),
                            start: e,
                            finish: a
                        }))
                    }
                    if (je.contains(i, o)) {
                        var s, l = (s = pt.ancestors(e, "td,th", r(i))).length > 0 ? s[s.length - 1] : e;
                        return g.some(tr({
                            boxes: Qn(i, e, o, t, i),
                            start: e,
                            finish: l
                        }))
                    }
                    return Wn.ancestors(e, t).shared().bind(function(a) {
                        return xt.closest(a, "table", n).bind(function(n) {
                            var a = pt.ancestors(t, "td,th", r(n)),
                            s = a.length > 0 ? a[a.length - 1] : t,
                            l = pt.ancestors(e, "td,th", r(n)),
                            u = l.length > 0 ? l[l.length - 1] : e;
                            return g.some(tr({
                                boxes: Qn(n, e, o, t, i),
                                start: u,
                                finish: s
                            }))
                        })
                    })
                })
            })
        },
        rr = {
            identify: nr,
            retrieve: function(e, t) {
                var n = pt.descendants(e, t);
                return n.length > 0 ? g.some(n) : g.none()
            },
            shiftSelection: function(e, t, n, r, i) {
                return function(e, t) {
                    return O(e,
                    function(e) {
                        return ce.is(e, t)
                    })
                } (e, i).bind(function(e) {
                    return Gn(e, t, n).bind(function(e) {
                        return function(e, t) {
                            return xt.ancestor(e, "table").bind(function(n) {
                                return xt.descendant(n, t).bind(function(t) {
                                    return nr(t, e).bind(function(e) {
                                        return e.boxes().map(function(t) {
                                            return {
                                                boxes: o(t),
                                                start: o(e.start()),
                                                finish: o(e.finish())
                                            }
                                        })
                                    })
                                })
                            })
                        } (e, r)
                    })
                })
            },
            getEdges: function(e, t, n) {
                return xt.descendant(e, t).bind(function(t) {
                    return xt.descendant(e, n).bind(function(e) {
                        return Wn.sharedOne(er, [t, e]).map(function(n) {
                            return {
                                first: o(t),
                                last: o(e),
                                table: o(n)
                            }
                        })
                    })
                })
            }
        },
        or = function(e, t) {
            return rr.retrieve(e, t)
        },
        ir = function(e, t, n) {
            return rr.getEdges(e, t, n).bind(function(t) {
                var n = function(t) {
                    return je.eq(e, t)
                },
                r = xt.ancestor(t.first(), "thead,tfoot,tbody,table", n),
                o = xt.ancestor(t.last(), "thead,tfoot,tbody,table", n);
                return r.bind(function(e) {
                    return o.bind(function(n) {
                        return je.eq(e, n) ? Zn(t.table(), t.first(), t.last()) : g.none()
                    })
                })
            })
        },
        ar = "data-mce-selected",
        sr = {
            selected: o(ar),
            selectedSelector: o("td[data-mce-selected],th[data-mce-selected]"),
            attributeSelector: o("[data-mce-selected]"),
            firstSelected: o("data-mce-first-selected"),
            firstSelectedSelector: o("td[data-mce-first-selected],th[data-mce-first-selected]"),
            lastSelected: o("data-mce-last-selected"),
            lastSelectedSelector: o("td[data-mce-last-selected],th[data-mce-last-selected]")
        },
        lr = function(e) {
            if (!y(e)) throw new Error("cases must be an array");
            if (0 === e.length) throw new Error("there must be at least one case");
            var t = [],
            n = {};
            return S(e,
            function(r, o) {
                var i = H(r);
                if (1 !== i.length) throw new Error("one and only one name per case");
                var a = i[0],
                s = r[a];
                if (void 0 !== n[a]) throw new Error("duplicate key detected:" + a);
                if ("cata" === a) throw new Error("cannot have a case named cata (sorry)");
                if (!y(s)) throw new Error("case arguments must be an array");
                t.push(a),
                n[a] = function() {
                    var n = arguments.length;
                    if (n !== s.length) throw new Error("Wrong number of arguments to case " + a + ". Expected " + s.length + " (" + s + "), got " + n);
                    for (var r = new Array(n), i = 0; i < r.length; i++) r[i] = arguments[i];
                    return {
                        fold: function() {
                            if (arguments.length !== e.length) throw new Error("Wrong number of arguments to fold. Expected " + e.length + ", got " + arguments.length);
                            return arguments[o].apply(null, r)
                        },
                        match: function(e) {
                            var n = H(e);
                            if (t.length !== n.length) throw new Error("Wrong number of arguments to match. Expected: " + t.join(",") + "\nActual: " + n.join(","));
                            if (!L(t,
                            function(e) {
                                return k(n, e)
                            })) throw new Error("Not all branches were specified when using match. Specified: " + n.join(", ") + "\nRequired: " + t.join(", "));
                            return e[a].apply(null, r)
                        },
                        log: function(e) {}
                    }
                }
            }),
            n
        },
        ur = lr([{
            none: []
        },
        {
            multiple: ["elements"]
        },
        {
            single: ["selection"]
        }]),
        cr = {
            cata: function(e, t, n, r) {
                return e.fold(t, n, r)
            },
            none: ur.none,
            multiple: ur.multiple,
            single: ur.single
        },
        dr = function(e, t) {
            return cr.cata(t.get(), o([]), i, o([e]))
        },
        fr = function(e, t) {
            return cr.cata(t.get(), g.none,
            function(t, n) {
                return 0 === t.length ? g.none() : ir(e, sr.firstSelectedSelector(), sr.lastSelectedSelector()).bind(function(e) {
                    return t.length > 1 ? g.some({
                        bounds: o(e),
                        cells: o(t)
                    }) : g.none()
                })
            },
            g.none)
        },
        mr = function(e, t) {
            var n = dr(e, t);
            return n.length > 0 && L(n,
            function(e) {
                return lt.has(e, "rowspan") && parseInt(lt.get(e, "rowspan"), 10) > 1 || lt.has(e, "colspan") && parseInt(lt.get(e, "colspan"), 10) > 1
            }) ? g.some(n) : g.none()
        },
        pr = dr,
        hr = function(e) {
            return {
                element: o(e),
                mergable: g.none,
                unmergable: g.none,
                selection: o([e])
            }
        },
        gr = V("element", "clipboard", "generators"),
        vr = {
            noMenu: hr,
            forMenu: function(e, t, n) {
                return {
                    element: o(n),
                    mergable: o(fr(t, e)),
                    unmergable: o(mr(n, e)),
                    selection: o(pr(n, e))
                }
            },
            notCell: function(e) {
                return hr(e)
            },
            paste: gr,
            pasteRows: function(e, t, n, r, i) {
                return {
                    element: o(n),
                    mergable: g.none,
                    unmergable: g.none,
                    selection: o(pr(n, e)),
                    clipboard: o(r),
                    generators: o(i)
                }
            }
        },
        br = {
            registerEvents: function(e, t, r, o) {
                e.on("BeforeGetContent",
                function(r) { ! 0 === r.selection && cr.cata(t.get(), n,
                    function(t) {
                        r.preventDefault(),
                        function(e) {
                            return St.table(e[0]).map(en).map(function(e) {
                                return [Xt(e, sr.attributeSelector())]
                            })
                        } (t).each(function(t) {
                            r.content = T(t,
                            function(t) {
                                return function(e, t) {
                                    return e.selection.serializer.serialize(t.dom(), {})
                                } (e, t)
                            }).join("")
                        })
                    },
                    n)
                }),
                e.on("BeforeSetContent",
                function(t) { ! 0 === t.selection && !0 === t.paste && g.from(e.dom.getParent(e.selection.getStart(), "th,td")).each(function(n) {
                        var i = ie.fromDom(n);
                        St.table(i).bind(function(n) {
                            var a = N(vn(t.content),
                            function(e) {
                                return "meta" !== rt.name(e)
                            });
                            if (1 === a.length && "table" === rt.name(a[0])) {
                                t.preventDefault();
                                var s = ie.fromDom(e.getDoc()),
                                l = gn(s),
                                u = vr.paste(i, a[0], l);
                                r.pasteCells(n, u).each(function(t) {
                                    e.selection.setRng(t),
                                    e.focus(),
                                    o.clear(n)
                                })
                            }
                        })
                    })
                })
            }
        };
        function yr(e, t) {
            var n = function(n) {
                var r = t(n);
                if (r <= 0 || null === r) {
                    var o = Wt.get(n, e);
                    return parseFloat(o) || 0
                }
                return r
            },
            r = function(e, t) {
                return A(t,
                function(t, n) {
                    var r = Wt.get(e, n),
                    o = void 0 === r ? 0 : parseInt(r, 10);
                    return isNaN(o) ? t: t + o
                },
                0)
            };
            return {
                set: function(t, n) {
                    if (!C(n) && !n.match(/^[0-9]+$/)) throw e + ".set accepts only positive integer values. Value was " + n;
                    var r = t.dom();
                    Pt.isSupported(r) && (r.style[e] = n + "px")
                },
                get: n,
                getOuter: n,
                aggregate: r,
                max: function(e, t, n) {
                    var o = r(e, n);
                    return t > o ? t - o: 0
                }
            }
        }
        var wr = yr("height",
        function(e) {
            var t = e.dom();
            return dt.inBody(e) ? t.getBoundingClientRect().height: t.offsetHeight
        }),
        xr = function(e) {
            return wr.get(e)
        },
        Cr = function(e) {
            return wr.getOuter(e)
        },
        _r = yr("width",
        function(e) {
            return e.dom().offsetWidth
        }),
        kr = function(e) {
            return _r.get(e)
        },
        Er = function(e) {
            return _r.getOuter(e)
        },
        Tr = Fe.detect(),
        Sr = function(e, t, n) {
            return function(e, t) {
                var n = parseFloat(e);
                return isNaN(n) ? t: n
            } (Wt.get(e, t), n)
        },
        Nr = function(e) {
            return Tr.browser.isIE() || Tr.browser.isEdge() ?
            function(e) {
                var t = Sr(e, "padding-top", 0),
                n = Sr(e, "padding-bottom", 0),
                r = Sr(e, "border-top-width", 0),
                o = Sr(e, "border-bottom-width", 0),
                i = e.dom().getBoundingClientRect().height;
                return "border-box" === Wt.get(e, "box-sizing") ? i: i - t - n - (r + o)
            } (e) : Sr(e, "height", xr(e))
        },
        Rr = /(\d+(\.\d+)?)(\w|%)*/,
        Ar = /(\d+(\.\d+)?)%/,
        Or = /(\d+(\.\d+)?)px|em/,
        Dr = function(e, t) {
            Wt.set(e, "height", t + "px")
        },
        Pr = function(e, t, n, r) {
            var o, i, a = parseInt(e, 10);
            return function(e, t, n) {
                return "" === t || !(e.length < t.length) && e.substr(n, n + t.length) === t
            } (o = e, i = "%", o.length - i.length) && "table" !== rt.name(t) ?
            function(e, t, n, r) {
                var o = St.table(e).map(function(e) {
                    var r = n(e);
                    return Math.floor(t / 100 * r)
                }).getOr(t);
                return r(e, o),
                o
            } (t, a, n, r) : a
        },
        Br = function(e) {
            var t = function(e) {
                return Wt.getRaw(e, "height").getOrThunk(function() {
                    return Nr(e) + "px"
                })
            } (e);
            return t ? Pr(t, e, xr, Dr) : xr(e)
        },
        Mr = function(e, t) {
            return lt.has(e, t) ? parseInt(lt.get(e, t), 10) : 1
        },
        Ir = function(e) {
            return Wt.getRaw(e, "width").fold(function() {
                return g.from(lt.get(e, "width"))
            },
            function(e) {
                return g.some(e)
            })
        },
        Lr = function(e, t) {
            return e / t.pixelWidth() * 100
        },
        Fr = {
            percentageBasedSizeRegex: o(Ar),
            pixelBasedSizeRegex: o(Or),
            setPixelWidth: function(e, t) {
                Wt.set(e, "width", t + "px")
            },
            setPercentageWidth: function(e, t) {
                Wt.set(e, "width", t + "%")
            },
            setHeight: Dr,
            getPixelWidth: function(e, t) {
                return Ir(e).fold(function() {
                    return kr(e)
                },
                function(n) {
                    return function(e, t, n) {
                        if (Or.test(t)) {
                            var r = Or.exec(t);
                            return parseInt(r[1], 10)
                        }
                        if (Ar.test(t)) {
                            var o = Ar.exec(t);
                            return function(e, t) {
                                return e / 100 * t.pixelWidth()
                            } (parseFloat(o[1]), n)
                        }
                        return kr(e)
                    } (e, n, t)
                })
            },
            getPercentageWidth: function(e, t) {
                return Ir(e).fold(function() {
                    var n = kr(e);
                    return Lr(n, t)
                },
                function(n) {
                    return function(e, t, n) {
                        if (Ar.test(t)) {
                            var r = Ar.exec(t);
                            return parseFloat(r[1])
                        }
                        var o = kr(e);
                        return Lr(o, n)
                    } (e, n, t)
                })
            },
            getGenericWidth: function(e) {
                return Ir(e).bind(function(e) {
                    if (Rr.test(e)) {
                        var t = Rr.exec(e);
                        return g.some({
                            width: o(t[1]),
                            unit: o(t[3])
                        })
                    }
                    return g.none()
                })
            },
            setGenericWidth: function(e, t, n) {
                Wt.set(e, "width", t + n)
            },
            getHeight: function(e) {
                return function(e, t, n) {
                    return n(e) / Mr(e, t)
                } (e, "rowspan", Br)
            },
            getRawWidth: Ir
        },
        Wr = function(e, t) {
            Fr.getGenericWidth(e).each(function(n) {
                var r = n.width() / 2;
                Fr.setGenericWidth(e, r, n.unit()),
                Fr.setGenericWidth(t, r, n.unit())
            })
        },
        Hr = function(e, t) {
            var n = t || ie.fromDom(document.documentElement);
            return yt.ancestor(e, a(je.eq, n)).isSome()
        },
        jr = function(e) {
            var t = e.dom();
            return t === t.window && e instanceof Window ? e: rt.isDocument(e) ? t.defaultView || t.parentWindow: null
        },
        Ur = function(e, t) {
            return {
                left: o(e),
                top: o(t),
                translate: function(n, r) {
                    return Ur(e + n, t + r)
                }
            }
        },
        zr = Ur,
        Vr = function(e, t) {
            return void 0 !== e ? e: void 0 !== t ? t: 0
        },
        $r = function(e) {
            var t = e.dom(),
            n = t.ownerDocument,
            r = n.body,
            o = ie.fromDom(n.documentElement);
            return r === t ? zr(r.offsetLeft, r.offsetTop) : Hr(e, o) ?
            function(e) {
                var t = e.getBoundingClientRect();
                return zr(t.left, t.top)
            } (t) : zr(0, 0)
        },
        qr = function(e) {
            var t = e.dom().ownerDocument,
            n = t.body,
            r = jr(ie.fromDom(t)),
            o = t.documentElement,
            i = Vr(r.pageYOffset, o.scrollTop),
            a = Vr(r.pageXOffset, o.scrollLeft),
            s = Vr(o.clientTop, n.clientTop),
            l = Vr(o.clientLeft, n.clientLeft);
            return $r(e).translate(a - l, i - s)
        },
        Kr = V("row", "y"),
        Yr = V("col", "x"),
        Xr = function(e) {
            return qr(e).left() + Er(e)
        },
        Gr = function(e) {
            return qr(e).left()
        },
        Jr = function(e, t) {
            return Yr(e, Gr(t))
        },
        Qr = function(e, t) {
            return Yr(e, Xr(t))
        },
        Zr = function(e) {
            return qr(e).top()
        },
        eo = function(e, t, n) {
            if (0 === n.length) return [];
            var r = T(n.slice(1),
            function(t, n) {
                return t.map(function(t) {
                    return e(n, t)
                })
            }),
            o = n[n.length - 1].map(function(e) {
                return t(n.length - 1, e)
            });
            return r.concat([o])
        },
        to = {
            delta: i,
            positions: a(eo,
            function(e, t) {
                return Kr(e, Zr(t))
            },
            function(e, t) {
                return Kr(e, Zr(t) + Cr(t))
            }),
            edge: Zr
        },
        no = {
            delta: i,
            edge: Gr,
            positions: a(eo, Jr, Qr)
        },
        ro = {
            height: to,
            rtl: {
                delta: function(e, t) {
                    return - e
                },
                edge: Xr,
                positions: a(eo, Qr, Jr)
            },
            ltr: no
        },
        oo = {
            ltr: ro.ltr,
            rtl: ro.rtl
        };
        function io(e) {
            var t = function(t) {
                return e(t).isRtl() ? oo.rtl: oo.ltr
            };
            return {
                delta: function(e, n) {
                    return t(n).delta(e, n)
                },
                edge: function(e) {
                    return t(e).edge(e)
                },
                positions: function(e, n) {
                    return t(n).positions(e, n)
                }
            }
        }
        var ao, so = function(e) {
            var t = Nt(e);
            return Dt.generate(t).grid()
        },
        lo = function(e) {
            var t = e,
            n = function() {
                return t
            };
            return {
                get: n,
                set: function(e) {
                    t = e
                },
                clone: function() {
                    return lo(n())
                }
            }
        },
        uo = function(e, t, n) {
            if (0 === t.length) throw new Error("You must specify at least one required field.");
            return Y("required", t),
            X(t),
            function(r) {
                var o = H(r);
                L(t,
                function(e) {
                    return k(o, e)
                }) || q(t, o),
                e(t, o);
                var i = N(t,
                function(e) {
                    return ! n.validate(r[e], e)
                });
                return i.length > 0 &&
                function(e, t) {
                    throw new Error("All values need to be of type: " + t + ". Keys (" + $(e).join(", ") + ") were not.")
                } (i, n.label),
                r
            }
        },
        co = function(e, t) {
            var n = N(t,
            function(t) {
                return ! k(e, t)
            });
            n.length > 0 && K(n)
        },
        fo = function(e) {
            return function(e, t) {
                return uo(e, t, {
                    validate: x,
                    label: "function"
                })
            } (co, e)
        },
        mo = function(e) {
            var t = lt.has(e, "colspan") ? parseInt(lt.get(e, "colspan"), 10) : 1,
            n = lt.has(e, "rowspan") ? parseInt(lt.get(e, "rowspan"), 10) : 1;
            return {
                element: o(e),
                colspan: o(t),
                rowspan: o(n)
            }
        },
        po = fo(["cell", "row", "replace", "gap"]),
        ho = function(e, t) {
            po(e);
            var n = lo(g.none()),
            r = void 0 !== t ? t: mo,
            o = function(t) {
                return function(t) {
                    return e.cell(t)
                } (r(t))
            },
            i = function(e) {
                var t = o(e);
                return n.get().isNone() && n.set(g.some(t)),
                a = g.some({
                    item: e,
                    replacement: t
                }),
                t
            },
            a = g.none();
            return {
                getOrInit: function(e, t) {
                    return a.fold(function() {
                        return i(e)
                    },
                    function(n) {
                        return t(e, n.item) ? n.replacement: i(e)
                    })
                },
                cursor: n.get
            }
        },
        go = function(e, t) {
            return function(n) {
                var r = lo(g.none());
                po(n);
                var o = [],
                i = function(i) {
                    var a = n.replace(i, t, {
                        scope: e
                    });
                    return o.push({
                        item: i,
                        sub: a
                    }),
                    r.get().isNone() && r.set(g.some(a)),
                    a
                };
                return {
                    replaceOrInit: function(e, t) {
                        return function(e, t) {
                            return O(o,
                            function(n) {
                                return t(n.item, e)
                            })
                        } (e, t).fold(function() {
                            return i(e)
                        },
                        function(n) {
                            return t(e, n.item) ? n.sub: i(e)
                        })
                    },
                    cursor: r.get
                }
            }
        },
        vo = function(e) {
            po(e);
            var t = lo(g.none());
            return {
                combine: function(n) {
                    return t.get().isNone() && t.set(g.some(n)),
                    function() {
                        var t = e.cell({
                            element: o(n),
                            colspan: o(1),
                            rowspan: o(1)
                        });
                        return Wt.remove(t, "width"),
                        Wt.remove(n, "width"),
                        t
                    }
                },
                cursor: t.get
            }
        },
        bo = ["body", "p", "div", "article", "aside", "figcaption", "figure", "footer", "header", "nav", "section", "ol", "ul", "table", "thead", "tfoot", "tbody", "caption", "tr", "td", "th", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "pre", "address"],
        yo = function(e, t) {
            var n = e.property().name(t);
            return k(bo, n)
        },
        wo = function(e, t) {
            return k(["br", "img", "hr", "input"], e.property().name(t))
        },
        xo = yo,
        Co = function(e, t) {
            var n = e.property().name(t);
            return k(["ol", "ul"], n)
        },
        _o = wo,
        ko = yn(),
        Eo = function(e) {
            return xo(ko, e)
        },
        To = function(e) {
            return Co(ko, e)
        },
        So = function(e) {
            return _o(ko, e)
        },
        No = function(e) {
            var t, n = function(e) {
                return "br" === rt.name(e)
            },
            r = function(e) {
                return cn.last(e).bind(function(t) {
                    var r, o = (r = t, Ye.nextSibling(r).map(function(e) {
                        return !! Eo(e) || (So(e) ? "img" !== rt.name(e) : void 0)
                    }).getOr(!1));
                    return Ye.parent(t).map(function(r) {
                        return ! 0 === o || (i = r, "li" === rt.name(i) || yt.ancestor(i, To).isSome()) || n(t) || Eo(r) && !je.eq(e, r) ? [] : [ie.fromTag("br")];
                        var i
                    })
                }).getOr([])
            },
            o = 0 === (t = I(e,
            function(e) {
                var t = Ye.children(e);
                return function(e) {
                    return L(e,
                    function(e) {
                        return n(e) || rt.isText(e) && 0 === rn.get(e).trim().length
                    })
                } (t) ? [] : t.concat(r(e))
            })).length ? [ie.fromTag("br")] : t;
            $t.empty(e[0]),
            zt.append(e[0], o)
        },
        Ro = Object.prototype.hasOwnProperty,
        Ao = (ao = function(e, t) {
            return t
        },
        function() {
            for (var e = new Array(arguments.length), t = 0; t < e.length; t++) e[t] = arguments[t];
            if (0 === e.length) throw new Error("Can't merge zero objects");
            for (var n = {},
            r = 0; r < e.length; r++) {
                var o = e[r];
                for (var i in o) Ro.call(o, i) && (n[i] = ao(n[i], o[i]))
            }
            return n
        }),
        Oo = function(e) {
            for (var t = [], n = function(e) {
                t.push(e)
            },
            r = 0; r < e.length; r++) e[r].each(n);
            return t
        },
        Do = function(e, t) {
            for (var n = 0; n < e.length; n++) {
                var r = t(e[n], n);
                if (r.isSome()) return r
            }
            return g.none()
        },
        Po = function(e, t) {
            return re.rowcells(t, e.section())
        },
        Bo = function(e, t) {
            return e.cells()[t]
        },
        Mo = {
            addCell: function(e, t, n) {
                var r = e.cells(),
                o = r.slice(0, t),
                i = r.slice(t),
                a = o.concat([n]).concat(i);
                return Po(e, a)
            },
            setCells: Po,
            mutateCell: function(e, t, n) {
                e.cells()[t] = n
            },
            getCell: Bo,
            getCellElement: function(e, t) {
                return Bo(e, t).element()
            },
            mapCells: function(e, t) {
                var n = e.cells(),
                r = T(n, t);
                return re.rowcells(r, e.section())
            },
            cellLength: function(e) {
                return e.cells().length
            }
        },
        Io = function(e, t) {
            if (0 === e.length) return 0;
            var n = e[0];
            return D(e,
            function(e) {
                return ! t(n.element(), e.element())
            }).fold(function() {
                return e.length
            },
            function(e) {
                return e
            })
        },
        Lo = function(e, t, n, r) {
            var i = function(e, t) {
                return e[t]
            } (e, t).cells().slice(n),
            a = Io(i, r),
            s = function(e, t) {
                return T(e,
                function(e) {
                    return Mo.getCell(e, t)
                })
            } (e, n).slice(t),
            l = Io(s, r);
            return {
                colspan: o(a),
                rowspan: o(l)
            }
        },
        Fo = function(e, t) {
            var n = T(e,
            function(e, t) {
                return T(e.cells(),
                function(e, t) {
                    return ! 1
                })
            });
            return T(e,
            function(r, o) {
                var i = I(r.cells(),
                function(r, i) {
                    if (!1 === n[o][i]) {
                        var a = Lo(e, o, i, t);
                        return function(e, t, r, o) {
                            for (var i = e; i < e + r; i++) for (var a = t; a < t + o; a++) n[i][a] = !0
                        } (o, i, a.rowspan(), a.colspan()),
                        [re.detailnew(r.element(), a.rowspan(), a.colspan(), r.isNew())]
                    }
                    return []
                });
                return re.rowdetails(i, r.section())
            })
        },
        Wo = function(e, t, n) {
            for (var r = [], o = 0; o < e.grid().rows(); o++) {
                for (var i = [], a = 0; a < e.grid().columns(); a++) {
                    var s = Dt.getAt(e, o, a).map(function(e) {
                        return re.elementnew(e.element(), n)
                    }).getOrThunk(function() {
                        return re.elementnew(t.gap(), !0)
                    });
                    i.push(s)
                }
                var l = re.rowcells(i, e.all()[o].section());
                r.push(l)
            }
            return r
        },
        Ho = function(e, t, n, r) {
            n === r ? lt.remove(e, t) : lt.set(e, t, n)
        },
        jo = function(e, t) {
            var n = [],
            r = [],
            i = function(t, o) {
                t.length > 0 ?
                function(t, o) {
                    var i = xt.child(e, o).getOrThunk(function() {
                        var t = ie.fromTag(o, Ye.owner(e).dom());
                        return Ut.append(e, t),
                        t
                    });
                    $t.empty(i);
                    var a = T(t,
                    function(e) {
                        e.isNew() && n.push(e.element());
                        var t = e.element();
                        return $t.empty(t),
                        S(e.cells(),
                        function(e) {
                            e.isNew() && r.push(e.element()),
                            Ho(e.element(), "colspan", e.colspan(), 1),
                            Ho(e.element(), "rowspan", e.rowspan(), 1),
                            Ut.append(t, e.element())
                        }),
                        t
                    });
                    zt.append(i, a)
                } (t, o) : function(t) {
                    xt.child(e, t).each($t.remove)
                } (o)
            },
            a = [],
            s = [],
            l = [];
            return S(t,
            function(e) {
                switch (e.section()) {
                case "thead":
                    a.push(e);
                    break;
                case "tbody":
                    s.push(e);
                    break;
                case "tfoot":
                    l.push(e)
                }
            }),
            i(a, "thead"),
            i(s, "tbody"),
            i(l, "tfoot"),
            {
                newRows: o(n),
                newCells: o(r)
            }
        },
        Uo = function(e) {
            return T(e,
            function(e) {
                var t = Zt(e.element());
                return S(e.cells(),
                function(e) {
                    var n = en(e.element());
                    Ho(n, "colspan", e.colspan(), 1),
                    Ho(n, "rowspan", e.rowspan(), 1),
                    Ut.append(t, n)
                }),
                t
            })
        },
        zo = function(e, t) {
            for (var n = [], r = 0; r < e; r++) n.push(t(r));
            return n
        },
        Vo = function(e, t) {
            for (var n = [], r = e; r < t; r++) n.push(r);
            return n
        },
        $o = function(e, t) {
            if (t < 0 || t >= e.length - 1) return g.none();
            var n = e[t].fold(function() {
                var n = W(e.slice(0, t));
                return Do(n,
                function(e, t) {
                    return e.map(function(e) {
                        return {
                            value: e,
                            delta: t + 1
                        }
                    })
                })
            },
            function(e) {
                return g.some({
                    value: e,
                    delta: 0
                })
            }),
            r = e[t + 1].fold(function() {
                var n = e.slice(t + 1);
                return Do(n,
                function(e, t) {
                    return e.map(function(e) {
                        return {
                            value: e,
                            delta: t + 1
                        }
                    })
                })
            },
            function(e) {
                return g.some({
                    value: e,
                    delta: 1
                })
            });
            return n.bind(function(e) {
                return r.map(function(t) {
                    var n = t.delta + e.delta;
                    return Math.abs(t.value - e.value) / n
                })
            })
        },
        qo = function(e, t, n) {
            var r = e();
            return O(r, t).orThunk(function() {
                return g.from(r[0]).orThunk(n)
            }).map(function(e) {
                return e.element()
            })
        },
        Ko = function(e) {
            var t = e.grid(),
            n = Vo(0, t.columns()),
            r = Vo(0, t.rows());
            return T(n,
            function(t) {
                return qo(function() {
                    return I(r,
                    function(n) {
                        return Dt.getAt(e, n, t).filter(function(e) {
                            return e.column() === t
                        }).fold(o([]),
                        function(e) {
                            return [e]
                        })
                    })
                },
                function(e) {
                    return 1 === e.colspan()
                },
                function() {
                    return Dt.getAt(e, 0, t)
                })
            })
        },
        Yo = function(e) {
            var t = e.grid(),
            n = Vo(0, t.rows()),
            r = Vo(0, t.columns());
            return T(n,
            function(t) {
                return qo(function() {
                    return I(r,
                    function(n) {
                        return Dt.getAt(e, t, n).filter(function(e) {
                            return e.row() === t
                        }).fold(o([]),
                        function(e) {
                            return [e]
                        })
                    })
                },
                function(e) {
                    return 1 === e.rowspan()
                },
                function() {
                    return Dt.getAt(e, t, 0)
                })
            })
        },
        Xo = function(e, t, n, r, o) {
            var i = ie.fromTag("div");
            return Wt.setAll(i, {
                position: "absolute",
                left: t - r / 2 + "px",
                top: n + "px",
                height: o + "px",
                width: r + "px"
            }),
            lt.setAll(i, {
                "data-column": e,
                role: "presentation"
            }),
            i
        },
        Go = function(e, t, n, r, o) {
            var i = ie.fromTag("div");
            return Wt.setAll(i, {
                position: "absolute",
                left: t + "px",
                top: n - o / 2 + "px",
                height: o + "px",
                width: r + "px"
            }),
            lt.setAll(i, {
                "data-row": e,
                role: "presentation"
            }),
            i
        },
        Jo = function(e) {
            var t = e.replace(/\./g, "-");
            return {
                resolve: function(e) {
                    return t + "-" + e
                }
            }
        },
        Qo = {
            resolve: Jo("ephox-snooker").resolve
        },
        Zo = function(e, t) {
            var n = lt.get(e, t);
            return void 0 === n || "" === n ? [] : n.split(" ")
        },
        ei = Zo,
        ti = function(e, t, n) {
            var r = Zo(e, t).concat([n]);
            return lt.set(e, t, r.join(" ")),
            !0
        },
        ni = function(e, t, n) {
            var r = N(Zo(e, t),
            function(e) {
                return e !== n
            });
            return r.length > 0 ? lt.set(e, t, r.join(" ")) : lt.remove(e, t),
            !1
        },
        ri = function(e) {
            return ei(e, "class")
        },
        oi = function(e, t) {
            return ti(e, "class", t)
        },
        ii = function(e, t) {
            return ni(e, "class", t)
        },
        ai = ri,
        si = oi,
        li = ii,
        ui = function(e, t) {
            return k(ri(e), t) ? ii(e, t) : oi(e, t)
        },
        ci = function(e) {
            return void 0 !== e.dom().classList
        },
        di = function(e, t) {
            return ci(e) && e.dom().classList.contains(t)
        },
        fi = {
            add: function(e, t) {
                ci(e) ? e.dom().classList.add(t) : si(e, t)
            },
            remove: function(e, t) {
                ci(e) ? e.dom().classList.remove(t) : li(e, t),
                function(e) {
                    0 === (ci(e) ? e.dom().classList: ai(e)).length && lt.remove(e, "class")
                } (e)
            },
            toggle: function(e, t) {
                return ci(e) ? e.dom().classList.toggle(t) : ui(e, t)
            },
            toggler: function(e, t) {
                var n = ci(e),
                r = e.dom().classList;
                return function(e, t, n) {
                    var r = n || !1,
                    o = function() {
                        t(),
                        r = !0
                    },
                    i = function() {
                        e(),
                        r = !1
                    };
                    return {
                        on: o,
                        off: i,
                        toggle: function() { (r ? i: o)()
                        },
                        isOn: function() {
                            return r
                        }
                    }
                } (function() {
                    n ? r.remove(t) : li(e, t)
                },
                function() {
                    n ? r.add(t) : si(e, t)
                },
                di(e, t))
            },
            has: di
        },
        mi = Qo.resolve("resizer-bar"),
        pi = Qo.resolve("resizer-rows"),
        hi = Qo.resolve("resizer-cols"),
        gi = function(e) {
            var t = pt.descendants(e.parent(), "." + mi);
            S(t, $t.remove)
        },
        vi = function(e, t, n) {
            var r = e.origin();
            S(t,
            function(t, o) {
                t.each(function(t) {
                    var o = n(r, t);
                    fi.add(o, mi),
                    Ut.append(e.parent(), o)
                })
            })
        },
        bi = function(e, t, n, r, o, i) {
            var a = qr(t); !
            function(e, t, n, r) {
                vi(e, t,
                function(e, t) {
                    var o = Go(t.row(), n.left() - e.left(), t.y() - e.top(), r, 7);
                    return fi.add(o, pi),
                    o
                })
            } (e, n.length > 0 ? o.positions(n, t) : [], a, Er(t)),
            function(e, t, n, r) {
                vi(e, t,
                function(e, t) {
                    var o = Xo(t.col(), t.x() - e.left(), n.top() - e.top(), 7, r);
                    return fi.add(o, hi),
                    o
                })
            } (e, r.length > 0 ? i.positions(r, t) : [], a, Cr(t))
        },
        yi = function(e, t) {
            var n = pt.descendants(e.parent(), "." + mi);
            S(n, t)
        },
        wi = {
            refresh: function(e, t, n, r) {
                gi(e);
                var o = Nt(t),
                i = Dt.generate(o),
                a = Yo(i),
                s = Ko(i);
                bi(e, t, a, s, n, r)
            },
            hide: function(e) {
                yi(e,
                function(e) {
                    Wt.set(e, "display", "none")
                })
            },
            show: function(e) {
                yi(e,
                function(e) {
                    Wt.set(e, "display", "block")
                })
            },
            destroy: gi,
            isRowBar: function(e) {
                return fi.has(e, pi)
            },
            isColBar: function(e) {
                return fi.has(e, hi)
            }
        },
        xi = function(e, t) {
            return T(e,
            function(e) {
                var n = function(e) {
                    return Do(e,
                    function(e) {
                        return Ye.parent(e.element()).map(function(e) {
                            var t = Ye.parent(e).isNone();
                            return re.elementnew(e, t)
                        })
                    }).getOrThunk(function() {
                        return re.elementnew(t.row(), !0)
                    })
                } (e.details());
                return re.rowdatanew(n.element(), e.details(), e.section(), n.isNew())
            })
        },
        Ci = function(e, t) {
            var n = Fo(e, je.eq);
            return xi(n, t)
        },
        _i = function(e, t) {
            var n = M(T(e.all(),
            function(e) {
                return e.cells()
            }));
            return O(n,
            function(e) {
                return je.eq(t, e.element())
            })
        },
        ki = function(e, t, n, r, i) {
            return function(a, s, l, u, c) {
                var d = Nt(s),
                f = Dt.generate(d);
                return t(f, l).map(function(t) {
                    var n = function(e, t) {
                        return Wo(e, t, !1)
                    } (f, u),
                    r = e(n, t, je.eq, i(u)),
                    a = Ci(r.grid(), u);
                    return {
                        grid: o(a),
                        cursor: r.cursor
                    }
                }).fold(function() {
                    return g.none()
                },
                function(e) {
                    var t = jo(s, e.grid());
                    return n(s, e.grid(), c),
                    r(s),
                    wi.refresh(a, s, ro.height, c),
                    g.some({
                        cursor: e.cursor,
                        newRows: t.newRows,
                        newCells: t.newCells
                    })
                })
            }
        },
        Ei = Ci,
        Ti = function(e, t) {
            return St.cell(t.element()).bind(function(t) {
                return _i(e, t)
            })
        },
        Si = function(e, t) {
            var n = T(t.selection(),
            function(t) {
                return St.cell(t).bind(function(t) {
                    return _i(e, t)
                })
            }),
            r = Oo(n);
            return r.length > 0 ? g.some(r) : g.none()
        },
        Ni = function(e, t) {
            return St.cell(t.element()).bind(function(n) {
                return _i(e, n).map(function(e) {
                    return Ao(e, {
                        generators: t.generators,
                        clipboard: t.clipboard
                    })
                })
            })
        },
        Ri = function(e, t) {
            var n = T(t.selection(),
            function(t) {
                return St.cell(t).bind(function(t) {
                    return _i(e, t)
                })
            }),
            r = Oo(n);
            return r.length > 0 ? g.some(Ao({
                cells: r
            },
            {
                generators: t.generators,
                clipboard: t.clipboard
            })) : g.none()
        },
        Ai = function(e, t) {
            return t.mergable()
        },
        Oi = function(e, t) {
            return t.unmergable()
        },
        Di = function(e) {
            return {
                is: function(t) {
                    return e === t
                },
                isValue: c,
                isError: u,
                getOr: o(e),
                getOrThunk: o(e),
                getOrDie: o(e),
                or: function(t) {
                    return Di(e)
                },
                orThunk: function(t) {
                    return Di(e)
                },
                fold: function(t, n) {
                    return n(e)
                },
                map: function(t) {
                    return Di(t(e))
                },
                each: function(t) {
                    t(e)
                },
                bind: function(t) {
                    return t(e)
                },
                exists: function(t) {
                    return t(e)
                },
                forall: function(t) {
                    return t(e)
                },
                toOption: function() {
                    return g.some(e)
                }
            }
        },
        Pi = function(e) {
            return {
                is: u,
                isValue: u,
                isError: c,
                getOr: i,
                getOrThunk: function(e) {
                    return e()
                },
                getOrDie: function() {
                    return (t = String(e),
                    function() {
                        throw new Error(t)
                    })();
                    var t
                }, or: function(e) {
                    return e
                },
                orThunk: function(e) {
                    return e()
                },
                fold: function(t, n) {
                    return t(e)
                },
                map: function(t) {
                    return Pi(e)
                },
                each: n,
                bind: function(t) {
                    return Pi(e)
                },
                exists: u,
                forall: c,
                toOption: g.none
            }
        },
        Bi = {
            value: Di,
            error: Pi
        },
        Mi = function(e, t) {
            return T(e,
            function() {
                return re.elementnew(t.cell(), !0)
            })
        },
        Ii = function(e, t, n) {
            return e.concat(zo(t,
            function(t) {
                return Mo.setCells(e[e.length - 1], Mi(e[e.length - 1].cells(), n))
            }))
        },
        Li = function(e, t, n) {
            return T(e,
            function(e) {
                return Mo.setCells(e, e.cells().concat(Mi(Vo(0, t), n)))
            })
        },
        Fi = function(e, t, n) {
            if (e.row() >= t.length || e.column() > Mo.cellLength(t[0])) return Bi.error("invalid start address out of table bounds, row: " + e.row() + ", column: " + e.column());
            var r = t.slice(e.row()),
            i = r[0].cells().slice(e.column()),
            a = Mo.cellLength(n[0]),
            s = n.length;
            return Bi.value({
                rowDelta: o(r.length - s),
                colDelta: o(i.length - a)
            })
        },
        Wi = function(e, t) {
            var n = Mo.cellLength(e[0]),
            r = Mo.cellLength(t[0]);
            return {
                rowDelta: o(0),
                colDelta: o(n - r)
            }
        },
        Hi = function(e, t, n) {
            var r = t.colDelta() < 0 ? Li: i;
            return (t.rowDelta() < 0 ? Ii: i)(r(e, Math.abs(t.colDelta()), n), Math.abs(t.rowDelta()), n)
        },
        ji = function(e, t, n, r) {
            if (0 === e.length) return e;
            for (var o = t.startRow(); o <= t.finishRow(); o++) for (var i = t.startCol(); i <= t.finishCol(); i++) Mo.mutateCell(e[o], i, re.elementnew(r(), !1));
            return e
        },
        Ui = function(e, t, n, r) {
            for (var o = !0,
            i = 0; i < e.length; i++) for (var a = 0; a < Mo.cellLength(e[0]); a++) {
                var s = n(Mo.getCellElement(e[i], a), t); ! 0 === s && !1 === o ? Mo.mutateCell(e[i], a, re.elementnew(r(), !0)) : !0 === s && (o = !1)
            }
            return e
        },
        zi = function(e, t, n, r) {
            if (t > 0 && t < e.length) {
                var o = function(e, t) {
                    return A(e,
                    function(e, n) {
                        return E(e,
                        function(e) {
                            return t(e.element(), n.element())
                        }) ? e: e.concat([n])
                    },
                    [])
                } (e[t - 1].cells(), n);
                S(o,
                function(o) {
                    for (var i = g.none(), a = t; a < e.length; a++) for (var s = 0; s < Mo.cellLength(e[0]); s++) {
                        var l = e[a].cells()[s];
                        n(l.element(), o.element()) && (i.isNone() && (i = g.some(r())), i.each(function(t) {
                            Mo.mutateCell(e[a], s, re.elementnew(t, !0))
                        }))
                    }
                })
            }
            return e
        },
        Vi = function(e, t, n, r) {
            var o = Mo.getCell(e[t], n),
            i = a(r, o.element()),
            s = e[t];
            return e.length > 1 && Mo.cellLength(s) > 1 && (n > 0 && i(Mo.getCellElement(s, n - 1)) || n < s.length - 1 && i(Mo.getCellElement(s, n + 1)) || t > 0 && i(Mo.getCellElement(e[t - 1], n)) || t < e.length - 1 && i(Mo.getCellElement(e[t + 1], n)))
        },
        $i = function(e, t, n, r, o) {
            return Fi(e, t, n).map(function(i) {
                var a = Hi(t, i, r);
                return function(e, t, n, r, o) {
                    for (var i = e.row(), a = e.column(), s = i + n.length, l = a + Mo.cellLength(n[0]), u = i; u < s; u++) for (var c = a; c < l; c++) {
                        Vi(t, u, c, o) && Ui(t, Mo.getCellElement(t[u], c), o, r.cell);
                        var d = Mo.getCellElement(n[u - i], c - a),
                        f = r.replace(d);
                        Mo.mutateCell(t[u], c, re.elementnew(f, !0))
                    }
                    return t
                } (e, a, n, r, o)
            })
        },
        qi = function(e, t, n, r, o) {
            zi(t, e, o, r.cell);
            var i = Wi(n, t),
            a = Hi(n, i, r),
            s = Wi(t, a),
            l = Hi(t, s, r);
            return l.slice(0, e).concat(a).concat(l.slice(e, l.length))
        },
        Ki = function(e, t, n, r, o) {
            var i = e.slice(0, t),
            a = e.slice(t),
            s = Mo.mapCells(e[n],
            function(n, i) {
                return t > 0 && t < e.length && r(Mo.getCellElement(e[t - 1], i), Mo.getCellElement(e[t], i)) ? Mo.getCell(e[t], i) : re.elementnew(o(n.element(), r), !0)
            });
            return i.concat([s]).concat(a)
        },
        Yi = function(e, t, n, r, o) {
            return T(e,
            function(e) {
                var i = t > 0 && t < Mo.cellLength(e) && r(Mo.getCellElement(e, t - 1), Mo.getCellElement(e, t)) ? Mo.getCell(e, t) : re.elementnew(o(Mo.getCellElement(e, n), r), !0);
                return Mo.addCell(e, t, i)
            })
        },
        Xi = function(e, t, n, r, o) {
            var i = n + 1;
            return T(e,
            function(e, a) {
                var s = a === t ? re.elementnew(o(Mo.getCellElement(e, n), r), !0) : Mo.getCell(e, n);
                return Mo.addCell(e, i, s)
            })
        },
        Gi = function(e, t, n, r, o) {
            var i = t + 1,
            a = e.slice(0, i),
            s = e.slice(i),
            l = Mo.mapCells(e[t],
            function(e, t) {
                return t === n ? re.elementnew(o(e.element(), r), !0) : e
            });
            return a.concat([l]).concat(s)
        },
        Ji = function(e, t, n) {
            return e.slice(0, t).concat(e.slice(n + 1))
        },
        Qi = function(e, t, n) {
            var r = T(e,
            function(e) {
                var r = e.cells().slice(0, t).concat(e.cells().slice(n + 1));
                return re.rowcells(r, e.section())
            });
            return N(r,
            function(e) {
                return e.cells().length > 0
            })
        },
        Zi = function(e, t, n, r) {
            return T(e,
            function(e) {
                return Mo.mapCells(e,
                function(e) {
                    return function(e) {
                        return E(t,
                        function(t) {
                            return n(e.element(), t.element())
                        })
                    } (e) ? re.elementnew(r(e.element(), n), !0) : e
                })
            })
        },
        ea = function(e, t, n, r) {
            return void 0 !== Mo.getCellElement(e[t], n) && t > 0 && r(Mo.getCellElement(e[t - 1], n), Mo.getCellElement(e[t], n))
        },
        ta = function(e, t, n) {
            return t > 0 && n(Mo.getCellElement(e, t - 1), Mo.getCellElement(e, t))
        },
        na = function(e, t, n, r) {
            var o = I(e,
            function(r, o) {
                return ea(e, o, t, n) || ta(r, t, n) ? [] : [Mo.getCell(r, t)]
            });
            return Zi(e, o, n, r)
        },
        ra = function(e, t, n, r) {
            var o = e[t],
            i = I(o.cells(),
            function(r, i) {
                return ea(e, t, i, n) || ta(o, i, n) ? [] : [r]
            });
            return Zi(e, i, n, r)
        },
        oa = function(e) {
            return {
                fold: e
            }
        },
        ia = function() {
            return oa(function(e, t, n, r, o) {
                return e()
            })
        },
        aa = function(e) {
            return oa(function(t, n, r, o, i) {
                return n(e)
            })
        },
        sa = function(e, t) {
            return oa(function(n, r, o, i, a) {
                return o(e, t)
            })
        },
        la = function(e, t, n) {
            return oa(function(r, o, i, a, s) {
                return a(e, t, n)
            })
        },
        ua = function(e, t) {
            return oa(function(n, r, o, i, a) {
                return a(e, t)
            })
        },
        ca = function(e, t, n, r) {
            var i = e.slice(0),
            a = function(e, t) {
                return 0 === e.length ? ia() : 1 === e.length ? aa(0) : 0 === t ? sa(0, 1) : t === e.length - 1 ? ua(t - 1, t) : t > 0 && t < e.length - 1 ? la(t - 1, t, t + 1) : ia()
            } (e, t),
            s = function(e) {
                return T(e, o(0))
            },
            l = o(s(i)),
            u = function(e, t) {
                if (n >= 0) {
                    var o = Math.max(r.minCellWidth(), i[t] - n);
                    return s(i.slice(0, e)).concat([n, o - i[t]]).concat(s(i.slice(t + 1)))
                }
                var a = Math.max(r.minCellWidth(), i[e] + n),
                l = i[e] - a;
                return s(i.slice(0, e)).concat([a - i[e], l]).concat(s(i.slice(t + 1)))
            },
            c = u;
            return a.fold(l,
            function(e) {
                return r.singleColumnWidth(i[e], n)
            },
            c,
            function(e, t, n) {
                return u(t, n)
            },
            function(e, t) {
                if (n >= 0) return s(i.slice(0, t)).concat([n]);
                var o = Math.max(r.minCellWidth(), i[t] + n);
                return s(i.slice(0, t)).concat([o - i[t]])
            })
        },
        da = function(e, t) {
            return lt.has(e, t) && parseInt(lt.get(e, t), 10) > 1
        },
        fa = {
            hasColspan: function(e) {
                return da(e, "colspan")
            },
            hasRowspan: function(e) {
                return da(e, "rowspan")
            },
            minWidth: o(10),
            minHeight: o(10),
            getInt: function(e, t) {
                return parseInt(Wt.get(e, t), 10)
            }
        },
        ma = function(e, t, n) {
            return Wt.getRaw(e, t).fold(function() {
                return n(e) + "px"
            },
            function(e) {
                return e
            })
        },
        pa = function(e) {
            return ma(e, "width", Fr.getPixelWidth)
        },
        ha = function(e) {
            return ma(e, "height", Fr.getHeight)
        },
        ga = function(e, t, n, r, o) {
            var i = Ko(e),
            a = T(i,
            function(e) {
                return e.map(t.edge)
            });
            return T(i,
            function(e, t) {
                return e.filter(s(fa.hasColspan)).fold(function() {
                    var e = $o(a, t);
                    return r(e)
                },
                function(e) {
                    return n(e, o)
                })
            })
        },
        va = function(e) {
            return e.map(function(e) {
                return e + "px"
            }).getOr("")
        },
        ba = function(e, t, n, r) {
            var o = Yo(e),
            i = T(o,
            function(e) {
                return e.map(t.edge)
            });
            return T(o,
            function(e, t) {
                return e.filter(s(fa.hasRowspan)).fold(function() {
                    var e = $o(i, t);
                    return r(e)
                },
                function(e) {
                    return n(e)
                })
            })
        },
        ya = {
            getRawWidths: function(e, t) {
                return ga(e, t, pa, va)
            },
            getPixelWidths: function(e, t, n) {
                return ga(e, t, Fr.getPixelWidth,
                function(e) {
                    return e.getOrThunk(n.minCellWidth)
                },
                n)
            },
            getPercentageWidths: function(e, t, n) {
                return ga(e, t, Fr.getPercentageWidth,
                function(e) {
                    return e.fold(function() {
                        return n.minCellWidth()
                    },
                    function(e) {
                        return e / n.pixelWidth() * 100
                    })
                },
                n)
            },
            getPixelHeights: function(e, t) {
                return ba(e, t, Fr.getHeight,
                function(e) {
                    return e.getOrThunk(fa.minHeight)
                })
            },
            getRawHeights: function(e, t) {
                return ba(e, t, ha, va)
            }
        },
        wa = function(e, t, n) {
            for (var r = 0,
            o = e; o < t; o++) r += void 0 !== n[o] ? n[o] : 0;
            return r
        },
        xa = function(e, t) {
            var n = Dt.justCells(e);
            return T(n,
            function(e) {
                var n = wa(e.column(), e.column() + e.colspan(), t);
                return {
                    element: e.element,
                    width: o(n),
                    colspan: e.colspan
                }
            })
        },
        Ca = function(e, t) {
            var n = Dt.justCells(e);
            return T(n,
            function(e) {
                var n = wa(e.row(), e.row() + e.rowspan(), t);
                return {
                    element: e.element,
                    height: o(n),
                    rowspan: e.rowspan
                }
            })
        },
        _a = function(e, t) {
            return T(e.all(),
            function(e, n) {
                return {
                    element: e.element,
                    height: o(t[n])
                }
            })
        },
        ka = function(e) {
            var t = parseInt(e, 10),
            n = i;
            return {
                width: o(t),
                pixelWidth: o(t),
                getWidths: ya.getPixelWidths,
                getCellDelta: n,
                singleColumnWidth: function(e, t) {
                    return [Math.max(fa.minWidth(), e + t) - e]
                },
                minCellWidth: fa.minWidth,
                setElementWidth: Fr.setPixelWidth,
                setTableWidth: function(e, t, n) {
                    var r = R(t,
                    function(e, t) {
                        return e + t
                    },
                    0);
                    Fr.setPixelWidth(e, r)
                }
            }
        },
        Ea = function(e, t) {
            if (Fr.percentageBasedSizeRegex().test(t)) return function(e, t) {
                var n = parseFloat(e),
                r = kr(t);
                return {
                    width: o(n),
                    pixelWidth: o(r),
                    getWidths: ya.getPercentageWidths,
                    getCellDelta: function(e) {
                        return e / r * 100
                    },
                    singleColumnWidth: function(e, t) {
                        return [100 - e]
                    },
                    minCellWidth: function() {
                        return fa.minWidth() / r * 100
                    },
                    setElementWidth: Fr.setPercentageWidth,
                    setTableWidth: function(e, t, r) {
                        var o = n + r;
                        Fr.setPercentageWidth(e, o)
                    }
                }
            } (Fr.percentageBasedSizeRegex().exec(t)[1], e);
            if (Fr.pixelBasedSizeRegex().test(t)) {
                var n = Fr.pixelBasedSizeRegex().exec(t);
                return ka(n[1])
            }
            var r = kr(e);
            return ka(r)
        },
        Ta = function(e) {
            return Fr.getRawWidth(e).fold(function() {
                var t = kr(e);
                return ka(t)
            },
            function(t) {
                return Ea(e, t)
            })
        },
        Sa = function(e) {
            return Dt.generate(e)
        },
        Na = function(e) {
            var t = Nt(e);
            return Sa(t)
        },
        Ra = {
            adjustWidth: function(e, t, n, r) {
                var o = Ta(e),
                i = o.getCellDelta(t),
                a = Na(e),
                s = o.getWidths(a, r, o),
                l = ca(s, n, i, o),
                u = T(l,
                function(e, t) {
                    return e + s[t]
                }),
                c = xa(a, u);
                S(c,
                function(e) {
                    o.setElementWidth(e.element(), e.width())
                }),
                n === a.grid().columns() - 1 && o.setTableWidth(e, u, i)
            },
            adjustHeight: function(e, t, n, r) {
                var o = Na(e),
                i = ya.getPixelHeights(o, r),
                a = T(i,
                function(e, r) {
                    return n === r ? Math.max(t + e, fa.minHeight()) : e
                }),
                s = Ca(o, a),
                l = _a(o, a);
                S(l,
                function(e) {
                    Fr.setHeight(e.element(), e.height())
                }),
                S(s,
                function(e) {
                    Fr.setHeight(e.element(), e.height())
                });
                var u = R(a,
                function(e, t) {
                    return e + t
                },
                0);
                Fr.setHeight(e, u)
            },
            adjustWidthTo: function(e, t, n) {
                var r = Ta(e),
                o = Sa(t),
                i = r.getWidths(o, n, r),
                a = xa(o, i);
                S(a,
                function(e) {
                    r.setElementWidth(e.element(), e.width())
                });
                var s = R(i,
                function(e, t) {
                    return t + e
                },
                0);
                a.length > 0 && r.setElementWidth(e, s)
            }
        },
        Aa = function(e) {
            0 === St.cells(e).length && $t.remove(e)
        },
        Oa = V("grid", "cursor"),
        Da = function(e, t, n) {
            return Pa(e, t, n).orThunk(function() {
                return Pa(e, 0, 0)
            })
        },
        Pa = function(e, t, n) {
            return g.from(e[t]).bind(function(e) {
                return g.from(e.cells()[n]).bind(function(e) {
                    return g.from(e.element())
                })
            })
        },
        Ba = function(e, t, n) {
            return Oa(e, Pa(e, t, n))
        },
        Ma = function(e) {
            return A(e,
            function(e, t) {
                return E(e,
                function(e) {
                    return e.row() === t.row()
                }) ? e: e.concat([t])
            },
            []).sort(function(e, t) {
                return e.row() - t.row()
            })
        },
        Ia = function(e) {
            return A(e,
            function(e, t) {
                return E(e,
                function(e) {
                    return e.column() === t.column()
                }) ? e: e.concat([t])
            },
            []).sort(function(e, t) {
                return e.column() - t.column()
            })
        },
        La = function(e, t, n) {
            var r = Rt(e, n),
            o = Dt.generate(r);
            return Wo(o, t, !0)
        },
        Fa = Ra.adjustWidthTo,
        Wa = {
            insertRowBefore: ki(function(e, t, n, r) {
                var o = t.row(),
                i = t.row(),
                a = Ki(e, i, o, n, r.getOrInit);
                return Ba(a, i, t.column())
            },
            Ti, n, n, ho),
            insertRowsBefore: ki(function(e, t, n, r) {
                var o = t[0].row(),
                i = t[0].row(),
                a = Ma(t),
                s = A(a,
                function(e, t) {
                    return Ki(e, i, o, n, r.getOrInit)
                },
                e);
                return Ba(s, i, t[0].column())
            },
            Si, n, n, ho),
            insertRowAfter: ki(function(e, t, n, r) {
                var o = t.row(),
                i = t.row() + t.rowspan(),
                a = Ki(e, i, o, n, r.getOrInit);
                return Ba(a, i, t.column())
            },
            Ti, n, n, ho),
            insertRowsAfter: ki(function(e, t, n, r) {
                var o = Ma(t),
                i = o[o.length - 1].row(),
                a = o[o.length - 1].row() + o[o.length - 1].rowspan(),
                s = A(o,
                function(e, t) {
                    return Ki(e, a, i, n, r.getOrInit)
                },
                e);
                return Ba(s, a, t[0].column())
            },
            Si, n, n, ho),
            insertColumnBefore: ki(function(e, t, n, r) {
                var o = t.column(),
                i = t.column(),
                a = Yi(e, i, o, n, r.getOrInit);
                return Ba(a, t.row(), i)
            },
            Ti, Fa, n, ho),
            insertColumnsBefore: ki(function(e, t, n, r) {
                var o = Ia(t),
                i = o[0].column(),
                a = o[0].column(),
                s = A(o,
                function(e, t) {
                    return Yi(e, a, i, n, r.getOrInit)
                },
                e);
                return Ba(s, t[0].row(), a)
            },
            Si, Fa, n, ho),
            insertColumnAfter: ki(function(e, t, n, r) {
                var o = t.column(),
                i = t.column() + t.colspan(),
                a = Yi(e, i, o, n, r.getOrInit);
                return Ba(a, t.row(), i)
            },
            Ti, Fa, n, ho),
            insertColumnsAfter: ki(function(e, t, n, r) {
                var o = t[t.length - 1].column(),
                i = t[t.length - 1].column() + t[t.length - 1].colspan(),
                a = Ia(t),
                s = A(a,
                function(e, t) {
                    return Yi(e, i, o, n, r.getOrInit)
                },
                e);
                return Ba(s, t[0].row(), i)
            },
            Si, Fa, n, ho),
            splitCellIntoColumns: ki(function(e, t, n, r) {
                var o = Xi(e, t.row(), t.column(), n, r.getOrInit);
                return Ba(o, t.row(), t.column())
            },
            Ti, Fa, n, ho),
            splitCellIntoRows: ki(function(e, t, n, r) {
                var o = Gi(e, t.row(), t.column(), n, r.getOrInit);
                return Ba(o, t.row(), t.column())
            },
            Ti, n, n, ho),
            eraseColumns: ki(function(e, t, n, r) {
                var o = Ia(t),
                i = Qi(e, o[0].column(), o[o.length - 1].column()),
                a = Da(i, t[0].row(), t[0].column());
                return Oa(i, a)
            },
            Si, Fa, Aa, ho),
            eraseRows: ki(function(e, t, n, r) {
                var o = Ma(t),
                i = Ji(e, o[0].row(), o[o.length - 1].row()),
                a = Da(i, t[0].row(), t[0].column());
                return Oa(i, a)
            },
            Si, n, Aa, ho),
            makeColumnHeader: ki(function(e, t, n, r) {
                var o = na(e, t.column(), n, r.replaceOrInit);
                return Ba(o, t.row(), t.column())
            },
            Ti, n, n, go("row", "th")),
            unmakeColumnHeader: ki(function(e, t, n, r) {
                var o = na(e, t.column(), n, r.replaceOrInit);
                return Ba(o, t.row(), t.column())
            },
            Ti, n, n, go(null, "td")),
            makeRowHeader: ki(function(e, t, n, r) {
                var o = ra(e, t.row(), n, r.replaceOrInit);
                return Ba(o, t.row(), t.column())
            },
            Ti, n, n, go("col", "th")),
            unmakeRowHeader: ki(function(e, t, n, r) {
                var o = ra(e, t.row(), n, r.replaceOrInit);
                return Ba(o, t.row(), t.column())
            },
            Ti, n, n, go(null, "td")),
            mergeCells: ki(function(e, t, n, r) {
                var i = t.cells();
                No(i);
                var a = ji(e, t.bounds(), n, o(i[0]));
                return Oa(a, g.from(i[0]))
            },
            Ai, n, n, vo),
            unmergeCells: ki(function(e, t, n, r) {
                var o = R(t,
                function(e, t) {
                    return Ui(e, t, n, r.combine(t))
                },
                e);
                return Oa(o, g.from(t[0]))
            },
            Oi, Fa, n, vo),
            pasteCells: ki(function(e, t, n, r) {
                var o, i, a, s, l = (o = t.clipboard(), i = t.generators(), a = Nt(o), s = Dt.generate(a), Wo(s, i, !0)),
                u = re.address(t.row(), t.column());
                return $i(u, e, l, t.generators(), n).fold(function() {
                    return Oa(e, g.some(t.element()))
                },
                function(e) {
                    var n = Da(e, t.row(), t.column());
                    return Oa(e, n)
                })
            },
            Ni, Fa, n, ho),
            pasteRowsBefore: ki(function(e, t, n, r) {
                var o = e[t.cells[0].row()],
                i = t.cells[0].row(),
                a = La(t.clipboard(), t.generators(), o),
                s = qi(i, e, a, t.generators(), n),
                l = Da(s, t.cells[0].row(), t.cells[0].column());
                return Oa(s, l)
            },
            Ri, n, n, ho),
            pasteRowsAfter: ki(function(e, t, n, r) {
                var o = e[t.cells[0].row()],
                i = t.cells[t.cells.length - 1].row() + t.cells[t.cells.length - 1].rowspan(),
                a = La(t.clipboard(), t.generators(), o),
                s = qi(i, e, a, t.generators(), n),
                l = Da(s, t.cells[0].row(), t.cells[0].column());
                return Oa(s, l)
            },
            Ri, n, n, ho)
        },
        Ha = function(e) {
            return ie.fromDom(e.getBody())
        },
        ja = function(e) {
            return e.getBoundingClientRect().width
        },
        Ua = function(e) {
            return e.getBoundingClientRect().height
        },
        za = function(e) {
            return function(t) {
                return je.eq(t, Ha(e))
            }
        },
        Va = function(e) {
            return /^[0-9]+$/.test(e) && (e += "px"),
            e
        },
        $a = function(e) {
            var t = pt.descendants(e, "td[data-mce-style],th[data-mce-style]");
            lt.remove(e, "data-mce-style"),
            S(t,
            function(e) {
                lt.remove(e, "data-mce-style")
            })
        },
        qa = function(e) {
            return "rtl" === Wt.get(e, "direction") ? "rtl": "ltr"
        },
        Ka = {
            onDirection: function(e, t) {
                return function(n) {
                    return "rtl" === qa(n) ? t: e
                }
            },
            getDirection: qa
        },
        Ya = {
            isRtl: o(!1)
        },
        Xa = {
            isRtl: o(!0)
        },
        Ga = {
            directionAt: function(e) {
                return "rtl" === Ka.getDirection(e) ? Xa: Ya
            }
        },
        Ja = ["tableprops", "tabledelete", "|", "tableinsertrowbefore", "tableinsertrowafter", "tabledeleterow", "|", "tableinsertcolbefore", "tableinsertcolafter", "tabledeletecol"],
        Qa = {
            "border-collapse": "collapse",
            width: "100%"
        },
        Za = {
            border: "1"
        },
        es = function(e) {
            return e.getParam("table_default_attributes", Za, "object")
        },
        ts = function(e) {
            return e.getParam("table_default_styles", Qa, "object")
        },
        ns = function(e) {
            return e.getParam("table_tab_navigation", !0, "boolean")
        },
        rs = function(e) {
            return e.getParam("table_cell_advtab", !0, "boolean")
        },
        os = function(e) {
            return e.getParam("table_row_advtab", !0, "boolean")
        },
        is = function(e) {
            return e.getParam("table_advtab", !0, "boolean")
        },
        as = function(e) {
            return e.getParam("table_appearance_options", !0, "boolean")
        },
        ss = function(e) {
            return e.getParam("table_style_by_css", !1, "boolean")
        },
        ls = function(e) {
            return e.getParam("table_cell_class_list", [], "array")
        },
        us = function(e) {
            return e.getParam("table_row_class_list", [], "array")
        },
        cs = function(e) {
            return e.getParam("table_class_list", [], "array")
        },
        ds = function(e) {
            return ! 1 === e.getParam("table_responsive_width")
        },
        fs = function(e, t) {
            return e.fire("newrow", {
                node: t
            })
        },
        ms = function(e, t) {
            return e.fire("newcell", {
                node: t
            })
        },
        ps = function(e, t, n, r) {
            e.fire("ObjectResizeStart", {
                target: t,
                width: n,
                height: r
            })
        },
        hs = function(e, t, n, r) {
            e.fire("ObjectResized", {
                target: t,
                width: n,
                height: r
            })
        },
        gs = function(e, t) {
            var r = function(e) {
                return "table" === rt.name(Ha(e))
            },
            o = function(e) {
                var t = e.getParam("table_clone_elements");
                return b(t) ? g.some(t.split(/[ ,]/)) : Array.isArray(t) ? g.some(t) : g.none()
            } (e),
            i = function(t, n, r, i) {
                return function(a, s) {
                    $a(a);
                    var l = i(),
                    u = ie.fromDom(e.getDoc()),
                    c = io(Ga.directionAt),
                    d = hn(r, u, o);
                    return n(a) ? t(l, a, s, d, c).bind(function(t) {
                        return S(t.newRows(),
                        function(t) {
                            fs(e, t.dom())
                        }),
                        S(t.newCells(),
                        function(t) {
                            ms(e, t.dom())
                        }),
                        t.cursor().map(function(t) {
                            var n = e.dom.createRng();
                            return n.setStart(t.dom(), 0),
                            n.setEnd(t.dom(), 0),
                            n
                        })
                    }) : g.none()
                }
            };
            return {
                deleteRow: i(Wa.eraseRows,
                function(t) {
                    var n = so(t);
                    return ! 1 === r(e) || n.rows() > 1
                },
                n, t),
                deleteColumn: i(Wa.eraseColumns,
                function(t) {
                    var n = so(t);
                    return ! 1 === r(e) || n.columns() > 1
                },
                n, t),
                insertRowsBefore: i(Wa.insertRowsBefore, c, n, t),
                insertRowsAfter: i(Wa.insertRowsAfter, c, n, t),
                insertColumnsBefore: i(Wa.insertColumnsBefore, c, Wr, t),
                insertColumnsAfter: i(Wa.insertColumnsAfter, c, Wr, t),
                mergeCells: i(Wa.mergeCells, c, n, t),
                unmergeCells: i(Wa.unmergeCells, c, n, t),
                pasteRowsBefore: i(Wa.pasteRowsBefore, c, n, t),
                pasteRowsAfter: i(Wa.pasteRowsAfter, c, n, t),
                pasteCells: i(Wa.pasteCells, c, n, t)
            }
        },
        vs = function(e, t, n) {
            var r = Nt(e),
            o = Dt.generate(r);
            return Si(o, t).map(function(e) {
                var t = Wo(o, n, !1).slice(e[0].row(), e[e.length - 1].row() + e[e.length - 1].rowspan()),
                r = Ei(t, n);
                return Uo(r)
            })
        },
        bs = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        ys = {
            applyAlign: function(e, t, n) {
                n && e.formatter.apply("align" + n, {},
                t)
            },
            applyVAlign: function(e, t, n) {
                n && e.formatter.apply("valign" + n, {},
                t)
            },
            unApplyAlign: function(e, t) {
                bs.each("left center right".split(" "),
                function(n) {
                    e.formatter.remove("align" + n, {},
                    t)
                })
            },
            unApplyVAlign: function(e, t) {
                bs.each("top middle bottom".split(" "),
                function(n) {
                    e.formatter.remove("valign" + n, {},
                    t)
                })
            },
            getTDTHOverallStyle: function(e, t, n) {
                var r;
                return function(t, r) {
                    for (var o = 0; o < r.length; o++) {
                        var i = e.getStyle(r[o], n);
                        if (void 0 === t && (t = i), t !== i) return ""
                    }
                    return t
                } (r, e.select("td,th", t))
            }
        },
        ws = function(e, t) {
            var n = e.dom,
            r = t.control.rootControl,
            o = r.toJSON(),
            i = n.parseStyle(o.style);
            i["border-style"] = o.borderStyle,
            i["border-color"] = o.borderColor,
            i["background-color"] = o.backgroundColor,
            i.width = o.width ? Va(o.width) : "",
            i.height = o.height ? Va(o.height) : "",
            r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))
        },
        xs = function(e, t) {
            var n = e.dom,
            r = t.control.rootControl,
            o = r.toJSON(),
            i = n.parseStyle(o.style);
            r.find("#borderStyle").value(i["border-style"] || ""),
            r.find("#borderColor").value(i["border-color"] || ""),
            r.find("#backgroundColor").value(i["background-color"] || ""),
            r.find("#width").value(i.width || ""),
            r.find("#height").value(i.height || "")
        },
        Cs = {
            createStyleForm: function(e) {
                var t = function() {
                    var t = function(e) {
                        return e.getParam("color_picker_callback")
                    } (e);
                    if (t) return function(n) {
                        return t.call(e,
                        function(e) {
                            n.control.value(e).fire("change")
                        },
                        n.control.value())
                    }
                };
                return {
                    title: "Advanced",
                    type: "form",
                    defaults: {
                        onchange: a(ws, e)
                    },
                    items: [{
                        label: "Style",
                        name: "style",
                        type: "textbox",
                        onchange: a(xs, e)
                    },
                    {
                        type: "form",
                        padding: 0,
                        formItemDefaults: {
                            layout: "grid",
                            alignH: ["start", "right"]
                        },
                        defaults: {
                            size: 7
                        },
                        items: [{
                            label: "Border style",
                            type: "listbox",
                            name: "borderStyle",
                            width: 90,
                            onselect: a(ws, e),
                            values: [{
                                text: "Select...",
                                value: ""
                            },
                            {
                                text: "Solid",
                                value: "solid"
                            },
                            {
                                text: "Dotted",
                                value: "dotted"
                            },
                            {
                                text: "Dashed",
                                value: "dashed"
                            },
                            {
                                text: "Double",
                                value: "double"
                            },
                            {
                                text: "Groove",
                                value: "groove"
                            },
                            {
                                text: "Ridge",
                                value: "ridge"
                            },
                            {
                                text: "Inset",
                                value: "inset"
                            },
                            {
                                text: "Outset",
                                value: "outset"
                            },
                            {
                                text: "None",
                                value: "none"
                            },
                            {
                                text: "Hidden",
                                value: "hidden"
                            }]
                        },
                        {
                            label: "Border color",
                            type: "colorbox",
                            name: "borderColor",
                            onaction: t()
                        },
                        {
                            label: "Background color",
                            type: "colorbox",
                            name: "backgroundColor",
                            onaction: t()
                        }]
                    }]
                }
            },
            buildListItems: function(e, t, n) {
                var r = function(e, n) {
                    return n = n || [],
                    bs.each(e,
                    function(e) {
                        var o = {
                            text: e.text || e.title
                        };
                        e.menu ? o.menu = r(e.menu) : (o.value = e.value, t && t(o)),
                        n.push(o)
                    }),
                    n
                };
                return r(e, n || [])
            },
            updateStyleField: ws,
            extractAdvancedStyles: function(e, t) {
                var n = e.parseStyle(e.getAttrib(t, "style")),
                r = {};
                return n["border-style"] && (r.borderStyle = n["border-style"]),
                n["border-color"] && (r.borderColor = n["border-color"]),
                n["background-color"] && (r.backgroundColor = n["background-color"]),
                r.style = e.serializeStyle(n),
                r
            },
            updateAdvancedFields: xs,
            syncAdvancedStyleFields: function(e, t) {
                t.control.rootControl.find("#style")[0].getEl().isEqualNode(document.activeElement) ? xs(e, t) : ws(e, t)
            }
        },
        _s = function(e, t, n) {
            var r, o = e.dom;
            function i(e, n, r) { (1 === t.length || r) && o.setAttrib(e, n, r)
            }
            function a(e, n, r) { (1 === t.length || r) && o.setStyle(e, n, r)
            }
            rs(e) && Cs.syncAdvancedStyleFields(e, n),
            r = n.control.rootControl.toJSON(),
            e.undoManager.transact(function() {
                bs.each(t,
                function(n) {
                    var s, l;
                    i(n, "scope", r.scope),
                    1 === t.length ? i(n, "style", r.style) : (s = n, l = r.style, delete s.dataset.mceStyle, s.style.cssText += ";" + l),
                    i(n, "class", r.class),
                    a(n, "width", Va(r.width)),
                    a(n, "height", Va(r.height)),
                    r.type && n.nodeName.toLowerCase() !== r.type && (n = o.rename(n, r.type)),
                    1 === t.length && (ys.unApplyAlign(e, n), ys.unApplyVAlign(e, n)),
                    r.align && ys.applyAlign(e, n, r.align),
                    r.valign && ys.applyVAlign(e, n, r.valign)
                }),
                e.focus()
            })
        },
        ks = function(e) {
            var t, n, r, o = [];
            if (o = e.dom.select("td[data-mce-selected],th[data-mce-selected]"), t = e.dom.getParent(e.selection.getStart(), "td,th"), !o.length && t && o.push(t), t = t || o[0]) {
                n = o.length > 1 ? {
                    width: "",
                    height: "",
                    scope: "",
                    class: "",
                    align: "",
                    valign: "",
                    style: "",
                    type: t.nodeName.toLowerCase()
                }: function(e, t) {
                    var n = e.dom,
                    r = {
                        width: n.getStyle(t, "width") || n.getAttrib(t, "width"),
                        height: n.getStyle(t, "height") || n.getAttrib(t, "height"),
                        scope: n.getAttrib(t, "scope"),
                        class: n.getAttrib(t, "class"),
                        type: t.nodeName.toLowerCase(),
                        style: "",
                        align: "",
                        valign: ""
                    };
                    return bs.each("left center right".split(" "),
                    function(n) {
                        e.formatter.matchNode(t, "align" + n) && (r.align = n)
                    }),
                    bs.each("top middle bottom".split(" "),
                    function(n) {
                        e.formatter.matchNode(t, "valign" + n) && (r.valign = n)
                    }),
                    rs(e) && bs.extend(r, Cs.extractAdvancedStyles(n, t)),
                    r
                } (e, t),
                ls(e).length > 0 && (r = {
                    name: "class",
                    type: "listbox",
                    label: "Class",
                    values: Cs.buildListItems(ls(e),
                    function(t) {
                        t.value && (t.textStyle = function() {
                            return e.formatter.getCssText({
                                block: "td",
                                classes: [t.value]
                            })
                        })
                    })
                });
                var i = {
                    type: "form",
                    layout: "flex",
                    direction: "column",
                    labelGapCalc: "children",
                    padding: 0,
                    items: [{
                        type: "form",
                        layout: "grid",
                        columns: 2,
                        labelGapCalc: !1,
                        padding: 0,
                        defaults: {
                            type: "textbox",
                            maxWidth: 50
                        },
                        items: [{
                            label: "Width",
                            name: "width",
                            onchange: a(Cs.updateStyleField, e)
                        },
                        {
                            label: "Height",
                            name: "height",
                            onchange: a(Cs.updateStyleField, e)
                        },
                        {
                            label: "Cell type",
                            name: "type",
                            type: "listbox",
                            text: "None",
                            minWidth: 90,
                            maxWidth: null,
                            values: [{
                                text: "Cell",
                                value: "td"
                            },
                            {
                                text: "Header cell",
                                value: "th"
                            }]
                        },
                        {
                            label: "Scope",
                            name: "scope",
                            type: "listbox",
                            text: "None",
                            minWidth: 90,
                            maxWidth: null,
                            values: [{
                                text: "None",
                                value: ""
                            },
                            {
                                text: "Row",
                                value: "row"
                            },
                            {
                                text: "Column",
                                value: "col"
                            },
                            {
                                text: "Row group",
                                value: "rowgroup"
                            },
                            {
                                text: "Column group",
                                value: "colgroup"
                            }]
                        },
                        {
                            label: "H Align",
                            name: "align",
                            type: "listbox",
                            text: "None",
                            minWidth: 90,
                            maxWidth: null,
                            values: [{
                                text: "None",
                                value: ""
                            },
                            {
                                text: "Left",
                                value: "left"
                            },
                            {
                                text: "Center",
                                value: "center"
                            },
                            {
                                text: "Right",
                                value: "right"
                            }]
                        },
                        {
                            label: "V Align",
                            name: "valign",
                            type: "listbox",
                            text: "None",
                            minWidth: 90,
                            maxWidth: null,
                            values: [{
                                text: "None",
                                value: ""
                            },
                            {
                                text: "Top",
                                value: "top"
                            },
                            {
                                text: "Middle",
                                value: "middle"
                            },
                            {
                                text: "Bottom",
                                value: "bottom"
                            }]
                        }]
                    },
                    r]
                };
                rs(e) ? e.windowManager.open({
                    title: "Cell properties",
                    bodyType: "tabpanel",
                    data: n,
                    body: [{
                        title: "General",
                        type: "form",
                        items: i
                    },
                    Cs.createStyleForm(e)],
                    onsubmit: a(_s, e, o)
                }) : e.windowManager.open({
                    title: "Cell properties",
                    data: n,
                    body: i,
                    onsubmit: a(_s, e, o)
                })
            }
        },
        Es = function(e, t, n) {
            var r = e.getParent(t, "table"),
            o = t.parentNode,
            i = e.select(n, r)[0];
            i || (i = e.create(n), r.firstChild ? "CAPTION" === r.firstChild.nodeName ? e.insertAfter(i, r.firstChild) : r.insertBefore(i, r.firstChild) : r.appendChild(i)),
            i.appendChild(t),
            o.hasChildNodes() || e.remove(o)
        };
        function Ts(e, t, n, r) {
            var o = e.dom;
            function i(e, n, r) { (1 === t.length || r) && o.setAttrib(e, n, r)
            }
            os(e) && Cs.syncAdvancedStyleFields(e, r);
            var a = r.control.rootControl.toJSON();
            e.undoManager.transact(function() {
                bs.each(t,
                function(r) {
                    var s, l, u;
                    i(r, "scope", a.scope),
                    i(r, "style", a.style),
                    i(r, "class", a.class),
                    s = r,
                    l = "height",
                    u = Va(a.height),
                    (1 === t.length || u) && o.setStyle(s, l, u),
                    a.type !== r.parentNode.nodeName.toLowerCase() && Es(e.dom, r, a.type),
                    a.align !== n.align && (ys.unApplyAlign(e, r), ys.applyAlign(e, r, a.align))
                }),
                e.focus()
            })
        }
        var Ss = function(e) {
            var t, n, r, o, i, s, l = e.dom,
            u = [];
            t = l.getParent(e.selection.getStart(), "table"),
            n = l.getParent(e.selection.getStart(), "td,th"),
            bs.each(t.rows,
            function(e) {
                bs.each(e.cells,
                function(t) {
                    if (l.getAttrib(t, "data-mce-selected") || t === n) return u.push(e),
                    !1
                })
            }),
            (r = u[0]) && (i = u.length > 1 ? {
                height: "",
                scope: "",
                style: "",
                class: "",
                align: "",
                type: r.parentNode.nodeName.toLowerCase()
            }: function(e, t) {
                var n = e.dom,
                r = {
                    height: n.getStyle(t, "height") || n.getAttrib(t, "height"),
                    scope: n.getAttrib(t, "scope"),
                    class: n.getAttrib(t, "class"),
                    align: "",
                    style: "",
                    type: t.parentNode.nodeName.toLowerCase()
                };
                return bs.each("left center right".split(" "),
                function(n) {
                    e.formatter.matchNode(t, "align" + n) && (r.align = n)
                }),
                os(e) && bs.extend(r, Cs.extractAdvancedStyles(n, t)),
                r
            } (e, r), us(e).length > 0 && (o = {
                name: "class",
                type: "listbox",
                label: "Class",
                values: Cs.buildListItems(us(e),
                function(t) {
                    t.value && (t.textStyle = function() {
                        return e.formatter.getCssText({
                            block: "tr",
                            classes: [t.value]
                        })
                    })
                })
            }), s = {
                type: "form",
                columns: 2,
                padding: 0,
                defaults: {
                    type: "textbox"
                },
                items: [{
                    type: "listbox",
                    name: "type",
                    label: "Row type",
                    text: "Header",
                    maxWidth: null,
                    values: [{
                        text: "Header",
                        value: "thead"
                    },
                    {
                        text: "Body",
                        value: "tbody"
                    },
                    {
                        text: "Footer",
                        value: "tfoot"
                    }]
                },
                {
                    type: "listbox",
                    name: "align",
                    label: "Alignment",
                    text: "None",
                    maxWidth: null,
                    values: [{
                        text: "None",
                        value: ""
                    },
                    {
                        text: "Left",
                        value: "left"
                    },
                    {
                        text: "Center",
                        value: "center"
                    },
                    {
                        text: "Right",
                        value: "right"
                    }]
                },
                {
                    label: "Height",
                    name: "height"
                },
                o]
            },
            os(e) ? e.windowManager.open({
                title: "Row properties",
                data: i,
                bodyType: "tabpanel",
                body: [{
                    title: "General",
                    type: "form",
                    items: s
                },
                Cs.createStyleForm(e)],
                onsubmit: a(Ts, e, u, i)
            }) : e.windowManager.open({
                title: "Row properties",
                data: i,
                body: s,
                onsubmit: a(Ts, e, u, i)
            }))
        },
        Ns = tinymce.util.Tools.resolve("tinymce.Env"),
        Rs = {
            styles: {
                "border-collapse": "collapse",
                width: "100%"
            },
            attributes: {
                border: "1"
            },
            percentages: !0
        },
        As = function(e, t, n, r, o) {
            void 0 === o && (o = Rs);
            var i = ie.fromTag("table");
            Wt.setAll(i, o.styles),
            lt.setAll(i, o.attributes);
            var a = ie.fromTag("tbody");
            Ut.append(i, a);
            for (var s = [], l = 0; l < e; l++) {
                for (var u = ie.fromTag("tr"), c = 0; c < t; c++) {
                    var d = l < n || c < r ? ie.fromTag("th") : ie.fromTag("td");
                    c < r && lt.set(d, "scope", "row"),
                    l < n && lt.set(d, "scope", "col"),
                    Ut.append(d, ie.fromTag("br")),
                    o.percentages && Wt.set(d, "width", 100 / t + "%"),
                    Ut.append(u, d)
                }
                s.push(u)
            }
            return zt.append(a, s),
            i
        },
        Os = function(e) {
            return e.dom().innerHTML
        },
        Ds = function(e) {
            var t = ie.fromTag("div"),
            n = ie.fromDom(e.dom().cloneNode(!0));
            return Ut.append(t, n),
            Os(t)
        },
        Ps = function(e, t) {
            e.selection.select(t.dom(), !0),
            e.selection.collapse(!0)
        },
        Bs = function(e, t, n) {
            var r, o = ts(e),
            i = {
                styles: o,
                attributes: es(e),
                percentages: (r = o.width, b(r) && -1 !== r.indexOf("%") && !ds(e))
            },
            s = As(n, t, 0, 0, i);
            lt.set(s, "data-mce-id", "__mce");
            var l = Ds(s);
            return e.insertContent(l),
            xt.descendant(Ha(e), 'table[data-mce-id="__mce"]').map(function(t) {
                return ds(e) && Wt.set(t, "width", Wt.get(t, "width")),
                lt.remove(t, "data-mce-id"),
                function(e, t) {
                    S(pt.descendants(t, "tr"),
                    function(t) {
                        fs(e, t.dom()),
                        S(pt.descendants(t, "th,td"),
                        function(t) {
                            ms(e, t.dom())
                        })
                    })
                } (e, t),
                function(e, t) {
                    xt.descendant(t, "td,th").each(a(Ps, e))
                } (e, t),
                t.dom()
            }).getOr(null)
        };
        function Ms(e, t, n, r) {
            if ("TD" === t.tagName || "TH" === t.tagName) e.setStyle(t, n, r);
            else if (t.children) for (var o = 0; o < t.children.length; o++) Ms(e, t.children[o], n, r)
        }
        var Is = function(e, t, n) {
            var r, o, i = e.dom;
            is(e) && Cs.syncAdvancedStyleFields(e, n),
            !1 === (o = n.control.rootControl.toJSON()).class && delete o.class,
            e.undoManager.transact(function() {
                t || (t = Bs(e, o.cols || 1, o.rows || 1)),
                function(e, t, n) {
                    var r, o = e.dom,
                    i = {},
                    a = {};
                    if (i.class = n.class, a.height = Va(n.height), o.getAttrib(t, "width") && !ss(e) ? i.width = (r = n.width) ? r.replace(/px$/, "") : "": a.width = Va(n.width), ss(e) ? (a["border-width"] = Va(n.border), a["border-spacing"] = Va(n.cellspacing), bs.extend(i, {
                        "data-mce-border-color": n.borderColor,
                        "data-mce-cell-padding": n.cellpadding,
                        "data-mce-border": n.border
                    })) : bs.extend(i, {
                        border: n.border,
                        cellpadding: n.cellpadding,
                        cellspacing: n.cellspacing
                    }), ss(e) && t.children) for (var s = 0; s < t.children.length; s++) Ms(o, t.children[s], {
                        "border-width": Va(n.border),
                        "border-color": n.borderColor,
                        padding: Va(n.cellpadding)
                    });
                    n.style ? bs.extend(a, o.parseStyle(n.style)) : a = bs.extend({},
                    o.parseStyle(o.getAttrib(t, "style")), a),
                    i.style = o.serializeStyle(a),
                    o.setAttribs(t, i)
                } (e, t, o),
                (r = i.select("caption", t)[0]) && !o.caption && i.remove(r),
                !r && o.caption && ((r = i.create("caption")).innerHTML = Ns.ie ? " ": '<br data-mce-bogus="1"/>', t.insertBefore(r, t.firstChild)),
                ys.unApplyAlign(e, t),
                o.align && ys.applyAlign(e, t, o.align),
                e.focus(),
                e.addVisual()
            })
        },
        Ls = function(e, t) {
            var n, r, o, i, s, l = e.dom,
            u = {}; ! 0 === t ? (n = l.getParent(e.selection.getStart(), "table")) && (u = function(e, t) {
                var n = e.dom,
                r = {
                    width: n.getStyle(t, "width") || n.getAttrib(t, "width"),
                    height: n.getStyle(t, "height") || n.getAttrib(t, "height"),
                    cellspacing: n.getStyle(t, "border-spacing") || n.getAttrib(t, "cellspacing"),
                    cellpadding: n.getAttrib(t, "data-mce-cell-padding") || n.getAttrib(t, "cellpadding") || ys.getTDTHOverallStyle(e.dom, t, "padding"),
                    border: n.getAttrib(t, "data-mce-border") || n.getAttrib(t, "border") || ys.getTDTHOverallStyle(e.dom, t, "border"),
                    borderColor: n.getAttrib(t, "data-mce-border-color"),
                    caption: !!n.select("caption", t)[0],
                    class: n.getAttrib(t, "class")
                };
                return bs.each("left center right".split(" "),
                function(n) {
                    e.formatter.matchNode(t, "align" + n) && (r.align = n)
                }),
                is(e) && bs.extend(r, Cs.extractAdvancedStyles(n, t)),
                r
            } (e, n)) : (r = {
                label: "Cols",
                name: "cols"
            },
            o = {
                label: "Rows",
                name: "rows"
            }),
            cs(e).length > 0 && (u.class && (u.class = u.class.replace(/\s*mce\-item\-table\s*/g, "")), i = {
                name: "class",
                type: "listbox",
                label: "Class",
                values: Cs.buildListItems(cs(e),
                function(t) {
                    t.value && (t.textStyle = function() {
                        return e.formatter.getCssText({
                            block: "table",
                            classes: [t.value]
                        })
                    })
                })
            }),
            s = {
                type: "form",
                layout: "flex",
                direction: "column",
                labelGapCalc: "children",
                padding: 0,
                items: [{
                    type: "form",
                    labelGapCalc: !1,
                    padding: 0,
                    layout: "grid",
                    columns: 2,
                    defaults: {
                        type: "textbox",
                        maxWidth: 50
                    },
                    items: as(e) ? [r, o, {
                        label: "Width",
                        name: "width",
                        onchange: a(Cs.updateStyleField, e)
                    },
                    {
                        label: "Height",
                        name: "height",
                        onchange: a(Cs.updateStyleField, e)
                    },
                    {
                        label: "Cell spacing",
                        name: "cellspacing"
                    },
                    {
                        label: "Cell padding",
                        name: "cellpadding"
                    },
                    {
                        label: "Border",
                        name: "border"
                    },
                    {
                        label: "Caption",
                        name: "caption",
                        type: "checkbox"
                    }] : [r, o, {
                        label: "Width",
                        name: "width",
                        onchange: a(Cs.updateStyleField, e)
                    },
                    {
                        label: "Height",
                        name: "height",
                        onchange: a(Cs.updateStyleField, e)
                    }]
                },
                {
                    label: "Alignment",
                    name: "align",
                    type: "listbox",
                    text: "None",
                    values: [{
                        text: "None",
                        value: ""
                    },
                    {
                        text: "Left",
                        value: "left"
                    },
                    {
                        text: "Center",
                        value: "center"
                    },
                    {
                        text: "Right",
                        value: "right"
                    }]
                },
                i]
            },
            is(e) ? e.windowManager.open({
                title: "Table properties",
                data: u,
                bodyType: "tabpanel",
                body: [{
                    title: "General",
                    type: "form",
                    items: s
                },
                Cs.createStyleForm(e)],
                onsubmit: a(Is, e, n)
            }) : e.windowManager.open({
                title: "Table properties",
                data: u,
                body: s,
                onsubmit: a(Is, e, n)
            })
        },
        Fs = bs.each,
        Ws = {
            registerCommands: function(e, t, r, o, i) {
                var l = za(e),
                u = function() {
                    return ie.fromDom(e.dom.getParent(e.selection.getStart(), "th,td"))
                },
                c = function(e) {
                    return St.table(e, l)
                },
                d = function(e) {
                    return {
                        width: ja(e.dom()),
                        height: ja(e.dom())
                    }
                },
                f = function(t) {
                    var n = u();
                    c(n).each(function(i) {
                        var a = vr.forMenu(o, i, n),
                        s = d(i);
                        t(i, a).each(function(t) { !
                            function(e, t, n) {
                                var r = d(n);
                                t.width === r.width && t.height === r.height || (ps(e, n.dom(), t.width, t.height), hs(e, n.dom(), r.width, r.height))
                            } (e, s, i),
                            e.selection.setRng(t),
                            e.focus(),
                            r.clear(i),
                            $a(i)
                        })
                    })
                },
                m = function(t) {
                    var r = u();
                    return c(r).bind(function(t) {
                        var i = ie.fromDom(e.getDoc()),
                        a = vr.forMenu(o, t, r),
                        s = hn(n, i, g.none());
                        return vs(t, a, s)
                    })
                },
                p = function(t) {
                    i.get().each(function(n) {
                        var i = T(n,
                        function(e) {
                            return en(e)
                        }),
                        a = u();
                        c(a).bind(function(n) {
                            var s = ie.fromDom(e.getDoc()),
                            l = gn(s),
                            u = vr.pasteRows(o, n, a, i, l);
                            t(n, u).each(function(t) {
                                e.selection.setRng(t),
                                e.focus(),
                                r.clear(n)
                            })
                        })
                    })
                };
                Fs({
                    mceTableSplitCells: function() {
                        f(t.unmergeCells)
                    },
                    mceTableMergeCells: function() {
                        f(t.mergeCells)
                    },
                    mceTableInsertRowBefore: function() {
                        f(t.insertRowsBefore)
                    },
                    mceTableInsertRowAfter: function() {
                        f(t.insertRowsAfter)
                    },
                    mceTableInsertColBefore: function() {
                        f(t.insertColumnsBefore)
                    },
                    mceTableInsertColAfter: function() {
                        f(t.insertColumnsAfter)
                    },
                    mceTableDeleteCol: function() {
                        f(t.deleteColumn)
                    },
                    mceTableDeleteRow: function() {
                        f(t.deleteRow)
                    },
                    mceTableCutRow: function(e) {
                        i.set(m()),
                        f(t.deleteRow)
                    },
                    mceTableCopyRow: function(e) {
                        i.set(m())
                    },
                    mceTablePasteRowBefore: function(e) {
                        p(t.pasteRowsBefore)
                    },
                    mceTablePasteRowAfter: function(e) {
                        p(t.pasteRowsAfter)
                    },
                    mceTableDelete: function() {
                        var t = ie.fromDom(e.dom.getParent(e.selection.getStart(), "th,td"));
                        St.table(t, l).filter(s(l)).each(function(t) {
                            var n = ie.fromText("");
                            Ut.after(t, n),
                            $t.remove(t);
                            var r = e.dom.createRng();
                            r.setStart(n.dom(), 0),
                            r.setEnd(n.dom(), 0),
                            e.selection.setRng(r)
                        })
                    }
                },
                function(t, n) {
                    e.addCommand(n, t)
                }),
                Fs({
                    mceInsertTable: a(Ls, e),
                    mceTableProps: a(Ls, e, !0),
                    mceTableRowProps: a(Ss, e),
                    mceTableCellProps: a(ks, e)
                },
                function(t, n) {
                    e.addCommand(n,
                    function(e, n) {
                        t(n)
                    })
                })
            }
        },
        Hs = function(e) {
            var t = g.from(e.dom().documentElement).map(ie.fromDom).getOr(e);
            return {
                parent: o(t),
                view: o(e),
                origin: o(zr(0, 0))
            }
        },
        js = function(e, t) {
            return {
                parent: o(t),
                view: o(e),
                origin: o(zr(0, 0))
            }
        };
        function Us(e) {
            var t = V.apply(null, e),
            n = [];
            return {
                bind: function(e) {
                    if (void 0 === e) throw "Event bind error: undefined handler";
                    n.push(e)
                },
                unbind: function(e) {
                    n = N(n,
                    function(t) {
                        return t !== e
                    })
                },
                trigger: function() {
                    var e = t.apply(null, arguments);
                    S(n,
                    function(t) {
                        t(e)
                    })
                }
            }
        }
        var zs = {
            create: function(e) {
                return {
                    registry: U(e,
                    function(e) {
                        return {
                            bind: e.bind,
                            unbind: e.unbind
                        }
                    }),
                    trigger: U(e,
                    function(e) {
                        return e.trigger
                    })
                }
            }
        },
        Vs = {
            mode: fo(["compare", "extract", "mutate", "sink"]),
            sink: fo(["element", "start", "stop", "destroy"]),
            api: fo(["forceDrop", "drop", "move", "delayDrop"])
        },
        $s = {
            resolve: Jo("ephox-dragster").resolve
        },
        qs = function(e, t) {
            return function(n) {
                if (e(n)) {
                    var i = ie.fromDom(n.target),
                    a = function() {
                        n.stopPropagation()
                    },
                    s = function() {
                        n.preventDefault()
                    },
                    l = r(s, a),
                    u = function(e, t, n, r, i, a, s) {
                        return {
                            target: o(e),
                            x: o(t),
                            y: o(n),
                            stop: r,
                            prevent: i,
                            kill: a,
                            raw: o(s)
                        }
                    } (i, n.clientX, n.clientY, a, s, l, n);
                    t(u)
                }
            }
        },
        Ks = function(e, t, n, r, o) {
            var i = qs(n, r);
            return e.dom().addEventListener(t, i, o),
            {
                unbind: a(Ys, e, t, i, o)
            }
        },
        Ys = function(e, t, n, r) {
            e.dom().removeEventListener(t, n, r)
        },
        Xs = function(e, t, n, r) {
            return Ks(e, t, n, r, !1)
        },
        Gs = function(e, t, n, r) {
            return Ks(e, t, n, r, !0)
        },
        Js = o(!0),
        Qs = {
            bind: function(e, t, n) {
                return Xs(e, t, Js, n)
            },
            capture: function(e, t, n) {
                return Gs(e, t, Js, n)
            }
        },
        Zs = Vs.mode({
            compare: function(e, t) {
                return zr(t.left() - e.left(), t.top() - e.top())
            },
            extract: function(e) {
                return g.some(zr(e.x(), e.y()))
            },
            sink: function(e, t) {
                var n = function(e) {
                    var t = Ao({
                        layerClass: $s.resolve("blocker")
                    },
                    e),
                    n = ie.fromTag("div");
                    return lt.set(n, "role", "presentation"),
                    Wt.setAll(n, {
                        position: "fixed",
                        left: "0px",
                        top: "0px",
                        width: "100%",
                        height: "100%"
                    }),
                    fi.add(n, $s.resolve("blocker")),
                    fi.add(n, t.layerClass),
                    {
                        element: function() {
                            return n
                        },
                        destroy: function() {
                            $t.remove(n)
                        }
                    }
                } (t),
                r = Qs.bind(n.element(), "mousedown", e.forceDrop),
                o = Qs.bind(n.element(), "mouseup", e.drop),
                i = Qs.bind(n.element(), "mousemove", e.move),
                a = Qs.bind(n.element(), "mouseout", e.delayDrop);
                return Vs.sink({
                    element: n.element,
                    start: function(e) {
                        Ut.append(e, n.element())
                    },
                    stop: function() {
                        $t.remove(n.element())
                    },
                    destroy: function() {
                        n.destroy(),
                        o.unbind(),
                        i.unbind(),
                        a.unbind(),
                        r.unbind()
                    }
                })
            },
            mutate: function(e, t) {
                e.mutate(t.left(), t.top())
            }
        });
        function el() {
            var e = g.none(),
            t = zs.create({
                move: Us(["info"])
            });
            return {
                onEvent: function(n, r) {
                    r.extract(n).each(function(n) { (function(t, n) {
                            var r = e.map(function(e) {
                                return t.compare(e, n)
                            });
                            return e = g.some(n),
                            r
                        })(r, n).each(function(e) {
                            t.trigger.move(e)
                        })
                    })
                },
                reset: function() {
                    e = g.none()
                },
                events: t.registry
            }
        }
        function tl() {
            var e = {
                onEvent: function(e, t) {},
                reset: n
            },
            t = el(),
            r = e;
            return {
                on: function() {
                    r.reset(),
                    r = t
                },
                off: function() {
                    r.reset(),
                    r = e
                },
                isOn: function() {
                    return r === t
                },
                onEvent: function(e, t) {
                    r.onEvent(e, t)
                },
                events: t.events
            }
        }
        var nl = function(e, t, n) {
            var r, o, i, a = !1,
            s = zs.create({
                start: Us([]),
                stop: Us([])
            }),
            l = tl(),
            u = function() {
                f.stop(),
                l.isOn() && (l.off(), s.trigger.stop())
            },
            c = (r = u, o = 200, i = null, {
                cancel: function() {
                    null !== i && (clearTimeout(i), i = null)
                },
                throttle: function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    null !== i && clearTimeout(i),
                    i = setTimeout(function() {
                        r.apply(null, e),
                        i = null
                    },
                    o)
                }
            });
            l.events.move.bind(function(n) {
                t.mutate(e, n.info())
            });
            var d = function(e) {
                return function() {
                    var t = Array.prototype.slice.call(arguments, 0);
                    if (a) return e.apply(null, t)
                }
            },
            f = t.sink(Vs.api({
                forceDrop: u,
                drop: d(u),
                move: d(function(e, n) {
                    c.cancel(),
                    l.onEvent(e, t)
                }),
                delayDrop: d(c.throttle)
            }), n);
            return {
                element: f.element,
                go: function(e) {
                    f.start(e),
                    l.on(),
                    s.trigger.start()
                },
                on: function() {
                    a = !0
                },
                off: function() {
                    a = !1
                },
                destroy: function() {
                    f.destroy()
                },
                events: s.registry
            }
        },
        rl = {
            transform: function(e, t) {
                var n = void 0 !== t ? t: {},
                r = void 0 !== n.mode ? n.mode: Zs;
                return nl(e, r, t)
            }
        };
        function ol() {
            var e = zs.create({
                drag: Us(["xDelta", "yDelta", "target"])
            }),
            t = g.none(),
            n = function() {
                var e = zs.create({
                    drag: Us(["xDelta", "yDelta"])
                });
                return {
                    mutate: function(t, n) {
                        e.trigger.drag(t, n)
                    },
                    events: e.registry
                }
            } ();
            return n.events.drag.bind(function(n) {
                t.each(function(t) {
                    e.trigger.drag(n.xDelta(), n.yDelta(), t)
                })
            }),
            {
                assign: function(e) {
                    t = g.some(e)
                },
                get: function() {
                    return t
                },
                mutate: n.mutate,
                events: e.registry
            }
        }
        var il = {
            any: function(e) {
                return xt.first(e).isSome()
            },
            ancestor: function(e, t, n) {
                return xt.ancestor(e, t, n).isSome()
            },
            sibling: function(e, t) {
                return xt.sibling(e, t).isSome()
            },
            child: function(e, t) {
                return xt.child(e, t).isSome()
            },
            descendant: function(e, t) {
                return xt.descendant(e, t).isSome()
            },
            closest: function(e, t, n) {
                return xt.closest(e, t, n).isSome()
            }
        },
        al = Qo.resolve("resizer-bar-dragging");
        function sl(e, t) {
            var n = ro.height,
            r = function(e, t, n) {
                var r = ol(),
                o = rl.transform(r, {}),
                i = g.none(),
                s = function(e, t) {
                    return g.from(lt.get(e, t))
                };
                r.events.drag.bind(function(e) {
                    s(e.target(), "data-row").each(function(t) {
                        var n = fa.getInt(e.target(), "top");
                        Wt.set(e.target(), "top", n + e.yDelta() + "px")
                    }),
                    s(e.target(), "data-column").each(function(t) {
                        var n = fa.getInt(e.target(), "left");
                        Wt.set(e.target(), "left", n + e.xDelta() + "px")
                    })
                });
                var l = function(e, t) {
                    return fa.getInt(e, t) - parseInt(lt.get(e, "data-initial-" + t), 10)
                };
                o.events.stop.bind(function() {
                    r.get().each(function(r) {
                        i.each(function(o) {
                            s(r, "data-row").each(function(e) {
                                var t = l(r, "top");
                                lt.remove(r, "data-initial-top"),
                                m.trigger.adjustHeight(o, t, parseInt(e, 10))
                            }),
                            s(r, "data-column").each(function(e) {
                                var t = l(r, "left");
                                lt.remove(r, "data-initial-left"),
                                m.trigger.adjustWidth(o, t, parseInt(e, 10))
                            }),
                            wi.refresh(e, o, n, t)
                        })
                    })
                });
                var u = function(t, n) {
                    m.trigger.startAdjust(),
                    r.assign(t),
                    lt.set(t, "data-initial-" + n, parseInt(Wt.get(t, n), 10)),
                    fi.add(t, al),
                    Wt.set(t, "opacity", "0.2"),
                    o.go(e.parent())
                },
                c = Qs.bind(e.parent(), "mousedown",
                function(e) {
                    wi.isRowBar(e.target()) && u(e.target(), "top"),
                    wi.isColBar(e.target()) && u(e.target(), "left")
                }),
                d = function(t) {
                    return je.eq(t, e.view())
                },
                f = Qs.bind(e.view(), "mouseover",
                function(r) {
                    "table" === rt.name(r.target()) || il.closest(r.target(), "table", d) ? (i = "table" === rt.name(r.target()) ? g.some(r.target()) : xt.ancestor(r.target(), "table", d)).each(function(r) {
                        wi.refresh(e, r, n, t)
                    }) : dt.inBody(r.target()) && wi.destroy(e)
                }),
                m = zs.create({
                    adjustHeight: Us(["table", "delta", "row"]),
                    adjustWidth: Us(["table", "delta", "column"]),
                    startAdjust: Us([])
                });
                return {
                    destroy: function() {
                        c.unbind(),
                        f.unbind(),
                        o.destroy(),
                        wi.destroy(e)
                    },
                    refresh: function(r) {
                        wi.refresh(e, r, n, t)
                    },
                    on: o.on,
                    off: o.off,
                    hideBars: a(wi.hide, e),
                    showBars: a(wi.show, e),
                    events: m.registry
                }
            } (e, t, n),
            o = zs.create({
                beforeResize: Us(["table"]),
                afterResize: Us(["table"]),
                startDrag: Us([])
            });
            return r.events.adjustHeight.bind(function(e) {
                o.trigger.beforeResize(e.table());
                var t = n.delta(e.delta(), e.table());
                Ra.adjustHeight(e.table(), t, e.row(), n),
                o.trigger.afterResize(e.table())
            }),
            r.events.startAdjust.bind(function(e) {
                o.trigger.startDrag()
            }),
            r.events.adjustWidth.bind(function(e) {
                o.trigger.beforeResize(e.table());
                var n = t.delta(e.delta(), e.table());
                Ra.adjustWidth(e.table(), n, e.column(), t),
                o.trigger.afterResize(e.table())
            }),
            {
                on: r.on,
                off: r.off,
                hideBars: r.hideBars,
                showBars: r.showBars,
                destroy: r.destroy,
                events: o.registry
            }
        }
        var ll = function(e, t) {
            return e.inline ? js(Ha(e),
            function() {
                var e = ie.fromTag("div");
                return Wt.setAll(e, {
                    position: "static",
                    height: "0",
                    width: "0",
                    padding: "0",
                    margin: "0",
                    border: "0"
                }),
                Ut.append(dt.body(), e),
                e
            } ()) : Hs(ie.fromDom(e.getDoc()))
        },
        ul = function(e, t) {
            e.inline && $t.remove(t.parent())
        },
        cl = function(e) {
            var t, n, r = g.none(),
            o = g.none(),
            i = g.none(),
            a = /(\d+(\.\d+)?)%/,
            s = function(e) {
                return "TABLE" === e.nodeName
            };
            return e.on("init",
            function() {
                var t = io(Ga.directionAt),
                n = ll(e);
                if (i = g.some(n),
                function(e) {
                    var t = e.getParam("object_resizing", !0);
                    return "table" === t || t
                } (e) &&
                function(e) {
                    return e.getParam("table_resize_bars", !0, "boolean")
                } (e)) {
                    var a = sl(n, t);
                    a.on(),
                    a.events.startDrag.bind(function(t) {
                        r = g.some(e.selection.getRng())
                    }),
                    a.events.beforeResize.bind(function(t) {
                        var n = t.table().dom();
                        ps(e, n, ja(n), Ua(n))
                    }),
                    a.events.afterResize.bind(function(t) {
                        var n = t.table(),
                        o = n.dom();
                        $a(n),
                        r.each(function(t) {
                            e.selection.setRng(t),
                            e.focus()
                        }),
                        hs(e, o, ja(o), Ua(o)),
                        e.undoManager.add()
                    }),
                    o = g.some(a)
                }
            }),
            e.on("ObjectResizeStart",
            function(r) {
                var o, i = r.target;
                s(i) && (t = r.width, o = i, n = e.dom.getStyle(o, "width") || e.dom.getAttrib(o, "width"))
            }),
            e.on("ObjectResized",
            function(r) {
                var o = r.target;
                if (s(o)) {
                    var i = o;
                    if (a.test(n)) {
                        var l = parseFloat(a.exec(n)[1]),
                        u = r.width * l / t;
                        e.dom.setStyle(i, "width", u + "%")
                    } else {
                        var c = [];
                        bs.each(i.rows,
                        function(t) {
                            bs.each(t.cells,
                            function(t) {
                                var n = e.dom.getStyle(t, "width", !0);
                                c.push({
                                    cell: t,
                                    width: n
                                })
                            })
                        }),
                        bs.each(c,
                        function(t) {
                            e.dom.setStyle(t.cell, "width", t.width),
                            e.dom.setAttrib(t.cell, "width", null)
                        })
                    }
                }
            }),
            {
                lazyResize: function() {
                    return o
                },
                lazyWire: function() {
                    return i.getOr(Hs(ie.fromDom(e.getBody())))
                },
                destroy: function() {
                    o.each(function(e) {
                        e.destroy()
                    }),
                    i.each(function(t) {
                        ul(e, t)
                    })
                }
            }
        },
        dl = function(e) {
            return {
                fold: e
            }
        },
        fl = function(e) {
            return dl(function(t, n, r, o) {
                return t(e)
            })
        },
        ml = function(e) {
            return dl(function(t, n, r, o) {
                return n(e)
            })
        },
        pl = function(e, t) {
            return dl(function(n, r, o, i) {
                return o(e, t)
            })
        },
        hl = function(e) {
            return dl(function(t, n, r, o) {
                return o(e)
            })
        },
        gl = function(e, t) {
            return St.table(e, t).bind(function(t) {
                var n = St.cells(t);
                return D(n,
                function(t) {
                    return je.eq(e, t)
                }).map(function(e) {
                    return {
                        index: o(e),
                        all: o(n)
                    }
                })
            })
        },
        vl = function(e, t) {
            return gl(e, t).fold(function() {
                return fl(e)
            },
            function(t) {
                return t.index() + 1 < t.all().length ? pl(e, t.all()[t.index() + 1]) : hl(e)
            })
        },
        bl = function(e, t) {
            return gl(e, t).fold(function() {
                return fl()
            },
            function(t) {
                return t.index() - 1 >= 0 ? pl(e, t.all()[t.index() - 1]) : ml(e)
            })
        },
        yl = lr([{
            before: ["element"]
        },
        {
            on: ["element", "offset"]
        },
        {
            after: ["element"]
        }]),
        wl = {
            before: yl.before,
            on: yl.on,
            after: yl.after,
            cata: function(e, t, n, r) {
                return e.fold(t, n, r)
            },
            getStart: function(e) {
                return e.fold(i, i, i)
            }
        },
        xl = lr([{
            domRange: ["rng"]
        },
        {
            relative: ["startSitu", "finishSitu"]
        },
        {
            exact: ["start", "soffset", "finish", "foffset"]
        }]),
        Cl = V("start", "soffset", "finish", "foffset"),
        _l = {
            domRange: xl.domRange,
            relative: xl.relative,
            exact: xl.exact,
            exactFromRange: function(e) {
                return xl.exact(e.start(), e.soffset(), e.finish(), e.foffset())
            },
            range: Cl,
            getWin: function(e) {
                var t = function(e) {
                    return e.match({
                        domRange: function(e) {
                            return ie.fromDom(e.startContainer)
                        },
                        relative: function(e, t) {
                            return wl.getStart(e)
                        },
                        exact: function(e, t, n, r) {
                            return e
                        }
                    })
                } (e);
                return Ye.defaultView(t)
            }
        },
        kl = function(e, t, n, r) {
            var o = Ye.owner(e).dom().createRange();
            return o.setStart(e.dom(), t),
            o.setEnd(n.dom(), r),
            o
        },
        El = function(e, t, n, r) {
            var o = kl(e, t, n, r),
            i = je.eq(e, n) && t === r;
            return o.collapsed && !i
        },
        Tl = function(e, t) {
            var n = (t || document).createDocumentFragment();
            return S(e,
            function(e) {
                n.appendChild(e.dom())
            }),
            ie.fromDom(n)
        },
        Sl = function(e, t) {
            e.selectNodeContents(t.dom())
        },
        Nl = function(e) {
            e.deleteContents()
        },
        Rl = function(e) {
            return {
                left: o(e.left),
                top: o(e.top),
                right: o(e.right),
                bottom: o(e.bottom),
                width: o(e.width),
                height: o(e.height)
            }
        },
        Al = {
            create: function(e) {
                return e.document.createRange()
            },
            replaceWith: function(e, t) {
                Nl(e),
                e.insertNode(t.dom())
            },
            selectNodeContents: function(e, t) {
                var n = e.document.createRange();
                return Sl(n, t),
                n
            },
            selectNodeContentsUsing: Sl,
            relativeToNative: function(e, t, n) {
                var r, o = e.document.createRange();
                return r = o,
                t.fold(function(e) {
                    r.setStartBefore(e.dom())
                },
                function(e, t) {
                    r.setStart(e.dom(), t)
                },
                function(e) {
                    r.setStartAfter(e.dom())
                }),
                function(e, t) {
                    t.fold(function(t) {
                        e.setEndBefore(t.dom())
                    },
                    function(t, n) {
                        e.setEnd(t.dom(), n)
                    },
                    function(t) {
                        e.setEndAfter(t.dom())
                    })
                } (o, n),
                o
            },
            exactToNative: function(e, t, n, r, o) {
                var i = e.document.createRange();
                return i.setStart(t.dom(), n),
                i.setEnd(r.dom(), o),
                i
            },
            deleteContents: Nl,
            cloneFragment: function(e) {
                var t = e.cloneContents();
                return ie.fromDom(t)
            },
            getFirstRect: function(e) {
                var t = e.getClientRects(),
                n = t.length > 0 ? t[0] : e.getBoundingClientRect();
                return n.width > 0 || n.height > 0 ? g.some(n).map(Rl) : g.none()
            },
            getBounds: function(e) {
                var t = e.getBoundingClientRect();
                return t.width > 0 || t.height > 0 ? g.some(t).map(Rl) : g.none()
            },
            isWithin: function(e, t) {
                return t.compareBoundaryPoints(e.END_TO_START, e) < 1 && t.compareBoundaryPoints(e.START_TO_END, e) > -1
            },
            toString: function(e) {
                return e.toString()
            }
        },
        Ol = lr([{
            ltr: ["start", "soffset", "finish", "foffset"]
        },
        {
            rtl: ["start", "soffset", "finish", "foffset"]
        }]),
        Dl = function(e, t, n) {
            return t(ie.fromDom(n.startContainer), n.startOffset, ie.fromDom(n.endContainer), n.endOffset)
        },
        Pl = function(e, t) {
            return function(e, t) {
                var n = t.ltr();
                return n.collapsed ? t.rtl().filter(function(e) {
                    return ! 1 === e.collapsed
                }).map(function(e) {
                    return Ol.rtl(ie.fromDom(e.endContainer), e.endOffset, ie.fromDom(e.startContainer), e.startOffset)
                }).getOrThunk(function() {
                    return Dl(0, Ol.ltr, n)
                }) : Dl(0, Ol.ltr, n)
            } (0,
            function(e, t) {
                return t.match({
                    domRange: function(e) {
                        return {
                            ltr: o(e),
                            rtl: g.none
                        }
                    },
                    relative: function(t, n) {
                        return {
                            ltr: be(function() {
                                return Al.relativeToNative(e, t, n)
                            }),
                            rtl: be(function() {
                                return g.some(Al.relativeToNative(e, n, t))
                            })
                        }
                    },
                    exact: function(t, n, r, o) {
                        return {
                            ltr: be(function() {
                                return Al.exactToNative(e, t, n, r, o)
                            }),
                            rtl: be(function() {
                                return g.some(Al.exactToNative(e, r, o, t, n))
                            })
                        }
                    }
                })
            } (e, t))
        },
        Bl = {
            ltr: Ol.ltr,
            rtl: Ol.rtl,
            diagnose: Pl,
            asLtrRange: function(e, t) {
                return Pl(e, t).match({
                    ltr: function(t, n, r, o) {
                        var i = e.document.createRange();
                        return i.setStart(t.dom(), n),
                        i.setEnd(r.dom(), o),
                        i
                    },
                    rtl: function(t, n, r, o) {
                        var i = e.document.createRange();
                        return i.setStart(r.dom(), o),
                        i.setEnd(t.dom(), n),
                        i
                    }
                })
            }
        },
        Ml = function(e, t, n) {
            return t >= e.left && t <= e.right && n >= e.top && n <= e.bottom
        },
        Il = function(e, t, n, r, o) {
            if (0 === o) return 0;
            if (t === r) return o - 1;
            for (var i = r,
            a = 1; a < o; a++) {
                var s = e(a),
                l = Math.abs(t - s.left);
                if (n <= s.bottom) {
                    if (n < s.top || l > i) return a - 1;
                    i = l
                }
            }
            return 0
        },
        Ll = {
            locate: function(e, t, n, r) {
                var o = e.dom().createRange();
                o.selectNode(t.dom());
                var i = o.getClientRects();
                return Do(i,
                function(e) {
                    return Ml(e, n, r) ? g.some(e) : g.none()
                }).map(function(o) {
                    return function(e, t, n, r, o) {
                        var i = function(n) {
                            var r = e.dom().createRange();
                            return r.setStart(t.dom(), n),
                            r.collapse(!0),
                            r
                        },
                        a = rn.get(t).length,
                        s = Il(function(e) {
                            return i(e).getBoundingClientRect()
                        },
                        n, r, o.right, a);
                        return i(s)
                    } (e, t, n, r, o)
                })
            }
        },
        Fl = function(e, t, n, r) {
            var o = e.dom().createRange(),
            i = Ye.children(t);
            return Do(i,
            function(t) {
                return o.selectNode(t.dom()),
                Ml(o.getBoundingClientRect(), n, r) ? Wl(e, t, n, r) : g.none()
            })
        },
        Wl = function(e, t, n, r) {
            return (rt.isText(t) ? Ll.locate: Fl)(e, t, n, r)
        },
        Hl = function(e, t, n, r) {
            var o = e.dom().createRange();
            o.selectNode(t.dom());
            var i = o.getBoundingClientRect(),
            a = Math.max(i.left, Math.min(i.right, n)),
            s = Math.max(i.top, Math.min(i.bottom, r));
            return Wl(e, t, a, s)
        },
        jl = function(e, t) {
            return t - e.left < e.right - t
        },
        Ul = function(e, t, n) {
            var r = e.dom().createRange();
            return r.selectNode(t.dom()),
            r.collapse(n),
            r
        },
        zl = function(e, t, n) {
            var r = e.dom().createRange();
            r.selectNode(t.dom());
            var o = r.getBoundingClientRect(),
            i = jl(o, n);
            return (!0 === i ? cn.first: cn.last)(t).map(function(t) {
                return Ul(e, t, i)
            })
        },
        Vl = function(e, t, n) {
            var r = t.dom().getBoundingClientRect(),
            o = jl(r, n);
            return g.some(Ul(e, t, o))
        },
        $l = function(e, t, n) {
            return (0 === Ye.children(t).length ? Vl: zl)(e, t, n)
        },
        ql = document.caretPositionFromPoint ?
        function(e, t, n) {
            return g.from(e.dom().caretPositionFromPoint(t, n)).bind(function(t) {
                if (null === t.offsetNode) return g.none();
                var n = e.dom().createRange();
                return n.setStart(t.offsetNode, t.offset),
                n.collapse(),
                g.some(n)
            })
        }: document.caretRangeFromPoint ?
        function(e, t, n) {
            return g.from(e.dom().caretRangeFromPoint(t, n))
        }: function(e, t, n) {
            return ie.fromPoint(e, t, n).bind(function(r) {
                var o = function() {
                    return $l(e, r, t)
                };
                return 0 === Ye.children(r).length ? o() : function(e, t, n, r) {
                    var o = e.dom().createRange();
                    o.selectNode(t.dom());
                    var i = o.getBoundingClientRect(),
                    a = Math.max(i.left, Math.min(i.right, n)),
                    s = Math.max(i.top, Math.min(i.bottom, r));
                    return Hl(e, t, a, s)
                } (e, r, t, n).orThunk(o)
            })
        },
        Kl = function(e, t, n) {
            var r = ie.fromDom(e.document);
            return ql(r, t, n).map(function(e) {
                return _l.range(ie.fromDom(e.startContainer), e.startOffset, ie.fromDom(e.endContainer), e.endOffset)
            })
        },
        Yl = function(e, t, n) {
            var r = Bl.asLtrRange(e, t),
            o = ie.fromDom(r.commonAncestorContainer);
            return rt.isElement(o) ?
            function(e, t, n, r) {
                var o = Al.create(e),
                i = (ce.is(t, r) ? [t] : []).concat(pt.descendants(t, r));
                return N(i,
                function(e) {
                    return Al.selectNodeContentsUsing(o, e),
                    Al.isWithin(n, o)
                })
            } (e, o, r, n) : []
        },
        Xl = function(e, t) {
            var n = rt.name(e);
            return "input" === n ? wl.after(e) : k(["br", "img"], n) ? 0 === t ? wl.before(e) : wl.after(e) : wl.on(e, t)
        },
        Gl = function(e, t) {
            var n = e.fold(wl.before, Xl, wl.after),
            r = t.fold(wl.before, Xl, wl.after);
            return _l.relative(n, r)
        },
        Jl = function(e, t, n, r) {
            var o = Xl(e, t),
            i = Xl(n, r);
            return _l.relative(o, i)
        },
        Ql = function(e) {
            return e.match({
                domRange: function(e) {
                    var t = ie.fromDom(e.startContainer),
                    n = ie.fromDom(e.endContainer);
                    return Jl(t, e.startOffset, n, e.endOffset)
                },
                relative: Gl,
                exact: Jl
            })
        },
        Zl = Gl,
        eu = Jl,
        tu = function(e, t) {
            g.from(e.getSelection()).each(function(e) {
                e.removeAllRanges(),
                e.addRange(t)
            })
        },
        nu = function(e, t, n, r, o) {
            var i = Al.exactToNative(e, t, n, r, o);
            tu(e, i)
        },
        ru = function(e, t) {
            return Bl.diagnose(e, t).match({
                ltr: function(t, n, r, o) {
                    nu(e, t, n, r, o)
                },
                rtl: function(t, n, r, o) {
                    var i = e.getSelection();
                    if (i.setBaseAndExtent) i.setBaseAndExtent(t.dom(), n, r.dom(), o);
                    else if (i.extend) try { !
                        function(e, t, n, r, o, i) {
                            t.collapse(n.dom(), r),
                            t.extend(o.dom(), i)
                        } (0, i, t, n, r, o)
                    } catch(i) {
                        nu(e, r, o, t, n)
                    } else nu(e, r, o, t, n)
                }
            })
        },
        ou = function(e) {
            var t = ie.fromDom(e.anchorNode),
            n = ie.fromDom(e.focusNode);
            return El(t, e.anchorOffset, n, e.focusOffset) ? g.some(_l.range(ie.fromDom(e.anchorNode), e.anchorOffset, ie.fromDom(e.focusNode), e.focusOffset)) : function(e) {
                if (e.rangeCount > 0) {
                    var t = e.getRangeAt(0),
                    n = e.getRangeAt(e.rangeCount - 1);
                    return g.some(_l.range(ie.fromDom(t.startContainer), t.startOffset, ie.fromDom(n.endContainer), n.endOffset))
                }
                return g.none()
            } (e)
        },
        iu = function(e) {
            return g.from(e.getSelection()).filter(function(e) {
                return e.rangeCount > 0
            }).bind(ou)
        },
        au = {
            setExact: function(e, t, n, r, o) {
                var i = eu(t, n, r, o);
                ru(e, i)
            },
            getExact: iu,
            get: function(e) {
                return iu(e).map(function(e) {
                    return _l.exact(e.start(), e.soffset(), e.finish(), e.foffset())
                })
            },
            setRelative: function(e, t, n) {
                var r = Zl(t, n);
                ru(e, r)
            },
            toNative: function(e) {
                var t = _l.getWin(e).dom(),
                n = function(e, n, r, o) {
                    return Al.exactToNative(t, e, n, r, o)
                },
                r = Ql(e);
                return Bl.diagnose(t, r).match({
                    ltr: n,
                    rtl: n
                })
            },
            setToElement: function(e, t) {
                var n = Al.selectNodeContents(e, t);
                tu(e, n)
            },
            clear: function(e) {
                e.getSelection().removeAllRanges()
            },
            clone: function(e, t) {
                var n = Bl.asLtrRange(e, t);
                return Al.cloneFragment(n)
            },
            replace: function(e, t, n) {
                var r = Bl.asLtrRange(e, t),
                o = Tl(n, e.document);
                Al.replaceWith(r, o)
            },
            deleteAt: function(e, t) {
                var n = Bl.asLtrRange(e, t);
                Al.deleteContents(n)
            },
            forElement: function(e, t) {
                var n = Al.selectNodeContents(e, t);
                return _l.range(ie.fromDom(n.startContainer), n.startOffset, ie.fromDom(n.endContainer), n.endOffset)
            },
            getFirstRect: function(e, t) {
                var n = Bl.asLtrRange(e, t);
                return Al.getFirstRect(n)
            },
            getBounds: function(e, t) {
                var n = Bl.asLtrRange(e, t);
                return Al.getBounds(n)
            },
            getAtPoint: function(e, t, n) {
                return Kl(e, t, n)
            },
            findWithin: function(e, t, n) {
                return Yl(e, t, n)
            },
            getAsString: function(e, t) {
                var n = Bl.asLtrRange(e, t);
                return Al.toString(n)
            },
            isCollapsed: function(e, t, n, r) {
                return je.eq(e, n) && t === r
            }
        },
        su = tinymce.util.Tools.resolve("tinymce.util.VK"),
        lu = function(e, t, n, r) {
            return fu(e, t, vl(n), r)
        },
        uu = function(e, t, n, r) {
            return fu(e, t, bl(n), r)
        },
        cu = function(e, t) {
            var n = _l.exact(t, 0, t, 0);
            return au.toNative(n)
        },
        du = function(e, t) {
            var n, r = pt.descendants(t, "tr");
            return (n = r, 0 === n.length ? g.none() : g.some(n[n.length - 1])).bind(function(e) {
                return xt.descendant(e, "td,th").map(function(e) {
                    return cu(0, e)
                })
            })
        },
        fu = function(e, t, n, r, o) {
            return n.fold(g.none, g.none,
            function(e, t) {
                return cn.first(t).map(function(e) {
                    return cu(0, e)
                })
            },
            function(n) {
                return St.table(n, t).bind(function(t) {
                    var o = vr.noMenu(n);
                    return e.undoManager.transact(function() {
                        r.insertRowsAfter(t, o)
                    }),
                    du(0, t)
                })
            })
        },
        mu = ["table", "li", "dl"],
        pu = {
            handle: function(e, t, n, r) {
                if (e.keyCode === su.TAB) {
                    var o = Ha(t),
                    i = function(e) {
                        var t = rt.name(e);
                        return je.eq(e, o) || k(mu, t)
                    },
                    a = t.selection.getRng();
                    if (a.collapsed) {
                        var s = ie.fromDom(a.startContainer);
                        St.cell(s, i).each(function(o) {
                            e.preventDefault(),
                            (e.shiftKey ? uu: lu)(t, i, o, n, r).each(function(e) {
                                t.selection.setRng(e)
                            })
                        })
                    }
                }
            }
        },
        hu = {
            response: V("selection", "kill")
        },
        gu = function(e) {
            return function(t) {
                return t === e
            }
        },
        vu = gu(38),
        bu = gu(40),
        yu = {
            ltr: {
                isBackward: gu(37),
                isForward: gu(39)
            },
            rtl: {
                isBackward: gu(39),
                isForward: gu(37)
            },
            isUp: vu,
            isDown: bu,
            isNavigation: function(e) {
                return e >= 37 && e <= 40
            }
        },
        wu = {
            convertToRange: function(e, t) {
                var n = Bl.asLtrRange(e, t);
                return {
                    start: o(ie.fromDom(n.startContainer)),
                    soffset: o(n.startOffset),
                    finish: o(ie.fromDom(n.endContainer)),
                    foffset: o(n.endOffset)
                }
            },
            makeSitus: function(e, t, n, r) {
                return {
                    start: o(wl.on(e, t)),
                    finish: o(wl.on(n, r))
                }
            }
        },
        xu = Fe.detect().browser.isSafari(),
        Cu = function(e) {
            var t = void 0 !== e ? e.dom() : document,
            n = t.body.scrollLeft || t.documentElement.scrollLeft,
            r = t.body.scrollTop || t.documentElement.scrollTop;
            return zr(n, r)
        },
        _u = function(e, t, n) { (void 0 !== n ? n.dom() : document).defaultView.scrollTo(e, t)
        },
        ku = function(e, t) {
            xu && x(e.dom().scrollIntoViewIfNeeded) ? e.dom().scrollIntoViewIfNeeded(!1) : e.dom().scrollIntoView(t)
        },
        Eu = {
            get: Cu,
            to: _u,
            by: function(e, t, n) { (void 0 !== n ? n.dom() : document).defaultView.scrollBy(e, t)
            },
            preserve: function(e, t) {
                var n = Cu(e);
                t();
                var r = Cu(e);
                n.top() === r.top() && n.left() === r.left() || _u(n.left(), n.top(), e)
            },
            capture: function(e) {
                var t = g.none(),
                n = function() {
                    t = g.some(Cu(e))
                };
                return n(),
                {
                    save: n,
                    restore: function() {
                        t.each(function(t) {
                            _u(t.left(), t.top(), e)
                        })
                    }
                }
            },
            intoView: ku,
            intoViewIfNeeded: function(e, t) {
                var n = t.dom().getBoundingClientRect(),
                r = e.dom().getBoundingClientRect();
                r.top < n.top ? ku(e, !0) : r.bottom > n.bottom && ku(e, !1)
            },
            setToElement: function(e, t) {
                var n = qr(t),
                r = ie.fromDom(e.document);
                _u(n.left(), n.top(), r)
            },
            scrollBarWidth: function() {
                var e = ie.fromHtml('<div style="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;"></div>');
                Ut.after(dt.body(), e);
                var t = e.dom().offsetWidth - e.dom().clientWidth;
                return $t.remove(e),
                t
            }
        };
        function Tu(e) {
            return {
                elementFromPoint: function(t, n) {
                    return ie.fromPoint(ie.fromDom(e.document), t, n)
                },
                getRect: function(e) {
                    return e.dom().getBoundingClientRect()
                },
                getRangedRect: function(t, n, r, o) {
                    var i = _l.exact(t, n, r, o);
                    return au.getFirstRect(e, i).map(function(e) {
                        return U(e, l)
                    })
                },
                getSelection: function() {
                    return au.get(e).map(function(t) {
                        return wu.convertToRange(e, t)
                    })
                },
                fromSitus: function(t) {
                    var n = _l.relative(t.start(), t.finish());
                    return wu.convertToRange(e, n)
                },
                situsFromPoint: function(t, n) {
                    return au.getAtPoint(e, t, n).map(function(e) {
                        return {
                            start: o(wl.on(e.start(), e.soffset())),
                            finish: o(wl.on(e.finish(), e.foffset()))
                        }
                    })
                },
                clearSelection: function() {
                    au.clear(e)
                },
                setSelection: function(t) {
                    au.setExact(e, t.start(), t.soffset(), t.finish(), t.foffset())
                },
                setRelativeSelection: function(t, n) {
                    au.setRelative(e, t, n)
                },
                selectContents: function(t) {
                    au.setToElement(e, t)
                },
                getInnerHeight: function() {
                    return e.innerHeight
                },
                getScrollY: function() {
                    return Eu.get(ie.fromDom(e.document)).top()
                },
                scrollBy: function(t, n) {
                    Eu.by(t, n, ie.fromDom(e.document))
                }
            }
        }
        var Su = function(e, t, n, r, o) {
            return je.eq(n, r) ? g.none() : rr.identify(n, r, t).bind(function(t) {
                var r = t.boxes().getOr([]);
                return r.length > 0 ? (o(e, r, t.start(), t.finish()), g.some(hu.response(g.some(wu.makeSitus(n, 0, n, sn(n))), !0))) : g.none()
            })
        },
        Nu = {
            sync: function(e, t, n, r, o, i, a) {
                return je.eq(n, o) && r === i ? g.none() : xt.closest(n, "td,th", t).bind(function(n) {
                    return xt.closest(o, "td,th", t).bind(function(r) {
                        return Su(e, t, n, r, a)
                    })
                })
            },
            detect: Su,
            update: function(e, t, n, r, o) {
                return rr.shiftSelection(r, e, t, o.firstSelectedSelector(), o.lastSelectedSelector()).map(function(e) {
                    return o.clear(n),
                    o.selectRange(n, e.boxes(), e.start(), e.finish()),
                    e.boxes()
                })
            }
        },
        Ru = G(["left", "top", "right", "bottom"], []),
        Au = {
            nu: Ru,
            moveUp: function(e, t) {
                return Ru({
                    left: e.left(),
                    top: e.top() - t,
                    right: e.right(),
                    bottom: e.bottom() - t
                })
            },
            moveDown: function(e, t) {
                return Ru({
                    left: e.left(),
                    top: e.top() + t,
                    right: e.right(),
                    bottom: e.bottom() + t
                })
            },
            moveBottomTo: function(e, t) {
                var n = e.bottom() - e.top();
                return Ru({
                    left: e.left(),
                    top: t - n,
                    right: e.right(),
                    bottom: t
                })
            },
            moveTopTo: function(e, t) {
                var n = e.bottom() - e.top();
                return Ru({
                    left: e.left(),
                    top: t,
                    right: e.right(),
                    bottom: t + n
                })
            },
            getTop: function(e) {
                return e.top()
            },
            getBottom: function(e) {
                return e.bottom()
            },
            translate: function(e, t, n) {
                return Ru({
                    left: e.left() + t,
                    top: e.top() + n,
                    right: e.right() + t,
                    bottom: e.bottom() + n
                })
            },
            toString: function(e) {
                return "(" + e.left() + ", " + e.top() + ") -> (" + e.right() + ", " + e.bottom() + ")"
            }
        },
        Ou = function(e) {
            return Au.nu({
                left: e.left,
                top: e.top,
                right: e.right,
                bottom: e.bottom
            })
        },
        Du = function(e, t) {
            return g.some(e.getRect(t))
        },
        Pu = function(e, t, n) {
            return rt.isElement(t) ? Du(e, t).map(Ou) : rt.isText(t) ?
            function(e, t, n) {
                return n >= 0 && n < sn(t) ? e.getRangedRect(t, n, t, n + 1) : n > 0 ? e.getRangedRect(t, n - 1, t, n) : g.none()
            } (e, t, n).map(Ou) : g.none()
        },
        Bu = function(e, t) {
            return rt.isElement(t) ? Du(e, t).map(Ou) : rt.isText(t) ? e.getRangedRect(t, 0, t, sn(t)).map(Ou) : g.none()
        },
        Mu = V("item", "mode"),
        Iu = function(e, t, n, r) {
            var o = void 0 !== r ? r: Lu;
            return e.property().parent(t).map(function(e) {
                return Mu(e, o)
            })
        },
        Lu = function(e, t, n, r) {
            var o = void 0 !== r ? r: Fu;
            return n.sibling(e, t).map(function(e) {
                return Mu(e, o)
            })
        },
        Fu = function(e, t, n, r) {
            var o = void 0 !== r ? r: Fu,
            i = e.property().children(t);
            return n.first(i).map(function(e) {
                return Mu(e, o)
            })
        },
        Wu = [{
            current: Iu,
            next: Lu,
            fallback: g.none()
        },
        {
            current: Lu,
            next: Fu,
            fallback: g.some(Iu)
        },
        {
            current: Fu,
            next: Fu,
            fallback: g.some(Lu)
        }],
        Hu = function(e, t, n, r, o) {
            return O(o = void 0 !== o ? o: Wu,
            function(e) {
                return e.current === n
            }).bind(function(n) {
                return n.current(e, t, r, n.next).orThunk(function() {
                    return n.fallback.bind(function(n) {
                        return Hu(e, t, n, r)
                    })
                })
            })
        },
        ju = {
            backtrack: Iu,
            sidestep: Lu,
            advance: Fu,
            go: Hu
        },
        Uu = {
            left: function() {
                return {
                    sibling: function(e, t) {
                        return e.query().prevSibling(t)
                    },
                    first: function(e) {
                        return e.length > 0 ? g.some(e[e.length - 1]) : g.none()
                    }
                }
            },
            right: function() {
                return {
                    sibling: function(e, t) {
                        return e.query().nextSibling(t)
                    },
                    first: function(e) {
                        return e.length > 0 ? g.some(e[0]) : g.none()
                    }
                }
            }
        },
        zu = function(e, t, n, r, o, i) {
            return ju.go(e, t, r, o).bind(function(t) {
                return i(t.item()) ? g.none() : n(t.item()) ? g.some(t.item()) : zu(e, t.item(), n, t.mode(), o, i)
            })
        },
        Vu = function(e, t, n, r) {
            return zu(e, t, n, ju.sidestep, Uu.left(), r)
        },
        $u = function(e, t, n, r) {
            return zu(e, t, n, ju.sidestep, Uu.right(), r)
        },
        qu = function(e, t) {
            return 0 === e.property().children(t).length
        },
        Ku = function(e, t, n, r) {
            return Vu(e, t, n, r)
        },
        Yu = function(e, t, n, r) {
            return $u(e, t, n, r)
        },
        Xu = {
            before: function(e, t, n) {
                return Ku(e, t, a(qu, e), n)
            },
            after: function(e, t, n) {
                return Yu(e, t, a(qu, e), n)
            },
            seekLeft: Ku,
            seekRight: Yu,
            walkers: function() {
                return {
                    left: Uu.left,
                    right: Uu.right
                }
            },
            walk: function(e, t, n, r, o) {
                return ju.go(e, t, n, r, o)
            },
            backtrack: ju.backtrack,
            sidestep: ju.sidestep,
            advance: ju.advance
        },
        Gu = yn(),
        Ju = {
            gather: function(e, t, n) {
                return Xu.gather(Gu, e, t, n)
            },
            before: function(e, t) {
                return Xu.before(Gu, e, t)
            },
            after: function(e, t) {
                return Xu.after(Gu, e, t)
            },
            seekLeft: function(e, t, n) {
                return Xu.seekLeft(Gu, e, t, n)
            },
            seekRight: function(e, t, n) {
                return Xu.seekRight(Gu, e, t, n)
            },
            walkers: function() {
                return Xu.walkers()
            },
            walk: function(e, t, n, r) {
                return Xu.walk(Gu, e, t, n, r)
            }
        },
        Qu = lr([{
            none: []
        },
        {
            retry: ["caret"]
        }]),
        Zu = function(e, t, n) {
            return yt.closest(t, Eo).fold(o(!1),
            function(t) {
                return Bu(e, t).exists(function(e) {
                    return function(e, t) {
                        return e.left() < t.left() || Math.abs(t.right() - e.left()) < 1 || e.left() > t.right()
                    } (n, e)
                })
            })
        },
        ec = {
            point: Au.getTop,
            adjuster: function(e, t, n, r, o) {
                var i = Au.moveUp(o, 5);
                return Math.abs(n.top() - r.top()) < 1 ? Qu.retry(i) : n.bottom() < o.top() ? Qu.retry(i) : n.bottom() === o.top() ? Qu.retry(Au.moveUp(o, 1)) : Zu(e, t, o) ? Qu.retry(Au.translate(i, 5, 0)) : Qu.none()
            },
            move: Au.moveUp,
            gather: Ju.before
        },
        tc = {
            point: Au.getBottom,
            adjuster: function(e, t, n, r, o) {
                var i = Au.moveDown(o, 5);
                return Math.abs(n.bottom() - r.bottom()) < 1 ? Qu.retry(i) : n.top() > o.bottom() ? Qu.retry(i) : n.top() === o.bottom() ? Qu.retry(Au.moveDown(o, 1)) : Zu(e, t, o) ? Qu.retry(Au.translate(i, 5, 0)) : Qu.none()
            },
            move: Au.moveDown,
            gather: Ju.after
        },
        nc = function(e, t, n, r, o) {
            return 0 === o ? g.some(r) : function(e, t, n) {
                return e.elementFromPoint(t, n).filter(function(e) {
                    return "table" === rt.name(e)
                }).isSome()
            } (e, r.left(), t.point(r)) ?
            function(e, t, n, r, o) {
                return nc(e, t, n, t.move(r, 5), o)
            } (e, t, n, r, o - 1) : e.situsFromPoint(r.left(), t.point(r)).bind(function(i) {
                return i.start().fold(g.none,
                function(i, a) {
                    return Bu(e, i, a).bind(function(a) {
                        return t.adjuster(e, i, a, n, r).fold(g.none,
                        function(r) {
                            return nc(e, t, n, r, o - 1)
                        })
                    }).orThunk(function() {
                        return g.some(r)
                    })
                },
                g.none)
            })
        },
        rc = function(e, t, n) {
            var r = e.move(n, 5),
            o = nc(t, e, n, r, 100).getOr(r);
            return function(e, t, n) {
                return e.point(t) > n.getInnerHeight() ? g.some(e.point(t) - n.getInnerHeight()) : e.point(t) < 0 ? g.some( - e.point(t)) : g.none()
            } (e, o, t).fold(function() {
                return t.situsFromPoint(o.left(), e.point(o))
            },
            function(n) {
                return t.scrollBy(0, n),
                t.situsFromPoint(o.left(), e.point(o) - n)
            })
        },
        oc = {
            tryUp: a(rc, ec),
            tryDown: a(rc, tc),
            ieTryUp: function(e, t) {
                return e.situsFromPoint(t.left(), t.top() - 5)
            },
            ieTryDown: function(e, t) {
                return e.situsFromPoint(t.left(), t.bottom() + 5)
            },
            getJumpSize: o(5)
        },
        ic = lr([{
            none: ["message"]
        },
        {
            success: []
        },
        {
            failedUp: ["cell"]
        },
        {
            failedDown: ["cell"]
        }]),
        ac = function(e) {
            return xt.closest(e, "tr")
        },
        sc = {
            verify: function(e, t, n, r, o, i, a) {
                return xt.closest(r, "td,th", a).bind(function(n) {
                    return xt.closest(t, "td,th", a).map(function(t) {
                        return je.eq(n, t) ? je.eq(r, n) && sn(n) === o ? i(t) : ic.none("in same cell") : Wn.sharedOne(ac, [n, t]).fold(function() {
                            return function(e, t, n) {
                                var r = e.getRect(t),
                                o = e.getRect(n);
                                return o.right > r.left && o.left < r.right
                            } (e, t, n) ? ic.success() : i(t)
                        },
                        function(e) {
                            return i(t)
                        })
                    })
                }).getOr(ic.none("default"))
            },
            cata: function(e, t, n, r, o) {
                return e.fold(t, n, r, o)
            },
            adt: ic
        },
        lc = {
            point: V("element", "offset"),
            delta: V("element", "deltaOffset"),
            range: V("element", "start", "finish"),
            points: V("begin", "end"),
            text: V("element", "text")
        },
        uc = (V("ancestor", "descendants", "element", "index"), V("parent", "children", "element", "index")),
        cc = function(e, t) {
            return D(e, a(je.eq, t))
        },
        dc = function(e) {
            return Ye.parent(e).bind(function(t) {
                var n = Ye.children(t);
                return cc(n, e).map(function(r) {
                    return uc(t, n, e, r)
                })
            })
        },
        fc = function(e) {
            return "br" === rt.name(e)
        },
        mc = function(e, t, n) {
            return t(e, n).bind(function(e) {
                return rt.isText(e) && 0 === rn.get(e).trim().length ? mc(e, t, n) : g.some(e)
            })
        },
        pc = function(e, t, n, r) {
            return function(e, t) {
                return Ye.child(e, t).filter(fc).orThunk(function() {
                    return Ye.child(e, t - 1).filter(fc)
                })
            } (t, n).bind(function(t) {
                return r.traverse(t).fold(function() {
                    return mc(t, r.gather, e).map(r.relative)
                },
                function(e) {
                    return dc(e).map(function(e) {
                        return wl.on(e.parent(), e.index())
                    })
                })
            })
        },
        hc = function(e, t, n, r) {
            return (fc(t) ?
            function(e, t, n) {
                return n.traverse(t).orThunk(function() {
                    return mc(t, n.gather, e)
                }).map(n.relative)
            } (e, t, r) : pc(e, t, n, r)).map(function(e) {
                return {
                    start: o(e),
                    finish: o(e)
                }
            })
        },
        gc = function(e) {
            return sc.cata(e,
            function(e) {
                return g.none()
            },
            function() {
                return g.none()
            },
            function(e) {
                return g.some(lc.point(e, 0))
            },
            function(e) {
                return g.some(lc.point(e, sn(e)))
            })
        },
        vc = Fe.detect(),
        bc = function(e, t, n, r, o, i) {
            return 0 === i ? g.none() : xc(e, t, n, r, o).bind(function(a) {
                var s = e.fromSitus(a),
                l = sc.verify(e, n, r, s.finish(), s.foffset(), o.failure, t);
                return sc.cata(l,
                function() {
                    return g.none()
                },
                function() {
                    return g.some(a)
                },
                function(a) {
                    return je.eq(n, a) && 0 === r ? yc(e, n, r, Au.moveUp, o) : bc(e, t, a, 0, o, i - 1)
                },
                function(a) {
                    return je.eq(n, a) && r === sn(a) ? yc(e, n, r, Au.moveDown, o) : bc(e, t, a, sn(a), o, i - 1)
                })
            })
        },
        yc = function(e, t, n, r, o) {
            return Pu(e, t, n).bind(function(t) {
                return wc(e, o, r(t, oc.getJumpSize()))
            })
        },
        wc = function(e, t, n) {
            return vc.browser.isChrome() || vc.browser.isSafari() || vc.browser.isFirefox() || vc.browser.isEdge() ? t.otherRetry(e, n) : vc.browser.isIE() ? t.ieRetry(e, n) : g.none()
        },
        xc = function(e, t, n, r, o) {
            return Pu(e, n, r).bind(function(t) {
                return wc(e, o, t)
            })
        },
        Cc = function(e, t, n) {
            return function(e, t, n) {
                return e.getSelection().bind(function(r) {
                    return hc(t, r.finish(), r.foffset(), n).fold(function() {
                        return g.some(lc.point(r.finish(), r.foffset()))
                    },
                    function(o) {
                        var i = e.fromSitus(o),
                        a = sc.verify(e, r.finish(), r.foffset(), i.finish(), i.foffset(), n.failure, t);
                        return gc(a)
                    })
                })
            } (e, t, n).bind(function(r) {
                return bc(e, t, r.element(), r.offset(), n, 20).map(e.fromSitus)
            })
        },
        _c = function(e, t, n) {
            return yt.ancestor(e, t, n).isSome()
        },
        kc = Fe.detect(),
        Ec = function(e, t, n, r, i) {
            return xt.closest(r, "td,th", t).bind(function(r) {
                return xt.closest(r, "table", t).bind(function(a) {
                    return function(e, t) {
                        return _c(e,
                        function(e) {
                            return Ye.parent(e).exists(function(e) {
                                return je.eq(e, t)
                            })
                        })
                    } (i, a) ? Cc(e, t, n).bind(function(e) {
                        return xt.closest(e.finish(), "td,th", t).map(function(t) {
                            return {
                                start: o(r),
                                finish: o(t),
                                range: o(e)
                            }
                        })
                    }) : g.none()
                })
            })
        },
        Tc = function(e, t, n, r, o, i) {
            return kc.browser.isIE() ? g.none() : i(r, t).orThunk(function() {
                return Ec(e, t, n, r, o).map(function(e) {
                    var t = e.range();
                    return hu.response(g.some(wu.makeSitus(t.start(), t.soffset(), t.finish(), t.foffset())), !0)
                })
            })
        },
        Sc = function(e, t, n, r, o, i, a) {
            return Ec(e, n, r, o, i).bind(function(e) {
                return Nu.detect(t, n, e.start(), e.finish(), a)
            })
        },
        Nc = function(e, t) {
            return xt.closest(e, "tr", t).bind(function(e) {
                return xt.closest(e, "table", t).bind(function(n) {
                    var r = pt.descendants(n, "tr");
                    return je.eq(e, r[0]) ? Ju.seekLeft(n,
                    function(e) {
                        return cn.last(e).isSome()
                    },
                    t).map(function(e) {
                        var t = sn(e);
                        return hu.response(g.some(wu.makeSitus(e, t, e, t)), !0)
                    }) : g.none()
                })
            })
        },
        Rc = function(e, t) {
            return xt.closest(e, "tr", t).bind(function(e) {
                return xt.closest(e, "table", t).bind(function(n) {
                    var r = pt.descendants(n, "tr");
                    return je.eq(e, r[r.length - 1]) ? Ju.seekRight(n,
                    function(e) {
                        return cn.first(e).isSome()
                    },
                    t).map(function(e) {
                        return hu.response(g.some(wu.makeSitus(e, 0, e, 0)), !0)
                    }) : g.none()
                })
            })
        },
        Ac = function(e, t) {
            return xt.closest(e, "td,th", t)
        },
        Oc = {
            down: {
                traverse: Ye.nextSibling,
                gather: Ju.after,
                relative: wl.before,
                otherRetry: oc.tryDown,
                ieRetry: oc.ieTryDown,
                failure: sc.adt.failedDown
            },
            up: {
                traverse: Ye.prevSibling,
                gather: Ju.before,
                relative: wl.before,
                otherRetry: oc.tryUp,
                ieRetry: oc.ieTryUp,
                failure: sc.adt.failedUp
            }
        },
        Dc = V("rows", "cols"),
        Pc = {
            mouse: function(e, t, n, r) {
                var o = function(e, t, n, r) {
                    var o = g.none(),
                    i = function() {
                        o = g.none()
                    };
                    return {
                        mousedown: function(e) {
                            r.clear(t),
                            o = Ac(e.target(), n)
                        },
                        mouseover: function(i) {
                            o.each(function(o) {
                                r.clear(t),
                                Ac(i.target(), n).each(function(i) {
                                    rr.identify(o, i, n).each(function(n) {
                                        var a = n.boxes().getOr([]); (a.length > 1 || 1 === a.length && !je.eq(o, i)) && (r.selectRange(t, a, n.start(), n.finish()), e.selectContents(i))
                                    })
                                })
                            })
                        },
                        mouseup: function() {
                            o.each(i)
                        }
                    }
                } (Tu(e), t, n, r);
                return {
                    mousedown: o.mousedown,
                    mouseover: o.mouseover,
                    mouseup: o.mouseup
                }
            },
            keyboard: function(e, t, n, r) {
                var o = Tu(e),
                i = function() {
                    return r.clear(t),
                    g.none()
                };
                return {
                    keydown: function(e, s, l, u, c, d) {
                        var f = e.raw().which,
                        m = !0 === e.raw().shiftKey;
                        return rr.retrieve(t, r.selectedSelector()).fold(function() {
                            return yu.isDown(f) && m ? a(Sc, o, t, n, Oc.down, u, s, r.selectRange) : yu.isUp(f) && m ? a(Sc, o, t, n, Oc.up, u, s, r.selectRange) : yu.isDown(f) ? a(Tc, o, n, Oc.down, u, s, Rc) : yu.isUp(f) ? a(Tc, o, n, Oc.up, u, s, Nc) : g.none
                        },
                        function(e) {
                            var n = function(n) {
                                return function() {
                                    return Do(n,
                                    function(n) {
                                        return Nu.update(n.rows(), n.cols(), t, e, r)
                                    }).fold(function() {
                                        return rr.getEdges(t, r.firstSelectedSelector(), r.lastSelectedSelector()).map(function(e) {
                                            var n = yu.isDown(f) || d.isForward(f) ? wl.after: wl.before;
                                            return o.setRelativeSelection(wl.on(e.first(), 0), n(e.table())),
                                            r.clear(t),
                                            hu.response(g.none(), !0)
                                        })
                                    },
                                    function(e) {
                                        return g.some(hu.response(g.none(), !0))
                                    })
                                }
                            };
                            return yu.isDown(f) && m ? n([Dc(1, 0)]) : yu.isUp(f) && m ? n([Dc( - 1, 0)]) : d.isBackward(f) && m ? n([Dc(0, -1), Dc( - 1, 0)]) : d.isForward(f) && m ? n([Dc(0, 1), Dc(1, 0)]) : yu.isNavigation(f) && !1 === m ? i: g.none
                        })()
                    },
                    keyup: function(e, o, i, a, s) {
                        return rr.retrieve(t, r.selectedSelector()).fold(function() {
                            var l = e.raw().which;
                            return 0 == (!0 === e.raw().shiftKey) ? g.none() : yu.isNavigation(l) ? Nu.sync(t, n, o, i, a, s, r.selectRange) : g.none()
                        },
                        g.none)
                    }
                }
            }
        },
        Bc = function(e, t) {
            S(t,
            function(t) {
                fi.remove(e, t)
            })
        },
        Mc = function(e) {
            return function(t) {
                fi.add(t, e)
            }
        },
        Ic = function(e) {
            return function(t) {
                Bc(t, e)
            }
        },
        Lc = {
            byClass: function(e) {
                var t = Mc(e.selected()),
                n = Ic([e.selected(), e.lastSelected(), e.firstSelected()]),
                r = function(t) {
                    var r = pt.descendants(t, e.selectedSelector());
                    S(r, n)
                };
                return {
                    clear: r,
                    selectRange: function(n, o, i, a) {
                        r(n),
                        S(o, t),
                        fi.add(i, e.firstSelected()),
                        fi.add(a, e.lastSelected())
                    },
                    selectedSelector: e.selectedSelector,
                    firstSelectedSelector: e.firstSelectedSelector,
                    lastSelectedSelector: e.lastSelectedSelector
                }
            },
            byAttr: function(e) {
                var t = function(t) {
                    lt.remove(t, e.selected()),
                    lt.remove(t, e.firstSelected()),
                    lt.remove(t, e.lastSelected())
                },
                n = function(t) {
                    lt.set(t, e.selected(), "1")
                },
                r = function(n) {
                    var r = pt.descendants(n, e.selectedSelector());
                    S(r, t)
                };
                return {
                    clear: r,
                    selectRange: function(t, o, i, a) {
                        r(t),
                        S(o, n),
                        lt.set(i, e.firstSelected(), "1"),
                        lt.set(a, e.lastSelected(), "1")
                    },
                    selectedSelector: e.selectedSelector,
                    firstSelectedSelector: e.firstSelectedSelector,
                    lastSelectedSelector: e.lastSelectedSelector
                }
            }
        },
        Fc = function(e) {
            return ! 1 === fi.has(ie.fromDom(e.target), "ephox-snooker-resizer-bar")
        },
        Wc = function(e) {
            return {
                get: function() {
                    var t = Ha(e);
                    return or(t, sr.selectedSelector()).fold(function() {
                        return void 0 === e.selection.getStart() ? cr.none() : cr.single(e.selection)
                    },
                    function(e) {
                        return cr.multiple(e)
                    })
                }
            }
        },
        Hc = bs.each,
        jc = {
            addButtons: function(e) {
                var t = [];
                function n(t) {
                    return function() {
                        e.execCommand(t)
                    }
                }
                Hc("inserttable tableprops deletetable | cell row column".split(" "),
                function(n) {
                    "|" === n ? t.push({
                        text: "-"
                    }) : t.push(e.menuItems[n])
                }),
                e.addButton("table", {
                    type: "menubutton",
                    title: "Table",
                    menu: t
                }),
                e.addButton("tableprops", {
                    title: "Table properties",
                    onclick: n("mceTableProps"),
                    icon: "table"
                }),
                e.addButton("tabledelete", {
                    title: "Delete table",
                    onclick: n("mceTableDelete")
                }),
                e.addButton("tablecellprops", {
                    title: "Cell properties",
                    onclick: n("mceTableCellProps")
                }),
                e.addButton("tablemergecells", {
                    title: "Merge cells",
                    onclick: n("mceTableMergeCells")
                }),
                e.addButton("tablesplitcells", {
                    title: "Split cell",
                    onclick: n("mceTableSplitCells")
                }),
                e.addButton("tableinsertrowbefore", {
                    title: "Insert row before",
                    onclick: n("mceTableInsertRowBefore")
                }),
                e.addButton("tableinsertrowafter", {
                    title: "Insert row after",
                    onclick: n("mceTableInsertRowAfter")
                }),
                e.addButton("tabledeleterow", {
                    title: "Delete row",
                    onclick: n("mceTableDeleteRow")
                }),
                e.addButton("tablerowprops", {
                    title: "Row properties",
                    onclick: n("mceTableRowProps")
                }),
                e.addButton("tablecutrow", {
                    title: "Cut row",
                    onclick: n("mceTableCutRow")
                }),
                e.addButton("tablecopyrow", {
                    title: "Copy row",
                    onclick: n("mceTableCopyRow")
                }),
                e.addButton("tablepasterowbefore", {
                    title: "Paste row before",
                    onclick: n("mceTablePasteRowBefore")
                }),
                e.addButton("tablepasterowafter", {
                    title: "Paste row after",
                    onclick: n("mceTablePasteRowAfter")
                }),
                e.addButton("tableinsertcolbefore", {
                    title: "Insert column before",
                    onclick: n("mceTableInsertColBefore")
                }),
                e.addButton("tableinsertcolafter", {
                    title: "Insert column after",
                    onclick: n("mceTableInsertColAfter")
                }),
                e.addButton("tabledeletecol", {
                    title: "Delete column",
                    onclick: n("mceTableDeleteCol")
                })
            },
            addToolbars: function(e) {
                var t = function(e) {
                    var t = e.getParam("table_toolbar", Ja);
                    return "" === t || !1 === t ? [] : b(t) ? t.split(/[ ,]/) : y(t) ? t: []
                } (e);
                t.length > 0 && e.addContextToolbar(function(t) {
                    return e.dom.is(t, "table") && e.getBody().contains(t)
                },
                t.join(" "))
            }
        },
        Uc = {
            addMenuItems: function(e, t) {
                var n = g.none(),
                r = [],
                o = [],
                i = [],
                a = [],
                s = function(e) {
                    e.disabled(!0)
                },
                l = function(e) {
                    e.disabled(!1)
                },
                u = function() {
                    var e = this;
                    r.push(e),
                    n.fold(function() {
                        s(e)
                    },
                    function(t) {
                        l(e)
                    })
                },
                c = function() {
                    var e = this;
                    o.push(e),
                    n.fold(function() {
                        s(e)
                    },
                    function(t) {
                        l(e)
                    })
                };
                e.on("init",
                function() {
                    e.on("nodechange",
                    function(u) {
                        var c = g.from(e.dom.getParent(e.selection.getStart(), "th,td")); (n = c.bind(function(e) {
                            var n = ie.fromDom(e);
                            return St.table(n).map(function(e) {
                                return vr.forMenu(t, e, n)
                            })
                        })).fold(function() {
                            S(r, s),
                            S(o, s),
                            S(i, s),
                            S(a, s)
                        },
                        function(e) {
                            S(r, l),
                            S(o, l),
                            S(i,
                            function(t) {
                                t.disabled(e.mergable().isNone())
                            }),
                            S(a,
                            function(t) {
                                t.disabled(e.unmergable().isNone())
                            })
                        })
                    })
                });
                var d = function(e, t, n, r) {
                    var o, i, a, s, l, u = r.getEl().getElementsByTagName("table")[0],
                    c = r.isRtl() || "tl-tr" === r.parent().rel;
                    for (u.nextSibling.innerHTML = t + 1 + " x " + (n + 1), c && (t = 9 - t), i = 0; i < 10; i++) for (o = 0; o < 10; o++) s = u.rows[i].childNodes[o].firstChild,
                    l = (c ? o >= t: o <= t) && i <= n,
                    e.dom.toggleClass(s, "mce-active", l),
                    l && (a = s);
                    return a.parentNode
                },
                f = !1 ===
                function(e) {
                    return e.getParam("table_grid", !0, "boolean")
                } (e) ? {
                    text: "Table",
                    icon: "table",
                    context: "table",
                    onclick: m("mceInsertTable")
                }: {
                    text: "Table",
                    icon: "table",
                    context: "table",
                    ariaHideMenu: !0,
                    onclick: function(t) {
                        t.aria && (this.parent().hideAll(), t.stopImmediatePropagation(), e.execCommand("mceInsertTable"))
                    },
                    onshow: function() {
                        d(e, 0, 0, this.menu.items()[0])
                    },
                    onhide: function() {
                        var t = this.menu.items()[0].getEl().getElementsByTagName("a");
                        e.dom.removeClass(t, "mce-active"),
                        e.dom.addClass(t[0], "mce-active")
                    },
                    menu: [{
                        type: "container",
                        html: function() {
                            var e = "";
                            e = '<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';
                            for (var t = 0; t < 10; t++) {
                                e += "<tr>";
                                for (var n = 0; n < 10; n++) e += '<td role="gridcell" tabindex="-1"><a id="mcegrid' + (10 * t + n) + '" href="#" data-mce-x="' + n + '" data-mce-y="' + t + '"></a></td>';
                                e += "</tr>"
                            }
                            return e += "</table>",
                            e + '<div class="mce-text-center" role="presentation">1 x 1</div>'
                        } (),
                        onPostRender: function() {
                            this.lastX = this.lastY = 0
                        },
                        onmousemove: function(t) {
                            var n, r, o = t.target;
                            "A" === o.tagName.toUpperCase() && (n = parseInt(o.getAttribute("data-mce-x"), 10), r = parseInt(o.getAttribute("data-mce-y"), 10), (this.isRtl() || "tl-tr" === this.parent().rel) && (n = 9 - n), n === this.lastX && r === this.lastY || (d(e, n, r, t.control), this.lastX = n, this.lastY = r))
                        },
                        onclick: function(t) {
                            var n = this;
                            "A" === t.target.tagName.toUpperCase() && (t.preventDefault(), t.stopPropagation(), n.parent().cancel(), e.undoManager.transact(function() {
                                Bs(e, n.lastX + 1, n.lastY + 1)
                            }), e.addVisual())
                        }
                    }]
                };
                function m(t) {
                    return function() {
                        e.execCommand(t)
                    }
                }
                var p = {
                    text: "Table properties",
                    context: "table",
                    onPostRender: u,
                    onclick: m("mceTableProps")
                },
                h = {
                    text: "Delete table",
                    context: "table",
                    onPostRender: u,
                    cmd: "mceTableDelete"
                },
                v = {
                    text: "Row",
                    context: "table",
                    menu: [{
                        text: "Insert row before",
                        onclick: m("mceTableInsertRowBefore"),
                        onPostRender: c
                    },
                    {
                        text: "Insert row after",
                        onclick: m("mceTableInsertRowAfter"),
                        onPostRender: c
                    },
                    {
                        text: "Delete row",
                        onclick: m("mceTableDeleteRow"),
                        onPostRender: c
                    },
                    {
                        text: "Row properties",
                        onclick: m("mceTableRowProps"),
                        onPostRender: c
                    },
                    {
                        text: "-"
                    },
                    {
                        text: "Cut row",
                        onclick: m("mceTableCutRow"),
                        onPostRender: c
                    },
                    {
                        text: "Copy row",
                        onclick: m("mceTableCopyRow"),
                        onPostRender: c
                    },
                    {
                        text: "Paste row before",
                        onclick: m("mceTablePasteRowBefore"),
                        onPostRender: c
                    },
                    {
                        text: "Paste row after",
                        onclick: m("mceTablePasteRowAfter"),
                        onPostRender: c
                    }]
                },
                b = {
                    text: "Column",
                    context: "table",
                    menu: [{
                        text: "Insert column before",
                        onclick: m("mceTableInsertColBefore"),
                        onPostRender: c
                    },
                    {
                        text: "Insert column after",
                        onclick: m("mceTableInsertColAfter"),
                        onPostRender: c
                    },
                    {
                        text: "Delete column",
                        onclick: m("mceTableDeleteCol"),
                        onPostRender: c
                    }]
                },
                y = {
                    separator: "before",
                    text: "Cell",
                    context: "table",
                    menu: [{
                        text: "Cell properties",
                        onclick: m("mceTableCellProps"),
                        onPostRender: c
                    },
                    {
                        text: "Merge cells",
                        onclick: m("mceTableMergeCells"),
                        onPostRender: function() {
                            var e = this;
                            i.push(e),
                            n.fold(function() {
                                s(e)
                            },
                            function(t) {
                                e.disabled(t.mergable().isNone())
                            })
                        }
                    },
                    {
                        text: "Split cell",
                        onclick: m("mceTableSplitCells"),
                        onPostRender: function() {
                            var e = this;
                            a.push(e),
                            n.fold(function() {
                                s(e)
                            },
                            function(t) {
                                e.disabled(t.unmergable().isNone())
                            })
                        }
                    }]
                };
                e.addMenuItem("inserttable", f),
                e.addMenuItem("tableprops", p),
                e.addMenuItem("deletetable", h),
                e.addMenuItem("row", v),
                e.addMenuItem("column", b),
                e.addMenuItem("cell", y)
            }
        },
        zc = function(e, t) {
            return {
                insertTable: function(t, n) {
                    return Bs(e, t, n)
                },
                setClipboardRows: function(e) {
                    return function(e, t) {
                        var n = T(e, ie.fromDom);
                        t.set(g.from(n))
                    } (e, t)
                },
                getClipboardRows: function() {
                    return function(e) {
                        return e.get().fold(function() {},
                        function(e) {
                            return T(e,
                            function(e) {
                                return e.dom()
                            })
                        })
                    } (t)
                }
            }
        };
        t.add("table",
        function(e) {
            var t = cl(e),
            i = function(e, t) {
                var i = G(["mousedown", "mouseover", "mouseup", "keyup", "keydown"], []),
                a = g.none(),
                s = Lc.byAttr(sr);
                return e.on("init",
                function(l) {
                    var u = e.getWin(),
                    c = Ha(e),
                    d = za(e),
                    f = Pc.mouse(u, c, d, s),
                    m = Pc.keyboard(u, c, d, s),
                    p = function(t, n) { (function(e) {
                            return ! 0 === e.raw().shiftKey
                        })(t) && (n.kill() && t.kill(), n.selection().each(function(t) {
                            var n = _l.relative(t.start(), t.finish()),
                            r = Bl.asLtrRange(u, n);
                            e.selection.setRng(r)
                        }))
                    },
                    h = function(t) {
                        var n = y(t);
                        if (n.raw().shiftKey && yu.isNavigation(n.raw().which)) {
                            var r = e.selection.getRng(),
                            o = ie.fromDom(r.startContainer),
                            i = ie.fromDom(r.endContainer);
                            m.keyup(n, o, r.startOffset, i, r.endOffset).each(function(e) {
                                p(n, e)
                            })
                        }
                    },
                    v = function(n) {
                        var r = y(n);
                        t().each(function(e) {
                            e.hideBars()
                        });
                        var o = e.selection.getRng(),
                        i = ie.fromDom(e.selection.getStart()),
                        a = ie.fromDom(o.startContainer),
                        s = ie.fromDom(o.endContainer),
                        l = Ga.directionAt(i).isRtl() ? yu.rtl: yu.ltr;
                        m.keydown(r, a, o.startOffset, s, o.endOffset, l).each(function(e) {
                            p(r, e)
                        }),
                        t().each(function(e) {
                            e.showBars()
                        })
                    },
                    b = function(e) {
                        return e.hasOwnProperty("x") && e.hasOwnProperty("y")
                    },
                    y = function(e) {
                        var t = ie.fromDom(e.target),
                        n = function() {
                            e.stopPropagation()
                        },
                        i = function() {
                            e.preventDefault()
                        },
                        a = r(i, n);
                        return {
                            target: o(t),
                            x: o(b(e) ? e.x: null),
                            y: o(b(e) ? e.y: null),
                            stop: n,
                            prevent: i,
                            kill: a,
                            raw: o(e)
                        }
                    },
                    w = function(e) {
                        return 0 === e.button
                    },
                    x = function(e) {
                        w(e) && Fc(e) && f.mousedown(y(e))
                    },
                    C = function(e) {
                        var t;
                        void 0 !== (t = e).buttons && 0 == (1 & t.buttons) || !Fc(e) || f.mouseover(y(e))
                    },
                    _ = function(e) {
                        w(e) && Fc(e) && f.mouseup(y(e))
                    };
                    e.on("mousedown", x),
                    e.on("mouseover", C),
                    e.on("mouseup", _),
                    e.on("keyup", h),
                    e.on("keydown", v),
                    e.on("nodechange",
                    function() {
                        var t = e.selection,
                        r = ie.fromDom(t.getStart()),
                        o = ie.fromDom(t.getEnd());
                        Wn.sharedOne(St.table, [r, o]).fold(function() {
                            s.clear(c)
                        },
                        n)
                    }),
                    a = g.some(i({
                        mousedown: x,
                        mouseover: C,
                        mouseup: _,
                        keyup: h,
                        keydown: v
                    }))
                }),
                {
                    clear: s.clear,
                    destroy: function() {
                        a.each(function(e) {})
                    }
                }
            } (e, t.lazyResize),
            a = gs(e, t.lazyWire),
            s = Wc(e),
            l = lo(g.none());
            return Ws.registerCommands(e, a, i, s, l),
            br.registerEvents(e, s, a, i),
            Uc.addMenuItems(e, s),
            jc.addButtons(e),
            jc.addToolbars(e),
            e.on("PreInit",
            function() {
                e.serializer.addTempAttr(sr.firstSelected()),
                e.serializer.addTempAttr(sr.lastSelected())
            }),
            ns(e) && e.on("keydown",
            function(n) {
                pu.handle(n, e, a, t.lazyWire)
            }),
            e.on("remove",
            function() {
                t.destroy(),
                i.destroy()
            }),
            zc(e, l)
        })
    } ()
},
b621: function(e, t, n) {
    n("ef8b")
},
ba71: function(e, t) { !
    function() {
        "use strict";
        var e = function(t) {
            var n = t,
            r = function() {
                return n
            };
            return {
                get: r,
                set: function(e) {
                    n = e
                },
                clone: function() {
                    return e(r())
                }
            }
        },
        t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        n = function(e, t) {
            e.fire("VisualBlocks", {
                state: t
            })
        },
        r = function(e) {
            return e.getParam("visualblocks_default_state", !1)
        },
        o = function(e) {
            return e.settings.visualblocks_content_css
        },
        i = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
        a = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        s = i.DOM.uniqueId(),
        l = function(e, t) {
            var n = a.toArray(e.getElementsByTagName("link"));
            if (0 === a.grep(n,
            function(e) {
                return e.id === s
            }).length) {
                var r = i.DOM.create("link", {
                    id: s,
                    rel: "stylesheet",
                    href: t
                });
                e.getElementsByTagName("head")[0].appendChild(r)
            }
        },
        u = function(e, t, r) {
            var i = e.dom,
            a = o(e);
            l(e.getDoc(), a || t + "/css/visualblocks.css"),
            i.toggleClass(e.getBody(), "mce-visualblocks"),
            r.set(!r.get()),
            n(e, r.get())
        },
        c = function(e, t, n) {
            e.addCommand("mceVisualBlocks",
            function() {
                u(e, t, n)
            })
        },
        d = function(e, t, n) {
            e.on("PreviewFormats AfterPreviewFormats",
            function(t) {
                n.get() && e.dom.toggleClass(e.getBody(), "mce-visualblocks", "afterpreviewformats" === t.type)
            }),
            e.on("init",
            function() {
                r(e) && u(e, t, n)
            }),
            e.on("remove",
            function() {
                e.dom.removeClass(e.getBody(), "mce-visualblocks")
            })
        },
        f = function(e, t) {
            return function(n) {
                var r = n.control;
                r.active(t.get()),
                e.on("VisualBlocks",
                function(e) {
                    r.active(e.state)
                })
            }
        },
        m = function(e, t) {
            e.addButton("visualblocks", {
                active: !1,
                title: "Show blocks",
                cmd: "mceVisualBlocks",
                onPostRender: f(e, t)
            }),
            e.addMenuItem("visualblocks", {
                text: "Show blocks",
                cmd: "mceVisualBlocks",
                onPostRender: f(e, t),
                selectable: !0,
                context: "view",
                prependToContext: !0
            })
        };
        t.add("visualblocks",
        function(t, n) {
            var r = e(!1);
            c(t, n, r),
            m(t, r),
            d(t, n, r)
        })
    } ()
},
c307: function(e, t, n) {
    n("5ecf")
},
c3d2: function(e, t, n) {},
c4be: function(e, t, n) {},
c7f0: function(e, t, n) {
    "use strict";
    var r = n("e814"),
    o = n.n(r),
    i = n("cebc"),
    a = (n("20d6"), n("c5f6"), n("90b8")),
    s = n("1980"),
    l = n.n(s),
    u = n("cea2");
    n("0808");
    var c = {
        components: {
            Draggable: l.a
        },
        props: {
            value: {
                type: Array,
            default:
                function() {
                    return []
                }
            },
            width: {
                type: Number,
            default:
                100
            },
            height: {
                type: Number,
            default:
                100
            },
            token: {
                type: String,
            default:
                ""
            },
            domain: {
                type: String,
            default:
                ""
            },
            multiple: {
                type: Boolean,
            default:
                !1
            },
            length: {
                type: Number,
            default:
                9
            },
            isQiniu: {
                type: Boolean,
            default:
                !1
            },
            isDelete: {
                type: Boolean,
            default:
                !1
            },
            min: {
                type: Number,
            default:
                0
            },
            meitu: {
                type: Boolean,
            default:
                !1
            },
            isEdit: {
                type: Boolean,
            default:
                !1
            },
            action: {
                type: String,
            default:
                ""
            },
            disabled: {
                type: Boolean,
            default:
                !1
            }
        },
        data: function() {
            return {
                fileList: this.value.map(function(e) {
                    return {
                        key: e.key ? e.key: (new Date).getTime() + "_" + Math.ceil(99999 * Math.random()),
                        url: e.url,
                        percent: e.percent ? e.percent: 100,
                        status: e.status ? e.status: "success"
                    }
                }),
                viewer: null,
                uploadId: "upload_" + (new Date).getTime(),
                editIndex: -1,
                meituIndex: -1
            }
        },
        computed: {
            miniWidth: function() {
                return this.width > this.height ? this.height: this.width
            }
        },
        mounted: function() {
            this.$emit("input", this.fileList)
        },
        methods: {
            handleChange: function() {
                for (var e = this,
                t = this.$refs.uploadInput.files,
                n = function(n) {
                    var r = t[n],
                    o = new FileReader,
                    i = (new Date).getTime() + "_" + Math.ceil(99999 * Math.random());
                    o.readAsDataURL(r),
                    o.onload = function() {
                        e.editIndex >= 0 ? (e.$set(e.fileList, e.editIndex, {
                            key: i,
                            url: o.result,
                            percent: 0,
                            status: "uploading"
                        }), e.editIndex = -1) : e.fileList.push({
                            key: i,
                            url: o.result,
                            percent: 0,
                            status: "uploading"
                        }),
                        e.$nextTick(function() {
                            e.isQiniu ? e.uplaodAction2(o.result, r, i) : e.uplaodAction(o.result, r, i)
                        })
                    }
                },
                r = 0; r < t.length; r++) n(r);
                this.$refs.uploadInput.value = []
            },
            uplaodAction: function(e, t, n) {
                var r = this,
                o = (this.fileList.findIndex(function(e) {
                    return e.key === n
                }), new XMLHttpRequest),
                a = this.action;
                o.open("POST", a, !0);
                var s = new FormData;
                s.append("file", t),
                o.send(s),
                o.onreadystatechange = function() {
                    if (4 === o.readyState) {
                        var e = JSON.parse(o.response);
                        e && e.url ? (r.$set(r.fileList, r.fileList.findIndex(function(e) {
                            return e.key === n
                        }), Object(i.a)({},
                        r.fileList[r.fileList.findIndex(function(e) {
                            return e.key === n
                        })], {
                            url: e.url,
                            percent: 100
                        })), setTimeout(function() {
                            r.$set(r.fileList, r.fileList.findIndex(function(e) {
                                return e.key === n
                            }), Object(i.a)({},
                            r.fileList[r.fileList.findIndex(function(e) {
                                return e.key === n
                            })], {
                                status: "success"
                            })),
                            r.$emit("input", r.fileList)
                        },
                        200)) : (r.$set(r.fileList, r.fileList.findIndex(function(e) {
                            return e.key === n
                        }), Object(i.a)({},
                        r.fileList[r.fileList.findIndex(function(e) {
                            return e.key === n
                        })], {
                            status: "error"
                        })), r.fileList.splice(r.fileList.findIndex(function(e) {
                            return e.key === n
                        }), 1))
                    }
                },
                o.onprogress = function(e) {
                    e.total && e.loaded && r.$set(r.fileList[r.fileList.findIndex(function(e) {
                        return e.key === n
                    })], "percent", e.loaded / e.total * 100)
                }
            },
            uplaodAction2: function(e, t, n) {
                var r = this;
                u.upload(t, n, this.token, {
                    fname: n,
                    mimeType: []
                },
                {
                    useCdnDomain: !0,
                    region: u.region.z2
                }).subscribe({
                    next: function(e) {
                        r.$set(r.fileList[r.fileList.findIndex(function(e) {
                            return e.key === n
                        })], "percent", o()(e.total.percent))
                    },
                    error: function(e) {
                        r.$set(r.fileList, r.fileList.findIndex(function(e) {
                            return e.key === n
                        }), Object(i.a)({},
                        r.fileList[r.fileList.findIndex(function(e) {
                            return e.key === n
                        })], {
                            status: "error"
                        })),
                        r.fileList.splice(r.fileList.findIndex(function(e) {
                            return e.key === n
                        }), 1)
                    },
                    complete: function(e) {
                        r.$set(r.fileList, r.fileList.findIndex(function(e) {
                            return e.key === n
                        }), Object(i.a)({},
                        r.fileList[r.fileList.findIndex(function(e) {
                            return e.key === n
                        })], {
                            url: r.domain + e.key,
                            percent: 100
                        })),
                        setTimeout(function() {
                            r.$set(r.fileList, r.fileList.findIndex(function(e) {
                                return e.key === n
                            }), Object(i.a)({},
                            r.fileList[r.fileList.findIndex(function(e) {
                                return e.key === n
                            })], {
                                status: "success"
                            })),
                            r.$emit("input", r.fileList)
                        },
                        200)
                    }
                })
            },
            handleRemove: function(e) {
                this.fileList.splice(this.fileList.findIndex(function(t) {
                    return t.key === e
                }), 1)
            },
            handleEdit: function(e) {
                this.editIndex = this.fileList.findIndex(function(t) {
                    return t.key === e
                }),
                this.$refs.uploadInput.click()
            },
            handleMeitu: function(e) {
                this.$emit("on-meitu", this.fileList.findIndex(function(t) {
                    return t.key === e
                }))
            },
            handleAdd: function() {
                this.disabled || (this.editIndex = -1, this.$refs.uploadInput.click())
            },
            handlePreviewFile: function(e) {
                var t = this;
                this.viewer && this.viewer.destroy(),
                this.uploadId = "upload_" + (new Date).getTime(),
                this.$nextTick(function() {
                    t.viewer = new a.a(document.getElementById(t.uploadId)),
                    t.viewer.view(t.fileList.findIndex(function(t) {
                        return t.key === e
                    }))
                })
            }
        },
        watch: {
            fileList: {
                deep: !0,
                handler: function(e) {}
            }
        }
    },
    d = (n("3516"), n("2877")),
    f = Object(d.a)(c,
    function() {
        var e = this,
        t = e.$createElement,
        n = e._self._c || t;
        return n("div", {
            staticClass: "fm-uplaod-container",
            attrs: {
                id: e.uploadId
            }
        },
        [n("draggable", e._b({
            staticClass: "drag-img-list",
            attrs: {
                "no-transition-on-drag": !0
            },
            model: {
                value: e.fileList,
                callback: function(t) {
                    e.fileList = t
                },
                expression: "fileList"
            }
        },
        "draggable", {
            group: e.uploadId,
            ghostClass: "ghost",
            animation: 200
        },
        !1), e._l(e.fileList,
        function(t) {
            return n("div", {
                key: t.key,
                staticClass: "upload-file",
                class: {
                    uploading: "uploading" == t.status,
                    "is-success": "success" == t.status,
                    "is-diabled": e.disabled
                },
                style: {
                    width: e.width + "px",
                    height: e.height + "px"
                },
                attrs: {
                    id: t.key
                }
            },
            [n("img", {
                attrs: {
                    src: t.url
                }
            }), "uploading" == t.status ? n("el-progress", {
                staticClass: "upload-progress",
                attrs: {
                    width: .9 * e.miniWidth,
                    type: "circle",
                    percentage: t.percent
                }
            }) : e._e(), "success" == t.status ? n("label", {
                staticClass: "item-status"
            },
            [n("i", {
                staticClass: "el-icon-upload-success el-icon-check"
            })]) : e._e(), e.disabled ? e._e() : n("div", {
                staticClass: "uplaod-action",
                style: {
                    height: e.miniWidth / 4 + "px"
                }
            },
            [n("i", {
                staticClass: "iconfont icon-tupianyulan",
                style: {
                    "font-size": e.miniWidth / 8 + "px"
                },
                attrs: {
                    title: "预览"
                },
                on: {
                    click: function(n) {
                        return e.handlePreviewFile(t.key)
                    }
                }
            }), e.isEdit ? n("i", {
                staticClass: "iconfont icon-sync1",
                style: {
                    "font-size": e.miniWidth / 8 + "px"
                },
                attrs: {
                    title: "替换"
                },
                on: {
                    click: function(n) {
                        return e.handleEdit(t.key)
                    }
                }
            }) : e._e(), e.isDelete && e.fileList.length > e.min ? n("i", {
                staticClass: "iconfont icon-delete",
                style: {
                    "font-size": e.miniWidth / 8 + "px"
                },
                attrs: {
                    title: "删除"
                },
                on: {
                    click: function(n) {
                        return e.handleRemove(t.key)
                    }
                }
            }) : e._e()])], 1)
        }), 0), n("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: (!e.isQiniu || e.isQiniu && e.token) && e.fileList.length < e.length,
                expression: "(!isQiniu || (isQiniu && token)) && fileList.length < length"
            }],
            staticClass: "el-upload el-upload--picture-card",
            class: {
                "is-disabled": e.disabled
            },
            style: {
                width: e.width + "px",
                height: e.height + "px"
            },
            on: {
                click: function(t) {
                    return t.target !== t.currentTarget ? null: e.handleAdd(t)
                }
            }
        },
        [n("i", {
            staticClass: "el-icon-plus",
            style: {
                fontSize: e.miniWidth / 4 + "px",
                marginTop: -e.miniWidth / 8 + "px",
                marginLeft: -e.miniWidth / 8 + "px"
            },
            on: {
                click: function(t) {
                    return t.target !== t.currentTarget ? null: e.handleAdd(t)
                }
            }
        }), e.multiple ? n("input", {
            ref: "uploadInput",
            staticClass: "el-upload__input upload-input",
            style: {
                width: 0,
                height: 0
            },
            attrs: {
                accept: "image/*",
                multiple: "",
                type: "file",
                name: "file"
            },
            on: {
                change: e.handleChange
            }
        }) : n("input", {
            ref: "uploadInput",
            staticClass: "el-upload__input upload-input",
            style: {
                width: 0,
                height: 0
            },
            attrs: {
                accept: "image/*",
                type: "file",
                name: "file"
            },
            on: {
                change: e.handleChange
            }
        })])], 1)
    },
    [], !1, null, null, null);
    t.a = f.exports
},
cc8a: function(e, t, n) {
    n("ba71")
},
ccfb: function(e, t, n) {
    "use strict";
    var r = n("ff24");
    n.n(r).a
},
ce3a: function(e, t, n) {
    n("6cba")
},
cf05: function(e, t) {
    e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABvUlEQVRoQ+2Zu0oEMRSGv6PiBbSwFBtfxFofQPAJBAvBUhYsRS3sBAtBSwsfRqxVLLQWFa+IOvJDVpZlx8FMMkuWBMLCzCaTL+c/l8wYJa0oihawXXa/4estM9vt9UyrAFgAZoGXhhfc/bgjM9v3AVgERoFp4L2PELUAxoBJ4A4o+gRxamYHvhZoA8gKl6kDTAFnfYAIZoFh4A14bBgiiA9IQgJ4AD5db4ojKMA98OSi0nxDBN55QGG004llgU6AL2CuAUlFs8A3oGQ4A7xGtEZUgCFgHNDvcySIQzM7CZEHuiUkC2jhE8CKmZ1HAiidtqoWqvKBDFDXYgNvgWVXjUrjKiMELEdVxPkA2hJSqN0DruruaMn4azO7+a8T6wCx6hY9AqirKQsr/mvxqk4FJUe+iBiFvGqhDBBQTl4W2ALWnTwkEeUAyUUSknzU1XRN/dZVqgHX/TvVsc+RMnkA+cBGjO30mNOrGk0eIHkJ7QBrKTtxzgMezlo2xCsPbAJLKddCermbzwMBZdRzqoE/D2QJZQlV7ED2gfxeqKaTZAllCWUJleyA+1KfM3FNhVQOz1EoR6FKkfz9h+Ql9AMULqdAUwjXZgAAAABJRU5ErkJggg=="
},
d015: function(e, t, n) {
    n("b439")
},
d2e4: function(e, t, n) {
    n("226c")
},
d4b0: function(e, t, n) {
    "use strict";
    n.r(t);
    var r = n("cebc"),
    o = n("c7f0"),
    i = n("9336"),
    a = {
        components: {
            GenerateElementItem: function() {
                return Promise.resolve().then(n.bind(null, "d4b0"))
            }
        },
        props: ["columns", "value", "models", "remote", "blanks"],
        data: function() {
            return {
                tableData: this.value,
                dataModels: this.models
            }
        },
        methods: {
            handleAddRow: function() {
                for (var e = {},
                t = 0; t < this.columns.length; t++)"blank" === this.columns[t].type ? e[this.columns[t].model] = "String" == this.columns[t].options.defaultType ? "": "Object" == this.columns[t].options.defaultType ? {}: [] : e[this.columns[t].model] = this.columns[t].options.defaultValue;
                this.tableData.push(e)
            },
            handleRemove: function(e) {
                this.tableData.splice(e, 1)
            }
        },
        watch: {
            value: function(e) {
                this.tableData = e
            },
            tableData: function(e) {
                this.$emit("input", e)
            },
            dataModels: {
                deep: !0,
                handler: function(e) {
                    this.$emit("update:models", e)
                }
            },
            models: {
                deep: !0,
                handler: function(e) {
                    this.dataModels = e
                }
            }
        }
    },
    s = (n("945b"), n("2877")),
    l = Object(s.a)(a,
    function() {
        var e = this,
        t = e.$createElement,
        n = e._self._c || t;
        return n("div", {
            staticClass: "form-table"
        },
        [n("el-table", {
            attrs: {
                data: e.tableData,
                border: ""
            }
        },
        [n("el-table-column", {
            attrs: {
                label: "#",
                fixed: "",
                width: "50"
            },
            scopedSlots: e._u([{
                key: "default",
                fn: function(t) {
                    return [n("div", {
                        staticClass: "scope-index"
                    },
                    [n("span", [e._v(e._s(t.$index + 1))])]), n("div", {
                        staticClass: "scope-action"
                    },
                    [n("el-button", {
                        attrs: {
                            type: "danger",
                            icon: "el-icon-minus",
                            size: "mini",
                            circle: ""
                        },
                        on: {
                            click: function(n) {
                                return e.handleRemove(t.$index)
                            }
                        }
                    })], 1)]
                }
            }])
        }), 0 == e.columns.length ? n("el-table-column") : e._l(e.columns,
        function(t) {
            return n("el-table-column", {
                key: t.key,
                attrs: {
                    label: t.name,
                    width: t.options.width
                },
                scopedSlots: e._u([{
                    key: "default",
                    fn: function(r) {
                        return [n("GenerateElementItem", {
                            attrs: {
                                blanks: e.blanks,
                                "is-table": !0,
                                widget: t,
                                models: e.tableData[r.$index],
                                remote: e.remote
                            },
                            on: {
                                "update:models": function(t) {
                                    return e.$set(e.tableData, r.$index, t)
                                }
                            },
                            scopedSlots: e._u([e._l(e.blanks,
                            function(t) {
                                return {
                                    key: t.name,
                                    fn: function(n) {
                                        return [e._t(t.name, null, {
                                            model: r.row
                                        })]
                                    }
                                }
                            })], null, !0),
                            model: {
                                value: r.row[t.model],
                                callback: function(n) {
                                    e.$set(r.row, t.model, n)
                                },
                                expression: "scope.row[column.model]"
                            }
                        })]
                    }
                }], null, !0)
            })
        })], 2), n("el-button", {
            attrs: {
                icon: "el-icon-plus",
                type: "text"
            },
            on: {
                click: e.handleAddRow
            }
        },
        [e._v("添加")])], 1)
    },
    [], !1, null, null, null).exports,
    u = {
        name: "generate-element-item",
        components: {
            FmUpload: o.a,
            FmEditor: i.a,
            FmFormTable: l
        },
        props: ["widget", "value", "models", "remote", "isTable", "blanks"],
        data: function() {
            return {
                dataModel: this.value,
                dataModels: Object(r.a)({},
                this.models)
            }
        },
        created: function() {
            var e = this;
            this.widget.options.remoteOptions = [],
            this.widget.options.remote && this.remote[this.widget.options.remoteFunc] && this.remote[this.widget.options.remoteFunc](function(t) {
                e.widget.options.remoteOptions = t.map(function(t) {
                    return e.widget.options.props.children.length ? {
                        value: t[e.widget.options.props.value],
                        label: t[e.widget.options.props.label],
                        children: e.processRemoteProps(t[e.widget.options.props.children], e.widget.options.props)
                    }: {
                        value: t[e.widget.options.props.value],
                        label: t[e.widget.options.props.label]
                    }
                })
            }),
            "imgupload" === this.widget.type && this.widget.options.isQiniu && this.remote[this.widget.options.tokenFunc](function(t) {
                e.widget.options.token = t
            })
        },
        methods: {
            processRemoteProps: function(e, t) {
                var n = this;
                return e.length ? e.map(function(e) {
                    return n.processRemoteProps(e[t.children]).length ? {
                        value: e[t.value],
                        label: e[t.label],
                        children: n.processRemoteProps(e[t.children])
                    }: {
                        value: e[t.value],
                        label: e[t.label]
                    }
                }) : []
            }
        },
        watch: {
            value: function(e) {
                this.dataModel = e
            },
            dataModel: function(e) {
                this.$emit("input", e)
            },
            models: {
                deep: !0,
                handler: function(e) {
                    this.dataModels = this.models
                }
            },
            dataModels: {
                deep: !0,
                handler: function(e) {
                    this.dataModel = e[this.widget.model],
                    this.$emit("update:models", e)
                }
            }
        }
    },
    c = Object(s.a)(u,
    function() {
        var e = this,
        t = e.$createElement,
        n = e._self._c || t;
        return n("span", ["blank" == e.widget.type ? [n("div", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            }
        },
        [e._t(e.widget.model, null, {
            model: e.dataModels
        })], 2)] : e._e(), "input" == e.widget.type ? ["number" == e.widget.options.dataType || "integer" == e.widget.options.dataType || "float" == e.widget.options.dataType ? n("el-input", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                type: e.widget.options.dataType,
                disabled: e.widget.options.disabled,
                placeholder: e.widget.options.placeholder
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = e._n(t)
                },
                expression: "dataModel"
            }
        }) : n("el-input", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                type: e.widget.options.dataType,
                disabled: e.widget.options.disabled,
                placeholder: e.widget.options.placeholder
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "textarea" == e.widget.type ? [n("el-input", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                type: "textarea",
                rows: 5,
                disabled: e.widget.options.disabled,
                placeholder: e.widget.options.placeholder
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "number" == e.widget.type ? [n("el-input-number", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                step: e.widget.options.step,
                "controls-position": "right"
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "radio" == e.widget.type ? [n("el-radio-group", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        },
        e._l(e.widget.options.remote ? e.widget.options.remoteOptions: e.widget.options.options,
        function(t, r) {
            return n("el-radio", {
                key: r,
                style: {
                    display: e.widget.options.inline ? "inline-block": "block"
                },
                attrs: {
                    label: t.value
                }
            },
            [e.widget.options.remote ? [e._v(e._s(t.label))] : [e._v(e._s(e.widget.options.showLabel ? t.label: t.value))]], 2)
        }), 1)] : e._e(), "checkbox" == e.widget.type ? [n("el-checkbox-group", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        },
        e._l(e.widget.options.remote ? e.widget.options.remoteOptions: e.widget.options.options,
        function(t, r) {
            return n("el-checkbox", {
                key: r,
                style: {
                    display: e.widget.options.inline ? "inline-block": "block"
                },
                attrs: {
                    label: t.value
                }
            },
            [e.widget.options.remote ? [e._v(e._s(t.label))] : [e._v(e._s(e.widget.options.showLabel ? t.label: t.value))]], 2)
        }), 1)] : e._e(), "time" == e.widget.type ? [n("el-time-picker", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                "is-range": e.widget.options.isRange,
                placeholder: e.widget.options.placeholder,
                "start-placeholder": e.widget.options.startPlaceholder,
                "end-placeholder": e.widget.options.endPlaceholder,
                readonly: e.widget.options.readonly,
                disabled: e.widget.options.disabled,
                editable: e.widget.options.editable,
                clearable: e.widget.options.clearable,
                arrowControl: e.widget.options.arrowControl,
                "value-format": e.widget.options.format
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "date" == e.widget.type ? [n("el-date-picker", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                type: e.widget.options.type,
                placeholder: e.widget.options.placeholder,
                "start-placeholder": e.widget.options.startPlaceholder,
                "end-placeholder": e.widget.options.endPlaceholder,
                readonly: e.widget.options.readonly,
                disabled: e.widget.options.disabled,
                editable: e.widget.options.editable,
                clearable: e.widget.options.clearable,
                "value-format": e.widget.options.timestamp ? "timestamp": e.widget.options.format,
                format: e.widget.options.format
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "rate" == e.widget.type ? [n("el-rate", {
            attrs: {
                max: e.widget.options.max,
                disabled: e.widget.options.disabled,
                "allow-half": e.widget.options.allowHalf
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "color" == e.widget.type ? [n("el-color-picker", {
            attrs: {
                disabled: e.widget.options.disabled,
                "show-alpha": e.widget.options.showAlpha
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "select" == e.widget.type ? [n("el-select", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                disabled: e.widget.options.disabled,
                multiple: e.widget.options.multiple,
                clearable: e.widget.options.clearable,
                placeholder: e.widget.options.placeholder,
                filterable: e.widget.options.filterable
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        },
        e._l(e.widget.options.remote ? e.widget.options.remoteOptions: e.widget.options.options,
        function(t) {
            return n("el-option", {
                key: t.value,
                attrs: {
                    value: t.value,
                    label: e.widget.options.showLabel || e.widget.options.remote ? t.label: t.value
                }
            })
        }), 1)] : e._e(), "switch" == e.widget.type ? [n("el-switch", {
            attrs: {
                disabled: e.widget.options.disabled
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "slider" == e.widget.type ? [n("el-slider", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                min: e.widget.options.min,
                max: e.widget.options.max,
                disabled: e.widget.options.disabled,
                step: e.widget.options.step,
                "show-input": e.widget.options.showInput,
                range: e.widget.options.range
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "imgupload" == e.widget.type ? [n("fm-upload", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                disabled: e.widget.options.disabled,
                width: e.widget.options.size.width,
                height: e.widget.options.size.height,
                token: e.widget.options.token,
                domain: e.widget.options.domain,
                multiple: e.widget.options.multiple,
                length: e.widget.options.length,
                "is-qiniu": e.widget.options.isQiniu,
                "is-delete": e.widget.options.isDelete,
                min: e.widget.options.min,
                "is-edit": e.widget.options.isEdit,
                action: e.widget.options.action
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "editor" == e.widget.type ? [n("fm-editor", {
            attrs: {
                width: e.isTable ? "100%": e.widget.options.width,
                height: e.widget.options.height
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "cascader" == e.widget.type ? [n("el-cascader", {
            style: {
                width: e.isTable ? "100%": e.widget.options.width
            },
            attrs: {
                disabled: e.widget.options.disabled,
                clearable: e.widget.options.clearable,
                placeholder: e.widget.options.placeholder,
                options: e.widget.options.remoteOptions
            },
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e(), "text" == e.widget.type ? [n("span", [e._v(e._s(e.dataModel))])] : e._e(), "table" == e.widget.type ? [n("fm-form-table", {
            attrs: {
                columns: e.widget.tableColumns,
                models: e.dataModels,
                remote: e.remote,
                blanks: e.blanks
            },
            scopedSlots: e._u([e._l(e.blanks,
            function(t) {
                return {
                    key: t.name,
                    fn: function(n) {
                        return [e._t(t.name, null, {
                            model: n.model
                        })]
                    }
                }
            })], null, !0),
            model: {
                value: e.dataModel,
                callback: function(t) {
                    e.dataModel = t
                },
                expression: "dataModel"
            }
        })] : e._e()], 2)
    },
    [], !1, null, null, null);
    t.
default = c.exports
},
d6ef: function(e, t, n) {
    n("2f05")
},
d7cd: function(e, t, n) {
    "use strict";
    var r = n("aa1c");
    n.n(r).a
},
e3b9: function(e, t, n) {
    n("a39d")
},
e71e: function(e, t, n) {
    n("7a01")
},
e769: function(e, t, n) {
    "use strict";
    var r = n("f1b4");
    n.n(r).a
},
eb0d: function(e, t, n) {},
ef8b: function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),
        n = tinymce.util.Tools.resolve("tinymce.Env"),
        r = "[-'\\.‘’․﹒＇．]",
        o = "[:··״‧︓﹕：]",
        i = "[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",
        a = "[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",
        s = "\\r",
        l = "\\n",
        u = "[\v\f\u2028\u2029]",
        c = "[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",
        d = "[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",
        f = "[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",
        m = "[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",
        p = "[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",
        h = {
            characterIndices: {
                ALETTER: 0,
                MIDNUMLET: 1,
                MIDLETTER: 2,
                MIDNUM: 3,
                NUMERIC: 4,
                CR: 5,
                LF: 6,
                NEWLINE: 7,
                EXTEND: 8,
                FORMAT: 9,
                KATAKANA: 10,
                EXTENDNUMLET: 11,
                AT: 12,
                OTHER: 13
            },
            SETS: [new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"), new RegExp(r), new RegExp(o), new RegExp(i), new RegExp(a), new RegExp(s), new RegExp(l), new RegExp(u), new RegExp(c), new RegExp(d), new RegExp(f), new RegExp(m), new RegExp("@")],
            EMPTY_STRING: "",
            PUNCTUATION: new RegExp("^" + p + "$"),
            WHITESPACE: /^\s+$/
        },
        g = function(e, t, n) {
            var r, o;
            if (!e) return 0;
            if (n = n || e, void 0 !== e.length) {
                for (r = 0, o = e.length; r < o; r++) if (!1 === t.call(n, e[r], r, e)) return 0
            } else for (r in e) if (e.hasOwnProperty(r) && !1 === t.call(n, e[r], r, e)) return 0;
            return 1
        },
        v = function(e, t) {
            var n = [];
            return g(e,
            function(r, o) {
                n.push(t(r, o, e))
            }),
            n
        },
        b = h.SETS,
        y = h.characterIndices.OTHER,
        w = function(e) {
            var t, n, r = y,
            o = b.length;
            for (t = 0; t < o; ++t) if ((n = b[t]) && n.test(e)) {
                r = t;
                break
            }
            return r
        },
        x = function(e) {
            var t, n, r = (t = w, n = {},
            function(e) {
                if (n[e]) return n[e];
                var r = t(e);
                return n[e] = r,
                r
            });
            return v(e.split(""), r)
        },
        C = h.characterIndices,
        _ = function(e, t) {
            var n, r, o = e[t],
            i = e[t + 1];
            return ! (t < 0 || t > e.length - 1 && 0 !== t || o === C.ALETTER && i === C.ALETTER || (r = e[t + 2], o === C.ALETTER && (i === C.MIDLETTER || i === C.MIDNUMLET || i === C.AT) && r === C.ALETTER || (n = e[t - 1], (o === C.MIDLETTER || o === C.MIDNUMLET || i === C.AT) && i === C.ALETTER && n === C.ALETTER || !(o !== C.NUMERIC && o !== C.ALETTER || i !== C.NUMERIC && i !== C.ALETTER) || (o === C.MIDNUM || o === C.MIDNUMLET) && i === C.NUMERIC && n === C.NUMERIC || o === C.NUMERIC && (i === C.MIDNUM || i === C.MIDNUMLET) && r === C.NUMERIC || o === C.EXTEND || o === C.FORMAT || n === C.EXTEND || n === C.FORMAT || i === C.EXTEND || i === C.FORMAT || o === C.CR && i === C.LF || o !== C.NEWLINE && o !== C.CR && o !== C.LF && i !== C.NEWLINE && i !== C.CR && i !== C.LF && (o === C.KATAKANA && i === C.KATAKANA || i === C.EXTENDNUMLET && (o === C.ALETTER || o === C.NUMERIC || o === C.KATAKANA || o === C.EXTENDNUMLET) || o === C.EXTENDNUMLET && (i === C.ALETTER || i === C.NUMERIC || i === C.KATAKANA) || o === C.AT))))
        },
        k = h.EMPTY_STRING,
        E = h.WHITESPACE,
        T = h.PUNCTUATION,
        S = function(e) {
            return "http" === e || "https" === e
        },
        N = function(e, t, n) {
            var r = function(e, t) {
                var n;
                for (n = t; n < e.length; ++n) {
                    var r = e.charAt(n);
                    if (E.test(r)) break
                }
                return n
            } (t, n + 1),
            o = t.substring(n + 1, r);
            return "://" === o.substr(0, 3) ? {
                word: e + o,
                index: r
            }: {
                word: e,
                index: n
            }
        },
        R = function(e, t) {
            return function(e, t) {
                var n, r, o, i = 0,
                a = x(e),
                s = a.length,
                l = [],
                u = [];
                for (t || (t = {}), t.ignoreCase && (e = e.toLowerCase()), r = t.includePunctuation, o = t.includeWhitespace; i < s; ++i) if (n = e.charAt(i), l.push(n), _(a, i)) {
                    if ((l = l.join(k)) && (o || !E.test(l)) && (r || !T.test(l))) if (S(l)) {
                        var c = N(l, e, i);
                        u.push(c.word),
                        i = c.index
                    } else u.push(l);
                    l = []
                }
                return u
            } (e.replace(/\ufeff/g, ""), t)
        },
        A = function(e, r) {
            return n.ie ?
            function(e, n) {
                for (var r = n.getBlockElements(), o = n.getShortEndedElements(), i = n.getWhiteSpaceElements(), a = function(e) {
                    return r[e.nodeName] || o[e.nodeName] || i[e.nodeName]
                },
                s = "", l = new t(e, e); e = l.next();) 3 === e.nodeType ? s += e.data: a(e) && (s += " ");
                return s
            } (e, r) : e.innerText
        },
        O = function(e) {
            return R(function(e) {
                return e.removed ? "": A(e.getBody(), e.schema)
            } (e)).length
        },
        D = function(e) {
            return {
                getCount: function() {
                    return O(e)
                }
            }
        },
        P = tinymce.util.Tools.resolve("tinymce.util.Delay"),
        B = tinymce.util.Tools.resolve("tinymce.util.I18n"),
        M = function(e) {
            var t = function(e) {
                return B.translate(["{0} words", O(e)])
            },
            n = function() {
                e.theme.panel.find("#wordcount").text(t(e))
            };
            e.on("init",
            function() {
                var r = e.theme.panel && e.theme.panel.find("#statusbar")[0],
                o = P.debounce(n, 300);
                r && P.setEditorTimeout(e,
                function() {
                    r.insert({
                        type: "label",
                        name: "wordcount",
                        text: t(e),
                        classes: "wordcount",
                        disabled: e.settings.readonly
                    },
                    0),
                    e.on("setcontent beforeaddundo undo redo keyup", o)
                },
                0)
            })
        };
        e.add("wordcount",
        function(e) {
            return M(e),
            D(e)
        })
    } ()
},
f060: function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = tinymce.util.Tools.resolve("tinymce.Env"),
        n = function(e) {
            return e.getParam("autolink_pattern", /^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i)
        },
        r = function(e) {
            return e.getParam("default_link_target", "")
        },
        o = function(e, t) {
            if (t < 0 && (t = 0), 3 === e.nodeType) {
                var n = e.data.length;
                t > n && (t = n)
            }
            return t
        },
        i = function(e, t, n) {
            1 !== t.nodeType || t.hasChildNodes() ? e.setStart(t, o(t, n)) : e.setStartBefore(t)
        },
        a = function(e, t, n) {
            1 !== t.nodeType || t.hasChildNodes() ? e.setEnd(t, o(t, n)) : e.setEndAfter(t)
        },
        s = function(e, t, o) {
            var s, l, u, c, d, f, m, p, h, g, v = n(e),
            b = r(e);
            if ("A" !== e.selection.getNode().tagName) {
                if ((s = e.selection.getRng(!0).cloneRange()).startOffset < 5) {
                    if (! (p = s.endContainer.previousSibling)) {
                        if (!s.endContainer.firstChild || !s.endContainer.firstChild.nextSibling) return;
                        p = s.endContainer.firstChild.nextSibling
                    }
                    if (h = p.length, i(s, p, h), a(s, p, h), s.endOffset < 5) return;
                    l = s.endOffset,
                    c = p
                } else {
                    if (3 !== (c = s.endContainer).nodeType && c.firstChild) {
                        for (; 3 !== c.nodeType && c.firstChild;) c = c.firstChild;
                        3 === c.nodeType && (i(s, c, 0), a(s, c, c.nodeValue.length))
                    }
                    l = 1 === s.endOffset ? 2 : s.endOffset - 1 - t
                }
                u = l;
                do {
                    i(s, c, l >= 2 ? l - 2 : 0), a(s, c, l >= 1 ? l - 1 : 0), l -= 1, g = s.toString()
                } while (" " !== g && "" !== g && 160 !== g . charCodeAt ( 0 ) && l - 2 >= 0 && g !== o); !
                function(e, t) {
                    return e === t || " " === e || 160 === e.charCodeAt(0)
                } (s.toString(), o) ? 0 === s.startOffset ? (i(s, c, 0), a(s, c, u)) : (i(s, c, l), a(s, c, u)) : (i(s, c, l), a(s, c, u), l += 1),
                "." === (f = s.toString()).charAt(f.length - 1) && a(s, c, u - 1),
                (m = (f = s.toString().trim()).match(v)) && ("www." === m[1] ? m[1] = "http://www.": /@$/.test(m[1]) && !/^mailto:/.test(m[1]) && (m[1] = "mailto:" + m[1]), d = e.selection.getBookmark(), e.selection.setRng(s), e.execCommand("createlink", !1, m[1] + m[2]), b && e.dom.setAttrib(e.selection.getNode(), "target", b), e.selection.moveToBookmark(d), e.nodeChanged())
            }
        },
        l = function(e) {
            var n;
            e.on("keydown",
            function(t) {
                if (13 === t.keyCode) return function(e) {
                    s(e, -1, "")
                } (e)
            }),
            t.ie ? e.on("focus",
            function() {
                if (!n) {
                    n = !0;
                    try {
                        e.execCommand("AutoUrlDetect", !1, !0)
                    } catch(e) {}
                }
            }) : (e.on("keypress",
            function(t) {
                if (41 === t.keyCode) return function(e) {
                    s(e, -1, "(")
                } (e)
            }), e.on("keyup",
            function(t) {
                if (32 === t.keyCode) return function(e) {
                    s(e, 0, "")
                } (e)
            }))
        };
        e.add("autolink",
        function(e) {
            l(e)
        })
    } ()
},
f1b4: function(e, t, n) {},
f381: function(e, t) { !
    function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        t = function(e) {
            e.addCommand("mcePrint",
            function() {
                e.getWin().print()
            })
        },
        n = function(e) {
            e.addButton("print", {
                title: "Print",
                cmd: "mcePrint"
            }),
            e.addMenuItem("print", {
                text: "Print",
                cmd: "mcePrint",
                icon: "print"
            })
        };
        e.add("print",
        function(e) {
            t(e),
            n(e),
            e.addShortcut("Meta+P", "", "mcePrint")
        })
    } ()
},
f3bd: function(e, t, n) {
    n("7ec3")
},
f4c6: function(e, t, n) {},
f9d5: function(e, t) { !
    function() {
        "use strict";
        var e = function(t) {
            var n = t,
            r = function() {
                return n
            };
            return {
                get: r,
                set: function(e) {
                    n = e
                },
                clone: function() {
                    return e(r())
                }
            }
        },
        t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
        n = function(e) {
            return e.getParam("insertdatetime_timeformat", e.translate("%H:%M:%S"))
        },
        r = function(e) {
            return e.getParam("insertdatetime_formats", ["%H:%M:%S", "%Y-%m-%d", "%I:%M:%S %p", "%D"])
        },
        o = function(e) {
            return e.getParam("insertdatetime_dateformat", e.translate("%Y-%m-%d"))
        },
        i = n,
        a = r,
        s = function(e) {
            var t = r(e);
            return t.length > 0 ? t[0] : n(e)
        },
        l = function(e) {
            return e.getParam("insertdatetime_element", !1)
        },
        u = "Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),
        c = "Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
        d = "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
        f = "January February March April May June July August September October November December".split(" "),
        m = function(e, t) {
            if ((e = "" + e).length < t) for (var n = 0; n < t - e.length; n++) e = "0" + e;
            return e
        },
        p = function(e, t, n) {
            return n = n || new Date,
            (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = (t = t.replace("%D", "%m/%d/%Y")).replace("%r", "%I:%M:%S %p")).replace("%Y", "" + n.getFullYear())).replace("%y", "" + n.getYear())).replace("%m", m(n.getMonth() + 1, 2))).replace("%d", m(n.getDate(), 2))).replace("%H", "" + m(n.getHours(), 2))).replace("%M", "" + m(n.getMinutes(), 2))).replace("%S", "" + m(n.getSeconds(), 2))).replace("%I", "" + ((n.getHours() + 11) % 12 + 1))).replace("%p", n.getHours() < 12 ? "AM": "PM")).replace("%B", "" + e.translate(f[n.getMonth()]))).replace("%b", "" + e.translate(d[n.getMonth()]))).replace("%A", "" + e.translate(c[n.getDay()]))).replace("%a", "" + e.translate(u[n.getDay()]))).replace("%%", "%")
        },
        h = function(e, t) {
            if (l(e)) {
                var n = p(e, t),
                r = void 0;
                r = /%[HMSIp]/.test(t) ? p(e, "%Y-%m-%dT%H:%M") : p(e, "%Y-%m-%d");
                var o = e.dom.getParent(e.selection.getStart(), "time");
                o ?
                function(e, t, n, r) {
                    var o = e.dom.create("time", {
                        datetime: n
                    },
                    r);
                    t.parentNode.insertBefore(o, t),
                    e.dom.remove(t),
                    e.selection.select(o, !0),
                    e.selection.collapse(!1)
                } (e, o, r, n) : e.insertContent('<time datetime="' + r + '">' + n + "</time>")
            } else e.insertContent(p(e, t))
        },
        g = p,
        v = function(e) {
            e.addCommand("mceInsertDate",
            function() {
                h(e, o(e))
            }),
            e.addCommand("mceInsertTime",
            function() {
                h(e, i(e))
            })
        },
        b = tinymce.util.Tools.resolve("tinymce.util.Tools"),
        y = function(e, t) {
            var n = function(e, t) {
                var n = a(e);
                return b.map(n,
                function(n) {
                    return {
                        text: g(e, n),
                        onclick: function() {
                            t.set(n),
                            h(e, n)
                        }
                    }
                })
            } (e, t);
            e.addButton("insertdatetime", {
                type: "splitbutton",
                title: "Insert date/time",
                menu: n,
                onclick: function() {
                    var n = t.get();
                    h(e, n || s(e))
                }
            }),
            e.addMenuItem("insertdatetime", {
                icon: "date",
                text: "Date/time",
                menu: n,
                context: "insert"
            })
        };
        t.add("insertdatetime",
        function(t) {
            var n = e(null);
            v(t),
            y(t, n)
        })
    } ()
},
fa4f: function(e, t, n) {
    n("f060")
},
fd61: function(e, t, n) {},
ff24: function(e, t, n) {},
ffdb: function(e, t, n) {}
});
